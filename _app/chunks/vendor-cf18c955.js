var hl=Object.defineProperty,fl=Object.defineProperties;var ll=Object.getOwnPropertyDescriptors;var ha=Object.getOwnPropertySymbols;var $0=Object.prototype.hasOwnProperty,V0=Object.prototype.propertyIsEnumerable;var Y0=(t,e,r)=>e in t?hl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ke=(t,e)=>{for(var r in e||(e={}))$0.call(e,r)&&Y0(t,r,e[r]);if(ha)for(var r of ha(e))V0.call(e,r)&&Y0(t,r,e[r]);return t},J0=(t,e)=>fl(t,ll(e));var ei=(t,e)=>{var r={};for(var n in t)$0.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&ha)for(var n of ha(t))e.indexOf(n)<0&&V0.call(t,n)&&(r[n]=t[n]);return r};function xn(){}function ri(t,e){for(const r in e)t[r]=e[r];return t}function X0(t){return t()}function Q0(){return Object.create(null)}function Ei(t){t.forEach(X0)}function Z0(t){return typeof t=="function"}function fa(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function dl(t){return Object.keys(t).length===0}function Jo(t,...e){if(t==null)return xn;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function Z3(t){let e;return Jo(t,r=>e=r)(),e}function t5(t,e,r){t.$$.on_destroy.push(Jo(e,r))}function pl(t,e,r,n){if(t){const i=tu(t,e,r,n);return t[0](i)}}function tu(t,e,r,n){return t[1]&&n?ri(r.ctx.slice(),t[1](n(e))):r.ctx}function yl(t,e,r,n){if(t[2]&&n){const i=t[2](n(r));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],a=Math.max(e.dirty.length,i.length);for(let o=0;o<a;o+=1)s[o]=e.dirty[o]|i[o];return s}return e.dirty|i}return e.dirty}function ml(t,e,r,n,i,s){if(i){const a=tu(e,r,n,s);t.p(a,i)}}function gl(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let n=0;n<r;n++)e[n]=-1;return e}return-1}function la(t){const e={};for(const r in t)r[0]!=="$"&&(e[r]=t[r]);return e}let da=!1;function bl(){da=!0}function vl(){da=!1}function wl(t,e,r,n){for(;t<e;){const i=t+(e-t>>1);r(i)<=n?t=i+1:e=i}return t}function _l(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if(t.nodeName==="HEAD"){const u=[];for(let c=0;c<e.length;c++){const f=e[c];f.claim_order!==void 0&&u.push(f)}e=u}const r=new Int32Array(e.length+1),n=new Int32Array(e.length);r[0]=-1;let i=0;for(let u=0;u<e.length;u++){const c=e[u].claim_order,f=(i>0&&e[r[i]].claim_order<=c?i+1:wl(1,i,y=>e[r[y]].claim_order,c))-1;n[u]=r[f]+1;const l=f+1;r[l]=u,i=Math.max(l,i)}const s=[],a=[];let o=e.length-1;for(let u=r[i]+1;u!=0;u=n[u-1]){for(s.push(e[u-1]);o>=u;o--)a.push(e[o]);o--}for(;o>=0;o--)a.push(e[o]);s.reverse(),a.sort((u,c)=>u.claim_order-c.claim_order);for(let u=0,c=0;u<a.length;u++){for(;c<s.length&&a[u].claim_order>=s[c].claim_order;)c++;const f=c<s.length?s[c]:null;t.insertBefore(a[u],f)}}function Xo(t,e){if(da){for(_l(t),(t.actual_end_child===void 0||t.actual_end_child!==null&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);t.actual_end_child!==null&&t.actual_end_child.claim_order===void 0;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?(e.claim_order!==void 0||e.parentNode!==t)&&t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else(e.parentNode!==t||e.nextSibling!==null)&&t.appendChild(e)}function pa(t,e,r){da&&!r?Xo(t,e):(e.parentNode!==t||e.nextSibling!=r)&&t.insertBefore(e,r||null)}function ln(t){t.parentNode.removeChild(t)}function e5(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function Al(t){return document.createElement(t)}function ns(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ya(t){return document.createTextNode(t)}function r5(){return ya(" ")}function eu(){return ya("")}function n5(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function Pi(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function is(t){return Array.from(t.childNodes)}function kl(t){t.claim_info===void 0&&(t.claim_info={last_index:0,total_claimed:0})}function ru(t,e,r,n,i=!1){kl(t);const s=(()=>{for(let a=t.claim_info.last_index;a<t.length;a++){const o=t[a];if(e(o)){const u=r(o);return u===void 0?t.splice(a,1):t[a]=u,i||(t.claim_info.last_index=a),o}}for(let a=t.claim_info.last_index-1;a>=0;a--){const o=t[a];if(e(o)){const u=r(o);return u===void 0?t.splice(a,1):t[a]=u,i?u===void 0&&t.claim_info.last_index--:t.claim_info.last_index=a,o}}return n()})();return s.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,s}function nu(t,e,r,n){return ru(t,i=>i.nodeName===e,i=>{const s=[];for(let a=0;a<i.attributes.length;a++){const o=i.attributes[a];r[o.name]||s.push(o.name)}s.forEach(a=>i.removeAttribute(a))},()=>n(e))}function i5(t,e,r){return nu(t,e,r,Al)}function ma(t,e,r){return nu(t,e,r,ns)}function iu(t,e){return ru(t,r=>r.nodeType===3,r=>{const n=""+e;if(r.data.startsWith(n)){if(r.data.length!==n.length)return r.splitText(n.length)}else r.data=n},()=>ya(e),!0)}function s5(t){return iu(t," ")}function Sl(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function a5(t,e){t.value=e==null?"":e}function o5(t,e,r){t.classList[r?"add":"remove"](e)}function c5(t,e=document.body){return Array.from(e.querySelectorAll(t))}let ss;function as(t){ss=t}function Qo(){if(!ss)throw new Error("Function called outside component initialization");return ss}function u5(t){Qo().$$.on_mount.push(t)}function h5(t){Qo().$$.after_update.push(t)}function f5(t,e){Qo().$$.context.set(t,e)}const os=[],su=[],ga=[],Zo=[],El=Promise.resolve();let tc=!1;function Pl(){tc||(tc=!0,El.then(au))}function ec(t){ga.push(t)}function l5(t){Zo.push(t)}const rc=new Set;let ba=0;function au(){const t=ss;do{for(;ba<os.length;){const e=os[ba];ba++,as(e),xl(e.$$)}for(as(null),os.length=0,ba=0;su.length;)su.pop()();for(let e=0;e<ga.length;e+=1){const r=ga[e];rc.has(r)||(rc.add(r),r())}ga.length=0}while(os.length);for(;Zo.length;)Zo.pop()();tc=!1,rc.clear(),as(t)}function xl(t){if(t.fragment!==null){t.update(),Ei(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ec)}}const va=new Set;let ni;function d5(){ni={r:0,c:[],p:ni}}function p5(){ni.r||Ei(ni.c),ni=ni.p}function cs(t,e){t&&t.i&&(va.delete(t),t.i(e))}function nc(t,e,r,n){if(t&&t.o){if(va.has(t))return;va.add(t),ni.c.push(()=>{va.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}}function y5(t,e){t.d(1),e.delete(t.key)}function m5(t,e,r,n,i,s,a,o,u,c,f,l){let y=t.length,p=s.length,k=y;const x={};for(;k--;)x[t[k].key]=k;const E=[],D=new Map,q=new Map;for(k=p;k--;){const g=l(i,s,k),T=r(g);let h=a.get(T);h?n&&h.p(g,e):(h=c(T,g),h.c()),D.set(T,E[k]=h),T in x&&q.set(T,Math.abs(k-x[T]))}const z=new Set,O=new Set;function L(g){cs(g,1),g.m(o,f),a.set(g.key,g),f=g.first,p--}for(;y&&p;){const g=E[p-1],T=t[y-1],h=g.key,d=T.key;g===T?(f=g.first,y--,p--):D.has(d)?!a.has(h)||z.has(h)?L(g):O.has(d)?y--:q.get(h)>q.get(d)?(O.add(h),L(g)):(z.add(d),y--):(u(T,a),y--)}for(;y--;){const g=t[y];D.has(g.key)||u(g,a)}for(;p;)L(E[p-1]);return E}function ou(t,e){const r={},n={},i={$$scope:1};let s=t.length;for(;s--;){const a=t[s],o=e[s];if(o){for(const u in a)u in o||(n[u]=1);for(const u in o)i[u]||(r[u]=o[u],i[u]=1);t[s]=o}else for(const u in a)i[u]=1}for(const a in n)a in r||(r[a]=void 0);return r}function cu(t){return typeof t=="object"&&t!==null?t:{}}function g5(t,e,r){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function uu(t){t&&t.c()}function hu(t,e){t&&t.l(e)}function ic(t,e,r,n){const{fragment:i,on_mount:s,on_destroy:a,after_update:o}=t.$$;i&&i.m(e,r),n||ec(()=>{const u=s.map(X0).filter(Z0);a?a.push(...u):Ei(u),t.$$.on_mount=[]}),o.forEach(ec)}function sc(t,e){const r=t.$$;r.fragment!==null&&(Ei(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function Ml(t,e){t.$$.dirty[0]===-1&&(os.push(t),Pl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ac(t,e,r,n,i,s,a,o=[-1]){const u=ss;as(t);const c=t.$$={fragment:null,ctx:null,props:s,update:xn,not_equal:i,bound:Q0(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Q0(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};a&&a(c.root);let f=!1;if(c.ctx=r?r(t,e.props||{},(l,y,...p)=>{const k=p.length?p[0]:y;return c.ctx&&i(c.ctx[l],c.ctx[l]=k)&&(!c.skip_bound&&c.bound[l]&&c.bound[l](k),f&&Ml(t,l)),y}):[],c.update(),f=!0,Ei(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){bl();const l=is(e.target);c.fragment&&c.fragment.l(l),l.forEach(ln)}else c.fragment&&c.fragment.c();e.intro&&cs(t.$$.fragment),ic(t,e.target,e.anchor,e.customElement),vl(),au()}as(u)}class oc{$destroy(){sc(this,1),this.$destroy=xn}$on(e,r){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!dl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const xi=[];function Rl(t,e){return{subscribe:Cl(t,e).subscribe}}function Cl(t,e=xn){let r;const n=new Set;function i(o){if(fa(t,o)&&(t=o,r)){const u=!xi.length;for(const c of n)c[1](),xi.push(c,t);if(u){for(let c=0;c<xi.length;c+=2)xi[c][0](xi[c+1]);xi.length=0}}}function s(o){i(o(t))}function a(o,u=xn){const c=[o,u];return n.add(c),n.size===1&&(r=e(i)||xn),o(t),()=>{n.delete(c),n.size===0&&(r(),r=null)}}return{set:i,update:s,subscribe:a}}function b5(t,e,r){const n=!Array.isArray(t),i=n?[t]:t,s=e.length<2;return Rl(r,a=>{let o=!1;const u=[];let c=0,f=xn;const l=()=>{if(c)return;f();const p=e(n?u[0]:u,a);s?a(p):f=Z0(p)?p:xn},y=i.map((p,k)=>Jo(p,x=>{u[k]=x,c&=~(1<<k),o&&l()},()=>{c|=1<<k}));return o=!0,l(),function(){Ei(y),f()}})}var us=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Tl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wa(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fu={exports:{}};/*! remotestorage.js 2.0.0-beta.1, https://remotestorage.io, MIT licensed */(function(t,e){(function(r,n){t.exports=n()})(us,function(){return function(r){var n={};function i(s){if(n[s])return n[s].exports;var a=n[s]={i:s,l:!1,exports:{}};return r[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{enumerable:!0,get:o})},i.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,a){if(1&a&&(s=i(s)),8&a||4&a&&typeof s=="object"&&s&&s.__esModule)return s;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:s}),2&a&&typeof s!="string")for(var u in s)i.d(o,u,function(c){return s[c]}.bind(null,u));return o},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=17)}([function(r,n,i){(function(s,a){Object.defineProperty(n,"__esModule",{value:!0}),n.applyMixins=n.toBase64=n.getTextFromArrayBuffer=n.shouldBeTreatedAsBinary=n.getJSONFromLocalStorage=n.localStorageAvailable=n.pathsFromRoot=n.deepClone=n.equal=n.bindAll=n.cleanPath=n.baseName=n.isDocument=n.isFolder=n.containingFolder=n.extend=n.getGlobalContext=n.globalContext=n.logError=void 0,n.logError=o=>{typeof o=="string"?console.error(o):console.error(o.message,o.stack)},n.globalContext=typeof window!="undefined"?window:typeof self=="object"?self:s,n.getGlobalContext=()=>typeof window!="undefined"?window:typeof self=="object"?self:s,n.extend=(...o)=>{const u=o[0];return Array.prototype.slice.call(o,1).forEach(function(c){for(const f in c)u[f]=c[f]}),u},n.containingFolder=o=>{if(o==="")return"/";if(!o)throw"Path not given!";return o.replace(/\/+/g,"/").replace(/[^\/]+\/?$/,"")},n.isFolder=o=>o.substr(-1)==="/",n.isDocument=o=>!n.isFolder(o),n.baseName=o=>{const u=o.split("/");return n.isFolder(o)?u[u.length-2]+"/":u[u.length-1]},n.cleanPath=o=>o.replace(/\/+/g,"/").split("/").map(encodeURIComponent).join("/").replace(/'/g,"%27"),n.bindAll=o=>{for(const u in this)typeof o[u]=="function"&&(o[u]=o[u].bind(o))},n.equal=(o,u,c=[])=>{let f;if(typeof o!=typeof u)return!1;if(typeof o=="number"||typeof o=="boolean"||typeof o=="string")return o===u;if(typeof o=="function")return o.toString()===u.toString();if(o instanceof ArrayBuffer&&u instanceof ArrayBuffer&&(o=new Uint8Array(o),u=new Uint8Array(u)),o instanceof Array){if(o.length!==u.length)return!1;for(let l=0,y=o.length;l<y;l++)if(!n.equal(o[l],u[l],c))return!1}else{for(f in o)if(o.hasOwnProperty(f)&&!(f in u))return!1;for(f in u){if(!u.hasOwnProperty(f))continue;if(!(f in o))return!1;let l;if(typeof u[f]=="object"){if(c.indexOf(u[f])>=0)continue;l=c.slice(),l.push(u[f])}if(!n.equal(o[f],u[f],l))return!1}}return!0},n.deepClone=o=>{if(o!==void 0){const u=JSON.parse(JSON.stringify(o));return function c(f,l){if(typeof f=="object"&&!Array.isArray(f)&&f!==null){for(const y in f)if(typeof f[y]=="object"&&f[y]!==null)if(f[y].toString()==="[object ArrayBuffer]"){l[y]=new ArrayBuffer(f[y].byteLength);const p=new Int8Array(f[y]);new Int8Array(l[y]).set(p)}else c(f[y],l[y])}}(o,u),u}},n.pathsFromRoot=o=>{const u=[o],c=o.replace(/\/$/,"").split("/");for(;c.length>1;)c.pop(),u.push(c.join("/")+"/");return u},n.localStorageAvailable=()=>{const o=n.getGlobalContext();if(!("localStorage"in o))return!1;try{return o.localStorage.setItem("rs-check","1"),o.localStorage.removeItem("rs-check"),!0}catch{return!1}},n.getJSONFromLocalStorage=o=>{const u=n.getGlobalContext();try{return JSON.parse(u.localStorage.getItem(o))}catch{}},n.shouldBeTreatedAsBinary=(o,u)=>!!(u&&u.match(/charset=binary/)||/[\x00-\x08\x0E-\x1F\uFFFD]/.test(o)),n.getTextFromArrayBuffer=(o,u)=>new Promise(c=>{if(typeof Blob=="undefined"){const f=new a(new Uint8Array(o));c(f.toString(u))}else{let f;const l=n.globalContext;if(l.BlobBuilder=l.BlobBuilder||l.WebKitBlobBuilder,l.BlobBuilder!==void 0){const p=new l.BlobBuilder;p.append(o),f=p.getBlob()}else f=new Blob([o]);const y=new FileReader;typeof y.addEventListener=="function"?y.addEventListener("loadend",function(p){c(p.target.result)}):y.onloadend=function(p){c(p.target.result)},y.readAsText(f,u)}}),n.toBase64=o=>{const u=n.getGlobalContext();return"btoa"in u?u.btoa(o):a.from(o).toString("base64")},n.applyMixins=function(o,u){u.forEach(c=>{Object.getOwnPropertyNames(c.prototype).forEach(f=>{Object.defineProperty(o.prototype,f,Object.getOwnPropertyDescriptor(c.prototype,f))})})}}).call(this,i(5),i(19).Buffer)},function(r,n,i){const s=(this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}})(i(3));r.exports=function(...a){s.default.logging&&console.log(...a)}},function(r,n,i){const s=(this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}})(i(1));r.exports=class{addEvents(a){a.forEach(o=>this._addEvent(o))}addEventListener(a,o){if(typeof a!="string")throw new Error("Argument eventName should be a string");if(typeof o!="function")throw new Error("Argument handler should be a function");s.default("[EventHandling] Adding event listener",a),this._validateEvent(a),this._handlers[a].push(o)}on(a,o){return this.addEventListener(a,o)}removeEventListener(a,o){this._validateEvent(a);const u=this._handlers[a].length;for(let c=0;c<u;c++)if(this._handlers[a][c]===o)return void this._handlers[a].splice(c,1)}_emit(a,...o){this._validateEvent(a),this._handlers[a].slice().forEach(u=>{u.apply(this,o)})}_validateEvent(a){if(!(a in this._handlers))throw new Error("Unknown event: "+a)}_delegateEvent(a,o){o.on(a,u=>{this._emit(a,u)})}_addEvent(a){this._handlers===void 0&&(this._handlers={}),this._handlers[a]=[]}}},function(r,n,i){const s={cache:!0,changeEvents:{local:!0,window:!1,remote:!0,conflict:!0},cordovaRedirectUri:void 0,logging:!1,modules:[],backgroundSyncInterval:6e4,disableFeatures:[],discoveryTimeout:1e4,isBackground:!1,requestTimeout:3e4,syncInterval:1e4};r.exports=s},function(r,n,i){class s extends Error{constructor(o,u={}){super(),this.name="Unauthorized",this.message=o===void 0?"App authorization expired or revoked.":o,u.code!==void 0&&(this.code=u.code),this.stack=new Error().stack}}r.exports=s},function(r,n){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}r.exports=i},function(r,n,i){var s=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};const a=s(i(1)),o=i(0),u=s(i(4));let c;function f(y){const p=y||l.getLocation().href,k=p.indexOf("#");if(k===-1)return;const x=p.substring(k+1);return x.includes("=")?x.split("&").reduce(function(E,D){const q=D.split("=");if(q[0]==="state"&&q[1].match(/rsDiscovery/)){let z=decodeURIComponent(q[1]);const O=z.substr(z.indexOf("rsDiscovery=")).split("&")[0].split("=")[1];E.rsDiscovery=JSON.parse(atob(O)),z=z.replace(new RegExp("&?rsDiscovery="+O),""),z.length>0&&(E.state=z)}else E[decodeURIComponent(q[0])]=decodeURIComponent(q[1]);return E},{}):void 0}class l{static authorize(p,{authURL:k,scope:x,redirectUri:E,clientId:D}){if(a.default("[Authorize] authURL = ",k,"scope = ",x,"redirectUri = ",E,"clientId = ",D),!o.localStorageAvailable()&&p.backend==="remotestorage"){E+=E.indexOf("#")>0?"&":"#";const z={userAddress:p.remote.userAddress,href:p.remote.href,storageApi:p.remote.storageApi,properties:p.remote.properties};E+="rsDiscovery="+o.toBase64(JSON.stringify(z))}const q=function(z,O,L,g){const T=O.indexOf("#");let h=z;return h+=z.indexOf("?")>0?"&":"?",h+="redirect_uri="+encodeURIComponent(O.replace(/#.*$/,"")),h+="&scope="+encodeURIComponent(L),h+="&client_id="+encodeURIComponent(g),T!==-1&&T+1!==O.length&&(h+="&state="+encodeURIComponent(O.substring(T+1))),h+="&response_type=token",h}(k,E,x,D);o.globalContext.cordova?l.openWindow(q,E,"location=yes,clearsessioncache=yes,clearcache=yes").then(z=>{p.remote.configure({token:z.access_token})}):l.setLocation(q)}static setLocation(p){if(typeof p=="string")document.location.href=p;else{if(typeof p!="object")throw"Invalid location "+p;document.location=p}}static _rs_supported(){return typeof document!="undefined"}static _rs_cleanup(p){p.removeEventListener("features-loaded",c)}}l.IMPLIED_FAKE_TOKEN=!1,l.getLocation=function(){return document.location},l.openWindow=function(y,p,k){return new Promise((x,E)=>{const D=open(y,"_blank",k);if(!D||D.closed)return E("Authorization popup was blocked");function q(){return E("Authorization was canceled")}D.addEventListener("loadstart",function(z){if(z.url.indexOf(p)!==0)return;D.removeEventListener("exit",q),D.close();const O=f(z.url);return O?x(O):E("Authorization error")}),D.addEventListener("exit",q)})},l._rs_init=function(y){const p=f();let k;p&&(k=l.getLocation(),k.hash=""),c=function(){let x=!1;if(p){if(p.error)throw p.error==="access_denied"?new u.default("Authorization failed: access denied",{code:"access_denied"}):new u.default("Authorization failed: "+p.error);p.rsDiscovery&&y.remote.configure(p.rsDiscovery),p.access_token&&(y.remote.configure({token:p.access_token}),x=!0),p.remotestorage&&(y.connect(p.remotestorage),x=!0),p.state&&(k=l.getLocation(),l.setLocation(k.href.split("#")[0]+"#"+p.state)),x||y.remote.stopWaitingForToken()}else y.remote.stopWaitingForToken()},y.on("features-loaded",c)},r.exports=l},function(r,n,i){var s=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};const a=s(i(23)),o=s(i(24)),u=s(i(25)),c=s(i(2)),f=s(i(3)),l=i(0);class y{constructor(k,x){if(this.schemas={configurable:!0,get:function(){return y.Types.inScope(this.moduleName)}},x[x.length-1]!=="/")throw"Not a folder: "+x;x==="/"&&(this.makePath=D=>(D[0]==="/"?"":"/")+D),this.storage=k,this.base=x;const E=this.base.split("/");E.length>2?this.moduleName=E[1]:this.moduleName="root",this.addEvents(["change"]),this.on=this.on.bind(this),k.onChange(this.base,this._fireChange.bind(this))}scope(k){return new y(this.storage,this.makePath(k))}getListing(k,x){if(typeof k!="string")k="";else if(k.length>0&&k[k.length-1]!=="/")return Promise.reject("Not a folder: "+k);return this.storage.get(this.makePath(k),x).then(function(E){return E.statusCode===404?{}:E.body})}getAll(k,x){if(typeof k!="string")k="";else if(k.length>0&&k[k.length-1]!=="/")return Promise.reject("Not a folder: "+k);return this.storage.get(this.makePath(k),x).then(E=>{if(E.statusCode===404)return{};if(typeof E.body=="object"){const D=Object.keys(E.body);if(D.length===0)return{};const q=D.map(z=>this.storage.get(this.makePath(k+z),x).then(function(O){if(typeof O.body=="string")try{O.body=JSON.parse(O.body)}catch{}typeof O.body=="object"&&(E.body[z]=O.body)}));return Promise.all(q).then(function(){return E.body})}})}getFile(k,x){return typeof k!="string"?Promise.reject("Argument 'path' of baseClient.getFile must be a string"):this.storage.get(this.makePath(k),x).then(function(E){return{data:E.body,contentType:E.contentType,revision:E.revision}})}storeFile(k,x,E){return typeof k!="string"?Promise.reject("Argument 'mimeType' of baseClient.storeFile must be a string"):typeof x!="string"?Promise.reject("Argument 'path' of baseClient.storeFile must be a string"):typeof E!="string"&&typeof E!="object"?Promise.reject("Argument 'body' of baseClient.storeFile must be a string, ArrayBuffer, or ArrayBufferView"):(this.storage.access.checkPathPermission(this.makePath(x),"rw")||console.warn("WARNING: Editing a document to which only read access ('r') was claimed"),this.storage.put(this.makePath(x),E,k).then(D=>D.statusCode===200||D.statusCode===201?D.revision:Promise.reject("Request (PUT "+this.makePath(x)+") failed with status: "+D.statusCode)))}getObject(k,x){return typeof k!="string"?Promise.reject("Argument 'path' of baseClient.getObject must be a string"):this.storage.get(this.makePath(k),x).then(E=>{if(typeof E.body=="object")return E.body;if(typeof E.body=="string")try{return JSON.parse(E.body)}catch{throw new Error("Not valid JSON: "+this.makePath(k))}else if(E.body!==void 0&&E.statusCode===200)return Promise.reject("Not an object: "+this.makePath(k))})}storeObject(k,x,E){if(typeof k!="string")return Promise.reject("Argument 'typeAlias' of baseClient.storeObject must be a string");if(typeof x!="string")return Promise.reject("Argument 'path' of baseClient.storeObject must be a string");if(typeof E!="object")return Promise.reject("Argument 'object' of baseClient.storeObject must be an object");this._attachType(E,k);try{const D=this.validate(E);if(!D.valid)return Promise.reject(D)}catch(D){return Promise.reject(D)}return this.storage.put(this.makePath(x),JSON.stringify(E),"application/json; charset=UTF-8").then(D=>D.statusCode===200||D.statusCode===201?D.revision:Promise.reject("Request (PUT "+this.makePath(x)+") failed with status: "+D.statusCode))}remove(k){return typeof k!="string"?Promise.reject("Argument 'path' of baseClient.remove must be a string"):(this.storage.access.checkPathPermission(this.makePath(k),"rw")||console.warn("WARNING: Removing a document to which only read access ('r') was claimed"),this.storage.delete(this.makePath(k)))}getItemURL(k){if(typeof k!="string")throw"Argument 'path' of baseClient.getItemURL must be a string";return this.storage.connected?(k=l.cleanPath(this.makePath(k)),this.storage.remote.href+k):void 0}cache(k,x="ALL"){if(typeof k!="string")throw"Argument 'path' of baseClient.cache must be a string";if(typeof x!="string")throw"Argument 'strategy' of baseClient.cache must be a string or undefined";if(x!=="FLUSH"&&x!=="SEEN"&&x!=="ALL")throw`Argument 'strategy' of baseclient.cache must be one of ["FLUSH", "SEEN", "ALL"]`;return this.storage.caching.set(this.makePath(k),x),this}flush(k){return this.storage.local.flush(k)}declareType(k,x,E){let D;E?D=x:(E=x,D=this._defaultTypeURI(k)),y.Types.declare(this.moduleName,k,D,E)}validate(k){const x=y.Types.getSchema(k["@context"]);if(x)return a.default.validateResult(k,x);throw new u.default(k["@context"])}_defaultTypeURI(k){return"http://remotestorage.io/spec/modules/"+encodeURIComponent(this.moduleName)+"/"+encodeURIComponent(k)}_attachType(k,x){k["@context"]=y.Types.resolveAlias(this.moduleName+"/"+x)||this._defaultTypeURI(x)}makePath(k){return this.base+(k||"")}_fireChange(k){f.default.changeEvents[k.origin]&&(["new","old","lastCommon"].forEach(function(x){if((!k[x+"ContentType"]||/^application\/(.*)json(.*)/.exec(k[x+"ContentType"]))&&typeof k[x+"Value"]=="string")try{k[x+"Value"]=JSON.parse(k[x+"Value"])}catch{}}),this._emit("change",k))}static _rs_init(){}}y.Types=o.default,l.applyMixins(y,[c.default]),r.exports=y},function(r,n,i){(function(s){var a=this&&this.__awaiter||function(L,g,T,h){return new(T||(T=Promise))(function(d,w){function m(U){try{I(h.next(U))}catch($){w($)}}function v(U){try{I(h.throw(U))}catch($){w($)}}function I(U){var $;U.done?d(U.value):($=U.value,$ instanceof T?$:new T(function(nt){nt($)})).then(m,v)}I((h=h.apply(L,g||[])).next())})},o=this&&this.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};const u=o(i(6)),c=o(i(2)),f=o(i(4)),l=o(i(3)),y=o(i(1)),p=i(0);let k;const x="remotestorage:wireclient",E={"draft-dejong-remotestorage-00":2,"draft-dejong-remotestorage-01":3,"draft-dejong-remotestorage-02":4,"https://www.w3.org/community/rww/wiki/read-write-web-00#simple":1};let D;if(typeof(s||window).ArrayBufferView=="function")D=function(L){return L&&L instanceof(s||window).ArrayBufferView};else{const L=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];D=function(g){for(let T=0;T<8;T++)if(g instanceof L[T])return!0;return!1}}function q(L){return typeof L!="string"?L:L==="*"?"*":'"'+L+'"'}function z(L){return typeof L!="string"?L:L.replace(/^["']|["']$/g,"")}class O{constructor(g){if(this._revisionCache={},k=p.localStorageAvailable(),this.rs=g,this.connected=!1,this.addEvents(["connected","not-connected"]),k){const T=function(){const h=p.getJSONFromLocalStorage(x)||{},{userAddress:d,href:w,storageApi:m,token:v,properties:I}=h;return{userAddress:d,href:w,storageApi:m,token:v,properties:I}}();T&&setTimeout(()=>{this.configure(T)},0)}this.connected&&setTimeout(this._emit.bind(this),0,"connected")}get storageType(){if(this.storageApi){const g=this.storageApi.match(/draft-dejong-(remotestorage-\d\d)/);return g?g[1]:"2012.04"}}_request(g,T,h,d,w,m,v){return a(this,void 0,void 0,function*(){if(function(U,$){return(U==="PUT"||U==="DELETE")&&p.isFolder($)}(g,T))return Promise.reject(`Don't use ${g} on directories!`);let I;return h!==u.default.IMPLIED_FAKE_TOKEN&&(d.Authorization="Bearer "+h),this.rs._emit("wire-busy",{method:g,isFolder:p.isFolder(T)}),O.request(g,T,{body:w,headers:d,responseType:"arraybuffer"}).then(U=>{if(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:g,isFolder:p.isFolder(T),success:!0}),$=U.status,[401,403,404,412].indexOf($)>=0)return y.default("[WireClient] Error response status",U.status),I=m?z(U.getResponseHeader("ETag")):void 0,U.status===401&&this.rs._emit("error",new f.default),Promise.resolve({statusCode:U.status,revision:I});if(function(nt){return[201,204,304].indexOf(nt)>=0}(U.status)||U.status===200&&g!=="GET")return I=z(U.getResponseHeader("ETag")),y.default("[WireClient] Successful request",I),Promise.resolve({statusCode:U.status,revision:I});{const nt=U.getResponseHeader("Content-Type");I=m?z(U.getResponseHeader("ETag")):U.status===200?v:void 0;const b=function(C){let V,Z="UTF-8";return C&&(V=C.match(/charset=(.+)$/),V&&(Z=V[1])),Z}(nt);return p.shouldBeTreatedAsBinary(U.response,nt)?(y.default("[WireClient] Successful request with unknown or binary mime-type",I),Promise.resolve({statusCode:U.status,body:U.response,contentType:nt,revision:I})):p.getTextFromArrayBuffer(U.response,b).then(C=>(y.default("[WireClient] Successful request",I),Promise.resolve({statusCode:U.status,body:C,contentType:nt,revision:I})))}var $},U=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:g,isFolder:p.isFolder(T),success:!1}),Promise.reject(U)))})}configure(g){if(typeof g!="object")throw new Error("WireClient configure settings parameter should be an object");if(g.userAddress!==void 0&&(this.userAddress=g.userAddress),g.href!==void 0&&(this.href=g.href),g.storageApi!==void 0&&(this.storageApi=g.storageApi),g.token!==void 0&&(this.token=g.token),g.properties!==void 0&&(this.properties=g.properties),typeof this.storageApi=="string"){const T=E[this.storageApi]||5;this.supportsRevs=T>=2}this.href&&this.token?(this.connected=!0,this.online=!0,this._emit("connected")):this.connected=!1,k&&(localStorage[x]=JSON.stringify({userAddress:this.userAddress,href:this.href,storageApi:this.storageApi,token:this.token,properties:this.properties}))}stopWaitingForToken(){this.connected||this._emit("not-connected")}get(g,T={}){if(!this.connected)return Promise.reject("not connected (path: "+g+")");const h={};return this.supportsRevs&&T.ifNoneMatch&&(h["If-None-Match"]=q(T.ifNoneMatch)),this._request("GET",this.href+p.cleanPath(g),this.token,h,void 0,this.supportsRevs,this._revisionCache[g]).then(d=>{if(!p.isFolder(g))return Promise.resolve(d);let w={};if(d.body!==void 0)try{d.body=JSON.parse(d.body)}catch{return Promise.reject("Folder description at "+this.href+p.cleanPath(g)+" is not JSON")}if(d.statusCode===200&&typeof d.body=="object"){if(Object.keys(d.body).length===0)d.statusCode=404;else if((m=d.body)["@context"]==="http://remotestorage.io/spec/folder-description"&&typeof m.items=="object"){for(const v in d.body.items)this._revisionCache[g+v]=d.body.items[v].ETag;w=d.body.items}else Object.keys(d.body).forEach(v=>{this._revisionCache[g+v]=d.body[v],w[v]={ETag:d.body[v]}});return d.body=w,Promise.resolve(d)}return Promise.resolve(d);var m})}put(g,T,h,d={}){if(!this.connected)return Promise.reject("not connected (path: "+g+")");!h.match(/charset=/)&&(T instanceof ArrayBuffer||D(T))&&(h+="; charset=binary");const w={"Content-Type":h};return this.supportsRevs&&(d.ifMatch&&(w["If-Match"]=q(d.ifMatch)),d.ifNoneMatch&&(w["If-None-Match"]=q(d.ifNoneMatch))),this._request("PUT",this.href+p.cleanPath(g),this.token,w,T,this.supportsRevs)}delete(g,T={}){if(!this.connected)throw new Error("not connected (path: "+g+")");T||(T={});const h={};return this.supportsRevs&&T.ifMatch&&(h["If-Match"]=q(T.ifMatch)),this._request("DELETE",this.href+p.cleanPath(g),this.token,h,void 0,this.supportsRevs)}static request(g,T,h){return a(this,void 0,void 0,function*(){return typeof fetch=="function"?O._fetchRequest(g,T,h):typeof XMLHttpRequest=="function"?O._xhrRequest(g,T,h):(y.default("[WireClient] You need to add a polyfill for fetch or XMLHttpRequest"),Promise.reject("[WireClient] You need to add a polyfill for fetch or XMLHttpRequest"))})}static _fetchRequest(g,T,h){let d;const w={};let m;typeof AbortController=="function"&&(m=new AbortController);const v=fetch(T,{method:g,headers:h.headers,body:h.body,signal:m?m.signal:void 0}).then(U=>{switch(y.default("[WireClient fetch]",U),U.headers.forEach(($,nt)=>{w[nt.toUpperCase()]=$}),d={readyState:4,status:U.status,statusText:U.statusText,response:void 0,getResponseHeader:$=>w[$.toUpperCase()]||null,responseType:h.responseType,responseURL:T},h.responseType){case"arraybuffer":return U.arrayBuffer();case"blob":return U.blob();case"json":return U.json();case void 0:case"":case"text":return U.text();default:throw new Error("responseType 'document' is not currently supported using fetch")}}).then(U=>(d.response=U,h.responseType&&h.responseType!=="text"||(d.responseText=U),d)),I=new Promise((U,$)=>{setTimeout(()=>{$("timeout"),m&&m.abort()},l.default.requestTimeout)});return Promise.race([v,I])}static _xhrRequest(g,T,h){return new Promise((d,w)=>{y.default("[WireClient]",g,T);let m=!1;const v=setTimeout(()=>{m=!0,w("timeout")},l.default.requestTimeout),I=new XMLHttpRequest;if(I.open(g,T,!0),h.responseType&&(I.responseType=h.responseType),h.headers)for(const $ in h.headers)I.setRequestHeader($,h.headers[$]);I.onload=()=>{m||(clearTimeout(v),d(I))},I.onerror=$=>{m||(clearTimeout(v),w($))};let U=h.body;typeof U=="object"&&!D(U)&&U instanceof ArrayBuffer&&(U=new Uint8Array(U)),I.send(U)})}static _rs_init(g){g.remote=new O(g),g.remote.online=!0}static _rs_supported(){return typeof fetch=="function"||typeof XMLHttpRequest=="function"}static _rs_cleanup(){k&&delete localStorage[x]}}O.isArrayBufferView=D,p.applyMixins(O,[c.default]),r.exports=O}).call(this,i(5))},function(r,n,i){class s extends Error{constructor(o){super(),this.name="SyncError",this.message="Sync failed: ",typeof o=="string"?this.message+=o:(this.message+=o.message,this.stack=o.stack,this.originalError=o)}}r.exports=s},function(r,n,i){var s=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};const a=s(i(2)),o=s(i(3)),u=s(i(1)),c=i(0);class f{constructor(){this._updateNodesRunning=!1,this._updateNodesQueued=[]}get(E,D,q){return typeof D=="number"?this.getNodes(c.pathsFromRoot(E)).then(z=>{const O=l(z[E]);return y(z,D)?q(E):O?{statusCode:200,body:O.body||O.itemsMap,contentType:O.contentType}:{statusCode:404}}):this.getNodes([E]).then(z=>{const O=l(z[E]);if(O){if(c.isFolder(E))for(const L in O.itemsMap)O.itemsMap.hasOwnProperty(L)&&O.itemsMap[L]===!1&&delete O.itemsMap[L];return{statusCode:200,body:O.body||O.itemsMap,contentType:O.contentType}}return{statusCode:404}})}put(E,D,q){const z=c.pathsFromRoot(E);return this._updateNodes(z,function(O,L){try{for(let g=0,T=O.length;g<T;g++){const h=O[g];let d,w=L[h];w||(L[h]=w=p(h)),g===0?(d=l(w),w.local={body:D,contentType:q,previousBody:d?d.body:void 0,previousContentType:d?d.contentType:void 0}):w=k(w,O[g-1].substring(h.length))}return L}catch(g){throw u.default("[Cachinglayer] Error during PUT",L,g),g}})}delete(E){const D=c.pathsFromRoot(E);return this._updateNodes(D,function(q,z){for(let O=0,L=q.length;O<L;O++){const g=q[O],T=z[g];let h;if(T)if(O===0)h=l(T),T.local={body:!1,previousBody:h?h.body:void 0,previousContentType:h?h.contentType:void 0};else{T.local||(T.local=c.deepClone(T.common));const d=q[O-1].substring(g.length);if(delete T.local.itemsMap[d],Object.getOwnPropertyNames(T.local.itemsMap).length>0)break}else console.error("Cannot delete non-existing node "+g)}return z})}flush(E){return this._getAllDescendentPaths(E).then(D=>this.getNodes(D)).then(D=>{for(const q in D){const z=D[q];z&&z.common&&z.local&&this._emitChange({path:z.path,origin:"local",oldValue:z.local.body===!1?void 0:z.local.body,newValue:z.common.body===!1?void 0:z.common.body}),D[q]=void 0}return this.setNodes(D)})}_emitChange(E){o.default.changeEvents[E.origin]&&this._emit("change",E)}fireInitial(){o.default.changeEvents.local&&this.forAllNodes(E=>{if(c.isDocument(E.path)){const D=l(E);D&&this._emitChange({path:E.path,origin:"local",oldValue:void 0,oldContentType:void 0,newValue:D.body,newContentType:D.contentType})}}).then(()=>{this._emit("local-events-done")})}onDiff(E){this.diffHandler=E}migrate(E){return typeof E!="object"||E.common||(E.common={},typeof E.path=="string"?E.path.substr(-1)==="/"&&typeof E.body=="object"&&(E.common.itemsMap=E.body):(E.local||(E.local={}),E.local.body=E.body,E.local.contentType=E.contentType)),E}_updateNodes(E,D){return new Promise((q,z)=>{this._doUpdateNodes(E,D,{resolve:q,reject:z})})}_doUpdateNodes(E,D,q){this._updateNodesRunning?this._updateNodesQueued.push({paths:E,cb:D,promise:q}):(this._updateNodesRunning=!0,this.getNodes(E).then(z=>{const O=c.deepClone(z),L=[];z=D(E,z);for(const g in z){const T=z[g];c.equal(T,O[g])?delete z[g]:c.isDocument(g)&&(c.equal(T.local.body,T.local.previousBody)&&T.local.contentType===T.local.previousContentType||L.push({path:g,origin:"window",oldValue:T.local.previousBody,newValue:T.local.body===!1?void 0:T.local.body,oldContentType:T.local.previousContentType,newContentType:T.local.contentType}),delete T.local.previousBody,delete T.local.previousContentType)}this.setNodes(z).then(()=>{this._emitChangeEvents(L),q.resolve({statusCode:200})})}).then(()=>Promise.resolve(),z=>{q.reject(z)}).then(()=>{this._updateNodesRunning=!1;const z=this._updateNodesQueued.shift();z&&this._doUpdateNodes(z.paths,z.cb,z.promise)}))}_emitChangeEvents(E){for(let D=0,q=E.length;D<q;D++)this._emitChange(E[D]),this.diffHandler&&this.diffHandler(E[D].path)}_getAllDescendentPaths(E){return c.isFolder(E)?this.getNodes([E]).then(D=>{const q=[E],z=l(D[E]),O=Object.keys(z.itemsMap).map(L=>this._getAllDescendentPaths(E+L).then(g=>{for(let T=0,h=g.length;T<h;T++)q.push(g[T])}));return Promise.all(O).then(()=>q)}):Promise.resolve([E])}_getInternals(){return{getLatest:l,makeNode:p,isOutdated:y}}}function l(x){if(typeof x=="object"&&typeof x.path=="string")if(c.isFolder(x.path)){if(x.local&&x.local.itemsMap)return x.local;if(x.common&&x.common.itemsMap)return x.common}else{if(x.local){if(x.local.body&&x.local.contentType)return x.local;if(x.local.body===!1)return}if(x.common&&x.common.body&&x.common.contentType)return x.common;if(x.body&&x.contentType)return{body:x.body,contentType:x.contentType}}}function y(x,E){for(const D in x){if(x[D]&&x[D].remote)return!0;const q=l(x[D]);if(q&&q.timestamp&&new Date().getTime()-q.timestamp<=E)return!1;if(!q)return!0}return!0}function p(x){const E={path:x,common:{}};return c.isFolder(x)&&(E.common.itemsMap={}),E}function k(x,E){return x.common||(x.common={itemsMap:{}}),x.common.itemsMap||(x.common.itemsMap={}),x.local||(x.local=c.deepClone(x.common)),x.local.itemsMap||(x.local.itemsMap=x.common.itemsMap),x.local.itemsMap[E]=!0,x}c.applyMixins(f,[a.default]),r.exports=f},function(r,n,i){r.exports=class{constructor(){this.reset()}static _rs_init(){}get scopes(){return Object.keys(this.scopeModeMap).map(s=>({name:s,mode:this.scopeModeMap[s]}))}get scopeParameter(){return this.scopes.map(s=>`${this._scopeNameForParameter(s)}:${s.mode}`).join(" ")}claim(s,a){if(typeof s!="string"||s.indexOf("/")!==-1||s.length===0)throw new Error("Scope should be a non-empty string without forward slashes");if(!a.match(/^rw?$/))throw new Error("Mode should be either 'r' or 'rw'");this._adjustRootPaths(s),this.scopeModeMap[s]=a}get(s){return this.scopeModeMap[s]}remove(s){const a={};for(const o in this.scopeModeMap)a[o]=this.scopeModeMap[o];this.reset(),delete a[s];for(const o in a)this.claim(o,a[o])}checkPermission(s,a){const o=this.get(s);return o&&(a==="r"||o==="rw")}checkPathPermission(s,a){if(this.checkPermission("*",a))return!0;const o=this._getModuleName(s);return!!this.checkPermission(o,a)}reset(){this.rootPaths=[],this.scopeModeMap={}}_getModuleName(s){if(s[0]!=="/")throw new Error("Path should start with a slash");const a=s.replace(/^\/public/,"").match(/^\/([^/]*)\//);return a?a[1]:"*"}_adjustRootPaths(s){"*"in this.scopeModeMap||s==="*"?this.rootPaths=["/"]:s in this.scopeModeMap||(this.rootPaths.push("/"+s+"/"),this.rootPaths.push("/public/"+s+"/"))}_scopeNameForParameter(s){if(s.name==="*"&&this.storageType){if(this.storageType==="2012.04")return"";if(this.storageType.match(/remotestorage-0[01]/))return"root"}return s.name}setStorageType(s){this.storageType=s}}},function(r,n,i){var s=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};const a=i(0),o=s(i(1));r.exports=class{constructor(){this.pendingActivations=[],this.reset()}set(u,c){if(typeof u!="string")throw new Error("path should be a string");if(!a.isFolder(u))throw new Error("path should be a folder");if(!c.match(/^(FLUSH|SEEN|ALL)$/))throw new Error("strategy should be 'FLUSH', 'SEEN', or 'ALL'");this._rootPaths[u]=c,c==="ALL"&&(this.activateHandler?this.activateHandler(u):this.pendingActivations.push(u))}enable(u){this.set(u,"ALL")}disable(u){this.set(u,"FLUSH")}onActivate(u){o.default("[Caching] Setting activate handler",u,this.pendingActivations),this.activateHandler=u;for(let c=0;c<this.pendingActivations.length;c++)u(this.pendingActivations[c]);this.pendingActivations=[]}checkPath(u){return this._rootPaths[u]!==void 0?this._rootPaths[u]:u==="/"?"SEEN":this.checkPath(a.containingFolder(u))}reset(){this._rootPaths={}}static _rs_init(){}}},function(r,n,i){var s=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};const a=s(i(7)),o=s(i(8)),u=s(i(2)),c=i(0),f="https://www.googleapis.com",l="remotestorage:googledrive";let y;function p(O){return O.substr(-1)==="/"&&(O=O.substr(0,O.length-1)),decodeURIComponent(O)}function k(O){return O.replace(/[^\/]+\/?$/,"")}function x(O){const L=O.split("/");return O.substr(-1)==="/"?L[L.length-2]+"/":L[L.length-1]}function E(O){return c.cleanPath("/remotestorage/"+O)}function D(O){return O.replace(/^["'](.*)["']$/,"$1")}class q{constructor(L){this._items={},this.maxAge=L,this._items={}}get(L){const g=this._items[L],T=new Date().getTime();return g&&g.t>=T-this.maxAge?g.v:void 0}set(L,g){this._items[L]={v:g,t:new Date().getTime()}}}class z{constructor(L,g){if(this.connected=!1,this.online=!0,this.addEvents(["connected","not-connected"]),this.rs=L,this.clientId=g,this._fileIdCache=new q(300),y=c.localStorageAvailable(),y){const T=c.getJSONFromLocalStorage(l);T&&this.configure(T)}}configure(L){L.userAddress!==void 0&&(this.userAddress=L.userAddress),L.token!==void 0&&(this.token=L.token);const g=function(){y&&localStorage.setItem(l,JSON.stringify({userAddress:this.userAddress,token:this.token}))},T=function(){this.connected=!1,delete this.token,y&&localStorage.removeItem(l)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),g.apply(this)):this.info().then(h=>{this.userAddress=h.user.emailAddress,this._emit("connected"),g.apply(this)}).catch(()=>{T.apply(this),this.rs._emit("error",new Error("Could not fetch user info."))})):T.apply(this)}connect(){this.rs.setBackend("googledrive"),this.rs.authorize({authURL:"https://accounts.google.com/o/oauth2/auth",scope:"https://www.googleapis.com/auth/drive",clientId:this.clientId})}stopWaitingForToken(){this.connected||this._emit("not-connected")}get(L,g){return c.isFolder(L)?this._getFolder(E(L)):this._getFile(E(L),g)}put(L,g,T,h){const d=E(L);function w(m){if(m.status>=200&&m.status<300){const v=JSON.parse(m.responseText),I=D(v.etag);return Promise.resolve({statusCode:200,contentType:v.mimeType,revision:I})}return m.status===412?Promise.resolve({statusCode:412,revision:"conflict"}):Promise.reject("PUT failed with status "+m.status+" ("+m.responseText+")")}return this._getFileId(d).then(m=>m?h&&h.ifNoneMatch==="*"?w({status:412}):this._updateFile(m,d,g,T,h).then(w):this._createFile(d,g,T).then(w))}delete(L,g){const T=E(L);return this._getFileId(T).then(h=>h?this._getMeta(h).then(d=>{let w;return typeof d=="object"&&typeof d.etag=="string"&&(w=D(d.etag)),g&&g.ifMatch&&g.ifMatch!==w?{statusCode:412,revision:w}:this._request("DELETE",f+"/drive/v2/files/"+h,{}).then(m=>m.status===200||m.status===204?{statusCode:200}:Promise.reject("Delete failed: "+m.status+" ("+m.responseText+")"))}):Promise.resolve({statusCode:200}))}info(){return this._request("GET","https://www.googleapis.com/drive/v2/about?fields=user",{}).then(function(L){try{const g=JSON.parse(L.responseText);return Promise.resolve(g)}catch(g){return Promise.reject(g)}})}_updateFile(L,g,T,h,d){const w={mimeType:h},m={"Content-Type":"application/json; charset=UTF-8"};return d&&d.ifMatch&&(m["If-Match"]='"'+d.ifMatch+'"'),this._request("PUT",f+"/upload/drive/v2/files/"+L+"?uploadType=resumable",{body:JSON.stringify(w),headers:m}).then(v=>v.status===412?v:this._request("PUT",v.getResponseHeader("Location"),{body:h.match(/^application\/json/)?JSON.stringify(T):T}))}_createFile(L,g,T){return this._getParentId(L).then(h=>{const d={title:p(x(L)),mimeType:T,parents:[{kind:"drive#fileLink",id:h}]};return this._request("POST",f+"/upload/drive/v2/files?uploadType=resumable",{body:JSON.stringify(d),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(w=>this._request("POST",w.getResponseHeader("Location"),{body:T.match(/^application\/json/)?JSON.stringify(g):g}))})}_getFile(L,g){return this._getFileId(L).then(T=>this._getMeta(T).then(h=>{let d;if(typeof h=="object"&&typeof h.etag=="string"&&(d=D(h.etag)),g&&g.ifNoneMatch&&d===g.ifNoneMatch)return Promise.resolve({statusCode:304});if(!h.downloadUrl){if(!h.exportLinks||!h.exportLinks["text/html"])return Promise.resolve({statusCode:200,body:"",contentType:h.mimeType,revision:d});h.mimeType+=";export=text/html",h.downloadUrl=h.exportLinks["text/html"]}return this._request("GET",h.downloadUrl,{responseType:"arraybuffer"}).then(w=>c.getTextFromArrayBuffer(w.response,"UTF-8").then(function(m){let v=m;if(h.mimeType.match(/^application\/json/))try{v=JSON.parse(v)}catch{}else c.shouldBeTreatedAsBinary(m,h.mimeType)&&(v=w.response);return{statusCode:200,body:v,contentType:h.mimeType,revision:d}}))}))}_getFolder(L){return this._getFileId(L).then(g=>{let T,h,d;if(!g)return Promise.resolve({statusCode:404});const w="'"+g+"' in parents";return this._request("GET",f+"/drive/v2/files?q="+encodeURIComponent(w)+"&fields="+encodeURIComponent("items(downloadUrl,etag,fileSize,id,mimeType,title)")+"&maxResults=1000",{}).then(m=>{if(m.status!==200)return Promise.reject("request failed or something: "+m.status);try{T=JSON.parse(m.responseText)}catch{return Promise.reject("non-JSON response from GoogleDrive")}d={};for(const v of T.items)h=D(v.etag),v.mimeType==="application/vnd.google-apps.folder"?(this._fileIdCache.set(L+c.cleanPath(v.title)+"/",v.id),d[v.title+"/"]={ETag:h}):(this._fileIdCache.set(L+c.cleanPath(v.title),v.id),d[v.title]={ETag:h,"Content-Type":v.mimeType,"Content-Length":v.fileSize});return Promise.resolve({statusCode:200,body:d,contentType:"application/json; charset=UTF-8",revision:void 0})})})}_getParentId(L){const g=k(L);return this._getFileId(g).then(T=>T?Promise.resolve(T):this._createFolder(g))}_createFolder(L){return this._getParentId(L).then(g=>this._request("POST",f+"/drive/v2/files",{body:JSON.stringify({title:p(x(L)),mimeType:"application/vnd.google-apps.folder",parents:[{id:g}]}),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(T=>{const h=JSON.parse(T.responseText);return Promise.resolve(h.id)}))}_getFileId(L){let g;return L==="/"?Promise.resolve("root"):(g=this._fileIdCache.get(L))?Promise.resolve(g):this._getFolder(k(L)).then(()=>(g=this._fileIdCache.get(L),g?Promise.resolve(g):L.substr(-1)==="/"?this._createFolder(L).then(()=>this._getFileId(L)):Promise.resolve()))}_getMeta(L){return this._request("GET",f+"/drive/v2/files/"+L,{}).then(function(g){return g.status===200?Promise.resolve(JSON.parse(g.responseText)):Promise.reject("request (getting metadata for "+L+") failed with status: "+g.status)})}_request(L,g,T){return T.headers||(T.headers={}),T.headers.Authorization="Bearer "+this.token,this.rs._emit("wire-busy",{method:L,isFolder:c.isFolder(g)}),o.default.request.call(this,L,g,T).then(h=>h&&h.status===401?void this.connect():(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:L,isFolder:c.isFolder(g),success:!0}),Promise.resolve(h)),h=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:L,isFolder:c.isFolder(g),success:!1}),Promise.reject(h)))}static _rs_init(L){const g=L.apiKeys.googledrive;var T;g&&(L.googledrive=new z(L,g.clientId),L.backend==="googledrive"&&(L._origRemote=L.remote,L.remote=L.googledrive,(T=L)._origBaseClientGetItemURL||(T._origBaseClientGetItemURL=a.default.prototype.getItemURL,a.default.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Google Drive yet")})))}static _rs_supported(){return!0}static _rs_cleanup(L){var g;L.setBackend(void 0),L._origRemote&&(L.remote=L._origRemote,delete L._origRemote),(g=L)._origBaseClientGetItemURL&&(a.default.prototype.getItemURL=g._origBaseClientGetItemURL,delete g._origBaseClientGetItemURL)}}c.applyMixins(z,[u.default]),r.exports=z},function(r,n,i){var s=this&&this.__awaiter||function(T,h,d,w){return new(d||(d=Promise))(function(m,v){function I(nt){try{$(w.next(nt))}catch(b){v(b)}}function U(nt){try{$(w.throw(nt))}catch(b){v(b)}}function $(nt){var b;nt.done?m(nt.value):(b=nt.value,b instanceof d?b:new d(function(C){C(b)})).then(I,U)}$((w=w.apply(T,h||[])).next())})},a=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};const o=a(i(2)),u=a(i(8)),c=a(i(7)),f=a(i(26)),l=a(i(9)),y=a(i(4)),p=i(0);let k;const x="remotestorage:dropbox";function E(T){return p.cleanPath("/remotestorage/"+T).replace(/\/$/,"")}function D(T,h){return new RegExp("^"+h.join("\\/")+"(\\/|$)").test(T.error_summary)}function q(T){return T instanceof ArrayBuffer||u.default.isArrayBufferView(T)}class z{constructor(h){if(this.rs=h,this.connected=!1,this.online=!0,this._initialFetchDone=!1,this.addEvents(["connected","not-connected"]),this.clientId=h.apiKeys.dropbox.appKey,this._revCache=new f.default("rev"),this._fetchDeltaCursor=null,this._fetchDeltaPromise=null,this._itemRefs={},k=p.localStorageAvailable(),k){const d=p.getJSONFromLocalStorage(x);d&&this.configure(d),this._itemRefs=p.getJSONFromLocalStorage(x+":shares")||{}}this.connected&&setTimeout(this._emit.bind(this),0,"connected")}connect(){this.rs.setBackend("dropbox"),this.token?g(this.rs):this.rs.authorize({authURL:"https://www.dropbox.com/oauth2/authorize",scope:"",clientId:this.clientId})}configure(h){h.userAddress!==void 0&&(this.userAddress=h.userAddress),h.token!==void 0&&(this.token=h.token);const d=function(){k&&localStorage.setItem(x,JSON.stringify({userAddress:this.userAddress,token:this.token}))},w=function(){this.connected=!1,k&&localStorage.removeItem(x)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),d.apply(this)):this.info().then(function(m){this.userAddress=m.email,this._emit("connected"),d.apply(this)}.bind(this)).catch(function(){w.apply(this),this.rs._emit("error",new Error("Could not fetch user info."))}.bind(this))):w.apply(this)}stopWaitingForToken(){this.connected||this._emit("not-connected")}_getFolder(h){const d=this._revCache,w=v=>{let I;if(v.status!==200&&v.status!==409)return Promise.reject("Unexpected response status: "+v.status);try{I=JSON.parse(v.responseText)}catch($){return Promise.reject($)}if(v.status===409)return D(I,["path","not_found"])?Promise.resolve({}):Promise.reject(new Error("API returned an error: "+I.error_summary));const U=I.entries.reduce(($,nt)=>{const b=nt[".tag"]==="folder",C=nt.path_lower.split("/").slice(-1)[0]+(b?"/":"");return b?$[C]={ETag:d.get(h+C)}:($[C]={ETag:nt.rev},this._revCache.set(h+C,nt.rev)),$},{});return I.has_more?m(I.cursor).then(function($){return Object.assign(U,$)}):Promise.resolve(U)},m=v=>{const I={body:{cursor:v}};return this._request("POST","https://api.dropboxapi.com/2/files/list_folder/continue",I).then(w)};return this._request("POST","https://api.dropboxapi.com/2/files/list_folder",{body:{path:E(h)}}).then(w).then(function(v){return Promise.resolve({statusCode:200,body:v,contentType:"application/json; charset=UTF-8",revision:d.get(h)})})}get(h,d){if(!this.connected)return Promise.reject("not connected (path: "+h+")");const w=this._revCache.get(h);if(w===null)return Promise.resolve({statusCode:404});if(d&&d.ifNoneMatch){if(!this._initialFetchDone)return this.fetchDelta().then(()=>this.get(h,d));if(w&&w===d.ifNoneMatch)return Promise.resolve({statusCode:304})}if(h.substr(-1)==="/")return this._getFolder(h);const m={headers:{"Dropbox-API-Arg":JSON.stringify({path:E(h)})},responseType:"arraybuffer"};return d&&d.ifNoneMatch&&(m.headers["If-None-Match"]=d.ifNoneMatch),this._request("GET","https://content.dropboxapi.com/2/files/download",m).then(v=>{const I=v.status;let U,$,nt,b;return I!==200&&I!==409?Promise.resolve({statusCode:I}):(U=v.getResponseHeader("Dropbox-API-Result"),p.getTextFromArrayBuffer(v.response,"UTF-8").then(C=>{$=C,I===409&&(U=$);try{U=JSON.parse(U)}catch(V){return Promise.reject(V)}if(I===409)return D(U,["path","not_found"])?{statusCode:404}:Promise.reject(new Error('API error while downloading file ("'+h+'"): '+U.error_summary));if(nt=v.getResponseHeader("Content-Type"),b=U.rev,this._revCache.set(h,b),this._shareIfNeeded(h),p.shouldBeTreatedAsBinary(C,nt))$=v.response;else try{$=JSON.parse($),nt="application/json; charset=UTF-8"}catch{}return{statusCode:I,body:$,contentType:nt,revision:b}}))})}put(h,d,w,m){if(!this.connected)throw new Error("not connected (path: "+h+")");const v=this._revCache.get(h);if(m&&m.ifMatch&&v&&v!==m.ifMatch)return Promise.resolve({statusCode:412,revision:v});if(m&&m.ifNoneMatch==="*"&&v&&v!=="rev")return Promise.resolve({statusCode:412,revision:v});if(!w.match(/charset=/)&&q(d)&&(w+="; charset=binary"),d.length>157286400)return Promise.reject(new Error("Cannot upload file larger than 150MB"));let I;const U=m&&(m.ifMatch||m.ifNoneMatch==="*"),$={body:d,contentType:w,path:h};return I=U?this._getMetadata(h).then(nt=>m&&m.ifNoneMatch==="*"&&nt||m&&m.ifMatch&&nt&&nt.rev!==m.ifMatch?Promise.resolve({statusCode:412,revision:nt.rev}):this._uploadSimple($)):this._uploadSimple($),I.then(nt=>(this._shareIfNeeded(h),nt))}delete(h,d){if(!this.connected)throw new Error("not connected (path: "+h+")");const w=this._revCache.get(h);return d&&d.ifMatch&&w&&d.ifMatch!==w?Promise.resolve({statusCode:412,revision:w}):d&&d.ifMatch?this._getMetadata(h).then(m=>d&&d.ifMatch&&m&&m.rev!==d.ifMatch?Promise.resolve({statusCode:412,revision:m.rev}):this._deleteSimple(h)):this._deleteSimple(h)}_shareIfNeeded(h){h.match(/^\/public\/.*[^/]$/)&&this._itemRefs[h]===void 0&&this.share(h)}share(h){const d={body:{path:E(h)}};return this._request("POST","https://api.dropboxapi.com/2/sharing/create_shared_link_with_settings",d).then(w=>{if(w.status!==200&&w.status!==409)return Promise.reject(new Error("Invalid response status:"+w.status));let m;try{m=JSON.parse(w.responseText)}catch{return Promise.reject(new Error("Invalid response body: "+w.responseText))}return w.status===409?D(m,["shared_link_already_exists"])?this._getSharedLink(h):Promise.reject(new Error("API error: "+m.error_summary)):Promise.resolve(m.url)}).then(w=>(this._itemRefs[h]=w,k&&localStorage.setItem(x+":shares",JSON.stringify(this._itemRefs)),Promise.resolve(w)),w=>(w.message='Sharing Dropbox file or folder ("'+h+'") failed: '+w.message,Promise.reject(w)))}info(){return this._request("POST","https://api.dropboxapi.com/2/users/get_current_account",{}).then(function(h){let d=h.responseText;try{d=JSON.parse(d)}catch{return Promise.reject(new Error("Could not query current account info: Invalid API response: "+d))}return Promise.resolve({email:d.email})})}_request(h,d,w){return w.headers||(w.headers={}),w.headers.Authorization="Bearer "+this.token,typeof w.body!="object"||q(w.body)||(w.body=JSON.stringify(w.body),w.headers["Content-Type"]="application/json; charset=UTF-8"),this.rs._emit("wire-busy",{method:h,isFolder:p.isFolder(d)}),u.default.request.call(this,h,d,w).then(m=>m&&m.status===503?(this.online&&(this.online=!1,this.rs._emit("network-offline")),setTimeout(this._request(h,d,w),3210)):(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:h,isFolder:p.isFolder(d),success:!0}),Promise.resolve(m)),m=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:h,isFolder:p.isFolder(d),success:!1}),Promise.reject(m)))}fetchDelta(...h){if(this._fetchDeltaPromise)return this._fetchDeltaPromise;const d=w=>{let m,v="https://api.dropboxapi.com/2/files/list_folder";return typeof w=="string"?(v+="/continue",m={cursor:w}):m={path:"/remotestorage",recursive:!0,include_deleted:!0},this._request("POST",v,{body:m}).then(I=>{if(I.status===401)return this.rs._emit("error",new y.default),Promise.resolve(h);if(I.status!==200&&I.status!==409)return Promise.reject(new Error("Invalid response status: "+I.status));let U;try{U=JSON.parse(I.responseText)}catch{return Promise.reject(new Error("Invalid response body: "+I.responseText))}if(I.status===409){if(!D(U,["path","not_found"]))return Promise.reject(new Error("API returned an error: "+U.error_summary));U={cursor:null,entries:[],has_more:!1}}if(w||this._revCache.deactivatePropagation(),U.entries.forEach($=>{const nt=$.path_lower.substr("/remotestorage".length);$[".tag"]==="deleted"?(this._revCache.delete(nt),this._revCache.delete(nt+"/")):$[".tag"]==="file"&&this._revCache.set(nt,$.rev)}),this._fetchDeltaCursor=U.cursor,U.has_more)return d(U.cursor);this._revCache.activatePropagation(),this._initialFetchDone=!0}).catch(I=>I==="timeout"||I instanceof ProgressEvent?Promise.resolve():Promise.reject(I))};return this._fetchDeltaPromise=d(this._fetchDeltaCursor).catch(w=>(typeof w=="object"&&"message"in w?w.message="Dropbox: fetchDelta: "+w.message:w="Dropbox: fetchDelta: "+w,this._fetchDeltaPromise=null,Promise.reject(w))).then(()=>(this._fetchDeltaPromise=null,Promise.resolve(h))),this._fetchDeltaPromise}_getMetadata(h){const d={path:E(h)};return this._request("POST","https://api.dropboxapi.com/2/files/get_metadata",{body:d}).then(w=>{if(w.status!==200&&w.status!==409)return Promise.reject(new Error("Invalid response status:"+w.status));let m;try{m=JSON.parse(w.responseText)}catch{return Promise.reject(new Error("Invalid response body: "+w.responseText))}return w.status===409?D(m,["path","not_found"])?Promise.resolve():Promise.reject(new Error("API error: "+m.error_summary)):Promise.resolve(m)}).then(void 0,w=>(w.message='Could not load metadata for file or folder ("'+h+'"): '+w.message,Promise.reject(w)))}_uploadSimple(h){const d={path:E(h.path),mode:{".tag":"overwrite",update:void 0},mute:!0};return h.ifMatch&&(d.mode={".tag":"update",update:h.ifMatch}),this._request("POST","https://content.dropboxapi.com/2/files/upload",{body:h.body,headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":JSON.stringify(d)}}).then(w=>{if(w.status!==200&&w.status!==409)return Promise.resolve({statusCode:w.status});let m=w.responseText;try{m=JSON.parse(m)}catch{return Promise.reject(new Error("Invalid API result: "+m))}return w.status===409?D(m,["path","conflict"])?this._getMetadata(h.path).then(function(v){return Promise.resolve({statusCode:412,revision:v.rev})}):Promise.reject(new Error("API error: "+m.error_summary)):(this._revCache.set(h.path,m.rev),Promise.resolve({statusCode:w.status,revision:m.rev}))})}_deleteSimple(h){const d={path:E(h)};return this._request("POST","https://api.dropboxapi.com/2/files/delete",{body:d}).then(w=>{if(w.status!==200&&w.status!==409)return Promise.resolve({statusCode:w.status});let m=w.responseText;try{m=JSON.parse(m)}catch{return Promise.reject(new Error("Invalid response body: "+m))}return w.status===409?D(m,["path_lookup","not_found"])?Promise.resolve({statusCode:404}):Promise.reject(new Error("API error: "+m.error_summary)):Promise.resolve({statusCode:200})}).then(w=>(w.statusCode!==200&&w.statusCode!==404||(this._revCache.delete(h),delete this._itemRefs[h]),Promise.resolve(w)),w=>(w.message='Could not delete Dropbox file or folder ("'+h+'"): '+w.message,Promise.reject(w)))}_getSharedLink(h){return s(this,void 0,void 0,function*(){const d={body:{path:E(h),direct_only:!0}};return this._request("POST","https://api.dropbox.com/2/sharing/list_shared_links",d).then(w=>{if(w.status!==200&&w.status!==409)return Promise.reject(new Error("Invalid response status: "+w.status));let m;try{m=JSON.parse(w.responseText)}catch{return Promise.reject(new Error("Invalid response body: "+w.responseText))}return w.status===409?Promise.reject(new Error("API error: "+w.error_summary)):m.links.length?Promise.resolve(m.links[0].url):Promise.reject(new Error("No links returned"))},w=>(w.message='Could not get link to a shared file or folder ("'+h+'"): '+w.message,Promise.reject(w)))})}static _rs_init(h){k=p.localStorageAvailable(),h.apiKeys.dropbox&&(h.dropbox=new z(h)),h.backend==="dropbox"&&g(h)}static _rs_supported(){return!0}static _rs_cleanup(h){(function(d){(function(w){w._origRemote&&(w.remote=w._origRemote,delete w._origRemote)})(d),function(w){!w._dropboxOrigSync||(w.sync.sync=w._dropboxOrigSync,delete w._dropboxOrigSync)}(d),function(w){!w._origBaseClientGetItemURL||(c.default.prototype.getItemURL=w._origBaseClientGetItemURL,delete w._origBaseClientGetItemURL)}(d),L(d)})(h),k&&localStorage.removeItem(x),h.setBackend(void 0)}}function O(T,...h){T._dropboxOrigSync||(T._dropboxOrigSync=T.sync.sync.bind(T.sync),T.sync.sync=function(){return this.dropbox.fetchDelta(T,...h).then(T._dropboxOrigSync,function(d){T._emit("error",new l.default(d)),T._emit("sync-done")})}.bind(T))}function L(T){T._dropboxOrigSyncCycle&&(T.syncCycle=T._dropboxOrigSyncCycle,delete T._dropboxOrigSyncCycle)}function g(T){(function(h){h._origRemote||(h._origRemote=h.remote,h.remote=h.dropbox)})(T),T.sync?O(T):function(h,...d){h._dropboxOrigSyncCycle||(h._dropboxOrigSyncCycle=h.syncCycle,h.syncCycle=()=>{if(!h.sync)throw new Error("expected sync to be initialized by now");O(h),h._dropboxOrigSyncCycle(h,...d),L(h)})}(T),function(h){h._origBaseClientGetItemURL||(h._origBaseClientGetItemURL=c.default.prototype.getItemURL,c.default.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Dropbox yet")})}(T)}p.applyMixins(z,[o.default]),r.exports=z},function(r,n,i){var s=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};const a=s(i(27)),o=s(i(1)),u=i(0);let c,f,l={};const y=function(p){return new Promise((k,x)=>p in l?k(l[p]):new a.default({tls_only:!1,uri_fallback:!0,request_timeout:5e3}).lookup(p,function(E,D){if(E)return x(E);if(typeof D.idx.links.remotestorage!="object"||typeof D.idx.links.remotestorage.length!="number"||D.idx.links.remotestorage.length<=0)return o.default("[Discover] WebFinger record for "+p+" does not have remotestorage defined in the links section ",JSON.stringify(D.json)),x("WebFinger record for "+p+" does not have remotestorage defined in the links section.");const q=D.idx.links.remotestorage[0],z=q.properties["http://tools.ietf.org/html/rfc6749#section-4.2"]||q.properties["auth-endpoint"],O=q.properties["http://remotestorage.io/spec/version"]||q.type;return l[p]={href:q.href,storageApi:O,authURL:z,properties:q.properties},f&&(localStorage["remotestorage:discover"]=JSON.stringify({cache:l})),k(l[p])}))};(y.DiscoveryError=function(p){this.name="DiscoveryError",this.message=p,this.stack=new Error().stack}).prototype=Object.create(Error.prototype),y.DiscoveryError.prototype.constructor=y.DiscoveryError,y._rs_init=function(){if(f=u.localStorageAvailable(),f)try{l=JSON.parse(localStorage["remotestorage:discover"]).cache}catch{}},y._rs_supported=function(){return c=Object.prototype.hasOwnProperty.call(u.globalContext,"XMLHttpRequest"),c},y._rs_cleanup=function(){f&&delete localStorage["remotestorage:discover"]},r.exports=y},function(r,n,i){const s=(this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}})(i(2)),a=i(0);class o{constructor(){this.addEvents(["background","foreground"]),this.mode=typeof window!="undefined"?"browser":"node",this.mode==="browser"&&(this.setBrowserPrefixedNames(),document.addEventListener(this.visibilityChangeEvent,this.setVisibility.bind(this),!1),this.setVisibility())}setBrowserPrefixedNames(){this.mode==="browser"&&(document.hidden!==void 0?(this.hiddenProperty="hidden",this.visibilityChangeEvent="visibilitychange"):document.mozHidden!==void 0?(this.hiddenProperty="mozHidden",this.visibilityChangeEvent="mozvisibilitychange"):document.msHidden!==void 0?(this.hiddenProperty="msHidden",this.visibilityChangeEvent="msvisibilitychange"):document.webkitHidden!==void 0&&(this.hiddenProperty="webkitHidden",this.visibilityChangeEvent="webkitvisibilitychange"))}setVisibility(){document[this.hiddenProperty]?this.goBackground():this.goForeground()}isBrowser(){return this.mode==="browser"}isNode(){return this.mode==="node"}goBackground(){this._emit("background")}goForeground(){this._emit("foreground")}static _rs_init(){}static _rs_cleanup(){}}a.applyMixins(o,[s.default]),r.exports=o},function(r,n,i){r.exports=i(18)},function(r,n,i){var s=this&&this.__createBinding||(Object.create?function(U,$,nt,b){b===void 0&&(b=nt),Object.defineProperty(U,b,{enumerable:!0,get:function(){return $[nt]}})}:function(U,$,nt,b){b===void 0&&(b=nt),U[b]=$[nt]}),a=this&&this.__setModuleDefault||(Object.create?function(U,$){Object.defineProperty(U,"default",{enumerable:!0,value:$})}:function(U,$){U.default=$}),o=this&&this.__importStar||function(U){if(U&&U.__esModule)return U;var $={};if(U!=null)for(var nt in U)nt!=="default"&&Object.hasOwnProperty.call(U,nt)&&s($,U,nt);return a($,U),$},u=this&&this.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};const c=u(i(3)),f=u(i(1)),l=i(0),y=u(i(11)),p=u(i(6)),k=u(i(7)),x=u(i(12)),E=u(i(2)),D=u(i(13)),q=u(i(14)),z=u(i(15)),O=u(i(9)),L=u(i(4)),g=u(i(29)),T=o(i(0)),h=l.getGlobalContext();let d;function w(U){return U.statusCode!==403&&U.statusCode!==401||this._emit("error",new L.default),Promise.resolve(U)}function m(U){return typeof U=="number"&&U>1e3&&U<36e5}class v{constructor($){this._pending=[],this._cleanups=[],this._pathHandlers={change:{}},this.apiKeys={},this._init=g.default.loadFeatures,this.features=g.default.features,this.loadFeature=g.default.loadFeature,this.featureSupported=g.default.featureSupported,this.featureDone=g.default.featureDone,this.featuresDone=g.default.featuresDone,this.featuresLoaded=g.default.featuresLoaded,this.featureInitialized=g.default.featureInitialized,this.featureFailed=g.default.featureFailed,this.hasFeature=g.default.hasFeature,this._setCachingModule=g.default._setCachingModule,this._collectCleanupFunctions=g.default._collectCleanupFunctions,this._fireReady=g.default._fireReady,this.initFeature=g.default.initFeature,typeof $=="object"&&l.extend(c.default,$),this.addEvents(["ready","authing","connecting","connected","disconnected","not-connected","conflict","error","features-loaded","sync-interval-change","sync-req-done","sync-done","wire-busy","wire-done","network-offline","network-online"]),this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")}),d=l.localStorageAvailable(),d&&(this.apiKeys=l.getJSONFromLocalStorage("remotestorage:api-keys")||{},this.setBackend(localStorage.getItem("remotestorage:backend")||"remotestorage"));const nt=this.on;this.on=function(b,C){if(this._allLoaded)switch(b){case"features-loaded":setTimeout(C,0);break;case"ready":this.remote&&setTimeout(C,0);break;case"connected":this.remote&&this.remote.connected&&setTimeout(C,0);break;case"not-connected":this.remote&&!this.remote.connected&&setTimeout(C,0)}return nt.call(this,b,C)},this._init(),this.fireInitial=function(){this.local&&setTimeout(this.local.fireInitial.bind(this.local),0)}.bind(this),this.on("ready",this.fireInitial.bind(this)),this.loadModules()}get connected(){return this.remote.connected}loadModules(){c.default.modules.forEach(this.addModule.bind(this))}authorize($){if(this.access.setStorageType(this.remote.storageApi),$.scope===void 0&&($.scope=this.access.scopeParameter),h.cordova)$.redirectUri=c.default.cordovaRedirectUri;else{const nt=p.default.getLocation();let b=nt.origin;nt.pathname!=="/"&&(b+=nt.pathname),$.redirectUri=b}$.clientId===void 0&&($.clientId=$.redirectUri.match(/^(https?:\/\/[^/]+)/)[0]),p.default.authorize(this,$)}impliedauth($,nt){$=$||this.remote.storageApi,nt=nt||String(document.location),f.default("ImpliedAuth proceeding due to absent authURL; storageApi = "+$+" redirectUri = "+nt),this.remote.configure({token:p.default.IMPLIED_FAKE_TOKEN}),document.location.href=nt}connect($,nt){if(this.setBackend("remotestorage"),$.indexOf("@")<0)return void this._emit("error",new v.DiscoveryError("User address doesn't contain an @."));if(h.cordova){if(typeof c.default.cordovaRedirectUri!="string")return void this._emit("error",new v.DiscoveryError("Please supply a custom HTTPS redirect URI for your Cordova app"));if(!h.cordova.InAppBrowser)return void this._emit("error",new v.DiscoveryError("Please include the InAppBrowser Cordova plugin to enable OAuth"))}this.remote.configure({userAddress:$}),this._emit("connecting");const b=setTimeout(()=>{this._emit("error",new v.DiscoveryError("No storage information found for this user address."))},c.default.discoveryTimeout);z.default($).then(C=>{if(clearTimeout(b),this._emit("authing"),C.userAddress=$,this.remote.configure(C),!this.remote.connected)if(C.authURL)if(nt===void 0)this.authorize({authURL:C.authURL});else{if(typeof nt!="string")throw new Error("Supplied bearer token must be a string");f.default("Skipping authorization sequence and connecting with known token"),this.remote.configure({token:nt})}else this.impliedauth()},()=>{clearTimeout(b),this._emit("error",new v.DiscoveryError("No storage information found for this user address."))})}reconnect(){this.remote.configure({token:null}),this.backend==="remotestorage"?this.connect(this.remote.userAddress):this.remote.connect()}disconnect(){this.remote&&this.remote.configure({userAddress:null,href:null,storageApi:null,token:null,properties:null}),this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")});const $=this._cleanups.length;let nt=0;const b=()=>{nt++,nt>=$&&(this._init(),this._emit("disconnected"))};$>0?this._cleanups.forEach(C=>{const V=C(this);typeof V=="object"&&typeof V.then=="function"?V.then(b):b()}):b()}setBackend($){this.backend=$,d&&($?localStorage.setItem("remotestorage:backend",$):localStorage.removeItem("remotestorage:backend"))}onChange($,nt){this._pathHandlers.change[$]||(this._pathHandlers.change[$]=[]),this._pathHandlers.change[$].push(nt)}enableLog(){c.default.logging=!0}disableLog(){c.default.logging=!1}log(...$){f.default.apply(v,$)}setApiKeys($){const nt=[I.GOOGLE,I.DROPBOX];if(typeof $!="object"||!Object.keys($).every(b=>nt.includes(b)))return console.error("setApiKeys() was called with invalid arguments"),!1;Object.keys($).forEach(b=>{const C=$[b];if(C){switch(b){case I.DROPBOX:this.apiKeys[I.DROPBOX]={appKey:C},this.dropbox!==void 0&&this.dropbox.clientId===C||q.default._rs_init(this);break;case I.GOOGLE:this.apiKeys[I.GOOGLE]={clientId:C},this.googledrive!==void 0&&this.googledrive.clientId===C||D.default._rs_init(this)}return!0}delete this.apiKeys[b]}),d&&localStorage.setItem("remotestorage:api-keys",JSON.stringify(this.apiKeys))}setCordovaRedirectUri($){if(typeof $!="string"||!$.match(/http(s)?:\/\//))throw new Error("Cordova redirect URI must be a URI string");c.default.cordovaRedirectUri=$}_setGPD($,nt){function b(C){return function(...V){return C.apply(nt,V).then(w.bind(this))}}this.get=b($.get),this.put=b($.put),this.delete=b($.delete)}_pendingGPD($){return(...nt)=>{const b=Array.prototype.slice.call(nt);return new Promise((C,V)=>{this._pending.push({method:$,args:b,promise:{resolve:C,reject:V}})})}}_processPending(){this._pending.forEach($=>{try{this[$.method](...$.args).then($.promise.resolve,$.promise.reject)}catch(nt){$.promise.reject(nt)}}),this._pending=[]}_bindChange($){$.on("change",this._dispatchEvent.bind(this,"change"))}_dispatchEvent($,nt){Object.keys(this._pathHandlers[$]).forEach(b=>{const C=b.length;nt.path.substr(0,C)===b&&this._pathHandlers[$][b].forEach(V=>{const Z={};for(const it in nt)Z[it]=nt[it];Z.relativePath=nt.path.replace(new RegExp("^"+b),"");try{V(Z)}catch(it){console.error("'change' handler failed: ",it,it.stack),this._emit("error",it)}})})}scope($){if(typeof $!="string")throw"Argument 'path' of baseClient.scope must be a string";return this.access.checkPathPermission($,"r")||console.warn("WARNING: Please use remoteStorage.access.claim() to ask for access permissions first: https://remotestoragejs.readthedocs.io/en/latest/js-api/access.html#claim"),new k.default(this,$)}getSyncInterval(){return c.default.syncInterval}setSyncInterval($){if(!m($))throw $+" is not a valid sync interval";const nt=c.default.syncInterval;c.default.syncInterval=$,this._emit("sync-interval-change",{oldValue:nt,newValue:$})}getBackgroundSyncInterval(){return c.default.backgroundSyncInterval}setBackgroundSyncInterval($){if(!m($))throw $+" is not a valid sync interval";const nt=c.default.backgroundSyncInterval;c.default.backgroundSyncInterval=$,this._emit("sync-interval-change",{oldValue:nt,newValue:$})}getCurrentSyncInterval(){return c.default.isBackground?c.default.backgroundSyncInterval:c.default.syncInterval}getRequestTimeout(){return c.default.requestTimeout}setRequestTimeout($){if(typeof $!="number")throw $+" is not a valid request timeout";c.default.requestTimeout=$}syncCycle(){this.sync&&!this.sync.stopped&&(this.on("sync-done",()=>{this.sync&&!this.sync.stopped&&(this._syncTimer&&(clearTimeout(this._syncTimer),this._syncTimer=void 0),this._syncTimer=setTimeout(this.sync.sync.bind(this.sync),this.getCurrentSyncInterval()))}),this.sync.sync())}startSync(){return c.default.cache?(this.sync.stopped=!1,this.syncStopped=!1,this.sync.sync()):(console.warn("Nothing to sync, because caching is disabled."),Promise.resolve())}stopSync(){clearTimeout(this._syncTimer),this._syncTimer=void 0,this.sync?this.sync.stopped=!0:this.syncStopped=!0}addModule($){const nt=$.name,b=$.builder;if(Object.defineProperty(this,nt,{configurable:!0,get:function(){const C=this._loadModule(nt,b);return Object.defineProperty(this,nt,{value:C}),C}}),nt.indexOf("-")!==-1){const C=nt.replace(/\-[a-z]/g,function(V){return V[1].toUpperCase()});Object.defineProperty(this,C,{get:function(){return this[nt]}})}}_loadModule($,nt){if(nt)return nt(new k.default(this,"/"+$+"/"),new k.default(this,"/public/"+$+"/")).exports;throw"Unknown module: "+$}}var I;v.Authorize=p.default,v.SyncError=O.default,v.Unauthorized=L.default,v.DiscoveryError=z.default.DiscoveryError,v.util=T,Object.defineProperty(v.prototype,"access",{get:function(){const U=new y.default;return Object.defineProperty(this,"access",{value:U}),U},configurable:!0}),Object.defineProperty(v.prototype,"caching",{configurable:!0,get:function(){const U=new x.default;return Object.defineProperty(this,"caching",{value:U}),U}}),l.applyMixins(v,[E.default]),function(U){U.GOOGLE="googledrive",U.DROPBOX="dropbox"}(I||(I={})),r.exports=v},function(r,n,i){(function(s){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var a=i(20),o=i(21),u=i(22);function c(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(A,R){if(c()<R)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(A=new Uint8Array(R)).__proto__=l.prototype:(A===null&&(A=new l(R)),A.length=R),A}function l(A,R,N){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(A,R,N);if(typeof A=="number"){if(typeof R=="string")throw new Error("If encoding is specified then the first argument must be a string");return k(this,A)}return y(this,A,R,N)}function y(A,R,N,P){if(typeof R=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&R instanceof ArrayBuffer?function(_,M,K,Q){if(M.byteLength,K<0||M.byteLength<K)throw new RangeError("'offset' is out of bounds");if(M.byteLength<K+(Q||0))throw new RangeError("'length' is out of bounds");return M=K===void 0&&Q===void 0?new Uint8Array(M):Q===void 0?new Uint8Array(M,K):new Uint8Array(M,K,Q),l.TYPED_ARRAY_SUPPORT?(_=M).__proto__=l.prototype:_=x(_,M),_}(A,R,N,P):typeof R=="string"?function(_,M,K){if(typeof K=="string"&&K!==""||(K="utf8"),!l.isEncoding(K))throw new TypeError('"encoding" must be a valid string encoding');var Q=0|D(M,K),J=(_=f(_,Q)).write(M,K);return J!==Q&&(_=_.slice(0,J)),_}(A,R,N):function(_,M){if(l.isBuffer(M)){var K=0|E(M.length);return(_=f(_,K)).length===0||M.copy(_,0,0,K),_}if(M){if(typeof ArrayBuffer!="undefined"&&M.buffer instanceof ArrayBuffer||"length"in M)return typeof M.length!="number"||(Q=M.length)!=Q?f(_,0):x(_,M);if(M.type==="Buffer"&&u(M.data))return x(_,M.data)}var Q;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(A,R)}function p(A){if(typeof A!="number")throw new TypeError('"size" argument must be a number');if(A<0)throw new RangeError('"size" argument must not be negative')}function k(A,R){if(p(R),A=f(A,R<0?0:0|E(R)),!l.TYPED_ARRAY_SUPPORT)for(var N=0;N<R;++N)A[N]=0;return A}function x(A,R){var N=R.length<0?0:0|E(R.length);A=f(A,N);for(var P=0;P<N;P+=1)A[P]=255&R[P];return A}function E(A){if(A>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|A}function D(A,R){if(l.isBuffer(A))return A.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(A)||A instanceof ArrayBuffer))return A.byteLength;typeof A!="string"&&(A=""+A);var N=A.length;if(N===0)return 0;for(var P=!1;;)switch(R){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":case void 0:return F(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*N;case"hex":return N>>>1;case"base64":return S(A).length;default:if(P)return F(A).length;R=(""+R).toLowerCase(),P=!0}}function q(A,R,N){var P=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0)<=(R>>>=0))return"";for(A||(A="utf8");;)switch(A){case"hex":return nt(this,R,N);case"utf8":case"utf-8":return I(this,R,N);case"ascii":return U(this,R,N);case"latin1":case"binary":return $(this,R,N);case"base64":return v(this,R,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,R,N);default:if(P)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),P=!0}}function z(A,R,N){var P=A[R];A[R]=A[N],A[N]=P}function O(A,R,N,P,_){if(A.length===0)return-1;if(typeof N=="string"?(P=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,isNaN(N)&&(N=_?0:A.length-1),N<0&&(N=A.length+N),N>=A.length){if(_)return-1;N=A.length-1}else if(N<0){if(!_)return-1;N=0}if(typeof R=="string"&&(R=l.from(R,P)),l.isBuffer(R))return R.length===0?-1:L(A,R,N,P,_);if(typeof R=="number")return R&=255,l.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?_?Uint8Array.prototype.indexOf.call(A,R,N):Uint8Array.prototype.lastIndexOf.call(A,R,N):L(A,[R],N,P,_);throw new TypeError("val must be string, number or Buffer")}function L(A,R,N,P,_){var M,K=1,Q=A.length,J=R.length;if(P!==void 0&&((P=String(P).toLowerCase())==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(A.length<2||R.length<2)return-1;K=2,Q/=2,J/=2,N/=2}function rt(tt,et){return K===1?tt[et]:tt.readUInt16BE(et*K)}if(_){var bt=-1;for(M=N;M<Q;M++)if(rt(A,M)===rt(R,bt===-1?0:M-bt)){if(bt===-1&&(bt=M),M-bt+1===J)return bt*K}else bt!==-1&&(M-=M-bt),bt=-1}else for(N+J>Q&&(N=Q-J),M=N;M>=0;M--){for(var _t=!0,Pt=0;Pt<J;Pt++)if(rt(A,M+Pt)!==rt(R,Pt)){_t=!1;break}if(_t)return M}return-1}function g(A,R,N,P){N=Number(N)||0;var _=A.length-N;P?(P=Number(P))>_&&(P=_):P=_;var M=R.length;if(M%2!=0)throw new TypeError("Invalid hex string");P>M/2&&(P=M/2);for(var K=0;K<P;++K){var Q=parseInt(R.substr(2*K,2),16);if(isNaN(Q))return K;A[N+K]=Q}return K}function T(A,R,N,P){return Y(F(R,A.length-N),A,N,P)}function h(A,R,N,P){return Y(function(_){for(var M=[],K=0;K<_.length;++K)M.push(255&_.charCodeAt(K));return M}(R),A,N,P)}function d(A,R,N,P){return h(A,R,N,P)}function w(A,R,N,P){return Y(S(R),A,N,P)}function m(A,R,N,P){return Y(function(_,M){for(var K,Q,J,rt=[],bt=0;bt<_.length&&!((M-=2)<0);++bt)K=_.charCodeAt(bt),Q=K>>8,J=K%256,rt.push(J),rt.push(Q);return rt}(R,A.length-N),A,N,P)}function v(A,R,N){return R===0&&N===A.length?a.fromByteArray(A):a.fromByteArray(A.slice(R,N))}function I(A,R,N){N=Math.min(A.length,N);for(var P=[],_=R;_<N;){var M,K,Q,J,rt=A[_],bt=null,_t=rt>239?4:rt>223?3:rt>191?2:1;if(_+_t<=N)switch(_t){case 1:rt<128&&(bt=rt);break;case 2:(192&(M=A[_+1]))==128&&(J=(31&rt)<<6|63&M)>127&&(bt=J);break;case 3:M=A[_+1],K=A[_+2],(192&M)==128&&(192&K)==128&&(J=(15&rt)<<12|(63&M)<<6|63&K)>2047&&(J<55296||J>57343)&&(bt=J);break;case 4:M=A[_+1],K=A[_+2],Q=A[_+3],(192&M)==128&&(192&K)==128&&(192&Q)==128&&(J=(15&rt)<<18|(63&M)<<12|(63&K)<<6|63&Q)>65535&&J<1114112&&(bt=J)}bt===null?(bt=65533,_t=1):bt>65535&&(bt-=65536,P.push(bt>>>10&1023|55296),bt=56320|1023&bt),P.push(bt),_+=_t}return function(Pt){var tt=Pt.length;if(tt<=4096)return String.fromCharCode.apply(String,Pt);for(var et="",ct=0;ct<tt;)et+=String.fromCharCode.apply(String,Pt.slice(ct,ct+=4096));return et}(P)}n.Buffer=l,n.SlowBuffer=function(A){return+A!=A&&(A=0),l.alloc(+A)},n.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=s.TYPED_ARRAY_SUPPORT!==void 0?s.TYPED_ARRAY_SUPPORT:function(){try{var A=new Uint8Array(1);return A.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},A.foo()===42&&typeof A.subarray=="function"&&A.subarray(1,1).byteLength===0}catch{return!1}}(),n.kMaxLength=c(),l.poolSize=8192,l._augment=function(A){return A.__proto__=l.prototype,A},l.from=function(A,R,N){return y(null,A,R,N)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(A,R,N){return function(P,_,M,K){return p(_),_<=0?f(P,_):M!==void 0?typeof K=="string"?f(P,_).fill(M,K):f(P,_).fill(M):f(P,_)}(null,A,R,N)},l.allocUnsafe=function(A){return k(null,A)},l.allocUnsafeSlow=function(A){return k(null,A)},l.isBuffer=function(A){return!(A==null||!A._isBuffer)},l.compare=function(A,R){if(!l.isBuffer(A)||!l.isBuffer(R))throw new TypeError("Arguments must be Buffers");if(A===R)return 0;for(var N=A.length,P=R.length,_=0,M=Math.min(N,P);_<M;++_)if(A[_]!==R[_]){N=A[_],P=R[_];break}return N<P?-1:P<N?1:0},l.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(A,R){if(!u(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return l.alloc(0);var N;if(R===void 0)for(R=0,N=0;N<A.length;++N)R+=A[N].length;var P=l.allocUnsafe(R),_=0;for(N=0;N<A.length;++N){var M=A[N];if(!l.isBuffer(M))throw new TypeError('"list" argument must be an Array of Buffers');M.copy(P,_),_+=M.length}return P},l.byteLength=D,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<A;R+=2)z(this,R,R+1);return this},l.prototype.swap32=function(){var A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<A;R+=4)z(this,R,R+3),z(this,R+1,R+2);return this},l.prototype.swap64=function(){var A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<A;R+=8)z(this,R,R+7),z(this,R+1,R+6),z(this,R+2,R+5),z(this,R+3,R+4);return this},l.prototype.toString=function(){var A=0|this.length;return A===0?"":arguments.length===0?I(this,0,A):q.apply(this,arguments)},l.prototype.equals=function(A){if(!l.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A||l.compare(this,A)===0},l.prototype.inspect=function(){var A="",R=n.INSPECT_MAX_BYTES;return this.length>0&&(A=this.toString("hex",0,R).match(/.{2}/g).join(" "),this.length>R&&(A+=" ... ")),"<Buffer "+A+">"},l.prototype.compare=function(A,R,N,P,_){if(!l.isBuffer(A))throw new TypeError("Argument must be a Buffer");if(R===void 0&&(R=0),N===void 0&&(N=A?A.length:0),P===void 0&&(P=0),_===void 0&&(_=this.length),R<0||N>A.length||P<0||_>this.length)throw new RangeError("out of range index");if(P>=_&&R>=N)return 0;if(P>=_)return-1;if(R>=N)return 1;if(this===A)return 0;for(var M=(_>>>=0)-(P>>>=0),K=(N>>>=0)-(R>>>=0),Q=Math.min(M,K),J=this.slice(P,_),rt=A.slice(R,N),bt=0;bt<Q;++bt)if(J[bt]!==rt[bt]){M=J[bt],K=rt[bt];break}return M<K?-1:K<M?1:0},l.prototype.includes=function(A,R,N){return this.indexOf(A,R,N)!==-1},l.prototype.indexOf=function(A,R,N){return O(this,A,R,N,!0)},l.prototype.lastIndexOf=function(A,R,N){return O(this,A,R,N,!1)},l.prototype.write=function(A,R,N,P){if(R===void 0)P="utf8",N=this.length,R=0;else if(N===void 0&&typeof R=="string")P=R,N=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R|=0,isFinite(N)?(N|=0,P===void 0&&(P="utf8")):(P=N,N=void 0)}var _=this.length-R;if((N===void 0||N>_)&&(N=_),A.length>0&&(N<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");for(var M=!1;;)switch(P){case"hex":return g(this,A,R,N);case"utf8":case"utf-8":return T(this,A,R,N);case"ascii":return h(this,A,R,N);case"latin1":case"binary":return d(this,A,R,N);case"base64":return w(this,A,R,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,A,R,N);default:if(M)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),M=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(A,R,N){var P="";N=Math.min(A.length,N);for(var _=R;_<N;++_)P+=String.fromCharCode(127&A[_]);return P}function $(A,R,N){var P="";N=Math.min(A.length,N);for(var _=R;_<N;++_)P+=String.fromCharCode(A[_]);return P}function nt(A,R,N){var P=A.length;(!R||R<0)&&(R=0),(!N||N<0||N>P)&&(N=P);for(var _="",M=R;M<N;++M)_+=ut(A[M]);return _}function b(A,R,N){for(var P=A.slice(R,N),_="",M=0;M<P.length;M+=2)_+=String.fromCharCode(P[M]+256*P[M+1]);return _}function C(A,R,N){if(A%1!=0||A<0)throw new RangeError("offset is not uint");if(A+R>N)throw new RangeError("Trying to access beyond buffer length")}function V(A,R,N,P,_,M){if(!l.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>_||R<M)throw new RangeError('"value" argument is out of bounds');if(N+P>A.length)throw new RangeError("Index out of range")}function Z(A,R,N,P){R<0&&(R=65535+R+1);for(var _=0,M=Math.min(A.length-N,2);_<M;++_)A[N+_]=(R&255<<8*(P?_:1-_))>>>8*(P?_:1-_)}function it(A,R,N,P){R<0&&(R=4294967295+R+1);for(var _=0,M=Math.min(A.length-N,4);_<M;++_)A[N+_]=R>>>8*(P?_:3-_)&255}function lt(A,R,N,P,_,M){if(N+P>A.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function dt(A,R,N,P,_){return _||lt(A,0,N,4),o.write(A,R,N,P,23,4),N+4}function pt(A,R,N,P,_){return _||lt(A,0,N,8),o.write(A,R,N,P,52,8),N+8}l.prototype.slice=function(A,R){var N,P=this.length;if((A=~~A)<0?(A+=P)<0&&(A=0):A>P&&(A=P),(R=R===void 0?P:~~R)<0?(R+=P)<0&&(R=0):R>P&&(R=P),R<A&&(R=A),l.TYPED_ARRAY_SUPPORT)(N=this.subarray(A,R)).__proto__=l.prototype;else{var _=R-A;N=new l(_,void 0);for(var M=0;M<_;++M)N[M]=this[M+A]}return N},l.prototype.readUIntLE=function(A,R,N){A|=0,R|=0,N||C(A,R,this.length);for(var P=this[A],_=1,M=0;++M<R&&(_*=256);)P+=this[A+M]*_;return P},l.prototype.readUIntBE=function(A,R,N){A|=0,R|=0,N||C(A,R,this.length);for(var P=this[A+--R],_=1;R>0&&(_*=256);)P+=this[A+--R]*_;return P},l.prototype.readUInt8=function(A,R){return R||C(A,1,this.length),this[A]},l.prototype.readUInt16LE=function(A,R){return R||C(A,2,this.length),this[A]|this[A+1]<<8},l.prototype.readUInt16BE=function(A,R){return R||C(A,2,this.length),this[A]<<8|this[A+1]},l.prototype.readUInt32LE=function(A,R){return R||C(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},l.prototype.readUInt32BE=function(A,R){return R||C(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},l.prototype.readIntLE=function(A,R,N){A|=0,R|=0,N||C(A,R,this.length);for(var P=this[A],_=1,M=0;++M<R&&(_*=256);)P+=this[A+M]*_;return P>=(_*=128)&&(P-=Math.pow(2,8*R)),P},l.prototype.readIntBE=function(A,R,N){A|=0,R|=0,N||C(A,R,this.length);for(var P=R,_=1,M=this[A+--P];P>0&&(_*=256);)M+=this[A+--P]*_;return M>=(_*=128)&&(M-=Math.pow(2,8*R)),M},l.prototype.readInt8=function(A,R){return R||C(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},l.prototype.readInt16LE=function(A,R){R||C(A,2,this.length);var N=this[A]|this[A+1]<<8;return 32768&N?4294901760|N:N},l.prototype.readInt16BE=function(A,R){R||C(A,2,this.length);var N=this[A+1]|this[A]<<8;return 32768&N?4294901760|N:N},l.prototype.readInt32LE=function(A,R){return R||C(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},l.prototype.readInt32BE=function(A,R){return R||C(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},l.prototype.readFloatLE=function(A,R){return R||C(A,4,this.length),o.read(this,A,!0,23,4)},l.prototype.readFloatBE=function(A,R){return R||C(A,4,this.length),o.read(this,A,!1,23,4)},l.prototype.readDoubleLE=function(A,R){return R||C(A,8,this.length),o.read(this,A,!0,52,8)},l.prototype.readDoubleBE=function(A,R){return R||C(A,8,this.length),o.read(this,A,!1,52,8)},l.prototype.writeUIntLE=function(A,R,N,P){A=+A,R|=0,N|=0,P||V(this,A,R,N,Math.pow(2,8*N)-1,0);var _=1,M=0;for(this[R]=255&A;++M<N&&(_*=256);)this[R+M]=A/_&255;return R+N},l.prototype.writeUIntBE=function(A,R,N,P){A=+A,R|=0,N|=0,P||V(this,A,R,N,Math.pow(2,8*N)-1,0);var _=N-1,M=1;for(this[R+_]=255&A;--_>=0&&(M*=256);)this[R+_]=A/M&255;return R+N},l.prototype.writeUInt8=function(A,R,N){return A=+A,R|=0,N||V(this,A,R,1,255,0),l.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),this[R]=255&A,R+1},l.prototype.writeUInt16LE=function(A,R,N){return A=+A,R|=0,N||V(this,A,R,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[R]=255&A,this[R+1]=A>>>8):Z(this,A,R,!0),R+2},l.prototype.writeUInt16BE=function(A,R,N){return A=+A,R|=0,N||V(this,A,R,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[R]=A>>>8,this[R+1]=255&A):Z(this,A,R,!1),R+2},l.prototype.writeUInt32LE=function(A,R,N){return A=+A,R|=0,N||V(this,A,R,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[R+3]=A>>>24,this[R+2]=A>>>16,this[R+1]=A>>>8,this[R]=255&A):it(this,A,R,!0),R+4},l.prototype.writeUInt32BE=function(A,R,N){return A=+A,R|=0,N||V(this,A,R,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[R]=A>>>24,this[R+1]=A>>>16,this[R+2]=A>>>8,this[R+3]=255&A):it(this,A,R,!1),R+4},l.prototype.writeIntLE=function(A,R,N,P){if(A=+A,R|=0,!P){var _=Math.pow(2,8*N-1);V(this,A,R,N,_-1,-_)}var M=0,K=1,Q=0;for(this[R]=255&A;++M<N&&(K*=256);)A<0&&Q===0&&this[R+M-1]!==0&&(Q=1),this[R+M]=(A/K>>0)-Q&255;return R+N},l.prototype.writeIntBE=function(A,R,N,P){if(A=+A,R|=0,!P){var _=Math.pow(2,8*N-1);V(this,A,R,N,_-1,-_)}var M=N-1,K=1,Q=0;for(this[R+M]=255&A;--M>=0&&(K*=256);)A<0&&Q===0&&this[R+M+1]!==0&&(Q=1),this[R+M]=(A/K>>0)-Q&255;return R+N},l.prototype.writeInt8=function(A,R,N){return A=+A,R|=0,N||V(this,A,R,1,127,-128),l.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),A<0&&(A=255+A+1),this[R]=255&A,R+1},l.prototype.writeInt16LE=function(A,R,N){return A=+A,R|=0,N||V(this,A,R,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[R]=255&A,this[R+1]=A>>>8):Z(this,A,R,!0),R+2},l.prototype.writeInt16BE=function(A,R,N){return A=+A,R|=0,N||V(this,A,R,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[R]=A>>>8,this[R+1]=255&A):Z(this,A,R,!1),R+2},l.prototype.writeInt32LE=function(A,R,N){return A=+A,R|=0,N||V(this,A,R,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[R]=255&A,this[R+1]=A>>>8,this[R+2]=A>>>16,this[R+3]=A>>>24):it(this,A,R,!0),R+4},l.prototype.writeInt32BE=function(A,R,N){return A=+A,R|=0,N||V(this,A,R,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),l.TYPED_ARRAY_SUPPORT?(this[R]=A>>>24,this[R+1]=A>>>16,this[R+2]=A>>>8,this[R+3]=255&A):it(this,A,R,!1),R+4},l.prototype.writeFloatLE=function(A,R,N){return dt(this,A,R,!0,N)},l.prototype.writeFloatBE=function(A,R,N){return dt(this,A,R,!1,N)},l.prototype.writeDoubleLE=function(A,R,N){return pt(this,A,R,!0,N)},l.prototype.writeDoubleBE=function(A,R,N){return pt(this,A,R,!1,N)},l.prototype.copy=function(A,R,N,P){if(N||(N=0),P||P===0||(P=this.length),R>=A.length&&(R=A.length),R||(R=0),P>0&&P<N&&(P=N),P===N||A.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(N<0||N>=this.length)throw new RangeError("sourceStart out of bounds");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),A.length-R<P-N&&(P=A.length-R+N);var _,M=P-N;if(this===A&&N<R&&R<P)for(_=M-1;_>=0;--_)A[_+R]=this[_+N];else if(M<1e3||!l.TYPED_ARRAY_SUPPORT)for(_=0;_<M;++_)A[_+R]=this[_+N];else Uint8Array.prototype.set.call(A,this.subarray(N,N+M),R);return M},l.prototype.fill=function(A,R,N,P){if(typeof A=="string"){if(typeof R=="string"?(P=R,R=0,N=this.length):typeof N=="string"&&(P=N,N=this.length),A.length===1){var _=A.charCodeAt(0);_<256&&(A=_)}if(P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!l.isEncoding(P))throw new TypeError("Unknown encoding: "+P)}else typeof A=="number"&&(A&=255);if(R<0||this.length<R||this.length<N)throw new RangeError("Out of range index");if(N<=R)return this;var M;if(R>>>=0,N=N===void 0?this.length:N>>>0,A||(A=0),typeof A=="number")for(M=R;M<N;++M)this[M]=A;else{var K=l.isBuffer(A)?A:F(new l(A,P).toString()),Q=K.length;for(M=0;M<N-R;++M)this[M+R]=K[M%Q]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function ut(A){return A<16?"0"+A.toString(16):A.toString(16)}function F(A,R){var N;R=R||1/0;for(var P=A.length,_=null,M=[],K=0;K<P;++K){if((N=A.charCodeAt(K))>55295&&N<57344){if(!_){if(N>56319){(R-=3)>-1&&M.push(239,191,189);continue}if(K+1===P){(R-=3)>-1&&M.push(239,191,189);continue}_=N;continue}if(N<56320){(R-=3)>-1&&M.push(239,191,189),_=N;continue}N=65536+(_-55296<<10|N-56320)}else _&&(R-=3)>-1&&M.push(239,191,189);if(_=null,N<128){if((R-=1)<0)break;M.push(N)}else if(N<2048){if((R-=2)<0)break;M.push(N>>6|192,63&N|128)}else if(N<65536){if((R-=3)<0)break;M.push(N>>12|224,N>>6&63|128,63&N|128)}else{if(!(N<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;M.push(N>>18|240,N>>12&63|128,N>>6&63|128,63&N|128)}}return M}function S(A){return a.toByteArray(function(R){if((R=function(N){return N.trim?N.trim():N.replace(/^\s+|\s+$/g,"")}(R).replace(G,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(A))}function Y(A,R,N,P){for(var _=0;_<P&&!(_+N>=R.length||_>=A.length);++_)R[_+N]=A[_];return _}}).call(this,i(5))},function(r,n,i){n.byteLength=function(p){var k=l(p),x=k[0],E=k[1];return 3*(x+E)/4-E},n.toByteArray=function(p){var k,x,E=l(p),D=E[0],q=E[1],z=new o(function(g,T,h){return 3*(T+h)/4-h}(0,D,q)),O=0,L=q>0?D-4:D;for(x=0;x<L;x+=4)k=a[p.charCodeAt(x)]<<18|a[p.charCodeAt(x+1)]<<12|a[p.charCodeAt(x+2)]<<6|a[p.charCodeAt(x+3)],z[O++]=k>>16&255,z[O++]=k>>8&255,z[O++]=255&k;return q===2&&(k=a[p.charCodeAt(x)]<<2|a[p.charCodeAt(x+1)]>>4,z[O++]=255&k),q===1&&(k=a[p.charCodeAt(x)]<<10|a[p.charCodeAt(x+1)]<<4|a[p.charCodeAt(x+2)]>>2,z[O++]=k>>8&255,z[O++]=255&k),z},n.fromByteArray=function(p){for(var k,x=p.length,E=x%3,D=[],q=0,z=x-E;q<z;q+=16383)D.push(y(p,q,q+16383>z?z:q+16383));return E===1?(k=p[x-1],D.push(s[k>>2]+s[k<<4&63]+"==")):E===2&&(k=(p[x-2]<<8)+p[x-1],D.push(s[k>>10]+s[k>>4&63]+s[k<<2&63]+"=")),D.join("")};for(var s=[],a=[],o=typeof Uint8Array!="undefined"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,f=u.length;c<f;++c)s[c]=u[c],a[u.charCodeAt(c)]=c;function l(p){var k=p.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=p.indexOf("=");return x===-1&&(x=k),[x,x===k?0:4-x%4]}function y(p,k,x){for(var E,D,q=[],z=k;z<x;z+=3)E=(p[z]<<16&16711680)+(p[z+1]<<8&65280)+(255&p[z+2]),q.push(s[(D=E)>>18&63]+s[D>>12&63]+s[D>>6&63]+s[63&D]);return q.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(r,n){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */n.read=function(i,s,a,o,u){var c,f,l=8*u-o-1,y=(1<<l)-1,p=y>>1,k=-7,x=a?u-1:0,E=a?-1:1,D=i[s+x];for(x+=E,c=D&(1<<-k)-1,D>>=-k,k+=l;k>0;c=256*c+i[s+x],x+=E,k-=8);for(f=c&(1<<-k)-1,c>>=-k,k+=o;k>0;f=256*f+i[s+x],x+=E,k-=8);if(c===0)c=1-p;else{if(c===y)return f?NaN:1/0*(D?-1:1);f+=Math.pow(2,o),c-=p}return(D?-1:1)*f*Math.pow(2,c-o)},n.write=function(i,s,a,o,u,c){var f,l,y,p=8*c-u-1,k=(1<<p)-1,x=k>>1,E=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,D=o?0:c-1,q=o?1:-1,z=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(l=isNaN(s)?1:0,f=k):(f=Math.floor(Math.log(s)/Math.LN2),s*(y=Math.pow(2,-f))<1&&(f--,y*=2),(s+=f+x>=1?E/y:E*Math.pow(2,1-x))*y>=2&&(f++,y/=2),f+x>=k?(l=0,f=k):f+x>=1?(l=(s*y-1)*Math.pow(2,u),f+=x):(l=s*Math.pow(2,x-1)*Math.pow(2,u),f=0));u>=8;i[a+D]=255&l,D+=q,l/=256,u-=8);for(f=f<<u|l,p+=u;p>0;i[a+D]=255&f,D+=q,f/=256,p-=8);i[a+D-q]|=128*z}},function(r,n){var i={}.toString;r.exports=Array.isArray||function(s){return i.call(s)=="[object Array]"}},function(r,n,i){var s,a,o;a=[],(o=typeof(s=function(){var u,c,f,l;Object.keys||(Object.keys=(u=Object.prototype.hasOwnProperty,c=!{toString:null}.propertyIsEnumerable("toString"),l=(f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(b){if(typeof b!="object"&&typeof b!="function"||b===null)throw new TypeError("Object.keys called on non-object");var C=[];for(var V in b)u.call(b,V)&&C.push(V);if(c)for(var Z=0;Z<l;Z++)u.call(b,f[Z])&&C.push(f[Z]);return C})),Object.create||(Object.create=function(){function b(){}return function(C){if(arguments.length!==1)throw new Error("Object.create implementation only accepts one parameter.");return b.prototype=C,new b}}()),Array.isArray||(Array.isArray=function(b){return Object.prototype.toString.call(b)==="[object Array]"}),Array.prototype.indexOf||(Array.prototype.indexOf=function(b){if(this===null)throw new TypeError;var C=Object(this),V=C.length>>>0;if(V===0)return-1;var Z=0;if(arguments.length>1&&((Z=Number(arguments[1]))!=Z?Z=0:Z!==0&&Z!==1/0&&Z!==-1/0&&(Z=(Z>0||-1)*Math.floor(Math.abs(Z)))),Z>=V)return-1;for(var it=Z>=0?Z:Math.max(V-Math.abs(Z),0);it<V;it++)if(it in C&&C[it]===b)return it;return-1}),Object.isFrozen||(Object.isFrozen=function(b){for(var C="tv4_test_frozen_key";b.hasOwnProperty(C);)C+=Math.random();try{return b[C]=!0,delete b[C],!1}catch{return!0}});var y={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},p={"*":!0};function k(b){return encodeURI(b).replace(/%25[0-9][0-9]/g,function(C){return"%"+C.substring(3)})}function x(b){var C="";y[b.charAt(0)]&&(C=b.charAt(0),b=b.substring(1));var V="",Z="",it=!0,lt=!1,dt=!1;C==="+"?it=!1:C==="."?(Z=".",V="."):C==="/"?(Z="/",V="/"):C==="#"?(Z="#",it=!1):C===";"?(Z=";",V=";",lt=!0,dt=!0):C==="?"?(Z="?",V="&",lt=!0):C==="&"&&(Z="&",V="&",lt=!0);for(var pt=[],G=b.split(","),ut=[],F={},S=0;S<G.length;S++){var Y=G[S],A=null;if(Y.indexOf(":")!==-1){var R=Y.split(":");Y=R[0],A=parseInt(R[1],10)}for(var N={};p[Y.charAt(Y.length-1)];)N[Y.charAt(Y.length-1)]=!0,Y=Y.substring(0,Y.length-1);var P={truncate:A,name:Y,suffices:N};ut.push(P),F[Y]=P,pt.push(Y)}var _=function(M){for(var K="",Q=0,J=0;J<ut.length;J++){var rt=ut[J],bt=M(rt.name);if(bt==null||Array.isArray(bt)&&bt.length===0||typeof bt=="object"&&Object.keys(bt).length===0)Q++;else if(K+=J===Q?Z:V||",",Array.isArray(bt)){lt&&(K+=rt.name+"=");for(var _t=0;_t<bt.length;_t++)_t>0&&(K+=rt.suffices["*"]&&V||",",rt.suffices["*"]&&lt&&(K+=rt.name+"=")),K+=it?encodeURIComponent(bt[_t]).replace(/!/g,"%21"):k(bt[_t])}else if(typeof bt=="object"){lt&&!rt.suffices["*"]&&(K+=rt.name+"=");var Pt=!0;for(var tt in bt)Pt||(K+=rt.suffices["*"]&&V||","),Pt=!1,K+=it?encodeURIComponent(tt).replace(/!/g,"%21"):k(tt),K+=rt.suffices["*"]?"=":",",K+=it?encodeURIComponent(bt[tt]).replace(/!/g,"%21"):k(bt[tt])}else lt&&(K+=rt.name,dt&&bt===""||(K+="=")),rt.truncate!=null&&(bt=bt.substring(0,rt.truncate)),K+=it?encodeURIComponent(bt).replace(/!/g,"%21"):k(bt)}return K};return _.varNames=pt,{prefix:Z,substitution:_}}function E(b){if(!(this instanceof E))return new E(b);for(var C=b.split("{"),V=[C.shift()],Z=[],it=[],lt=[];C.length>0;){var dt=C.shift(),pt=dt.split("}")[0],G=dt.substring(pt.length+1),ut=x(pt);it.push(ut.substitution),Z.push(ut.prefix),V.push(G),lt=lt.concat(ut.substitution.varNames)}this.fill=function(F){for(var S=V[0],Y=0;Y<it.length;Y++)S+=(0,it[Y])(F),S+=V[Y+1];return S},this.varNames=lt,this.template=b}E.prototype={toString:function(){return this.template},fillFromObject:function(b){return this.fill(function(C){return b[C]})}};var D=function(b,C,V,Z,it){if(this.missing=[],this.missingMap={},this.formatValidators=b?Object.create(b.formatValidators):{},this.schemas=b?Object.create(b.schemas):{},this.collectMultiple=C,this.errors=[],this.handleError=C?this.collectError:this.returnError,Z&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),it&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorReporter=V||d("en"),typeof this.errorReporter=="string")throw new Error("debug");if(this.definedKeywords={},b)for(var lt in b.definedKeywords)this.definedKeywords[lt]=b.definedKeywords[lt].slice(0)};function q(b,C){if(b===C)return!0;if(b&&C&&typeof b=="object"&&typeof C=="object"){if(Array.isArray(b)!==Array.isArray(C))return!1;if(Array.isArray(b)){if(b.length!==C.length)return!1;for(var V=0;V<b.length;V++)if(!q(b[V],C[V]))return!1}else{var Z;for(Z in b)if(C[Z]===void 0&&b[Z]!==void 0)return!1;for(Z in C)if(b[Z]===void 0&&C[Z]!==void 0)return!1;for(Z in b)if(!q(b[Z],C[Z]))return!1}return!0}return!1}D.prototype.defineKeyword=function(b,C){this.definedKeywords[b]=this.definedKeywords[b]||[],this.definedKeywords[b].push(C)},D.prototype.createError=function(b,C,V,Z,it,lt,dt){var pt=new U(b,C,V,Z,it);return pt.message=this.errorReporter(pt,lt,dt),pt},D.prototype.returnError=function(b){return b},D.prototype.collectError=function(b){return b&&this.errors.push(b),null},D.prototype.prefixErrors=function(b,C,V){for(var Z=b;Z<this.errors.length;Z++)this.errors[Z]=this.errors[Z].prefixWith(C,V);return this},D.prototype.banUnknownProperties=function(b,C){for(var V in this.unknownPropertyPaths){var Z=this.createError(w.UNKNOWN_PROPERTY,{path:V},V,"",null,b,C),it=this.handleError(Z);if(it)return it}return null},D.prototype.addFormat=function(b,C){if(typeof b=="object"){for(var V in b)this.addFormat(V,b[V]);return this}this.formatValidators[b]=C},D.prototype.resolveRefs=function(b,C){if(b.$ref!==void 0){if((C=C||{})[b.$ref])return this.createError(w.CIRCULAR_REFERENCE,{urls:Object.keys(C).join(", ")},"","",null,void 0,b);C[b.$ref]=!0,b=this.getSchema(b.$ref,C)}return b},D.prototype.getSchema=function(b,C){var V;if(this.schemas[b]!==void 0)return V=this.schemas[b],this.resolveRefs(V,C);var Z=b,it="";if(b.indexOf("#")!==-1&&(it=b.substring(b.indexOf("#")+1),Z=b.substring(0,b.indexOf("#"))),typeof this.schemas[Z]=="object"){V=this.schemas[Z];var lt=decodeURIComponent(it);if(lt==="")return this.resolveRefs(V,C);if(lt.charAt(0)!=="/")return;for(var dt=lt.split("/").slice(1),pt=0;pt<dt.length;pt++){var G=dt[pt].replace(/~1/g,"/").replace(/~0/g,"~");if(V[G]===void 0){V=void 0;break}V=V[G]}if(V!==void 0)return this.resolveRefs(V,C)}this.missing[Z]===void 0&&(this.missing.push(Z),this.missing[Z]=Z,this.missingMap[Z]=Z)},D.prototype.searchSchemas=function(b,C){if(Array.isArray(b))for(var V=0;V<b.length;V++)this.searchSchemas(b[V],C);else if(b&&typeof b=="object"){for(var Z in typeof b.id=="string"&&function(lt,dt){if(dt.substring(0,lt.length)===lt){var pt=dt.substring(lt.length);if(dt.length>0&&dt.charAt(lt.length-1)==="/"||pt.charAt(0)==="#"||pt.charAt(0)==="?")return!0}return!1}(C,b.id)&&this.schemas[b.id]===void 0&&(this.schemas[b.id]=b),b)if(Z!=="enum"){if(typeof b[Z]=="object")this.searchSchemas(b[Z],C);else if(Z==="$ref"){var it=T(b[Z]);it&&this.schemas[it]===void 0&&this.missingMap[it]===void 0&&(this.missingMap[it]=it)}}}},D.prototype.addSchema=function(b,C){if(typeof b!="string"||C===void 0){if(typeof b!="object"||typeof b.id!="string")return;b=(C=b).id}b===T(b)+"#"&&(b=T(b)),this.schemas[b]=C,delete this.missingMap[b],h(C,b),this.searchSchemas(C,b)},D.prototype.getSchemaMap=function(){var b={};for(var C in this.schemas)b[C]=this.schemas[C];return b},D.prototype.getSchemaUris=function(b){var C=[];for(var V in this.schemas)b&&!b.test(V)||C.push(V);return C},D.prototype.getMissingUris=function(b){var C=[];for(var V in this.missingMap)b&&!b.test(V)||C.push(V);return C},D.prototype.dropSchemas=function(){this.schemas={},this.reset()},D.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},D.prototype.validateAll=function(b,C,V,Z,it){var lt;if(!(C=this.resolveRefs(C)))return null;if(C instanceof U)return this.errors.push(C),C;var dt,pt=this.errors.length,G=null,ut=null;if(this.checkRecursive&&b&&typeof b=="object"){if(lt=!this.scanned.length,b[this.validatedSchemasKey]){var F=b[this.validatedSchemasKey].indexOf(C);if(F!==-1)return this.errors=this.errors.concat(b[this.validationErrorsKey][F]),null}if(Object.isFrozen(b)&&(dt=this.scannedFrozen.indexOf(b))!==-1){var S=this.scannedFrozenSchemas[dt].indexOf(C);if(S!==-1)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[dt][S]),null}if(this.scanned.push(b),Object.isFrozen(b))dt===-1&&(dt=this.scannedFrozen.length,this.scannedFrozen.push(b),this.scannedFrozenSchemas.push([])),G=this.scannedFrozenSchemas[dt].length,this.scannedFrozenSchemas[dt][G]=C,this.scannedFrozenValidationErrors[dt][G]=[];else{if(!b[this.validatedSchemasKey])try{Object.defineProperty(b,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(b,this.validationErrorsKey,{value:[],configurable:!0})}catch{b[this.validatedSchemasKey]=[],b[this.validationErrorsKey]=[]}ut=b[this.validatedSchemasKey].length,b[this.validatedSchemasKey][ut]=C,b[this.validationErrorsKey][ut]=[]}}var Y=this.errors.length,A=this.validateBasic(b,C,it)||this.validateNumeric(b,C,it)||this.validateString(b,C,it)||this.validateArray(b,C,it)||this.validateObject(b,C,it)||this.validateCombinations(b,C,it)||this.validateHypermedia(b,C,it)||this.validateFormat(b,C,it)||this.validateDefinedKeywords(b,C,it)||null;if(lt){for(;this.scanned.length;)delete this.scanned.pop()[this.validatedSchemasKey];this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(A||Y!==this.errors.length)for(;V&&V.length||Z&&Z.length;){var R=V&&V.length?""+V.pop():null,N=Z&&Z.length?""+Z.pop():null;A&&(A=A.prefixWith(R,N)),this.prefixErrors(Y,R,N)}return G!==null?this.scannedFrozenValidationErrors[dt][G]=this.errors.slice(pt):ut!==null&&(b[this.validationErrorsKey][ut]=this.errors.slice(pt)),this.handleError(A)},D.prototype.validateFormat=function(b,C){if(typeof C.format!="string"||!this.formatValidators[C.format])return null;var V=this.formatValidators[C.format].call(null,b,C);return typeof V=="string"||typeof V=="number"?this.createError(w.FORMAT_CUSTOM,{message:V},"","/format",null,b,C):V&&typeof V=="object"?this.createError(w.FORMAT_CUSTOM,{message:V.message||"?"},V.dataPath||"",V.schemaPath||"/format",null,b,C):null},D.prototype.validateDefinedKeywords=function(b,C,V){for(var Z in this.definedKeywords)if(C[Z]!==void 0)for(var it=this.definedKeywords[Z],lt=0;lt<it.length;lt++){var dt=(0,it[lt])(b,C[Z],C,V);if(typeof dt=="string"||typeof dt=="number")return this.createError(w.KEYWORD_CUSTOM,{key:Z,message:dt},"","",null,b,C).prefixWith(null,Z);if(dt&&typeof dt=="object"){var pt=dt.code;if(typeof pt=="string"){if(!w[pt])throw new Error("Undefined error code (use defineError): "+pt);pt=w[pt]}else typeof pt!="number"&&(pt=w.KEYWORD_CUSTOM);var G=typeof dt.message=="object"?dt.message:{key:Z,message:dt.message||"?"},ut=dt.schemaPath||"/"+Z.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(pt,G,dt.dataPath||null,ut,null,b,C)}}return null},D.prototype.validateBasic=function(b,C,V){var Z;return(Z=this.validateType(b,C,V))||(Z=this.validateEnum(b,C,V))?Z.prefixWith(null,"type"):null},D.prototype.validateType=function(b,C){if(C.type===void 0)return null;var V=typeof b;b===null?V="null":Array.isArray(b)&&(V="array");var Z=C.type;Array.isArray(Z)||(Z=[Z]);for(var it=0;it<Z.length;it++){var lt=Z[it];if(lt===V||lt==="integer"&&V==="number"&&b%1==0)return null}return this.createError(w.INVALID_TYPE,{type:V,expected:Z.join("/")},"","",null,b,C)},D.prototype.validateEnum=function(b,C){if(C.enum===void 0)return null;for(var V=0;V<C.enum.length;V++)if(q(b,C.enum[V]))return null;return this.createError(w.ENUM_MISMATCH,{value:typeof JSON!="undefined"?JSON.stringify(b):b},"","",null,b,C)},D.prototype.validateNumeric=function(b,C,V){return this.validateMultipleOf(b,C,V)||this.validateMinMax(b,C,V)||this.validateNaN(b,C,V)||null};var z=Math.pow(2,-51),O=1-z;function L(b){var C=String(b).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return C?{href:C[0]||"",protocol:C[1]||"",authority:C[2]||"",host:C[3]||"",hostname:C[4]||"",port:C[5]||"",pathname:C[6]||"",search:C[7]||"",hash:C[8]||""}:null}function g(b,C){return C=L(C||""),b=L(b||""),C&&b?(C.protocol||b.protocol)+(C.protocol||C.authority?C.authority:b.authority)+(V=C.protocol||C.authority||C.pathname.charAt(0)==="/"?C.pathname:C.pathname?(b.authority&&!b.pathname?"/":"")+b.pathname.slice(0,b.pathname.lastIndexOf("/")+1)+C.pathname:b.pathname,Z=[],V.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(it){it==="/.."?Z.pop():Z.push(it)}),Z.join("").replace(/^\//,V.charAt(0)==="/"?"/":""))+(C.protocol||C.authority||C.pathname?C.search:C.search||b.search)+C.hash:null;var V,Z}function T(b){return b.split("#")[0]}function h(b,C){if(b&&typeof b=="object")if(C===void 0?C=b.id:typeof b.id=="string"&&(C=g(C,b.id),b.id=C),Array.isArray(b))for(var V=0;V<b.length;V++)h(b[V],C);else for(var Z in typeof b.$ref=="string"&&(b.$ref=g(C,b.$ref)),b)Z!=="enum"&&h(b[Z],C)}function d(b){var C=$[b=b||"en"];return function(V){var Z=C[V.code]||I[V.code];if(typeof Z!="string")return"Unknown error code "+V.code+": "+JSON.stringify(V.messageParams);var it=V.params;return Z.replace(/\{([^{}]*)\}/g,function(lt,dt){var pt=it[dt];return typeof pt=="string"||typeof pt=="number"?pt:lt})}}D.prototype.validateMultipleOf=function(b,C){var V=C.multipleOf||C.divisibleBy;if(V===void 0)return null;if(typeof b=="number"){var Z=b/V%1;if(Z>=z&&Z<O)return this.createError(w.NUMBER_MULTIPLE_OF,{value:b,multipleOf:V},"","",null,b,C)}return null},D.prototype.validateMinMax=function(b,C){if(typeof b!="number")return null;if(C.minimum!==void 0){if(b<C.minimum)return this.createError(w.NUMBER_MINIMUM,{value:b,minimum:C.minimum},"","/minimum",null,b,C);if(C.exclusiveMinimum&&b===C.minimum)return this.createError(w.NUMBER_MINIMUM_EXCLUSIVE,{value:b,minimum:C.minimum},"","/exclusiveMinimum",null,b,C)}if(C.maximum!==void 0){if(b>C.maximum)return this.createError(w.NUMBER_MAXIMUM,{value:b,maximum:C.maximum},"","/maximum",null,b,C);if(C.exclusiveMaximum&&b===C.maximum)return this.createError(w.NUMBER_MAXIMUM_EXCLUSIVE,{value:b,maximum:C.maximum},"","/exclusiveMaximum",null,b,C)}return null},D.prototype.validateNaN=function(b,C){return typeof b!="number"?null:isNaN(b)===!0||b===1/0||b===-1/0?this.createError(w.NUMBER_NOT_A_NUMBER,{value:b},"","/type",null,b,C):null},D.prototype.validateString=function(b,C,V){return this.validateStringLength(b,C,V)||this.validateStringPattern(b,C,V)||null},D.prototype.validateStringLength=function(b,C){return typeof b!="string"?null:C.minLength!==void 0&&b.length<C.minLength?this.createError(w.STRING_LENGTH_SHORT,{length:b.length,minimum:C.minLength},"","/minLength",null,b,C):C.maxLength!==void 0&&b.length>C.maxLength?this.createError(w.STRING_LENGTH_LONG,{length:b.length,maximum:C.maxLength},"","/maxLength",null,b,C):null},D.prototype.validateStringPattern=function(b,C){if(typeof b!="string"||typeof C.pattern!="string"&&!(C.pattern instanceof RegExp))return null;var V;if(C.pattern instanceof RegExp)V=C.pattern;else{var Z,it="",lt=C.pattern.match(/^\/(.+)\/([img]*)$/);lt?(Z=lt[1],it=lt[2]):Z=C.pattern,V=new RegExp(Z,it)}return V.test(b)?null:this.createError(w.STRING_PATTERN,{pattern:C.pattern},"","/pattern",null,b,C)},D.prototype.validateArray=function(b,C,V){return Array.isArray(b)&&(this.validateArrayLength(b,C,V)||this.validateArrayUniqueItems(b,C,V)||this.validateArrayItems(b,C,V))||null},D.prototype.validateArrayLength=function(b,C){var V;return C.minItems!==void 0&&b.length<C.minItems&&(V=this.createError(w.ARRAY_LENGTH_SHORT,{length:b.length,minimum:C.minItems},"","/minItems",null,b,C),this.handleError(V))||C.maxItems!==void 0&&b.length>C.maxItems&&(V=this.createError(w.ARRAY_LENGTH_LONG,{length:b.length,maximum:C.maxItems},"","/maxItems",null,b,C),this.handleError(V))?V:null},D.prototype.validateArrayUniqueItems=function(b,C){if(C.uniqueItems){for(var V=0;V<b.length;V++)for(var Z=V+1;Z<b.length;Z++)if(q(b[V],b[Z])){var it=this.createError(w.ARRAY_UNIQUE,{match1:V,match2:Z},"","/uniqueItems",null,b,C);if(this.handleError(it))return it}}return null},D.prototype.validateArrayItems=function(b,C,V){if(C.items===void 0)return null;var Z,it;if(Array.isArray(C.items)){for(it=0;it<b.length;it++)if(it<C.items.length){if(Z=this.validateAll(b[it],C.items[it],[it],["items",it],V+"/"+it))return Z}else if(C.additionalItems!==void 0){if(typeof C.additionalItems=="boolean"){if(!C.additionalItems&&(Z=this.createError(w.ARRAY_ADDITIONAL_ITEMS,{},"/"+it,"/additionalItems",null,b,C),this.handleError(Z)))return Z}else if(Z=this.validateAll(b[it],C.additionalItems,[it],["additionalItems"],V+"/"+it))return Z}}else for(it=0;it<b.length;it++)if(Z=this.validateAll(b[it],C.items,[it],["items"],V+"/"+it))return Z;return null},D.prototype.validateObject=function(b,C,V){return typeof b!="object"||b===null||Array.isArray(b)?null:this.validateObjectMinMaxProperties(b,C,V)||this.validateObjectRequiredProperties(b,C,V)||this.validateObjectProperties(b,C,V)||this.validateObjectDependencies(b,C,V)||null},D.prototype.validateObjectMinMaxProperties=function(b,C){var V,Z=Object.keys(b);return C.minProperties!==void 0&&Z.length<C.minProperties&&(V=this.createError(w.OBJECT_PROPERTIES_MINIMUM,{propertyCount:Z.length,minimum:C.minProperties},"","/minProperties",null,b,C),this.handleError(V))||C.maxProperties!==void 0&&Z.length>C.maxProperties&&(V=this.createError(w.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:Z.length,maximum:C.maxProperties},"","/maxProperties",null,b,C),this.handleError(V))?V:null},D.prototype.validateObjectRequiredProperties=function(b,C){if(C.required!==void 0)for(var V=0;V<C.required.length;V++){var Z=C.required[V];if(b[Z]===void 0){var it=this.createError(w.OBJECT_REQUIRED,{key:Z},"","/required/"+V,null,b,C);if(this.handleError(it))return it}}return null},D.prototype.validateObjectProperties=function(b,C,V){var Z;for(var it in b){var lt=V+"/"+it.replace(/~/g,"~0").replace(/\//g,"~1"),dt=!1;if(C.properties!==void 0&&C.properties[it]!==void 0&&(dt=!0,Z=this.validateAll(b[it],C.properties[it],[it],["properties",it],lt)))return Z;if(C.patternProperties!==void 0){for(var pt in C.patternProperties)if(new RegExp(pt).test(it)&&(dt=!0,Z=this.validateAll(b[it],C.patternProperties[pt],[it],["patternProperties",pt],lt)))return Z}if(dt)this.trackUnknownProperties&&(this.knownPropertyPaths[lt]=!0,delete this.unknownPropertyPaths[lt]);else if(C.additionalProperties!==void 0){if(this.trackUnknownProperties&&(this.knownPropertyPaths[lt]=!0,delete this.unknownPropertyPaths[lt]),typeof C.additionalProperties=="boolean"){if(!C.additionalProperties&&(Z=this.createError(w.OBJECT_ADDITIONAL_PROPERTIES,{key:it},"","/additionalProperties",null,b,C).prefixWith(it,null),this.handleError(Z)))return Z}else if(Z=this.validateAll(b[it],C.additionalProperties,[it],["additionalProperties"],lt))return Z}else this.trackUnknownProperties&&!this.knownPropertyPaths[lt]&&(this.unknownPropertyPaths[lt]=!0)}return null},D.prototype.validateObjectDependencies=function(b,C,V){var Z;if(C.dependencies!==void 0){for(var it in C.dependencies)if(b[it]!==void 0){var lt=C.dependencies[it];if(typeof lt=="string"){if(b[lt]===void 0&&(Z=this.createError(w.OBJECT_DEPENDENCY_KEY,{key:it,missing:lt},"","",null,b,C).prefixWith(null,it).prefixWith(null,"dependencies"),this.handleError(Z)))return Z}else if(Array.isArray(lt))for(var dt=0;dt<lt.length;dt++){var pt=lt[dt];if(b[pt]===void 0&&(Z=this.createError(w.OBJECT_DEPENDENCY_KEY,{key:it,missing:pt},"","/"+dt,null,b,C).prefixWith(null,it).prefixWith(null,"dependencies"),this.handleError(Z)))return Z}else if(Z=this.validateAll(b,lt,[],["dependencies",it],V))return Z}}return null},D.prototype.validateCombinations=function(b,C,V){return this.validateAllOf(b,C,V)||this.validateAnyOf(b,C,V)||this.validateOneOf(b,C,V)||this.validateNot(b,C,V)||null},D.prototype.validateAllOf=function(b,C,V){if(C.allOf===void 0)return null;for(var Z,it=0;it<C.allOf.length;it++){var lt=C.allOf[it];if(Z=this.validateAll(b,lt,[],["allOf",it],V))return Z}return null},D.prototype.validateAnyOf=function(b,C,V){if(C.anyOf===void 0)return null;var Z,it,lt=[],dt=this.errors.length;this.trackUnknownProperties&&(Z=this.unknownPropertyPaths,it=this.knownPropertyPaths);for(var pt=!0,G=0;G<C.anyOf.length;G++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var ut=C.anyOf[G],F=this.errors.length,S=this.validateAll(b,ut,[],["anyOf",G],V);if(S===null&&F===this.errors.length){if(this.errors=this.errors.slice(0,dt),this.trackUnknownProperties){for(var Y in this.knownPropertyPaths)it[Y]=!0,delete Z[Y];for(var A in this.unknownPropertyPaths)it[A]||(Z[A]=!0);pt=!1;continue}return null}S&&lt.push(S.prefixWith(null,""+G).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=Z,this.knownPropertyPaths=it),pt?(lt=lt.concat(this.errors.slice(dt)),this.errors=this.errors.slice(0,dt),this.createError(w.ANY_OF_MISSING,{},"","/anyOf",lt,b,C)):void 0},D.prototype.validateOneOf=function(b,C,V){if(C.oneOf===void 0)return null;var Z,it,lt=null,dt=[],pt=this.errors.length;this.trackUnknownProperties&&(Z=this.unknownPropertyPaths,it=this.knownPropertyPaths);for(var G=0;G<C.oneOf.length;G++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var ut=C.oneOf[G],F=this.errors.length,S=this.validateAll(b,ut,[],["oneOf",G],V);if(S===null&&F===this.errors.length){if(lt!==null)return this.errors=this.errors.slice(0,pt),this.createError(w.ONE_OF_MULTIPLE,{index1:lt,index2:G},"","/oneOf",null,b,C);if(lt=G,this.trackUnknownProperties){for(var Y in this.knownPropertyPaths)it[Y]=!0,delete Z[Y];for(var A in this.unknownPropertyPaths)it[A]||(Z[A]=!0)}}else S&&dt.push(S)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=Z,this.knownPropertyPaths=it),lt===null?(dt=dt.concat(this.errors.slice(pt)),this.errors=this.errors.slice(0,pt),this.createError(w.ONE_OF_MISSING,{},"","/oneOf",dt,b,C)):(this.errors=this.errors.slice(0,pt),null)},D.prototype.validateNot=function(b,C,V){if(C.not===void 0)return null;var Z,it,lt=this.errors.length;this.trackUnknownProperties&&(Z=this.unknownPropertyPaths,it=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var dt=this.validateAll(b,C.not,null,null,V),pt=this.errors.slice(lt);return this.errors=this.errors.slice(0,lt),this.trackUnknownProperties&&(this.unknownPropertyPaths=Z,this.knownPropertyPaths=it),dt===null&&pt.length===0?this.createError(w.NOT_PASSED,{},"","/not",null,b,C):null},D.prototype.validateHypermedia=function(b,C,V){if(!C.links)return null;for(var Z,it=0;it<C.links.length;it++){var lt=C.links[it];if(lt.rel==="describedby"){for(var dt=new E(lt.href),pt=!0,G=0;G<dt.varNames.length;G++)if(!(dt.varNames[G]in b)){pt=!1;break}if(pt){var ut={$ref:dt.fillFromObject(b)};if(Z=this.validateAll(b,ut,[],["links",it],V))return Z}}}};var w={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},m={};for(var v in w)m[w[v]]=v;var I={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};function U(b,C,V,Z,it){if(Error.call(this),b===void 0)throw new Error("No error code supplied: "+Z);this.message="",this.params=C,this.code=b,this.dataPath=V||"",this.schemaPath=Z||"",this.subErrors=it||null;var lt=new Error(this.message);if(this.stack=lt.stack||lt.stacktrace,!this.stack)try{throw lt}catch(dt){this.stack=dt.stack||dt.stacktrace}}U.prototype=Object.create(Error.prototype),U.prototype.constructor=U,U.prototype.name="ValidationError",U.prototype.prefixWith=function(b,C){if(b!==null&&(b=b.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+b+this.dataPath),C!==null&&(C=C.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+C+this.schemaPath),this.subErrors!==null)for(var V=0;V<this.subErrors.length;V++)this.subErrors[V].prefixWith(b,C);return this};var $={},nt=function b(C){var V,Z,it=new D,lt={setErrorReporter:function(dt){return typeof dt=="string"?this.language(dt):(Z=dt,!0)},addFormat:function(){it.addFormat.apply(it,arguments)},language:function(dt){return dt?($[dt]||(dt=dt.split("-")[0]),!!$[dt]&&(V=dt,dt)):V},addLanguage:function(dt,pt){var G;for(G in w)pt[G]&&!pt[w[G]]&&(pt[w[G]]=pt[G]);var ut=dt.split("-")[0];if($[ut])for(G in $[dt]=Object.create($[ut]),pt)$[ut][G]===void 0&&($[ut][G]=pt[G]),$[dt][G]=pt[G];else $[dt]=pt,$[ut]=pt;return this},freshApi:function(dt){var pt=b();return dt&&pt.language(dt),pt},validate:function(dt,pt,G,ut){var F=d(V),S=new D(it,!1,Z?function(A,R,N){return Z(A,R,N)||F(A,R,N)}:F,G,ut);typeof pt=="string"&&(pt={$ref:pt}),S.addSchema("",pt);var Y=S.validateAll(dt,pt,null,null,"");return!Y&&ut&&(Y=S.banUnknownProperties(dt,pt)),this.error=Y,this.missing=S.missing,this.valid=Y===null,this.valid},validateResult:function(){var dt={toString:function(){return this.valid?"valid":this.error.message}};return this.validate.apply(dt,arguments),dt},validateMultiple:function(dt,pt,G,ut){var F=d(V),S=new D(it,!0,Z?function(A,R,N){return Z(A,R,N)||F(A,R,N)}:F,G,ut);typeof pt=="string"&&(pt={$ref:pt}),S.addSchema("",pt),S.validateAll(dt,pt,null,null,""),ut&&S.banUnknownProperties(dt,pt);var Y={toString:function(){return this.valid?"valid":this.error.message}};return Y.errors=S.errors,Y.missing=S.missing,Y.valid=Y.errors.length===0,Y},addSchema:function(){return it.addSchema.apply(it,arguments)},getSchema:function(){return it.getSchema.apply(it,arguments)},getSchemaMap:function(){return it.getSchemaMap.apply(it,arguments)},getSchemaUris:function(){return it.getSchemaUris.apply(it,arguments)},getMissingUris:function(){return it.getMissingUris.apply(it,arguments)},dropSchemas:function(){it.dropSchemas.apply(it,arguments)},defineKeyword:function(){it.defineKeyword.apply(it,arguments)},defineError:function(dt,pt,G){if(typeof dt!="string"||!/^[A-Z]+(_[A-Z]+)*$/.test(dt))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if(typeof pt!="number"||pt%1!=0||pt<1e4)throw new Error("Code number must be an integer > 10000");if(w[dt]!==void 0)throw new Error("Error already defined: "+dt+" as "+w[dt]);if(m[pt]!==void 0)throw new Error("Error code already used: "+m[pt]+" as "+pt);for(var ut in w[dt]=pt,m[pt]=dt,I[dt]=I[pt]=G,$){var F=$[ut];F[dt]&&(F[pt]=F[pt]||F[dt])}},reset:function(){it.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:h,resolveUrl:g,getDocumentUri:T,errorCodes:w};return lt.language(C||"en"),lt}();return nt.addLanguage("en-gb",I),nt.tv4=nt,nt})=="function"?s.apply(n,a):s)===void 0||(r.exports=o)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BaseClientTypes=void 0;class s{constructor(){this.uris={},this.schemas={},this.aliases={}}declare(u,c,f,l){const y=u+"/"+c;if(l.extends){const p=l.extends.split("/"),k=p.length===1?u+"/"+p.shift():p.join("/"),x=this.uris[k];if(!x)throw"Type '"+y+"' tries to extend unknown schema '"+k+"'";l.extends=this.schemas[x]}this.uris[y]=f,this.aliases[f]=y,this.schemas[f]=l}resolveAlias(u){return this.uris[u]}getSchema(u){return this.schemas[u]}inScope(u){const c=u.length,f={};for(const l in this.uris)if(l.substr(0,c+1)===u+"/"){const y=this.uris[l];f[y]=this.schemas[y]}return f}}n.BaseClientTypes=s;const a=new s;n.default=a},function(r,n,i){class s extends Error{constructor(o){super();const u=new Error("Schema not found: "+o);return u.name="SchemaNotFound",u}}r.exports=s},function(r,n,i){r.exports=class{constructor(s){this._itemsRev={},this._storage={},this._canPropagate=!1,this.defaultValue=s,this.activatePropagation()}get(s){s=s.toLowerCase();let a=this._storage[s];return a===void 0&&(a=this.defaultValue,this._storage[s]=a),a}set(s,a){return s=s.toLowerCase(),this._storage[s]===a||(this._storage[s]=a,a||delete this._itemsRev[s],this._updateParentFolderItemRev(s,a),this._canPropagate&&this._propagate(s)),a}delete(s){return this.set(s,null)}deactivatePropagation(){return this._canPropagate=!1,!0}activatePropagation(){return this._canPropagate||(this._generateFolderRev("/"),this._canPropagate=!0),!0}_hashCode(s){let a=0;if(s.length===0)return a;for(let o=0;o<s.length;o++)a=(a<<5)-a+s.charCodeAt(o),a|=0;return a}_generateHash(s){const a=s.sort().join("|");return""+this._hashCode(a)}_updateParentFolderItemRev(s,a){if(s!=="/"){const o=this._getParentFolder(s);this._itemsRev[o]||(this._itemsRev[o]={});const u=this._itemsRev[o];a?u[s]=a:delete u[s],this._updateParentFolderItemRev(o,this.defaultValue)}}_getParentFolder(s){return s.substr(0,s.lastIndexOf("/",s.length-2)+1)}_propagate(s){if(s!=="/"){const a=this._getParentFolder(s),o=this._itemsRev[a],u=[];for(const f in o)u.push(o[f]);const c=this._generateHash(u);this.set(a,c)}}_generateFolderRev(s){const a=this._itemsRev[s];let o=this.defaultValue;if(a){const u=[];for(const c in a){let f;f=c.substr(-1)==="/"?this._generateFolderRev(c):a[c],u.push(f)}u.length>0&&(o=this._generateHash(u))}return this.set(s,o),o}}},function(r,n,i){var s;/*!
 * webfinger.js
 *   version 2.7.0
 *   http://github.com/silverbucket/webfinger.js
 *
 * Developed and Maintained by:
 *   Nick Jennings <nick@silverbucket.net> 2012
 *
 * webfinger.js is released under the AGPL (see LICENSE).
 *
 * You don't have to do anything special to choose one license or the other and you don't
 * have to notify anyone which license you are using.
 * Please see the corresponding license file for details of these licenses.
 * You are free to use, modify and distribute this software, but all copyright
 * information must remain.
 *
 */typeof fetch!="function"&&typeof XMLHttpRequest!="function"&&(XMLHttpRequest=i(28)),function(a){var o={"http://webfist.org/spec/rel":"webfist","http://webfinger.net/rel/avatar":"avatar",remotestorage:"remotestorage","http://tools.ietf.org/id/draft-dejong-remotestorage":"remotestorage",remoteStorage:"remotestorage","http://www.packetizer.com/rel/share":"share","http://webfinger.net/rel/profile-page":"profile",me:"profile",vcard:"vcard",blog:"blog","http://packetizer.com/rel/blog":"blog","http://schemas.google.com/g/2010#updates-from":"updates","https://camlistore.org/rel/server":"camilstore"},u={avatar:[],remotestorage:[],blog:[],vcard:[],updates:[],share:[],profile:[],webfist:[],camlistore:[]},c=["webfinger","host-meta","host-meta.json"];function f(y){return y.toString=function(){return this.message},y}function l(y){typeof y!="object"&&(y={}),this.config={tls_only:y.tls_only===void 0||y.tls_only,webfist_fallback:y.webfist_fallback!==void 0&&y.webfist_fallback,uri_fallback:y.uri_fallback!==void 0&&y.uri_fallback,request_timeout:y.request_timeout!==void 0?y.request_timeout:1e4}}l.prototype.__fetchJRD=function(y,p,k){if(typeof fetch=="function")return this.__fetchJRD_fetch(y,p,k);if(typeof XMLHttpRequest=="function")return this.__fetchJRD_XHR(y,p,k);throw new Error("add a polyfill for fetch or XMLHttpRequest")},l.prototype.__fetchJRD_fetch=function(y,p,k){var x,E=this;typeof AbortController=="function"&&(x=new AbortController);var D=fetch(y,{headers:{Accept:"application/jrd+json, application/json"},signal:x?x.signal:void 0}).then(function(z){if(z.ok)return z.text();throw z.status===404?f({message:"resource not found",url:y,status:z.status}):f({message:"error during request",url:y,status:z.status})},function(z){throw f({message:"error during request",url:y,status:void 0,err:z})}).then(function(z){if(E.__isValidJSON(z))return z;throw f({message:"invalid json",url:y,status:void 0})}),q=new Promise(function(z,O){setTimeout(function(){O(f({message:"request timed out",url:y,status:void 0})),x&&x.abort()},E.config.request_timeout)});Promise.race([D,q]).then(function(z){k(z)}).catch(function(z){p(z)})},l.prototype.__fetchJRD_XHR=function(y,p,k){var x=this,E=!1,D=new XMLHttpRequest;function q(){if(!E){if(E=!0,D.status===200)return x.__isValidJSON(D.responseText)?k(D.responseText):p(f({message:"invalid json",url:y,status:D.status}));if(D.status===404)return p(f({message:"resource not found",url:y,status:D.status}));if(D.status>=301&&D.status<=302){var O=D.getResponseHeader("Location");return function(L){return typeof L=="string"&&L.split("://")[0]==="https"}(O)?z():p(f({message:"no redirect URL found",url:y,status:D.status}))}return p(f({message:"error during request",url:y,status:D.status}))}}function z(){D.onreadystatechange=function(){D.readyState===4&&q()},D.onload=function(){q()},D.ontimeout=function(){return p(f({message:"request timed out",url:y,status:D.status}))},D.open("GET",y,!0),D.timeout=x.config.request_timeout,D.setRequestHeader("Accept","application/jrd+json, application/json"),D.send()}return z()},l.prototype.__isValidJSON=function(y){try{JSON.parse(y)}catch{return!1}return!0},l.prototype.__isLocalhost=function(y){return/^localhost(\.localdomain)?(\:[0-9]+)?$/.test(y)},l.prototype.__processJRD=function(y,p,k,x){var E=JSON.parse(p);if(typeof E!="object"||typeof E.links!="object")return E.error!==void 0?k(f({message:E.error,request:y})):k(f({message:"unknown response from server",request:y}));var D=E.links;Array.isArray(D)||(D=[]);var q={object:E,json:p,idx:{}};q.idx.properties={name:void 0},q.idx.links=JSON.parse(JSON.stringify(u)),D.map(function(L,g){if(o.hasOwnProperty(L.rel)&&q.idx.links[o[L.rel]]){var T={};Object.keys(L).map(function(h,d){T[h]=L[h]}),q.idx.links[o[L.rel]].push(T)}});var z=JSON.parse(p).properties;for(var O in z)z.hasOwnProperty(O)&&O==="http://packetizer.com/ns/name"&&(q.idx.properties.name=z[O]);return x(q)},l.prototype.lookup=function(y,p){if(typeof y!="string")throw new Error("first parameter must be a user address");if(typeof p!="function")throw new Error("second parameter must be a callback");var k=this,x="";x=y.indexOf("://")>-1?y.replace(/ /g,"").split("/")[2]:y.replace(/ /g,"").split("@")[1];var E=0,D="https";function q(){var L="";return y.split("://")[1]||(L="acct:"),D+"://"+x+"/.well-known/"+c[E]+"?resource="+L+y}function z(L){if(k.config.uri_fallback&&x!=="webfist.org"&&E!==c.length-1)return E+=1,O();if(!k.config.tls_only&&D==="https")return E=0,D="http",O();if(!k.config.webfist_fallback||x==="webfist.org")return p(L);E=0,D="http",x="webfist.org";var g=q();k.__fetchJRD(g,p,function(T){k.__processJRD(g,T,p,function(h){typeof h.idx.links.webfist=="object"&&typeof h.idx.links.webfist[0].href=="string"&&k.__fetchJRD(h.idx.links.webfist[0].href,p,function(d){k.__processJRD(g,d,p,function(w){return p(null,p)})})})})}function O(){var L=q();k.__fetchJRD(L,z,function(g){k.__processJRD(L,g,p,function(T){p(null,T)})})}return k.__isLocalhost(x)&&(D="http"),setTimeout(O,0)},l.prototype.lookupLink=function(y,p,k){if(!u.hasOwnProperty(p))return k("unsupported rel "+p);this.lookup(y,function(x,E){var D=E.idx.links[p];return x?k(x):D.length===0?k('no links found with rel="'+p+'"'):k(null,D[0])})},(s=function(){return l}.apply(n,[]))===void 0||(r.exports=s)}()},function(r,n){r.exports=XMLHttpRequest},function(r,n,i){var s=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};const a=s(i(3)),o=s(i(16)),u=s(i(1)),c=i(0),f=s(i(30)),l=s(i(11)),y=s(i(6)),p=s(i(15)),k=s(i(7)),x=s(i(13)),E=s(i(14)),D=s(i(8)),q=s(i(31)),z=s(i(12)),O=s(i(32)),L=s(i(33)),g=s(i(34)),T={features:[],featuresDone:0,readyFired:!1,loadFeatures(){this.features=[],this.featuresDone=0,this.readyFired=!1,this.featureModules={WireClient:D.default,Dropbox:E.default,GoogleDrive:x.default,Access:l.default,Discover:p.default,Authorize:y.default,BaseClient:k.default,Env:o.default},a.default.cache&&c.extend(this.featureModules,{Caching:z.default,IndexedDB:O.default,LocalStorage:L.default,InMemoryStorage:g.default,Sync:q.default}),a.default.disableFeatures.forEach(h=>{this.featureModules[h]&&delete this.featureModules[h]}),this._allLoaded=!1;for(const h in this.featureModules)this.loadFeature(h)},hasFeature(h){for(let d=this.features.length-1;d>=0;d--)if(this.features[d].name===h)return this.features[d].supported;return!1},loadFeature(h){const d=this.featureModules[h],w=!d._rs_supported||d._rs_supported();u.default(`[RemoteStorage] [FEATURE ${h}] initializing ...`),typeof w=="object"?w.then(()=>{this.featureSupported(h,!0),this.initFeature(h)},()=>{this.featureSupported(h,!1)}):typeof w=="boolean"?(this.featureSupported(h,w),w&&this.initFeature(h)):this.featureSupported(h,!1)},initFeature(h){const d=this.featureModules[h];let w;try{w=d._rs_init(this)}catch(m){return void this.featureFailed(h,m)}typeof w=="object"&&typeof w.then=="function"?w.then(()=>{this.featureInitialized(h)},m=>{this.featureFailed(h,m)}):this.featureInitialized(h)},featureFailed(h,d){u.default(`[RemoteStorage] [FEATURE ${h}] initialization failed (${d})`),this.featureDone()},featureSupported(h,d){u.default(`[RemoteStorage] [FEATURE ${h}]${d?"":"not "} supported`),d||this.featureDone()},featureInitialized(h){u.default(`[RemoteStorage] [FEATURE ${h}] initialized`),this.features.push({name:h,init:this.featureModules[h]._rs_init,supported:!0,cleanup:this.featureModules[h]._rs_cleanup}),this.featureDone()},featureDone(){this.featuresDone++,this.featuresDone===Object.keys(this.featureModules).length&&setTimeout(this.featuresLoaded.bind(this),0)},_setCachingModule(){["IndexedDB","LocalStorage","InMemoryStorage"].some(h=>{if(this.features.some(d=>d.name===h))return this.features.local=this.featureModules[h],!0})},_fireReady(){try{this.readyFired||(this._emit("ready"),this.readyFired=!0)}catch(h){console.error("'ready' failed: ",h,h.stack),this._emit("error",h)}},featuresLoaded(){u.default("[RemoteStorage] All features loaded"),this._setCachingModule(),this.local=a.default.cache&&this.features.local&&new this.features.local,this.local&&this.remote?(this._setGPD(f.default,this),this._bindChange(this.local)):this.remote&&this._setGPD(this.remote,this.remote),this.remote&&(this.remote.on("connected",()=>{this._fireReady(),this._emit("connected")}),this.remote.on("not-connected",()=>{this._fireReady(),this._emit("not-connected")}),this.remote.connected&&(this._fireReady(),this._emit("connected")),this.hasFeature("Authorize")||this.remote.stopWaitingForToken()),this._collectCleanupFunctions();try{this._allLoaded=!0,this._emit("features-loaded")}catch(h){c.logError(h),this._emit("error",h)}this._processPending()},_collectCleanupFunctions(){this._cleanups=[];for(let h=0;h<this.features.length;h++){const d=this.features[h].cleanup;typeof d=="function"&&this._cleanups.push(d)}}};r.exports=T},function(r,n,i){var s=this&&this.__awaiter||function(c,f,l,y){return new(l||(l=Promise))(function(p,k){function x(q){try{D(y.next(q))}catch(z){k(z)}}function E(q){try{D(y.throw(q))}catch(z){k(z)}}function D(q){var z;q.done?p(q.value):(z=q.value,z instanceof l?z:new l(function(O){O(z)})).then(x,E)}D((y=y.apply(c,f||[])).next())})};const a=(this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}})(i(1));function o(c){return this.backend==="dropbox"&&!!c.match(/^\/public\/.*[^\/]$/)}const u={get:function(c,f){if(this.local){if(f===void 0)f=typeof(l=this).remote=="object"&&l.remote.connected&&l.remote.online?2*l.getSyncInterval():(a.default("Not setting default maxAge, because remote is offline or not connected"),!1);else if(typeof f!="number"&&f!==!1)return Promise.reject("Argument 'maxAge' must be 'false' or a number");return this.local.get(c,f,this.sync.queueGetRequest.bind(this.sync))}return this.remote.get(c);var l},put:function(c,f,l){return o.bind(this)(c)?u._wrapBusyDone.call(this,this.remote.put(c,f,l)):this.local?this.local.put(c,f,l):u._wrapBusyDone.call(this,this.remote.put(c,f,l))},delete:function(c){return this.local?this.local.delete(c):u._wrapBusyDone.call(this,this.remote.delete(c))},_wrapBusyDone:function(c){return s(this,void 0,void 0,function*(){return this._emit("wire-busy"),c.then(f=>(this._emit("wire-done",{success:!0}),Promise.resolve(f)),f=>(this._emit("wire-done",{success:!1}),Promise.reject(f)))})}};r.exports=u},function(r,n,i){var s=this&&this.__awaiter||function(L,g,T,h){return new(T||(T=Promise))(function(d,w){function m(U){try{I(h.next(U))}catch($){w($)}}function v(U){try{I(h.throw(U))}catch($){w($)}}function I(U){var $;U.done?d(U.value):($=U.value,$ instanceof T?$:new T(function(nt){nt($)})).then(m,v)}I((h=h.apply(L,g||[])).next())})},a=this&&this.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};const o=a(i(3)),u=a(i(16)),c=a(i(2)),f=a(i(1)),l=a(i(6)),y=a(i(9)),p=a(i(4)),k=i(0);let x,E;function D(L,g,T){return{action:L,path:g,promise:T}}function q(L,g){return L.common.revision!==g&&(!L.remote||L.remote.revision!==g)}function z(L){return L.common&&L.common.revision}class O{constructor(g){this.rs=g,this._tasks={},this._running={},this._timeStarted={},this.numThreads=10,this.rs.local.onDiff(T=>{this.addTask(T),this.doTasks()}),this.rs.caching.onActivate(T=>{this.addTask(T),this.doTasks()}),this.addEvents(["done","req-done"])}now(){return new Date().getTime()}queueGetRequest(g){return new Promise((T,h)=>{this.rs.remote.connected?this.rs.remote.online?(this.addTask(g,function(){this.rs.local.get(g).then(d=>T(d))}.bind(this)),this.doTasks()):h("cannot fulfill maxAge requirement - remote is not online"):h("cannot fulfill maxAge requirement - remote is not connected")})}corruptServerItemsMap(g,T){if(typeof g!="object"||Array.isArray(g))return!0;for(const h in g){const d=g[h];if(typeof d!="object"||typeof d.ETag!="string")return!0;if(k.isFolder(h)){if(h.substring(0,h.length-1).indexOf("/")!==-1)return!0}else if(h.indexOf("/")!==-1||T&&(typeof d["Content-Type"]!="string"||typeof d["Content-Length"]!="number"))return!0}return!1}corruptItemsMap(g){if(typeof g!="object"||Array.isArray(g))return!0;for(const T in g)if(typeof g[T]!="boolean")return!0;return!1}corruptRevision(g){return typeof g!="object"||Array.isArray(g)||g.revision&&typeof g.revision!="string"||g.body&&typeof g.body!="string"&&typeof g.body!="object"||g.contentType&&typeof g.contentType!="string"||g.contentLength&&typeof g.contentLength!="number"||g.timestamp&&typeof g.timestamp!="number"||g.itemsMap&&this.corruptItemsMap(g.itemsMap)}isCorrupt(g){return typeof g!="object"||Array.isArray(g)||typeof g.path!="string"||this.corruptRevision(g.common)||g.local&&this.corruptRevision(g.local)||g.remote&&this.corruptRevision(g.remote)||g.push&&this.corruptRevision(g.push)}hasTasks(){return Object.getOwnPropertyNames(this._tasks).length>0}collectDiffTasks(){return s(this,void 0,void 0,function*(){let g=0;return this.rs.local.forAllNodes(T=>{g>100||(this.isCorrupt(T)?(f.default("[Sync] WARNING: corrupt node in local cache",T),typeof T=="object"&&T.path&&(this.addTask(T.path),g++)):(this.needsFetch(T)&&this.rs.access.checkPathPermission(T.path,"r")||k.isDocument(T.path)&&this.needsPush(T)&&this.rs.access.checkPathPermission(T.path,"rw"))&&(this.addTask(T.path),g++))}).then(()=>g).catch(T=>{throw T})})}inConflict(g){return g.local&&g.remote&&(g.remote.body!==void 0||g.remote.itemsMap)}needsRefresh(g){return!!g.common&&(!g.common.timestamp||this.now()-g.common.timestamp>o.default.syncInterval)}needsFetch(g){return!!this.inConflict(g)||!(!g.common||g.common.itemsMap!==void 0||g.common.body!==void 0)||!(!g.remote||g.remote.itemsMap!==void 0||g.remote.body!==void 0)}needsPush(g){return!this.inConflict(g)&&(!(!g.local||g.push)||void 0)}needsRemotePut(g){return g.local&&g.local.body}needsRemoteDelete(g){return g.local&&g.local.body===!1}getParentPath(g){const T=g.match(/^(.*\/)([^\/]+\/?)$/);if(T)return T[1];throw new Error('Not a valid path: "'+g+'"')}deleteChildPathsFromTasks(){for(const g in this._tasks){const T=k.pathsFromRoot(g);for(let h=1;h<T.length;h++)this._tasks[T[h]]&&(Array.isArray(this._tasks[g])&&this._tasks[g].length&&Array.prototype.push.apply(this._tasks[T[h]],this._tasks[g]),delete this._tasks[g])}}collectRefreshTasks(){return s(this,void 0,void 0,function*(){return this.rs.local.forAllNodes(g=>{let T;if(this.needsRefresh(g)){try{T=this.getParentPath(g.path)}catch{}T&&this.rs.access.checkPathPermission(T,"r")?this.addTask(T):this.rs.access.checkPathPermission(g.path,"r")&&this.addTask(g.path)}}).then(()=>this.deleteChildPathsFromTasks()).catch(g=>{throw g})})}flush(g){for(const T in g)this.rs.caching.checkPath(T)==="FLUSH"&&g[T]&&!g[T].local&&(f.default("[Sync] Flushing",T),g[T]=void 0);return g}doTask(g){return this.rs.local.getNodes([g]).then(T=>{const h=T[g];return h===void 0||function(d){return d.remote&&d.remote.revision&&!d.remote.itemsMap&&!d.remote.body}(h)?D("get",g,this.rs.remote.get(g)):this.needsRemotePut(h)?(h.push=k.deepClone(h.local),h.push.timestamp=this.now(),this.rs.local.setNodes(this.flush(T)).then(()=>{let d;return d=z(h)?{ifMatch:h.common.revision}:{ifNoneMatch:"*"},D("put",g,this.rs.remote.put(g,h.push.body,h.push.contentType,d))})):this.needsRemoteDelete(h)?(h.push={body:!1,timestamp:this.now()},this.rs.local.setNodes(this.flush(T)).then(()=>z(h)?D("delete",g,this.rs.remote.delete(g,{ifMatch:h.common.revision})):D("get",g,this.rs.remote.get(g)))):z(h)?D("get",g,this.rs.remote.get(g,{ifNoneMatch:h.common.revision})):D("get",g,this.rs.remote.get(g))})}autoMergeFolder(g){if(g.remote.itemsMap&&(g.common=g.remote,delete g.remote,g.common.itemsMap)){for(const T in g.common.itemsMap)g.local.itemsMap[T]||(g.local.itemsMap[T]=!1);k.equal(g.local.itemsMap,g.common.itemsMap)&&delete g.local}return g}autoMergeDocument(g){return function(T){return(!T.remote||!T.remote.revision||T.remote.revision===T.common.revision)&&(T.common.body===void 0&&T.remote.body===!1||T.remote.body===T.common.body&&T.remote.contentType===T.common.contentType)}(g)?delete(g=function(T){return T.remote&&T.remote.body===!1&&T.local&&T.local.body===!1&&delete T.local,T}(g)).remote:g.remote.body!==void 0&&(f.default("[Sync] Emitting keep/revert"),this.rs.local._emitChange({origin:"conflict",path:g.path,oldValue:g.local.body,newValue:g.remote.body,lastCommonValue:g.common.body,oldContentType:g.local.contentType,newContentType:g.remote.contentType,lastCommonContentType:g.common.contentType}),g.remote.body?g.common=g.remote:g.common={},delete g.remote,delete g.local),g}autoMerge(g){if(g.remote){if(g.local)return k.isFolder(g.path)?this.autoMergeFolder(g):this.autoMergeDocument(g);if(k.isFolder(g.path))g.remote.itemsMap!==void 0&&(g.common=g.remote,delete g.remote);else if(g.remote.body!==void 0){const T={origin:"remote",path:g.path,oldValue:g.common.body===!1?void 0:g.common.body,newValue:g.remote.body===!1?void 0:g.remote.body,oldContentType:g.common.contentType,newContentType:g.remote.contentType};if((T.oldValue||T.newValue)&&this.rs.local._emitChange(T),!g.remote.body)return;g.common=g.remote,delete g.remote}return g}g.common.body&&this.rs.local._emitChange({origin:"remote",path:g.path,oldValue:g.common.body,newValue:void 0,oldContentType:g.common.contentType,newContentType:void 0})}updateCommonTimestamp(g,T){return s(this,void 0,void 0,function*(){return this.rs.local.getNodes([g]).then(h=>(h[g]&&h[g].common&&h[g].common.revision===T&&(h[g].common.timestamp=this.now()),this.rs.local.setNodes(this.flush(h))))})}markChildren(g,T,h,d){return s(this,void 0,void 0,function*(){const w=[],m={},v={};for(const I in T)w.push(g+I),m[g+I]=T[I];for(const I in d)w.push(g+I);return this.rs.local.getNodes(w).then(I=>{let U,$;for(const nt in I)if($=I[nt],m[nt])$&&$.common?q($,m[nt].ETag)&&(h[nt]=k.deepClone($),h[nt].remote={revision:m[nt].ETag,timestamp:this.now()},h[nt]=this.autoMerge(h[nt])):(U=this.rs.caching.checkPath(nt),U==="ALL"&&(h[nt]={path:nt,common:{timestamp:this.now()},remote:{revision:m[nt].ETag,timestamp:this.now()}})),h[nt]&&m[nt]["Content-Type"]&&(h[nt].remote.contentType=m[nt]["Content-Type"]),h[nt]&&m[nt]["Content-Length"]&&(h[nt].remote.contentLength=m[nt]["Content-Length"]);else if(d[nt.substring(g.length)]&&$&&$.common){if($.common.itemsMap)for(const b in $.common.itemsMap)v[nt+b]=!0;if($.local&&$.local.itemsMap)for(const b in $.local.itemsMap)v[nt+b]=!0;if($.remote||k.isFolder(nt))h[nt]=void 0;else if(h[nt]=this.autoMerge($),h[nt]===void 0){const b=this.getParentPath(nt),C=h[b],V=nt.substring(g.length);C&&C.local&&(delete C.local.itemsMap[V],k.equal(C.local.itemsMap,C.common.itemsMap)&&delete C.local)}}return this.deleteRemoteTrees(Object.keys(v),h).then(nt=>this.rs.local.setNodes(this.flush(nt)))})})}deleteRemoteTrees(g,T){return s(this,void 0,void 0,function*(){return g.length===0?Promise.resolve(T):this.rs.local.getNodes(g).then(h=>s(this,void 0,void 0,function*(){const d={};function w(m,v){if(m&&m.itemsMap)for(const I in m.itemsMap)d[v+I]=!0}for(const m in h){const v=h[m];v&&(k.isFolder(m)?(w(v.common,m),w(v.local,m)):v.common&&typeof v.common.body!==void 0&&(T[m]=k.deepClone(v),T[m].remote={body:!1,timestamp:this.now()},T[m]=this.autoMerge(T[m])))}return this.deleteRemoteTrees(Object.keys(d),T).then(m=>this.rs.local.setNodes(this.flush(m)))}))})}completeFetch(g,T,h,d){return s(this,void 0,void 0,function*(){let w,m;const v=k.pathsFromRoot(g);return k.isFolder(g)?w=[g]:(m=v[1],w=[g,m]),this.rs.local.getNodes(w).then(I=>{let U,$,nt=I[g];const b={};function C(V){if(V&&V.itemsMap)for(U in V.itemsMap)T[U]||(b[U]=!0)}if(typeof nt=="object"&&nt.path===g&&typeof nt.common=="object"||(nt={path:g,common:{}},I[g]=nt),nt.remote={revision:d,timestamp:this.now()},k.isFolder(g))for(U in C(nt.common),C(nt.remote),nt.remote.itemsMap={},T)nt.remote.itemsMap[U]=!0;else nt.remote.body=T,nt.remote.contentType=h,$=I[m],$&&$.local&&$.local.itemsMap&&(U=g.substring(m.length),$.local.itemsMap[U]=!0,k.equal($.local.itemsMap,$.common.itemsMap)&&delete $.local);return I[g]=this.autoMerge(nt),{toBeSaved:I,missingChildren:b}})})}completePush(g,T,h,d){return s(this,void 0,void 0,function*(){return this.rs.local.getNodes([g]).then(w=>{const m=w[g];if(!m.push)throw this.stopped=!0,new Error("completePush called but no push version!");return h?(f.default("[Sync] We have a conflict"),m.remote&&m.remote.revision===d||(m.remote={revision:d||"conflict",timestamp:this.now()},delete m.push),w[g]=this.autoMerge(m)):(m.common={revision:d,timestamp:this.now()},T==="put"?(m.common.body=m.push.body,m.common.contentType=m.push.contentType,k.equal(m.local.body,m.push.body)&&m.local.contentType===m.push.contentType&&delete m.local,delete m.push):T==="delete"&&(m.local.body===!1?w[g]=void 0:delete m.push)),this.rs.local.setNodes(this.flush(w))})})}dealWithFailure(g){return s(this,void 0,void 0,function*(){return this.rs.local.getNodes([g]).then(T=>{if(T[g])return delete T[g].push,this.rs.local.setNodes(this.flush(T))})})}interpretStatus(g){const T={statusCode:g,successful:void 0,conflict:void 0,unAuth:void 0,notFound:void 0,changed:void 0,networkProblems:void 0};if(typeof g=="string"&&(g==="offline"||g==="timeout"))return T.successful=!1,T.networkProblems=!0,T;if(typeof g=="number"){const h=Math.floor(g/100);return T.successful=h===2||g===304||g===412||g===404,T.conflict=g===412,T.unAuth=g===401&&this.rs.remote.token!==l.default.IMPLIED_FAKE_TOKEN||g===402||g===403,T.notFound=g===404,T.changed=g!==304,T}}handleGetResponse(g,T,h,d,w){return s(this,void 0,void 0,function*(){return T.notFound&&(h=!!k.isFolder(g)&&{}),T.changed?this.completeFetch(g,h,d,w).then(m=>k.isFolder(g)?this.corruptServerItemsMap(h)?(f.default("[Sync] WARNING: Discarding corrupt folder description from server for "+g),!1):this.markChildren(g,h,m.toBeSaved,m.missingChildren).then(()=>!0):this.rs.local.setNodes(this.flush(m.toBeSaved)).then(()=>!0)):this.updateCommonTimestamp(g,w).then(()=>!0)})}handleResponse(g,T,h){const d=this.interpretStatus(h.statusCode);if(d.successful){if(T==="get")return this.handleGetResponse(g,d,h.body,h.contentType,h.revision);if(T==="put"||T==="delete")return this.completePush(g,T,d.conflict,h.revision).then(function(){return!0});throw new Error("cannot handle response for unknown action "+T)}{let w;return w=d.unAuth?new p.default:d.networkProblems?new y.default("Network request failed."):new Error("HTTP response code "+d.statusCode+" received."),this.dealWithFailure(g).then(()=>{throw this.rs._emit("error",w),w})}}finishTask(g){if(g.action!==void 0)return g.promise.then(T=>this.handleResponse(g.path,g.action,T),T=>(f.default("[Sync] wireclient rejects its promise!",g.path,g.action,T),this.handleResponse(g.path,g.action,{statusCode:"offline"}))).then(T=>{if(delete this._timeStarted[g.path],delete this._running[g.path],T&&this._tasks[g.path]){for(let h=0;h<this._tasks[g.path].length;h++)this._tasks[g.path][h]();delete this._tasks[g.path]}this.rs._emit("sync-req-done"),this.collectTasks(!1).then(()=>{!this.hasTasks()||this.stopped?(f.default("[Sync] Sync is done! Reschedule?",Object.getOwnPropertyNames(this._tasks).length,this.stopped),this.done||(this.done=!0,this.rs._emit("sync-done"))):setTimeout(()=>{this.doTasks()},10)})},T=>{f.default("[Sync] Error",T),delete this._timeStarted[g.path],delete this._running[g.path],this.rs._emit("sync-req-done"),this.done||(this.done=!0,this.rs._emit("sync-done"))});delete this._running[g.path]}doTasks(){let g,T,h=0;g=this.rs.remote.connected?this.rs.remote.online?this.numThreads:1:0;const d=g-Object.getOwnPropertyNames(this._running).length;if(d<=0)return!0;for(T in this._tasks)if(!this._running[T]&&(this._timeStarted[T]=this.now(),this._running[T]=this.doTask(T),this._running[T].then(this.finishTask.bind(this)),h++,h>=d))return!0;return h>=d}collectTasks(g){return s(this,void 0,void 0,function*(){return this.hasTasks()||this.stopped?Promise.resolve():this.collectDiffTasks().then(T=>T||g===!1?Promise.resolve():this.collectRefreshTasks(),function(T){throw T})})}addTask(g,T){this._tasks[g]||(this._tasks[g]=[]),typeof T=="function"&&this._tasks[g].push(T)}sync(){return this.done=!1,this.doTasks()?Promise.resolve():this.collectTasks().then(()=>{try{this.doTasks()}catch(g){f.default("[Sync] doTasks error",g)}},function(g){throw f.default("[Sync] Sync error",g),new Error("Local cache unavailable")})}static _rs_init(g){x=function(){f.default("[Sync] syncCycleCb calling syncCycle");const T=new u.default;T.isBrowser()&&function(h,d){function w(m){const v=d.getCurrentSyncInterval();o.default.isBackground=!m;const I=d.getCurrentSyncInterval();d._emit("sync-interval-change",{oldValue:v,newValue:I})}h.on("background",()=>w(!1)),h.on("foreground",()=>w(!0))}(T,g),g.sync||(g.sync=new O(g),g.syncStopped&&(f.default("[Sync] Instantiating sync stopped"),g.sync.stopped=!0,delete g.syncStopped)),f.default("[Sync] syncCycleCb calling syncCycle"),g.syncCycle()},E=function(){g.removeEventListener("connected",E),g.startSync()},g.on("ready",x),g.on("connected",E)}static _rs_cleanup(g){g.stopSync(),g.removeEventListener("ready",x),g.removeEventListener("connected",E),g.sync=void 0,delete g.sync}}k.applyMixins(O,[c.default]),r.exports=O},function(r,n,i){(function(s){var a=this&&this.__awaiter||function(k,x,E,D){return new(E||(E=Promise))(function(q,z){function O(T){try{g(D.next(T))}catch(h){z(h)}}function L(T){try{g(D.throw(T))}catch(h){z(h)}}function g(T){var h;T.done?q(T.value):(h=T.value,h instanceof E?h:new E(function(d){d(h)})).then(O,L)}g((D=D.apply(k,x||[])).next())})},o=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};const u=o(i(2)),c=o(i(10)),f=o(i(1)),l=i(0);let y;class p extends c.default{constructor(x){super(),this.addEvents(["change","local-events-done"]),this.db=x||y,this.db?(this.getsRunning=0,this.putsRunning=0,this.changesQueued={},this.changesRunning={},this.commitSlownessWarning=null):f.default("[IndexedDB] Failed to open DB")}getNodes(x){return a(this,void 0,void 0,function*(){const E=[],D={};for(let q=0,z=x.length;q<z;q++)this.changesQueued[x[q]]!==void 0?D[x[q]]=l.deepClone(this.changesQueued[x[q]]||void 0):this.changesRunning[x[q]]!==void 0?D[x[q]]=l.deepClone(this.changesRunning[x[q]]||void 0):E.push(x[q]);return E.length>0?this.getNodesFromDb(E).then(function(q){for(const z in D)q[z]=D[z];return q}):Promise.resolve(D)})}setNodes(x){return a(this,void 0,void 0,function*(){for(const E in x)this.changesQueued[E]=x[E]||!1;return this.maybeFlush(),Promise.resolve()})}maybeFlush(){this.putsRunning===0?this.flushChangesQueued():this.commitSlownessWarning||(this.commitSlownessWarning=s.setInterval(function(){console.warn("WARNING: waited more than 10 seconds for previous commit to finish")},1e4))}flushChangesQueued(){this.commitSlownessWarning&&(clearInterval(this.commitSlownessWarning),this.commitSlownessWarning=null),Object.keys(this.changesQueued).length>0&&(this.changesRunning=this.changesQueued,this.changesQueued={},this.setNodesInDb(this.changesRunning).then(this.flushChangesQueued.bind(this)))}getNodesFromDb(x){return new Promise((E,D)=>{const q=this.db.transaction(["nodes"],"readonly"),z=q.objectStore("nodes"),O={};this.getsRunning++,x.map(L=>{z.get(L).onsuccess=g=>{O[L]=g.target.result}}),q.oncomplete=()=>{E(O),this.getsRunning--},q.onerror=q.onabort=()=>{D("get transaction error/abort"),this.getsRunning--}})}setNodesInDb(x){return a(this,void 0,void 0,function*(){return new Promise((E,D)=>{const q=this.db.transaction(["nodes"],"readwrite"),z=q.objectStore("nodes"),O=new Date().getTime();this.putsRunning++,f.default("[IndexedDB] Starting put",x,this.putsRunning);for(const L in x){const g=x[L];if(typeof g=="object")try{z.put(g)}catch(T){throw f.default("[IndexedDB] Error while putting",g,T),T}else try{z.delete(L)}catch(T){throw f.default("[IndexedDB] Error while removing",z,g,T),T}}q.oncomplete=()=>{this.putsRunning--,f.default("[IndexedDB] Finished put",x,this.putsRunning,new Date().getTime()-O+"ms"),E()},q.onerror=()=>{this.putsRunning--,D("transaction error")},q.onabort=()=>{D("transaction abort"),this.putsRunning--}})})}reset(x){const E=this.db.name;this.db.close(),p.clean(this.db.name,()=>{p.open(E,(D,q)=>{D?f.default("[IndexedDB] Error while resetting local storage",D):this.db=q,typeof x=="function"&&x(self)})})}forAllNodes(x){return a(this,void 0,void 0,function*(){return new Promise(E=>{this.db.transaction(["nodes"],"readonly").objectStore("nodes").openCursor().onsuccess=D=>{const q=D.target.result;q?(x(this.migrate(q.value)),q.continue()):E()}})})}closeDB(){this.putsRunning===0?this.db.close():setTimeout(this.closeDB.bind(this),100)}static open(x,E){const D=setTimeout(function(){E("timeout trying to open db")},1e4);try{const q=indexedDB.open(x,2);q.onerror=function(){f.default("[IndexedDB] Opening DB failed",q),clearTimeout(D),E(q.error)},q.onupgradeneeded=function(z){const O=q.result;f.default("[IndexedDB] Upgrade: from ",z.oldVersion," to ",z.newVersion),z.oldVersion!==1&&(f.default("[IndexedDB] Creating object store: nodes"),O.createObjectStore("nodes",{keyPath:"path"})),f.default("[IndexedDB] Creating object store: changes"),O.createObjectStore("changes",{keyPath:"path"})},q.onsuccess=function(){clearTimeout(D);const z=q.result;if(!z.objectStoreNames.contains("nodes")||!z.objectStoreNames.contains("changes"))return f.default("[IndexedDB] Missing object store. Resetting the database."),void p.clean(x,function(){p.open(x,E)});E(null,q.result)}}catch(q){f.default("[IndexedDB] Failed to open database: "+q),f.default("[IndexedDB] Resetting database and trying again."),clearTimeout(D),p.clean(x,function(){p.open(x,E)})}}static clean(x,E){const D=indexedDB.deleteDatabase(x);D.onsuccess=function(){f.default("[IndexedDB] Done removing DB"),E()},D.onerror=D.onabort=function(q){console.error('Failed to remove database "'+x+'"',q)}}static _rs_init(x){return new Promise((E,D)=>{p.open("remotestorage",function(q,z){q?D(q):(y=z,z.onerror=()=>{x._emit("error",q)},E())})})}static _rs_supported(){return new Promise((x,E)=>{const D=l.getGlobalContext();let q=!1;if(typeof navigator!="undefined"&&navigator.userAgent.match(/Android (2|3|4\.[0-3])/)&&(navigator.userAgent.match(/Chrome|Firefox/)||(q=!0)),"indexedDB"in D&&!q)try{const z=indexedDB.open("rs-check");z.onerror=function(){E()},z.onsuccess=function(){z.result.close(),indexedDB.deleteDatabase("rs-check"),x()}}catch{E()}else E()})}static _rs_cleanup(x){return new Promise(E=>{x.local&&x.local.closeDB(),p.clean("remotestorage",E)})}diffHandler(){}}l.applyMixins(p,[u.default]),r.exports=p}).call(this,i(5))},function(r,n,i){var s=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};const a=s(i(10)),o=s(i(2)),u=s(i(1)),c=i(0),f="remotestorage:cache:nodes:";function l(p){return p.substr(0,f.length)===f||p.substr(0,"remotestorage:cache:changes:".length)==="remotestorage:cache:changes:"}class y extends a.default{constructor(){super(),this.addEvents(["change","local-events-done"])}diffHandler(...k){}getNodes(k){const x={};for(let E=0,D=k.length;E<D;E++)try{x[k[E]]=JSON.parse(localStorage[f+k[E]])}catch{x[k[E]]=void 0}return Promise.resolve(x)}setNodes(k){for(const x in k)localStorage[f+x]=JSON.stringify(k[x]);return Promise.resolve()}forAllNodes(k){let x;for(let E=0,D=localStorage.length;E<D;E++)if(localStorage.key(E).substr(0,f.length)===f){try{x=this.migrate(JSON.parse(localStorage[localStorage.key(E)]))}catch{x=void 0}x&&k(x)}return Promise.resolve()}static _rs_init(){}static _rs_supported(){return c.localStorageAvailable()}static _rs_cleanup(){const k=[];for(let x=0,E=localStorage.length;x<E;x++){const D=localStorage.key(x);l(D)&&k.push(D)}k.forEach(x=>{u.default("[LocalStorage] Removing",x),delete localStorage[x]})}}c.applyMixins(y,[o.default]),r.exports=y},function(r,n,i){var s=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};const a=s(i(2)),o=s(i(10)),u=i(0);class c extends o.default{constructor(){super(),this._storage={},this.addEvents(["change","local-events-done"])}getNodes(l){const y={};for(let p=0,k=l.length;p<k;p++)y[l[p]]=this._storage[l[p]];return Promise.resolve(y)}setNodes(l){for(const y in l)l[y]===void 0?delete this._storage[y]:this._storage[y]=l[y];return Promise.resolve()}forAllNodes(l){for(const y in this._storage)l(this.migrate(this._storage[y]));return Promise.resolve()}diffHandler(){}static _rs_init(){}static _rs_supported(){return!0}static _rs_cleanup(){}}u.applyMixins(c,[a.default]),r.exports=c}])})})(fu);var v5=Tl(fu.exports);/*! OpenPGP.js v5.0.1 - 2021-11-17 - this is LGPL licensed code, see LICENSE/our website https://openpgpjs.org/ for more information. */const $e=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Mi=Symbol("doneWritingPromise"),lu=Symbol("doneWritingResolve"),du=Symbol("doneWritingReject"),hs=Symbol("readingIndex");class Fr extends Array{constructor(){super(),this[Mi]=new Promise((e,r)=>{this[lu]=e,this[du]=r}),this[Mi].catch(()=>{})}}function _e(t){return t&&t.getReader&&Array.isArray(t)}function fs(t){if(!_e(t)){const e=t.getWriter(),r=e.releaseLock;return e.releaseLock=()=>{e.closed.catch(function(){}),r.call(e)},e}this.stream=t}Fr.prototype.getReader=function(){return this[hs]===void 0&&(this[hs]=0),{read:async()=>(await this[Mi],this[hs]===this.length?{value:void 0,done:!0}:{value:this[this[hs]++],done:!1})}},Fr.prototype.readToEnd=async function(t){await this[Mi];const e=t(this.slice(this[hs]));return this.length=0,e},Fr.prototype.clone=function(){const t=new Fr;return t[Mi]=this[Mi].then(()=>{t.push(...this)}),t},fs.prototype.write=async function(t){this.stream.push(t)},fs.prototype.close=async function(){this.stream[lu]()},fs.prototype.abort=async function(t){return this.stream[du](t),t},fs.prototype.releaseLock=function(){};const _a=typeof $e.process=="object"&&typeof $e.process.versions=="object",pu=_a&&void 0;function Qe(t){return _e(t)?"array":$e.ReadableStream&&$e.ReadableStream.prototype.isPrototypeOf(t)?"web":dn&&dn.prototype.isPrototypeOf(t)?"ponyfill":pu&&pu.prototype.isPrototypeOf(t)?"node":!(!t||!t.getReader)&&"web-like"}function Aa(t){return Uint8Array.prototype.isPrototypeOf(t)}function yu(t){if(t.length===1)return t[0];let e=0;for(let i=0;i<t.length;i++){if(!Aa(t[i]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");e+=t[i].length}const r=new Uint8Array(e);let n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}const Il=_a&&void 0,mu=_a&&void 0;let ka,cc;if(mu){ka=function(e){let r=!1;return new dn({start(n){e.pause(),e.on("data",i=>{r||(Il.isBuffer(i)&&(i=new Uint8Array(i.buffer,i.byteOffset,i.byteLength)),n.enqueue(i),e.pause())}),e.on("end",()=>{r||n.close()}),e.on("error",i=>n.error(i))},pull(){e.resume()},cancel(n){r=!0,e.destroy(n)}})};class t extends mu{constructor(r,n){super(n),this._reader=jr(r)}async _read(r){try{for(;;){const{done:n,value:i}=await this._reader.read();if(n){this.push(null);break}if(!this.push(i)||this._cancelling){this._reading=!1;break}}}catch(n){this.emit("error",n)}}_destroy(r){this._reader.cancel(r)}}cc=function(e,r){return new t(e,r)}}const gu=new WeakSet,pe=Symbol("externalBuffer");function Lr(t){if(this.stream=t,t[pe]&&(this[pe]=t[pe].slice()),_e(t)){const n=t.getReader();return this._read=n.read.bind(n),this._releaseLock=()=>{},void(this._cancel=()=>{})}let e=Qe(t);if(e==="node"&&(t=ka(t)),e){const n=t.getReader();return this._read=n.read.bind(n),this._releaseLock=()=>{n.closed.catch(function(){}),n.releaseLock()},void(this._cancel=n.cancel.bind(n))}let r=!1;this._read=async()=>r||gu.has(t)?{value:void 0,done:!0}:(r=!0,{value:t,done:!1}),this._releaseLock=()=>{if(r)try{gu.add(t)}catch{}}}Lr.prototype.read=async function(){return this[pe]&&this[pe].length?{done:!1,value:this[pe].shift()}:this._read()},Lr.prototype.releaseLock=function(){this[pe]&&(this.stream[pe]=this[pe]),this._releaseLock()},Lr.prototype.cancel=function(t){return this._cancel(t)},Lr.prototype.readLine=async function(){let t,e=[];for(;!t;){let{done:r,value:n}=await this.read();if(n+="",r)return e.length?Ze(e):void 0;const i=n.indexOf(`
`)+1;i&&(t=Ze(e.concat(n.substr(0,i))),e=[]),i!==n.length&&e.push(n.substr(i))}return this.unshift(...e),t},Lr.prototype.readByte=async function(){const{done:t,value:e}=await this.read();if(t)return;const r=e[0];return this.unshift(Ie(e,1)),r},Lr.prototype.readBytes=async function(t){const e=[];let r=0;for(;;){const{done:n,value:i}=await this.read();if(n)return e.length?Ze(e):void 0;if(e.push(i),r+=i.length,r>=t){const s=Ze(e);return this.unshift(Ie(s,t)),Ie(s,0,t)}}},Lr.prototype.peekBytes=async function(t){const e=await this.readBytes(t);return this.unshift(e),e},Lr.prototype.unshift=function(...t){this[pe]||(this[pe]=[]),t.length===1&&Aa(t[0])&&this[pe].length&&t[0].length&&this[pe][0].byteOffset>=t[0].length?this[pe][0]=new Uint8Array(this[pe][0].buffer,this[pe][0].byteOffset-t[0].length,this[pe][0].byteLength+t[0].length):this[pe].unshift(...t.filter(e=>e&&e.length))},Lr.prototype.readToEnd=async function(t=Ze){const e=[];for(;;){const{done:r,value:n}=await this.read();if(r)break;e.push(n)}return t(e)};let uc,bu,{ReadableStream:dn,WritableStream:vu,TransformStream:Ri}=$e;async function wu(){if(Ri)return;const[t,e]=await Promise.all([Promise.resolve().then(function(){return c3}),Promise.resolve().then(function(){return d3})]);({ReadableStream:dn,WritableStream:vu,TransformStream:Ri}=t);const{createReadableStreamWrapper:r}=e;$e.ReadableStream&&dn!==$e.ReadableStream&&(uc=r(dn),bu=r($e.ReadableStream))}const ls=_a&&void 0;function ds(t){let e=Qe(t);return e==="node"?ka(t):e==="web"&&uc?uc(t):e?t:new dn({start(r){r.enqueue(t),r.close()}})}function _u(t){if(Qe(t))return t;const e=new Fr;return(async()=>{const r=tr(e);await r.write(t),await r.close()})(),e}function Ze(t){return t.some(e=>Qe(e)&&!_e(e))?function(e){e=e.map(ds);const r=ku(async function(s){await Promise.all(i.map(a=>hc(a,s)))});let n=Promise.resolve();const i=e.map((s,a)=>pn(s,(o,u)=>(n=n.then(()=>Mn(o,r.writable,{preventClose:a!==e.length-1})),n)));return r.readable}(t):t.some(e=>_e(e))?function(e){const r=new Fr;let n=Promise.resolve();return e.forEach((i,s)=>(n=n.then(()=>Mn(i,r,{preventClose:s!==e.length-1})),n)),r}(t):typeof t[0]=="string"?t.join(""):ls&&ls.isBuffer(t[0])?ls.concat(t):yu(t)}function jr(t){return new Lr(t)}function tr(t){return new fs(t)}async function Mn(t,e,{preventClose:r=!1,preventAbort:n=!1,preventCancel:i=!1}={}){if(Qe(t)&&!_e(t)){t=ds(t);try{if(t[pe]){const o=tr(e);for(let u=0;u<t[pe].length;u++)await o.ready,await o.write(t[pe][u]);o.releaseLock()}await t.pipeTo(e,{preventClose:r,preventAbort:n,preventCancel:i})}catch{}return}const s=jr(t=_u(t)),a=tr(e);try{for(;;){await a.ready;const{done:o,value:u}=await s.read();if(o){r||await a.close();break}await a.write(u)}}catch(o){n||await a.abort(o)}finally{s.releaseLock(),a.releaseLock()}}function Au(t,e){const r=new Ri(e);return Mn(t,r.writable),r.readable}function ku(t){let e,r,n=!1;return{readable:new dn({start(i){r=i},pull(){e?e():n=!0},cancel:t},{highWaterMark:0}),writable:new vu({write:async function(i){r.enqueue(i),n?n=!1:(await new Promise(s=>{e=s}),e=null)},close:r.close.bind(r),abort:r.error.bind(r)})}}function we(t,e=()=>{},r=()=>{}){if(_e(t)){const s=new Fr;return(async()=>{const a=await ke(t),o=e(a),u=r();let c;c=o!==void 0&&u!==void 0?Ze([o,u]):o!==void 0?o:u;const f=tr(s);await f.write(c),await f.close()})(),s}if(Qe(t))return Au(t,{async transform(s,a){try{const o=await e(s);o!==void 0&&a.enqueue(o)}catch(o){a.error(o)}},async flush(s){try{const a=await r();a!==void 0&&s.enqueue(a)}catch(a){s.error(a)}}});const n=e(t),i=r();return n!==void 0&&i!==void 0?Ze([n,i]):n!==void 0?n:i}function pn(t,e){if(Qe(t)&&!_e(t)){let n;const i=new Ri({start(o){n=o}}),s=Mn(t,i.writable),a=ku(async function(){n.error(Error("Readable side was canceled.")),await s,await new Promise(setTimeout)});return e(i.readable,a.writable),a.readable}t=_u(t);const r=new Fr;return e(t,r),r}function Sa(t,e){let r;const n=pn(t,(i,s)=>{const a=jr(i);a.remainder=()=>(a.releaseLock(),Mn(i,s),n),r=e(a)});return r}function ii(t){if(_e(t))return t.clone();if(Qe(t)){const e=function(r){if(_e(r))throw Error("ArrayStream cannot be tee()d, use clone() instead");if(Qe(r)){const n=ds(r).tee();return n[0][pe]=n[1][pe]=r[pe],n}return[Ie(r),Ie(r)]}(t);return Su(t,e[0]),e[1]}return Ie(t)}function Ci(t){return _e(t)?ii(t):Qe(t)?new dn({start(e){const r=pn(t,async(n,i)=>{const s=jr(n),a=tr(i);try{for(;;){await a.ready;const{done:o,value:u}=await s.read();if(o){try{e.close()}catch{}return void await a.close()}try{e.enqueue(u)}catch{}await a.write(u)}}catch(o){e.error(o),await a.abort(o)}});Su(t,r)}}):Ie(t)}function Su(t,e){Object.entries(Object.getOwnPropertyDescriptors(t.constructor.prototype)).forEach(([r,n])=>{r!=="constructor"&&(n.value?n.value=n.value.bind(e):n.get=n.get.bind(e),Object.defineProperty(t,r,n))})}function Ie(t,e=0,r=1/0){if(_e(t))throw Error("Not implemented");if(Qe(t)){if(e>=0&&r>=0){let n=0;return Au(t,{transform(i,s){n<r?(n+i.length>=e&&s.enqueue(Ie(i,Math.max(e-n,0),r-n)),n+=i.length):s.terminate()}})}if(e<0&&(r<0||r===1/0)){let n=[];return we(t,i=>{i.length>=-e?n=[i]:n.push(i)},()=>Ie(Ze(n),e,r))}if(e===0&&r<0){let n;return we(t,i=>{const s=n?Ze([n,i]):i;if(s.length>=-r)return n=Ie(s,r),Ie(s,e,r);n=s})}return console.warn(`stream.slice(input, ${e}, ${r}) not implemented efficiently.`),Rn(async()=>Ie(await ke(t),e,r))}return t[pe]&&(t=Ze(t[pe].concat([t]))),!Aa(t)||ls&&ls.isBuffer(t)?t.slice(e,r):(r===1/0&&(r=t.length),t.subarray(e,r))}async function ke(t,e=Ze){return _e(t)?t.readToEnd(e):Qe(t)?jr(t).readToEnd(e):t}async function hc(t,e){if(Qe(t)){if(t.cancel)return t.cancel(e);if(t.destroy)return t.destroy(e),await new Promise(setTimeout),e}}function Rn(t){const e=new Fr;return(async()=>{const r=tr(e);try{await r.write(await t()),await r.close()}catch(n){await r.abort(n)}})(),e}class Ve{constructor(e){if(e===void 0)throw Error("Invalid BigInteger input");if(e instanceof Uint8Array){const r=e,n=Array(r.length);for(let i=0;i<r.length;i++){const s=r[i].toString(16);n[i]=r[i]<=15?"0"+s:s}this.value=BigInt("0x0"+n.join(""))}else this.value=BigInt(e)}clone(){return new Ve(this.value)}iinc(){return this.value++,this}inc(){return this.clone().iinc()}idec(){return this.value--,this}dec(){return this.clone().idec()}iadd(e){return this.value+=e.value,this}add(e){return this.clone().iadd(e)}isub(e){return this.value-=e.value,this}sub(e){return this.clone().isub(e)}imul(e){return this.value*=e.value,this}mul(e){return this.clone().imul(e)}imod(e){return this.value%=e.value,this.isNegative()&&this.iadd(e),this}mod(e){return this.clone().imod(e)}modExp(e,r){if(r.isZero())throw Error("Modulo cannot be zero");if(r.isOne())return new Ve(0);if(e.isNegative())throw Error("Unsopported negative exponent");let n=e.value,i=this.value;i%=r.value;let s=BigInt(1);for(;n>BigInt(0);){const a=n&BigInt(1);n>>=BigInt(1);const o=s*i%r.value;s=a?o:s,i=i*i%r.value}return new Ve(s)}modInv(e){const{gcd:r,x:n}=this._egcd(e);if(!r.isOne())throw Error("Inverse does not exist");return n.add(e).mod(e)}_egcd(e){let r=BigInt(0),n=BigInt(1),i=BigInt(1),s=BigInt(0),a=this.value;for(e=e.value;e!==BigInt(0);){const o=a/e;let u=r;r=i-o*r,i=u,u=n,n=s-o*n,s=u,u=e,e=a%e,a=u}return{x:new Ve(i),y:new Ve(s),gcd:new Ve(a)}}gcd(e){let r=this.value;for(e=e.value;e!==BigInt(0);){const n=e;e=r%e,r=n}return new Ve(r)}ileftShift(e){return this.value<<=e.value,this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value>>=e.value,this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value===e.value}lt(e){return this.value<e.value}lte(e){return this.value<=e.value}gt(e){return this.value>e.value}gte(e){return this.value>=e.value}isZero(){return this.value===BigInt(0)}isOne(){return this.value===BigInt(1)}isNegative(){return this.value<BigInt(0)}isEven(){return!(this.value&BigInt(1))}abs(){const e=this.clone();return this.isNegative()&&(e.value=-e.value),e}toString(){return this.value.toString()}toNumber(){const e=Number(this.value);if(e>Number.MAX_SAFE_INTEGER)throw Error("Number can only safely store up to 53 bits");return e}getBit(e){return(this.value>>BigInt(e)&BigInt(1))===BigInt(0)?0:1}bitLength(){const e=new Ve(0),r=new Ve(1),n=new Ve(-1),i=this.isNegative()?n:e;let s=1;const a=this.clone();for(;!a.irightShift(r).equal(i);)s++;return s}byteLength(){const e=new Ve(0),r=new Ve(-1),n=this.isNegative()?r:e,i=new Ve(8);let s=1;const a=this.clone();for(;!a.irightShift(i).equal(n);)s++;return s}toUint8Array(e="be",r){let n=this.value.toString(16);n.length%2==1&&(n="0"+n);const i=n.length/2,s=new Uint8Array(r||i),a=r?r-i:0;let o=0;for(;o<i;)s[o+a]=parseInt(n.slice(2*o,2*o+2),16),o++;return e!=="be"&&s.reverse(),s}}const Eu=(()=>{try{return!1}catch{}return!1})(),H={isString:function(t){return typeof t=="string"||String.prototype.isPrototypeOf(t)},isArray:function(t){return Array.prototype.isPrototypeOf(t)},isUint8Array:Aa,isStream:Qe,readNumber:function(t){let e=0;for(let r=0;r<t.length;r++)e+=256**r*t[t.length-1-r];return e},writeNumber:function(t,e){const r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=t>>8*(e-n-1)&255;return r},readDate:function(t){const e=H.readNumber(t);return new Date(1e3*e)},writeDate:function(t){const e=Math.floor(t.getTime()/1e3);return H.writeNumber(e,4)},normalizeDate:function(t=Date.now()){return t===null||t===1/0?t:new Date(1e3*Math.floor(+t/1e3))},readMPI:function(t){const e=(t[0]<<8|t[1])+7>>>3;return t.subarray(2,2+e)},leftPad(t,e){const r=new Uint8Array(e),n=e-t.length;return r.set(t,n),r},uint8ArrayToMPI:function(t){const e=H.uint8ArrayBitLength(t);if(e===0)throw Error("Zero MPI");const r=t.subarray(t.length-Math.ceil(e/8)),n=new Uint8Array([(65280&e)>>8,255&e]);return H.concatUint8Array([n,r])},uint8ArrayBitLength:function(t){let e;for(e=0;e<t.length&&t[e]===0;e++);if(e===t.length)return 0;const r=t.subarray(e);return 8*(r.length-1)+H.nbits(r[0])},hexToUint8Array:function(t){const e=new Uint8Array(t.length>>1);for(let r=0;r<t.length>>1;r++)e[r]=parseInt(t.substr(r<<1,2),16);return e},uint8ArrayToHex:function(t){const e=[],r=t.length;let n,i=0;for(;i<r;){for(n=t[i++].toString(16);n.length<2;)n="0"+n;e.push(""+n)}return e.join("")},stringToUint8Array:function(t){return we(t,e=>{if(!H.isString(e))throw Error("stringToUint8Array: Data must be in the form of a string");const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r})},uint8ArrayToString:function(t){const e=[],r=16384,n=(t=new Uint8Array(t)).length;for(let i=0;i<n;i+=r)e.push(String.fromCharCode.apply(String,t.subarray(i,i+r<n?i+r:n)));return e.join("")},encodeUTF8:function(t){const e=new TextEncoder("utf-8");function r(n,i=!1){return e.encode(n,{stream:!i})}return we(t,r,()=>r("",!0))},decodeUTF8:function(t){const e=new TextDecoder("utf-8");function r(n,i=!1){return e.decode(n,{stream:!i})}return we(t,r,()=>r(new Uint8Array,!0))},concat:Ze,concatUint8Array:yu,equalsUint8Array:function(t,e){if(!H.isUint8Array(t)||!H.isUint8Array(e))throw Error("Data must be in the form of a Uint8Array");if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0},writeChecksum:function(t){let e=0;for(let r=0;r<t.length;r++)e=e+t[r]&65535;return H.writeNumber(e,2)},printDebug:function(t){Eu&&console.log(t)},printDebugError:function(t){Eu&&console.error(t)},nbits:function(t){let e=1,r=t>>>16;return r!==0&&(t=r,e+=16),r=t>>8,r!==0&&(t=r,e+=8),r=t>>4,r!==0&&(t=r,e+=4),r=t>>2,r!==0&&(t=r,e+=2),r=t>>1,r!==0&&(t=r,e+=1),e},double:function(t){const e=new Uint8Array(t.length),r=t.length-1;for(let n=0;n<r;n++)e[n]=t[n]<<1^t[n+1]>>7;return e[r]=t[r]<<1^135*(t[0]>>7),e},shiftRight:function(t,e){if(e)for(let r=t.length-1;r>=0;r--)t[r]>>=e,r>0&&(t[r]|=t[r-1]<<8-e);return t},getWebCrypto:function(){return $e!==void 0&&$e.crypto&&$e.crypto.subtle},detectNode:function(){return typeof $e.process=="object"&&typeof $e.process.versions=="object"},detectBigInt:()=>typeof BigInt!="undefined",getBigInteger:async function(){if(H.detectBigInt())return Ve;{const{default:t}=await Promise.resolve().then(function(){return p3});return t}},getNodeCrypto:function(){},getNodeZlib:function(){},getNodeBuffer:function(){return{}.Buffer},getHardwareConcurrency:function(){return H.detectNode()?(void 0).cpus().length:navigator.hardwareConcurrency||1},isEmailAddress:function(t){return H.isString(t)?/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}|xn--[a-zA-Z\-0-9]+)))$/.test(t):!1},canonicalizeEOL:function(t){let e=!1;return we(t,r=>{let n;e&&(r=H.concatUint8Array([new Uint8Array([13]),r])),r[r.length-1]===13?(e=!0,r=r.subarray(0,-1)):e=!1;const i=[];for(let o=0;n=r.indexOf(10,o)+1,n;o=n)r[n-2]!==13&&i.push(n);if(!i.length)return r;const s=new Uint8Array(r.length+i.length);let a=0;for(let o=0;o<i.length;o++){const u=r.subarray(i[o-1]||0,i[o]);s.set(u,a),a+=u.length,s[a-1]=13,s[a]=10,a++}return s.set(r.subarray(i[i.length-1]||0),a),s},()=>e?new Uint8Array([13]):void 0)},nativeEOL:function(t){let e=!1;return we(t,r=>{let n;(r=e&&r[0]!==10?H.concatUint8Array([new Uint8Array([13]),r]):new Uint8Array(r))[r.length-1]===13?(e=!0,r=r.subarray(0,-1)):e=!1;let i=0;for(let s=0;s!==r.length;s=n){n=r.indexOf(13,s)+1,n||(n=r.length);const a=n-(r[n]===10?1:0);s&&r.copyWithin(i,s,a),i+=a-s}return r.subarray(0,i)},()=>e?new Uint8Array([13]):void 0)},removeTrailingSpaces:function(t){return t.split(`
`).map(e=>{let r=e.length-1;for(;r>=0&&(e[r]===" "||e[r]==="	");r--);return e.substr(0,r+1)}).join(`
`)},wrapError:function(t,e){if(!e)return Error(t);try{e.message=t+": "+e.message}catch{}return e},constructAllowedPackets:function(t){const e={};return t.forEach(r=>{if(!r.tag)throw Error("Invalid input: expected a packet class");e[r.tag]=r}),e},anyPromise:function(t){return new Promise(async(e,r)=>{let n;await Promise.all(t.map(async i=>{try{e(await i)}catch(s){n=s}})),r(n)})}};let fc,lc;function yn(t){let e=new Uint8Array;return we(t,r=>{e=H.concatUint8Array([e,r]);const n=[],i=Math.floor(e.length/45),s=45*i,a=fc(e.subarray(0,s));for(let o=0;o<i;o++)n.push(a.substr(60*o,60)),n.push(`
`);return e=e.subarray(s),n.join("")},()=>e.length?fc(e)+`
`:"")}function Pu(t){let e="";return we(t,r=>{e+=r;let n=0;const i=[" ","	","\r",`
`];for(let o=0;o<i.length;o++){const u=i[o];for(let c=e.indexOf(u);c!==-1;c=e.indexOf(u,c+1))n++}let s=e.length;for(;s>0&&(s-n)%4!=0;s--)i.includes(e[s])&&n--;const a=lc(e.substr(0,s));return e=e.substr(s),a},()=>lc(e))}function mn(t){return Pu(t.replace(/-/g,"+").replace(/_/g,"/"))}function or(t,e){let r=yn(t).replace(/[\r\n]/g,"");return e&&(r=r.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")),r}fc=t=>btoa(H.uint8ArrayToString(t)),lc=t=>H.stringToUint8Array(atob(t));const ps=Symbol("byValue");var B={curve:{p256:"p256","P-256":"p256",secp256r1:"p256",prime256v1:"p256","1.2.840.10045.3.1.7":"p256","2a8648ce3d030107":"p256","2A8648CE3D030107":"p256",p384:"p384","P-384":"p384",secp384r1:"p384","1.3.132.0.34":"p384","2b81040022":"p384","2B81040022":"p384",p521:"p521","P-521":"p521",secp521r1:"p521","1.3.132.0.35":"p521","2b81040023":"p521","2B81040023":"p521",secp256k1:"secp256k1","1.3.132.0.10":"secp256k1","2b8104000a":"secp256k1","2B8104000A":"secp256k1",ED25519:"ed25519",ed25519:"ed25519",Ed25519:"ed25519","1.3.6.1.4.1.11591.15.1":"ed25519","2b06010401da470f01":"ed25519","2B06010401DA470F01":"ed25519",X25519:"curve25519",cv25519:"curve25519",curve25519:"curve25519",Curve25519:"curve25519","1.3.6.1.4.1.3029.1.5.1":"curve25519","2b060104019755010501":"curve25519","2B060104019755010501":"curve25519",brainpoolP256r1:"brainpoolP256r1","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1","2b2403030208010107":"brainpoolP256r1","2B2403030208010107":"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1","2b240303020801010b":"brainpoolP384r1","2B240303020801010B":"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1","2b240303020801010d":"brainpoolP512r1","2B240303020801010D":"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsa:22,aedh:23,aedsa:24},symmetric:{plaintext:0,idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20},literal:{binary:98,text:116,utf8:117,mime:109},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuer:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4},write:function(t,e){if(typeof e=="number"&&(e=this.read(t,e)),t[e]!==void 0)return t[e];throw Error("Invalid enum value.")},read:function(t,e){if(t[ps]||(t[ps]=[],Object.entries(t).forEach(([r,n])=>{t[ps][n]=r})),t[ps][e]!==void 0)return t[ps][e];throw Error("Invalid enum value.")}},It={preferredHashAlgorithm:B.hash.sha256,preferredSymmetricAlgorithm:B.symmetric.aes256,preferredCompressionAlgorithm:B.compression.uncompressed,deflateLevel:6,aeadProtect:!1,preferredAEADAlgorithm:B.aead.eax,aeadChunkSizeByte:12,v5Keys:!1,s2kIterationCountByte:224,allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,checksumRequired:!1,minRSABits:2047,passwordCollisionCheck:!1,revocationsExpire:!1,allowInsecureDecryptionWithSigningKeys:!1,allowInsecureVerificationWithReformattedKeys:!1,minBytesForWebCrypto:1e3,ignoreUnsupportedPackets:!0,ignoreMalformedPackets:!1,showVersion:!1,showComment:!1,versionString:"OpenPGP.js 5.0.1",commentString:"https://openpgpjs.org",maxUserIDLength:5120,knownNotations:["preferred-email-encoding@pgp.com","pka-address@gnupg.org"],useIndutnyElliptic:!0,rejectHashAlgorithms:new Set([B.hash.md5,B.hash.ripemd]),rejectMessageHashAlgorithms:new Set([B.hash.md5,B.hash.ripemd,B.hash.sha1]),rejectPublicKeyAlgorithms:new Set([B.publicKey.elgamal,B.publicKey.dsa]),rejectCurves:new Set([B.curve.brainpoolP256r1,B.curve.brainpoolP384r1,B.curve.brainpoolP512r1,B.curve.secp256k1])};function Dl(t){const e=t.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!e)throw Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(e[1])?B.armor.multipartSection:/MESSAGE, PART \d+/.test(e[1])?B.armor.multipartLast:/SIGNED MESSAGE/.test(e[1])?B.armor.signed:/MESSAGE/.test(e[1])?B.armor.message:/PUBLIC KEY BLOCK/.test(e[1])?B.armor.publicKey:/PRIVATE KEY BLOCK/.test(e[1])?B.armor.privateKey:/SIGNATURE/.test(e[1])?B.armor.signature:void 0}function si(t,e){let r="";return e.showVersion&&(r+="Version: "+e.versionString+`
`),e.showComment&&(r+="Comment: "+e.commentString+`
`),t&&(r+="Comment: "+t+`
`),r+=`
`,r}function Cn(t){return yn(function(e){let r=13501623;return we(e,n=>{const i=Ul?Math.floor(n.length/4):0,s=new Uint32Array(n.buffer,n.byteOffset,i);for(let a=0;a<i;a++)r^=s[a],r=Ee[0][r>>24&255]^Ee[1][r>>16&255]^Ee[2][r>>8&255]^Ee[3][r>>0&255];for(let a=4*i;a<n.length;a++)r=r>>8^Ee[0][255&r^n[a]]},()=>new Uint8Array([r,r>>8,r>>16]))}(t))}const Ee=[Array(255),Array(255),Array(255),Array(255)];for(let t=0;t<=255;t++){let e=t<<16;for(let r=0;r<8;r++)e=e<<1^((8388608&e)!=0?8801531:0);Ee[0][t]=(16711680&e)>>16|65280&e|(255&e)<<16}for(let t=0;t<=255;t++)Ee[1][t]=Ee[0][t]>>8^Ee[0][255&Ee[0][t]];for(let t=0;t<=255;t++)Ee[2][t]=Ee[1][t]>>8^Ee[0][255&Ee[1][t]];for(let t=0;t<=255;t++)Ee[3][t]=Ee[2][t]>>8^Ee[0][255&Ee[2][t]];const Ul=function(){const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,255,!0),new Int16Array(t)[0]===255}();function xu(t){for(let e=0;e<t.length;e++){if(!/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(t[e]))throw Error("Improperly formatted armor header: "+t[e]);/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(t[e])||H.printDebugError(Error("Unknown header: "+t[e]))}}function Bl(t){let e=t,r="";const n=t.lastIndexOf("=");return n>=0&&n!==t.length-1&&(e=t.slice(0,n),r=t.slice(n+1).substr(0,4)),{body:e,checksum:r}}function ys(t,e=It){return new Promise(async(r,n)=>{try{const i=/^-----[^-]+-----$/m,s=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/;let a;const o=[];let u,c,f,l=o,y=[],p=Pu(pn(t,async(k,x)=>{const E=jr(k);try{for(;;){let q=await E.readLine();if(q===void 0)throw Error("Misformed armored text");if(q=H.removeTrailingSpaces(q.replace(/[\r\n]/g,"")),a)if(u)c||a!==2||(i.test(q)?(y=y.join(`\r
`),c=!0,xu(l),l=[],u=!1):y.push(q.replace(/^- /,"")));else if(i.test(q)&&n(Error("Mandatory blank line missing between armor headers and armor data")),s.test(q)){if(xu(l),u=!0,c||a!==2){r({text:y,data:p,headers:o,type:a});break}}else l.push(q);else i.test(q)&&(a=Dl(q))}}catch(q){return void n(q)}const D=tr(x);try{for(;;){await D.ready;const{done:q,value:z}=await E.read();if(q)throw Error("Misformed armored text");const O=z+"";if(O.indexOf("=")!==-1||O.indexOf("-")!==-1){let L=await E.readToEnd();L.length||(L=""),L=O+L,L=H.removeTrailingSpaces(L.replace(/\r/g,""));const g=L.split(i);if(g.length===1)throw Error("Misformed armored text");const T=Bl(g[0].slice(0,-1));f=T.checksum,await D.write(T.body);break}await D.write(O)}await D.ready,await D.close()}catch(q){await D.abort(q)}}));p=pn(p,async(k,x)=>{const E=ke(Cn(Ci(k)));E.catch(()=>{}),await Mn(k,x,{preventClose:!0});const D=tr(x);try{const q=(await E).replace(`
`,"");if(f!==q&&(f||e.checksumRequired))throw Error("Ascii armor integrity check failed");await D.ready,await D.close()}catch(q){await D.abort(q)}})}catch(i){n(i)}}).then(async r=>(_e(r.data)&&(r.data=await ke(r.data)),r))}function ms(t,e,r,n,i,s=It){let a,o;t===B.armor.signed&&(a=e.text,o=e.hash,e=e.data);const u=Ci(e),c=[];switch(t){case B.armor.multipartSection:c.push("-----BEGIN PGP MESSAGE, PART "+r+"/"+n+`-----
`),c.push(si(i,s)),c.push(yn(e)),c.push("=",Cn(u)),c.push("-----END PGP MESSAGE, PART "+r+"/"+n+`-----
`);break;case B.armor.multipartLast:c.push("-----BEGIN PGP MESSAGE, PART "+r+`-----
`),c.push(si(i,s)),c.push(yn(e)),c.push("=",Cn(u)),c.push("-----END PGP MESSAGE, PART "+r+`-----
`);break;case B.armor.signed:c.push(`
-----BEGIN PGP SIGNED MESSAGE-----
`),c.push("Hash: "+o+`

`),c.push(a.replace(/^-/gm,"- -")),c.push(`
-----BEGIN PGP SIGNATURE-----
`),c.push(si(i,s)),c.push(yn(e)),c.push("=",Cn(u)),c.push(`-----END PGP SIGNATURE-----
`);break;case B.armor.message:c.push(`-----BEGIN PGP MESSAGE-----
`),c.push(si(i,s)),c.push(yn(e)),c.push("=",Cn(u)),c.push(`-----END PGP MESSAGE-----
`);break;case B.armor.publicKey:c.push(`-----BEGIN PGP PUBLIC KEY BLOCK-----
`),c.push(si(i,s)),c.push(yn(e)),c.push("=",Cn(u)),c.push(`-----END PGP PUBLIC KEY BLOCK-----
`);break;case B.armor.privateKey:c.push(`-----BEGIN PGP PRIVATE KEY BLOCK-----
`),c.push(si(i,s)),c.push(yn(e)),c.push("=",Cn(u)),c.push(`-----END PGP PRIVATE KEY BLOCK-----
`);break;case B.armor.signature:c.push(`-----BEGIN PGP SIGNATURE-----
`),c.push(si(i,s)),c.push(yn(e)),c.push("=",Cn(u)),c.push(`-----END PGP SIGNATURE-----
`)}return H.concat(c)}class Tn{constructor(){this.bytes=""}read(e){this.bytes=H.uint8ArrayToString(e.subarray(0,8))}write(){return H.stringToUint8Array(this.bytes)}toHex(){return H.uint8ArrayToHex(H.stringToUint8Array(this.bytes))}equals(e,r=!1){return r&&(e.isWildcard()||this.isWildcard())||this.bytes===e.bytes}isNull(){return this.bytes===""}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(e){return e.toHex()}static fromID(e){const r=new Tn;return r.read(H.hexToUint8Array(e)),r}static wildcard(){const e=new Tn;return e.read(new Uint8Array(8)),e}}var te=function(){var t,e,r=!1;function n(l,y){var p=t[(e[l]+e[y])%255];return l!==0&&y!==0||(p=0),p}var i,s,a,o,u=!1;function c(){function l(x){var E,D,q;for(D=q=function(z){var O=t[255-e[z]];return z===0&&(O=0),O}(x),E=0;E<4;E++)q^=D=255&(D<<1|D>>>7);return q^=99}r||function(){t=[],e=[];var x,E,D=1;for(x=0;x<255;x++)t[x]=D,E=128&D,D<<=1,D&=255,E===128&&(D^=27),D^=t[x],e[t[x]]=x;t[255]=t[0],e[0]=0,r=!0}(),i=[],s=[],a=[[],[],[],[]],o=[[],[],[],[]];for(var y=0;y<256;y++){var p=l(y);i[y]=p,s[p]=y,a[0][y]=n(2,p)<<24|p<<16|p<<8|n(3,p),o[0][p]=n(14,y)<<24|n(9,y)<<16|n(13,y)<<8|n(11,y);for(var k=1;k<4;k++)a[k][y]=a[k-1][y]>>>8|a[k-1][y]<<24,o[k][p]=o[k-1][p]>>>8|o[k-1][p]<<24}u=!0}var f=function(l,y){u||c();var p=new Uint32Array(y);p.set(i,512),p.set(s,768);for(var k=0;k<4;k++)p.set(a[k],4096+1024*k>>2),p.set(o[k],8192+1024*k>>2);var x=function(E,D,q){var z=0,O=0,L=0,g=0,T=0,h=0,d=0,w=0,m=0,v=0,I=0,U=0,$=0,nt=0,b=0,C=0,V=0,Z=0,it=0,lt=0,dt=0,pt=new E.Uint32Array(q),G=new E.Uint8Array(q);function ut(W,j,Et,At,Ot,Zt,jt,Ft){W=W|0,j=j|0,Et=Et|0,At=At|0,Ot=Ot|0,Zt=Zt|0,jt=jt|0,Ft=Ft|0;var oe=0,Yt=0,Jt=0,ue=0,zt=0,Wt=0,ee=0,Nt=0;for(oe=Et|1024,Yt=Et|2048,Jt=Et|3072,Ot=Ot^pt[(W|0)>>2],Zt=Zt^pt[(W|4)>>2],jt=jt^pt[(W|8)>>2],Ft=Ft^pt[(W|12)>>2],Nt=16;(Nt|0)<=At<<4;Nt=Nt+16|0)ue=pt[(Et|Ot>>22&1020)>>2]^pt[(oe|Zt>>14&1020)>>2]^pt[(Yt|jt>>6&1020)>>2]^pt[(Jt|Ft<<2&1020)>>2]^pt[(W|Nt|0)>>2],zt=pt[(Et|Zt>>22&1020)>>2]^pt[(oe|jt>>14&1020)>>2]^pt[(Yt|Ft>>6&1020)>>2]^pt[(Jt|Ot<<2&1020)>>2]^pt[(W|Nt|4)>>2],Wt=pt[(Et|jt>>22&1020)>>2]^pt[(oe|Ft>>14&1020)>>2]^pt[(Yt|Ot>>6&1020)>>2]^pt[(Jt|Zt<<2&1020)>>2]^pt[(W|Nt|8)>>2],ee=pt[(Et|Ft>>22&1020)>>2]^pt[(oe|Ot>>14&1020)>>2]^pt[(Yt|Zt>>6&1020)>>2]^pt[(Jt|jt<<2&1020)>>2]^pt[(W|Nt|12)>>2],Ot=ue,Zt=zt,jt=Wt,Ft=ee;z=pt[(j|Ot>>22&1020)>>2]<<24^pt[(j|Zt>>14&1020)>>2]<<16^pt[(j|jt>>6&1020)>>2]<<8^pt[(j|Ft<<2&1020)>>2]^pt[(W|Nt|0)>>2],O=pt[(j|Zt>>22&1020)>>2]<<24^pt[(j|jt>>14&1020)>>2]<<16^pt[(j|Ft>>6&1020)>>2]<<8^pt[(j|Ot<<2&1020)>>2]^pt[(W|Nt|4)>>2],L=pt[(j|jt>>22&1020)>>2]<<24^pt[(j|Ft>>14&1020)>>2]<<16^pt[(j|Ot>>6&1020)>>2]<<8^pt[(j|Zt<<2&1020)>>2]^pt[(W|Nt|8)>>2],g=pt[(j|Ft>>22&1020)>>2]<<24^pt[(j|Ot>>14&1020)>>2]<<16^pt[(j|Zt>>6&1020)>>2]<<8^pt[(j|jt<<2&1020)>>2]^pt[(W|Nt|12)>>2]}function F(W,j,Et,At){W=W|0,j=j|0,Et=Et|0,At=At|0,ut(0,2048,4096,dt,W,j,Et,At)}function S(W,j,Et,At){W=W|0,j=j|0,Et=Et|0,At=At|0;var Ot=0;ut(1024,3072,8192,dt,W,At,Et,j),Ot=O,O=g,g=Ot}function Y(W,j,Et,At){W=W|0,j=j|0,Et=Et|0,At=At|0,ut(0,2048,4096,dt,T^W,h^j,d^Et,w^At),T=z,h=O,d=L,w=g}function A(W,j,Et,At){W=W|0,j=j|0,Et=Et|0,At=At|0;var Ot=0;ut(1024,3072,8192,dt,W,At,Et,j),Ot=O,O=g,g=Ot,z=z^T,O=O^h,L=L^d,g=g^w,T=W,h=j,d=Et,w=At}function R(W,j,Et,At){W=W|0,j=j|0,Et=Et|0,At=At|0,ut(0,2048,4096,dt,T,h,d,w),T=z=z^W,h=O=O^j,d=L=L^Et,w=g=g^At}function N(W,j,Et,At){W=W|0,j=j|0,Et=Et|0,At=At|0,ut(0,2048,4096,dt,T,h,d,w),z=z^W,O=O^j,L=L^Et,g=g^At,T=W,h=j,d=Et,w=At}function P(W,j,Et,At){W=W|0,j=j|0,Et=Et|0,At=At|0,ut(0,2048,4096,dt,T,h,d,w),T=z,h=O,d=L,w=g,z=z^W,O=O^j,L=L^Et,g=g^At}function _(W,j,Et,At){W=W|0,j=j|0,Et=Et|0,At=At|0,ut(0,2048,4096,dt,m,v,I,U),U=~C&U|C&U+1,I=~b&I|b&I+((U|0)==0),v=~nt&v|nt&v+((I|0)==0),m=~$&m|$&m+((v|0)==0),z=z^W,O=O^j,L=L^Et,g=g^At}function M(W,j,Et,At){W=W|0,j=j|0,Et=Et|0,At=At|0;var Ot=0,Zt=0,jt=0,Ft=0,oe=0,Yt=0,Jt=0,ue=0,zt=0,Wt=0;for(W=W^T,j=j^h,Et=Et^d,At=At^w,Ot=V|0,Zt=Z|0,jt=it|0,Ft=lt|0;(zt|0)<128;zt=zt+1|0)Ot>>>31&&(oe=oe^W,Yt=Yt^j,Jt=Jt^Et,ue=ue^At),Ot=Ot<<1|Zt>>>31,Zt=Zt<<1|jt>>>31,jt=jt<<1|Ft>>>31,Ft=Ft<<1,Wt=At&1,At=At>>>1|Et<<31,Et=Et>>>1|j<<31,j=j>>>1|W<<31,W=W>>>1,Wt&&(W=W^3774873600);T=oe,h=Yt,d=Jt,w=ue}function K(W){W=W|0,dt=W}function Q(W,j,Et,At){W=W|0,j=j|0,Et=Et|0,At=At|0,z=W,O=j,L=Et,g=At}function J(W,j,Et,At){W=W|0,j=j|0,Et=Et|0,At=At|0,T=W,h=j,d=Et,w=At}function rt(W,j,Et,At){W=W|0,j=j|0,Et=Et|0,At=At|0,m=W,v=j,I=Et,U=At}function bt(W,j,Et,At){W=W|0,j=j|0,Et=Et|0,At=At|0,$=W,nt=j,b=Et,C=At}function _t(W,j,Et,At){W=W|0,j=j|0,Et=Et|0,At=At|0,U=~C&U|C&At,I=~b&I|b&Et,v=~nt&v|nt&j,m=~$&m|$&W}function Pt(W){return W=W|0,W&15?-1:(G[W|0]=z>>>24,G[W|1]=z>>>16&255,G[W|2]=z>>>8&255,G[W|3]=z&255,G[W|4]=O>>>24,G[W|5]=O>>>16&255,G[W|6]=O>>>8&255,G[W|7]=O&255,G[W|8]=L>>>24,G[W|9]=L>>>16&255,G[W|10]=L>>>8&255,G[W|11]=L&255,G[W|12]=g>>>24,G[W|13]=g>>>16&255,G[W|14]=g>>>8&255,G[W|15]=g&255,16)}function tt(W){return W=W|0,W&15?-1:(G[W|0]=T>>>24,G[W|1]=T>>>16&255,G[W|2]=T>>>8&255,G[W|3]=T&255,G[W|4]=h>>>24,G[W|5]=h>>>16&255,G[W|6]=h>>>8&255,G[W|7]=h&255,G[W|8]=d>>>24,G[W|9]=d>>>16&255,G[W|10]=d>>>8&255,G[W|11]=d&255,G[W|12]=w>>>24,G[W|13]=w>>>16&255,G[W|14]=w>>>8&255,G[W|15]=w&255,16)}function et(){F(0,0,0,0),V=z,Z=O,it=L,lt=g}function ct(W,j,Et){W=W|0,j=j|0,Et=Et|0;var At=0;if(j&15)return-1;for(;(Et|0)>=16;)at[W&7](G[j|0]<<24|G[j|1]<<16|G[j|2]<<8|G[j|3],G[j|4]<<24|G[j|5]<<16|G[j|6]<<8|G[j|7],G[j|8]<<24|G[j|9]<<16|G[j|10]<<8|G[j|11],G[j|12]<<24|G[j|13]<<16|G[j|14]<<8|G[j|15]),G[j|0]=z>>>24,G[j|1]=z>>>16&255,G[j|2]=z>>>8&255,G[j|3]=z&255,G[j|4]=O>>>24,G[j|5]=O>>>16&255,G[j|6]=O>>>8&255,G[j|7]=O&255,G[j|8]=L>>>24,G[j|9]=L>>>16&255,G[j|10]=L>>>8&255,G[j|11]=L&255,G[j|12]=g>>>24,G[j|13]=g>>>16&255,G[j|14]=g>>>8&255,G[j|15]=g&255,At=At+16|0,j=j+16|0,Et=Et-16|0;return At|0}function st(W,j,Et){W=W|0,j=j|0,Et=Et|0;var At=0;if(j&15)return-1;for(;(Et|0)>=16;)ht[W&1](G[j|0]<<24|G[j|1]<<16|G[j|2]<<8|G[j|3],G[j|4]<<24|G[j|5]<<16|G[j|6]<<8|G[j|7],G[j|8]<<24|G[j|9]<<16|G[j|10]<<8|G[j|11],G[j|12]<<24|G[j|13]<<16|G[j|14]<<8|G[j|15]),At=At+16|0,j=j+16|0,Et=Et-16|0;return At|0}var at=[F,S,Y,A,R,N,P,_],ht=[Y,M];return{set_rounds:K,set_state:Q,set_iv:J,set_nonce:rt,set_mask:bt,set_counter:_t,get_state:Pt,get_iv:tt,gcm_init:et,cipher:ct,mac:st}}({Uint8Array,Uint32Array},l,y);return x.set_key=function(E,D,q,z,O,L,g,T,h){var d=p.subarray(0,60),w=p.subarray(256,316);d.set([D,q,z,O,L,g,T,h]);for(var m=E,v=1;m<4*E+28;m++){var I=d[m-1];(m%E==0||E===8&&m%E==4)&&(I=i[I>>>24]<<24^i[I>>>16&255]<<16^i[I>>>8&255]<<8^i[255&I]),m%E==0&&(I=I<<8^I>>>24^v<<24,v=v<<1^(128&v?27:0)),d[m]=d[m-E]^I}for(var U=0;U<m;U+=4)for(var $=0;$<4;$++)I=d[m-(4+U)+(4-$)%4],w[U+$]=U<4||U>=m-4?I:o[0][i[I>>>24]]^o[1][i[I>>>16&255]]^o[2][i[I>>>8&255]]^o[3][i[255&I]];x.set_rounds(E+5)},x};return f.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},f.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},f.MAC={CBC:0,GCM:1},f.HEAP_DATA=16384,f}();function Mu(t){return t instanceof Uint8Array}function dc(t,e){const r=t?t.byteLength:e||65536;if(4095&r||r<=0)throw Error("heap size must be a positive integer and a multiple of 4096");return t=t||new Uint8Array(new ArrayBuffer(r))}function ai(t,e,r,n,i){const s=t.length-e,a=s<i?s:i;return t.set(r.subarray(n,n+a),e),a}function In(...t){const e=t.reduce((i,s)=>i+s.length,0),r=new Uint8Array(e);let n=0;for(let i=0;i<t.length;i++)r.set(t[i],n),n+=t[i].length;return r}class pc extends Error{constructor(...e){super(...e)}}class gn extends Error{constructor(...e){super(...e)}}class yc extends Error{constructor(...e){super(...e)}}const Ru=[],Cu=[];class gs{constructor(e,r,n=!0,i,s,a){this.pos=0,this.len=0,this.mode=i,this.pos=0,this.len=0,this.key=e,this.iv=r,this.padding=n,this.acquire_asm(s,a)}acquire_asm(e,r){return this.heap!==void 0&&this.asm!==void 0||(this.heap=e||Ru.pop()||dc().subarray(te.HEAP_DATA),this.asm=r||Cu.pop()||new te(null,this.heap.buffer),this.reset(this.key,this.iv)),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(Ru.push(this.heap),Cu.push(this.asm)),this.heap=void 0,this.asm=void 0}reset(e,r){const{asm:n}=this.acquire_asm(),i=e.length;if(i!==16&&i!==24&&i!==32)throw new gn("illegal key size");const s=new DataView(e.buffer,e.byteOffset,e.byteLength);if(n.set_key(i>>2,s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12),i>16?s.getUint32(16):0,i>16?s.getUint32(20):0,i>24?s.getUint32(24):0,i>24?s.getUint32(28):0),r!==void 0){if(r.length!==16)throw new gn("illegal iv size");let a=new DataView(r.buffer,r.byteOffset,r.byteLength);n.set_iv(a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12))}else n.set_iv(0,0,0,0)}AES_Encrypt_process(e){if(!Mu(e))throw new TypeError("data isn't of expected type");let{heap:r,asm:n}=this.acquire_asm(),i=te.ENC[this.mode],s=te.HEAP_DATA,a=this.pos,o=this.len,u=0,c=e.length||0,f=0,l=0,y=new Uint8Array(o+c&-16);for(;c>0;)l=ai(r,a+o,e,u,c),o+=l,u+=l,c-=l,l=n.cipher(i,s+a,o),l&&y.set(r.subarray(a,a+l),f),f+=l,l<o?(a+=l,o-=l):(a=0,o=0);return this.pos=a,this.len=o,y}AES_Encrypt_finish(){let{heap:e,asm:r}=this.acquire_asm(),n=te.ENC[this.mode],i=te.HEAP_DATA,s=this.pos,a=this.len,o=16-a%16,u=a;if(this.hasOwnProperty("padding")){if(this.padding){for(let f=0;f<o;++f)e[s+a+f]=o;a+=o,u=a}else if(a%16)throw new gn("data length must be a multiple of the block size")}else a+=o;const c=new Uint8Array(u);return a&&r.cipher(n,i+s,a),u&&c.set(e.subarray(s,s+u)),this.pos=0,this.len=0,this.release_asm(),c}AES_Decrypt_process(e){if(!Mu(e))throw new TypeError("data isn't of expected type");let{heap:r,asm:n}=this.acquire_asm(),i=te.DEC[this.mode],s=te.HEAP_DATA,a=this.pos,o=this.len,u=0,c=e.length||0,f=0,l=o+c&-16,y=0,p=0;this.padding&&(y=o+c-l||16,l-=y);const k=new Uint8Array(l);for(;c>0;)p=ai(r,a+o,e,u,c),o+=p,u+=p,c-=p,p=n.cipher(i,s+a,o-(c?0:y)),p&&k.set(r.subarray(a,a+p),f),f+=p,p<o?(a+=p,o-=p):(a=0,o=0);return this.pos=a,this.len=o,k}AES_Decrypt_finish(){let{heap:e,asm:r}=this.acquire_asm(),n=te.DEC[this.mode],i=te.HEAP_DATA,s=this.pos,a=this.len,o=a;if(a>0){if(a%16){if(this.hasOwnProperty("padding"))throw new gn("data length must be a multiple of the block size");a+=16-a%16}if(r.cipher(n,i+s,a),this.hasOwnProperty("padding")&&this.padding){let c=e[s+o-1];if(c<1||c>16||c>o)throw new yc("bad padding");let f=0;for(let l=c;l>1;l--)f|=c^e[s+o-l];if(f)throw new yc("bad padding");o-=c}}const u=new Uint8Array(o);return o>0&&u.set(e.subarray(s,s+o)),this.pos=0,this.len=0,this.release_asm(),u}}class Ea{static encrypt(e,r,n=!1){return new Ea(r,n).encrypt(e)}static decrypt(e,r,n=!1){return new Ea(r,n).decrypt(e)}constructor(e,r=!1,n){this.aes=n||new gs(e,void 0,r,"ECB")}encrypt(e){return In(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return In(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}function mc(t){const e=function(r){const n=new Ea(r);this.encrypt=function(i){return n.encrypt(i)},this.decrypt=function(i){return n.decrypt(i)}};return e.blockSize=e.prototype.blockSize=16,e.keySize=e.prototype.keySize=t/8,e}function bs(t,e,r,n,i,s){const a=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],u=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],f=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],l=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],y=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],p=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];let k,x,E,D,q,z,O,L,g,T,h,d,w,m,v=0,I=e.length;const U=t.length===32?3:9;L=U===3?r?[0,32,2]:[30,-2,-2]:r?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],r&&(I=(e=function(b,C){const V=8-b.length%8;let Z;if(C===2&&V<8)Z=32;else if(C===1)Z=V;else{if(C||!(V<8)){if(V===8)return b;throw Error("des: invalid padding")}Z=0}const it=new Uint8Array(b.length+V);for(let lt=0;lt<b.length;lt++)it[lt]=b[lt];for(let lt=0;lt<V;lt++)it[b.length+lt]=Z;return it}(e,s)).length);let $=new Uint8Array(I),nt=0;for(n===1&&(g=i[v++]<<24|i[v++]<<16|i[v++]<<8|i[v++],h=i[v++]<<24|i[v++]<<16|i[v++]<<8|i[v++],v=0);v<I;){for(z=e[v++]<<24|e[v++]<<16|e[v++]<<8|e[v++],O=e[v++]<<24|e[v++]<<16|e[v++]<<8|e[v++],n===1&&(r?(z^=g,O^=h):(T=g,d=h,g=z,h=O)),E=252645135&(z>>>4^O),O^=E,z^=E<<4,E=65535&(z>>>16^O),O^=E,z^=E<<16,E=858993459&(O>>>2^z),z^=E,O^=E<<2,E=16711935&(O>>>8^z),z^=E,O^=E<<8,E=1431655765&(z>>>1^O),O^=E,z^=E<<1,z=z<<1|z>>>31,O=O<<1|O>>>31,x=0;x<U;x+=3){for(w=L[x+1],m=L[x+2],k=L[x];k!==w;k+=m)D=O^t[k],q=(O>>>4|O<<28)^t[k+1],E=z,z=O,O=E^(o[D>>>24&63]|c[D>>>16&63]|l[D>>>8&63]|p[63&D]|a[q>>>24&63]|u[q>>>16&63]|f[q>>>8&63]|y[63&q]);E=z,z=O,O=E}z=z>>>1|z<<31,O=O>>>1|O<<31,E=1431655765&(z>>>1^O),O^=E,z^=E<<1,E=16711935&(O>>>8^z),z^=E,O^=E<<8,E=858993459&(O>>>2^z),z^=E,O^=E<<2,E=65535&(z>>>16^O),O^=E,z^=E<<16,E=252645135&(z>>>4^O),O^=E,z^=E<<4,n===1&&(r?(g=z,h=O):(z^=T,O^=d)),$[nt++]=z>>>24,$[nt++]=z>>>16&255,$[nt++]=z>>>8&255,$[nt++]=255&z,$[nt++]=O>>>24,$[nt++]=O>>>16&255,$[nt++]=O>>>8&255,$[nt++]=255&O}return r||($=function(b,C){let V,Z=null;if(C===2)V=32;else if(C===1)Z=b[b.length-1];else{if(C)throw Error("des: invalid padding");V=0}if(!Z){for(Z=1;b[b.length-Z]===V;)Z++;Z--}return b.subarray(0,b.length-Z)}($,s)),$}function vs(t){const e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],y=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],k=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],x=t.length>8?3:1,E=Array(32*x),D=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0];let q,z,O,L=0,g=0;for(let T=0;T<x;T++){let h=t[L++]<<24|t[L++]<<16|t[L++]<<8|t[L++],d=t[L++]<<24|t[L++]<<16|t[L++]<<8|t[L++];O=252645135&(h>>>4^d),d^=O,h^=O<<4,O=65535&(d>>>-16^h),h^=O,d^=O<<-16,O=858993459&(h>>>2^d),d^=O,h^=O<<2,O=65535&(d>>>-16^h),h^=O,d^=O<<-16,O=1431655765&(h>>>1^d),d^=O,h^=O<<1,O=16711935&(d>>>8^h),h^=O,d^=O<<8,O=1431655765&(h>>>1^d),d^=O,h^=O<<1,O=h<<8|d>>>20&240,h=d<<24|d<<8&16711680|d>>>8&65280|d>>>24&240,d=O;for(let w=0;w<16;w++)D[w]?(h=h<<2|h>>>26,d=d<<2|d>>>26):(h=h<<1|h>>>27,d=d<<1|d>>>27),h&=-15,d&=-15,q=e[h>>>28]|r[h>>>24&15]|n[h>>>20&15]|i[h>>>16&15]|s[h>>>12&15]|a[h>>>8&15]|o[h>>>4&15],z=u[d>>>28]|c[d>>>24&15]|f[d>>>20&15]|l[d>>>16&15]|y[d>>>12&15]|p[d>>>8&15]|k[d>>>4&15],O=65535&(z>>>16^q),E[g++]=q^O,E[g++]=z^O<<16}return E}function ws(t){this.key=[];for(let e=0;e<3;e++)this.key.push(new Uint8Array(t.subarray(8*e,8*e+8)));this.encrypt=function(e){return bs(vs(this.key[2]),bs(vs(this.key[1]),bs(vs(this.key[0]),e,!0,0,null,null),!1,0,null,null),!0,0,null,null)}}function Ol(){this.BlockSize=8,this.KeySize=16,this.setKey=function(a){if(this.masking=Array(16),this.rotate=Array(16),this.reset(),a.length!==this.KeySize)throw Error("CAST-128: keys must be 16 bytes");return this.keySchedule(a),!0},this.reset=function(){for(let a=0;a<16;a++)this.masking[a]=0,this.rotate[a]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(a){const o=Array(a.length);for(let u=0;u<a.length;u+=8){let c,f=a[u]<<24|a[u+1]<<16|a[u+2]<<8|a[u+3],l=a[u+4]<<24|a[u+5]<<16|a[u+6]<<8|a[u+7];c=l,l=f^r(l,this.masking[0],this.rotate[0]),f=c,c=l,l=f^n(l,this.masking[1],this.rotate[1]),f=c,c=l,l=f^i(l,this.masking[2],this.rotate[2]),f=c,c=l,l=f^r(l,this.masking[3],this.rotate[3]),f=c,c=l,l=f^n(l,this.masking[4],this.rotate[4]),f=c,c=l,l=f^i(l,this.masking[5],this.rotate[5]),f=c,c=l,l=f^r(l,this.masking[6],this.rotate[6]),f=c,c=l,l=f^n(l,this.masking[7],this.rotate[7]),f=c,c=l,l=f^i(l,this.masking[8],this.rotate[8]),f=c,c=l,l=f^r(l,this.masking[9],this.rotate[9]),f=c,c=l,l=f^n(l,this.masking[10],this.rotate[10]),f=c,c=l,l=f^i(l,this.masking[11],this.rotate[11]),f=c,c=l,l=f^r(l,this.masking[12],this.rotate[12]),f=c,c=l,l=f^n(l,this.masking[13],this.rotate[13]),f=c,c=l,l=f^i(l,this.masking[14],this.rotate[14]),f=c,c=l,l=f^r(l,this.masking[15],this.rotate[15]),f=c,o[u]=l>>>24&255,o[u+1]=l>>>16&255,o[u+2]=l>>>8&255,o[u+3]=255&l,o[u+4]=f>>>24&255,o[u+5]=f>>>16&255,o[u+6]=f>>>8&255,o[u+7]=255&f}return o},this.decrypt=function(a){const o=Array(a.length);for(let u=0;u<a.length;u+=8){let c,f=a[u]<<24|a[u+1]<<16|a[u+2]<<8|a[u+3],l=a[u+4]<<24|a[u+5]<<16|a[u+6]<<8|a[u+7];c=l,l=f^r(l,this.masking[15],this.rotate[15]),f=c,c=l,l=f^i(l,this.masking[14],this.rotate[14]),f=c,c=l,l=f^n(l,this.masking[13],this.rotate[13]),f=c,c=l,l=f^r(l,this.masking[12],this.rotate[12]),f=c,c=l,l=f^i(l,this.masking[11],this.rotate[11]),f=c,c=l,l=f^n(l,this.masking[10],this.rotate[10]),f=c,c=l,l=f^r(l,this.masking[9],this.rotate[9]),f=c,c=l,l=f^i(l,this.masking[8],this.rotate[8]),f=c,c=l,l=f^n(l,this.masking[7],this.rotate[7]),f=c,c=l,l=f^r(l,this.masking[6],this.rotate[6]),f=c,c=l,l=f^i(l,this.masking[5],this.rotate[5]),f=c,c=l,l=f^n(l,this.masking[4],this.rotate[4]),f=c,c=l,l=f^r(l,this.masking[3],this.rotate[3]),f=c,c=l,l=f^i(l,this.masking[2],this.rotate[2]),f=c,c=l,l=f^n(l,this.masking[1],this.rotate[1]),f=c,c=l,l=f^r(l,this.masking[0],this.rotate[0]),f=c,o[u]=l>>>24&255,o[u+1]=l>>>16&255,o[u+2]=l>>>8&255,o[u+3]=255&l,o[u+4]=f>>>24&255,o[u+5]=f>>16&255,o[u+6]=f>>8&255,o[u+7]=255&f}return o};const t=[,,,,];t[0]=[,,,,],t[0][0]=[4,0,13,15,12,14,8],t[0][1]=[5,2,16,18,17,19,10],t[0][2]=[6,3,23,22,21,20,9],t[0][3]=[7,1,26,25,27,24,11],t[1]=[,,,,],t[1][0]=[0,6,21,23,20,22,16],t[1][1]=[1,4,0,2,1,3,18],t[1][2]=[2,5,7,6,5,4,17],t[1][3]=[3,7,10,9,11,8,19],t[2]=[,,,,],t[2][0]=[4,0,13,15,12,14,8],t[2][1]=[5,2,16,18,17,19,10],t[2][2]=[6,3,23,22,21,20,9],t[2][3]=[7,1,26,25,27,24,11],t[3]=[,,,,],t[3][0]=[0,6,21,23,20,22,16],t[3][1]=[1,4,0,2,1,3,18],t[3][2]=[2,5,7,6,5,4,17],t[3][3]=[3,7,10,9,11,8,19];const e=[,,,,];function r(a,o,u){const c=o+a,f=c<<u|c>>>32-u;return(s[0][f>>>24]^s[1][f>>>16&255])-s[2][f>>>8&255]+s[3][255&f]}function n(a,o,u){const c=o^a,f=c<<u|c>>>32-u;return s[0][f>>>24]-s[1][f>>>16&255]+s[2][f>>>8&255]^s[3][255&f]}function i(a,o,u){const c=o-a,f=c<<u|c>>>32-u;return(s[0][f>>>24]+s[1][f>>>16&255]^s[2][f>>>8&255])-s[3][255&f]}e[0]=[,,,,],e[0][0]=[24,25,23,22,18],e[0][1]=[26,27,21,20,22],e[0][2]=[28,29,19,18,25],e[0][3]=[30,31,17,16,28],e[1]=[,,,,],e[1][0]=[3,2,12,13,8],e[1][1]=[1,0,14,15,13],e[1][2]=[7,6,8,9,3],e[1][3]=[5,4,10,11,7],e[2]=[,,,,],e[2][0]=[19,18,28,29,25],e[2][1]=[17,16,30,31,28],e[2][2]=[23,22,24,25,18],e[2][3]=[21,20,26,27,22],e[3]=[,,,,],e[3][0]=[8,9,7,6,3],e[3][1]=[10,11,5,4,7],e[3][2]=[12,13,3,2,8],e[3][3]=[14,15,1,0,13],this.keySchedule=function(a){const o=[,,,,,,,,],u=Array(32);let c;for(let p=0;p<4;p++)c=4*p,o[p]=a[c]<<24|a[c+1]<<16|a[c+2]<<8|a[c+3];const f=[6,7,4,5];let l,y=0;for(let p=0;p<2;p++)for(let k=0;k<4;k++){for(c=0;c<4;c++){const x=t[k][c];l=o[x[1]],l^=s[4][o[x[2]>>>2]>>>24-8*(3&x[2])&255],l^=s[5][o[x[3]>>>2]>>>24-8*(3&x[3])&255],l^=s[6][o[x[4]>>>2]>>>24-8*(3&x[4])&255],l^=s[7][o[x[5]>>>2]>>>24-8*(3&x[5])&255],l^=s[f[c]][o[x[6]>>>2]>>>24-8*(3&x[6])&255],o[x[0]]=l}for(c=0;c<4;c++){const x=e[k][c];l=s[4][o[x[0]>>>2]>>>24-8*(3&x[0])&255],l^=s[5][o[x[1]>>>2]>>>24-8*(3&x[1])&255],l^=s[6][o[x[2]>>>2]>>>24-8*(3&x[2])&255],l^=s[7][o[x[3]>>>2]>>>24-8*(3&x[3])&255],l^=s[4+c][o[x[4]>>>2]>>>24-8*(3&x[4])&255],u[y]=l,y++}}for(let p=0;p<16;p++)this.masking[p]=u[p],this.rotate[p]=31&u[16+p]};const s=[,,,,,,,,];s[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],s[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],s[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],s[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],s[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],s[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],s[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],s[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function _s(t){this.cast5=new Ol,this.cast5.setKey(t),this.encrypt=function(e){return this.cast5.encrypt(e)}}ws.keySize=ws.prototype.keySize=24,ws.blockSize=ws.prototype.blockSize=8,_s.blockSize=_s.prototype.blockSize=8,_s.keySize=_s.prototype.keySize=16;const br=4294967295;function qr(t,e){return(t<<e|t>>>32-e)&br}function bn(t,e){return t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24}function Dn(t,e,r){t.splice(e,4,255&r,r>>>8&255,r>>>16&255,r>>>24&255)}function Xt(t,e){return t>>>8*e&255}function As(t){this.tf=function(){let e=null,r=null,n=-1,i=[],s=[[],[],[],[]];function a(f){return s[0][Xt(f,0)]^s[1][Xt(f,1)]^s[2][Xt(f,2)]^s[3][Xt(f,3)]}function o(f){return s[0][Xt(f,3)]^s[1][Xt(f,0)]^s[2][Xt(f,1)]^s[3][Xt(f,2)]}function u(f,l){let y=a(l[0]),p=o(l[1]);l[2]=qr(l[2]^y+p+i[4*f+8]&br,31),l[3]=qr(l[3],1)^y+2*p+i[4*f+9]&br,y=a(l[2]),p=o(l[3]),l[0]=qr(l[0]^y+p+i[4*f+10]&br,31),l[1]=qr(l[1],1)^y+2*p+i[4*f+11]&br}function c(f,l){let y=a(l[0]),p=o(l[1]);l[2]=qr(l[2],1)^y+p+i[4*f+10]&br,l[3]=qr(l[3]^y+2*p+i[4*f+11]&br,31),y=a(l[2]),p=o(l[3]),l[0]=qr(l[0],1)^y+p+i[4*f+8]&br,l[1]=qr(l[1]^y+2*p+i[4*f+9]&br,31)}return{name:"twofish",blocksize:16,open:function(f){let l,y,p,k,x;e=f;const E=[],D=[],q=[];let z;const O=[];let L,g,T;const h=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],d=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],w=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],m=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],v=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],I=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],U=[[],[]],$=[[],[],[],[]];function nt(it){return it^it>>2^[0,90,180,238][3&it]}function b(it){return it^it>>1^it>>2^[0,238,180,90][3&it]}function C(it,lt){let dt,pt,G;for(dt=0;dt<8;dt++)pt=lt>>>24,lt=lt<<8&br|it>>>24,it=it<<8&br,G=pt<<1,128&pt&&(G^=333),lt^=pt^G<<16,G^=pt>>>1,1&pt&&(G^=166),lt^=G<<24|G<<8;return lt}function V(it,lt){const dt=lt>>4,pt=15&lt,G=h[it][dt^pt],ut=d[it][v[pt]^I[dt]];return m[it][v[ut]^I[G]]<<4|w[it][G^ut]}function Z(it,lt){let dt=Xt(it,0),pt=Xt(it,1),G=Xt(it,2),ut=Xt(it,3);switch(z){case 4:dt=U[1][dt]^Xt(lt[3],0),pt=U[0][pt]^Xt(lt[3],1),G=U[0][G]^Xt(lt[3],2),ut=U[1][ut]^Xt(lt[3],3);case 3:dt=U[1][dt]^Xt(lt[2],0),pt=U[1][pt]^Xt(lt[2],1),G=U[0][G]^Xt(lt[2],2),ut=U[0][ut]^Xt(lt[2],3);case 2:dt=U[0][U[0][dt]^Xt(lt[1],0)]^Xt(lt[0],0),pt=U[0][U[1][pt]^Xt(lt[1],1)]^Xt(lt[0],1),G=U[1][U[0][G]^Xt(lt[1],2)]^Xt(lt[0],2),ut=U[1][U[1][ut]^Xt(lt[1],3)]^Xt(lt[0],3)}return $[0][dt]^$[1][pt]^$[2][G]^$[3][ut]}for(e=e.slice(0,32),l=e.length;l!==16&&l!==24&&l!==32;)e[l++]=0;for(l=0;l<e.length;l+=4)q[l>>2]=bn(e,l);for(l=0;l<256;l++)U[0][l]=V(0,l),U[1][l]=V(1,l);for(l=0;l<256;l++)L=U[1][l],g=nt(L),T=b(L),$[0][l]=L+(g<<8)+(T<<16)+(T<<24),$[2][l]=g+(T<<8)+(L<<16)+(T<<24),L=U[0][l],g=nt(L),T=b(L),$[1][l]=T+(T<<8)+(g<<16)+(L<<24),$[3][l]=g+(L<<8)+(T<<16)+(g<<24);for(z=q.length/2,l=0;l<z;l++)y=q[l+l],E[l]=y,p=q[l+l+1],D[l]=p,O[z-l-1]=C(y,p);for(l=0;l<40;l+=2)y=16843009*l,p=y+16843009,y=Z(y,E),p=qr(Z(p,D),8),i[l]=y+p&br,i[l+1]=qr(y+2*p,9);for(l=0;l<256;l++)switch(y=p=k=x=l,z){case 4:y=U[1][y]^Xt(O[3],0),p=U[0][p]^Xt(O[3],1),k=U[0][k]^Xt(O[3],2),x=U[1][x]^Xt(O[3],3);case 3:y=U[1][y]^Xt(O[2],0),p=U[1][p]^Xt(O[2],1),k=U[0][k]^Xt(O[2],2),x=U[0][x]^Xt(O[2],3);case 2:s[0][l]=$[0][U[0][U[0][y]^Xt(O[1],0)]^Xt(O[0],0)],s[1][l]=$[1][U[0][U[1][p]^Xt(O[1],1)]^Xt(O[0],1)],s[2][l]=$[2][U[1][U[0][k]^Xt(O[1],2)]^Xt(O[0],2)],s[3][l]=$[3][U[1][U[1][x]^Xt(O[1],3)]^Xt(O[0],3)]}},close:function(){i=[],s=[[],[],[],[]]},encrypt:function(f,l){r=f,n=l;const y=[bn(r,n)^i[0],bn(r,n+4)^i[1],bn(r,n+8)^i[2],bn(r,n+12)^i[3]];for(let p=0;p<8;p++)u(p,y);return Dn(r,n,y[2]^i[4]),Dn(r,n+4,y[3]^i[5]),Dn(r,n+8,y[0]^i[6]),Dn(r,n+12,y[1]^i[7]),n+=16,r},decrypt:function(f,l){r=f,n=l;const y=[bn(r,n)^i[4],bn(r,n+4)^i[5],bn(r,n+8)^i[6],bn(r,n+12)^i[7]];for(let p=7;p>=0;p--)c(p,y);Dn(r,n,y[2]^i[0]),Dn(r,n+4,y[3]^i[1]),Dn(r,n+8,y[0]^i[2]),Dn(r,n+12,y[1]^i[3]),n+=16},finalize:function(){return r}}}(),this.tf.open(Array.from(t),0),this.encrypt=function(e){return this.tf.encrypt(Array.from(e),0)}}function Rr(){}function ks(t){this.bf=new Rr,this.bf.init(t),this.encrypt=function(e){return this.bf.encryptBlock(e)}}As.keySize=As.prototype.keySize=32,As.blockSize=As.prototype.blockSize=16,Rr.prototype.BLOCKSIZE=8,Rr.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],Rr.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Rr.prototype.NN=16,Rr.prototype._clean=function(t){return t<0&&(t=(2147483647&t)+2147483648),t},Rr.prototype._F=function(t){let e;const r=255&t,n=255&(t>>>=8),i=255&(t>>>=8),s=255&(t>>>=8);return e=this.sboxes[0][s]+this.sboxes[1][i],e^=this.sboxes[2][n],e+=this.sboxes[3][r],e},Rr.prototype._encryptBlock=function(t){let e,r=t[0],n=t[1];for(e=0;e<this.NN;++e){r^=this.parray[e],n=this._F(r)^n;const i=r;r=n,n=i}r^=this.parray[this.NN+0],n^=this.parray[this.NN+1],t[0]=this._clean(n),t[1]=this._clean(r)},Rr.prototype.encryptBlock=function(t){let e;const r=[0,0],n=this.BLOCKSIZE/2;for(e=0;e<this.BLOCKSIZE/2;++e)r[0]=r[0]<<8|255&t[e+0],r[1]=r[1]<<8|255&t[e+n];this._encryptBlock(r);const i=[];for(e=0;e<this.BLOCKSIZE/2;++e)i[e+0]=r[0]>>>24-8*e&255,i[e+n]=r[1]>>>24-8*e&255;return i},Rr.prototype._decryptBlock=function(t){let e,r=t[0],n=t[1];for(e=this.NN+1;e>1;--e){r^=this.parray[e],n=this._F(r)^n;const i=r;r=n,n=i}r^=this.parray[1],n^=this.parray[0],t[0]=this._clean(n),t[1]=this._clean(r)},Rr.prototype.init=function(t){let e,r=0;for(this.parray=[],e=0;e<this.NN+2;++e){let i=0;for(let s=0;s<4;++s)i=i<<8|255&t[r],++r>=t.length&&(r=0);this.parray[e]=this.PARRAY[e]^i}for(this.sboxes=[],e=0;e<4;++e)for(this.sboxes[e]=[],r=0;r<256;++r)this.sboxes[e][r]=this.SBOXES[e][r];const n=[0,0];for(e=0;e<this.NN+2;e+=2)this._encryptBlock(n),this.parray[e+0]=n[0],this.parray[e+1]=n[1];for(e=0;e<4;++e)for(r=0;r<256;r+=2)this._encryptBlock(n),this.sboxes[e][r+0]=n[0],this.sboxes[e][r+1]=n[1]},ks.keySize=ks.prototype.keySize=16,ks.blockSize=ks.prototype.blockSize=8;const Nl=mc(128),Kl=mc(192),zl=mc(256);var Cr=Object.freeze({__proto__:null,aes128:Nl,aes192:Kl,aes256:zl,des:function(t){this.key=t,this.encrypt=function(e,r){return bs(vs(this.key),e,!0,0,null,r)},this.decrypt=function(e,r){return bs(vs(this.key),e,!1,0,null,r)}},tripledes:ws,cast5:_s,twofish:As,blowfish:ks,idea:function(){throw Error("IDEA symmetric-key algorithm not implemented")}}),Tu=function(t,e,r){var n=0,i=0,s=0,a=0,o=0,u=0,c=0,f=0,l=0,y=0,p=0,k=0,x=0,E=0,D=0,q=0,z=0,O=new t.Uint8Array(r);function L(b,C,V,Z,it,lt,dt,pt,G,ut,F,S,Y,A,R,N){b=b|0,C=C|0,V=V|0,Z=Z|0,it=it|0,lt=lt|0,dt=dt|0,pt=pt|0,G=G|0,ut=ut|0,F=F|0,S=S|0,Y=Y|0,A=A|0,R=R|0,N=N|0;var P=0,_=0,M=0,K=0,Q=0,J=0,rt=0,bt=0,_t=0,Pt=0,tt=0,et=0,ct=0,st=0,at=0,ht=0,W=0,j=0,Et=0,At=0,Ot=0,Zt=0,jt=0,Ft=0,oe=0,Yt=0,Jt=0,ue=0,zt=0,Wt=0,ee=0,Nt=0,Gt=0,ae=0,Ht=0,vt=0,wt=0,St=0,Tt=0,qt=0,Kt=0,Bt=0,ne=0,$t=0,se=0,Ce=0,Te=0,Ne=0,hr=0,fr=0,lr=0,dr=0,pr=0,yr=0,mr=0,Sr=0,Er=0,Pr=0,Xe=0,xr=0,Ge=0,zr=0,ar=0,Mr=0,Zi=0,ts=0,ti=0,es=0,ua=0,X=0,ft=0;P=n,_=i,M=s,K=a,Q=o,rt=b+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,rt=C+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,rt=V+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,rt=Z+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,rt=it+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,rt=lt+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,rt=dt+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,rt=pt+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,rt=G+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,rt=ut+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,rt=F+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,rt=S+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,rt=Y+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,rt=A+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,rt=R+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,rt=N+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=A^G^V^b,bt=J<<1|J>>>31,rt=bt+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=R^ut^Z^C,_t=J<<1|J>>>31,rt=_t+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=N^F^it^V,Pt=J<<1|J>>>31,rt=Pt+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=bt^S^lt^Z,tt=J<<1|J>>>31,rt=tt+(P<<5|P>>>27)+Q+(_&M|~_&K)+1518500249|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=_t^Y^dt^it,et=J<<1|J>>>31,rt=et+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Pt^A^pt^lt,ct=J<<1|J>>>31,rt=ct+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=tt^R^G^dt,st=J<<1|J>>>31,rt=st+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=et^N^ut^pt,at=J<<1|J>>>31,rt=at+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=ct^bt^F^G,ht=J<<1|J>>>31,rt=ht+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=st^_t^S^ut,W=J<<1|J>>>31,rt=W+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=at^Pt^Y^F,j=J<<1|J>>>31,rt=j+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=ht^tt^A^S,Et=J<<1|J>>>31,rt=Et+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=W^et^R^Y,At=J<<1|J>>>31,rt=At+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=j^ct^N^A,Ot=J<<1|J>>>31,rt=Ot+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Et^st^bt^R,Zt=J<<1|J>>>31,rt=Zt+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=At^at^_t^N,jt=J<<1|J>>>31,rt=jt+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Ot^ht^Pt^bt,Ft=J<<1|J>>>31,rt=Ft+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Zt^W^tt^_t,oe=J<<1|J>>>31,rt=oe+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=jt^j^et^Pt,Yt=J<<1|J>>>31,rt=Yt+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Ft^Et^ct^tt,Jt=J<<1|J>>>31,rt=Jt+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=oe^At^st^et,ue=J<<1|J>>>31,rt=ue+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Yt^Ot^at^ct,zt=J<<1|J>>>31,rt=zt+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Jt^Zt^ht^st,Wt=J<<1|J>>>31,rt=Wt+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=ue^jt^W^at,ee=J<<1|J>>>31,rt=ee+(P<<5|P>>>27)+Q+(_^M^K)+1859775393|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=zt^Ft^j^ht,Nt=J<<1|J>>>31,rt=Nt+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Wt^oe^Et^W,Gt=J<<1|J>>>31,rt=Gt+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=ee^Yt^At^j,ae=J<<1|J>>>31,rt=ae+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Nt^Jt^Ot^Et,Ht=J<<1|J>>>31,rt=Ht+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Gt^ue^Zt^At,vt=J<<1|J>>>31,rt=vt+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=ae^zt^jt^Ot,wt=J<<1|J>>>31,rt=wt+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Ht^Wt^Ft^Zt,St=J<<1|J>>>31,rt=St+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=vt^ee^oe^jt,Tt=J<<1|J>>>31,rt=Tt+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=wt^Nt^Yt^Ft,qt=J<<1|J>>>31,rt=qt+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=St^Gt^Jt^oe,Kt=J<<1|J>>>31,rt=Kt+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Tt^ae^ue^Yt,Bt=J<<1|J>>>31,rt=Bt+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=qt^Ht^zt^Jt,ne=J<<1|J>>>31,rt=ne+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Kt^vt^Wt^ue,$t=J<<1|J>>>31,rt=$t+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Bt^wt^ee^zt,se=J<<1|J>>>31,rt=se+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=ne^St^Nt^Wt,Ce=J<<1|J>>>31,rt=Ce+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=$t^Tt^Gt^ee,Te=J<<1|J>>>31,rt=Te+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=se^qt^ae^Nt,Ne=J<<1|J>>>31,rt=Ne+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Ce^Kt^Ht^Gt,hr=J<<1|J>>>31,rt=hr+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Te^Bt^vt^ae,fr=J<<1|J>>>31,rt=fr+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Ne^ne^wt^Ht,lr=J<<1|J>>>31,rt=lr+(P<<5|P>>>27)+Q+(_&M|_&K|M&K)-1894007588|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=hr^$t^St^vt,dr=J<<1|J>>>31,rt=dr+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=fr^se^Tt^wt,pr=J<<1|J>>>31,rt=pr+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=lr^Ce^qt^St,yr=J<<1|J>>>31,rt=yr+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=dr^Te^Kt^Tt,mr=J<<1|J>>>31,rt=mr+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=pr^Ne^Bt^qt,Sr=J<<1|J>>>31,rt=Sr+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=yr^hr^ne^Kt,Er=J<<1|J>>>31,rt=Er+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=mr^fr^$t^Bt,Pr=J<<1|J>>>31,rt=Pr+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Sr^lr^se^ne,Xe=J<<1|J>>>31,rt=Xe+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Er^dr^Ce^$t,xr=J<<1|J>>>31,rt=xr+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Pr^pr^Te^se,Ge=J<<1|J>>>31,rt=Ge+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Xe^yr^Ne^Ce,zr=J<<1|J>>>31,rt=zr+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=xr^mr^hr^Te,ar=J<<1|J>>>31,rt=ar+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Ge^Sr^fr^Ne,Mr=J<<1|J>>>31,rt=Mr+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=zr^Er^lr^hr,Zi=J<<1|J>>>31,rt=Zi+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=ar^Pr^dr^fr,ts=J<<1|J>>>31,rt=ts+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Mr^Xe^pr^lr,ti=J<<1|J>>>31,rt=ti+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=Zi^xr^yr^dr,es=J<<1|J>>>31,rt=es+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=ts^Ge^mr^pr,ua=J<<1|J>>>31,rt=ua+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=ti^zr^Sr^yr,X=J<<1|J>>>31,rt=X+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,J=es^ar^Er^mr,ft=J<<1|J>>>31,rt=ft+(P<<5|P>>>27)+Q+(_^M^K)-899497514|0,Q=K,K=M,M=_<<30|_>>>2,_=P,P=rt,n=n+P|0,i=i+_|0,s=s+M|0,a=a+K|0,o=o+Q|0}function g(b){b=b|0,L(O[b|0]<<24|O[b|1]<<16|O[b|2]<<8|O[b|3],O[b|4]<<24|O[b|5]<<16|O[b|6]<<8|O[b|7],O[b|8]<<24|O[b|9]<<16|O[b|10]<<8|O[b|11],O[b|12]<<24|O[b|13]<<16|O[b|14]<<8|O[b|15],O[b|16]<<24|O[b|17]<<16|O[b|18]<<8|O[b|19],O[b|20]<<24|O[b|21]<<16|O[b|22]<<8|O[b|23],O[b|24]<<24|O[b|25]<<16|O[b|26]<<8|O[b|27],O[b|28]<<24|O[b|29]<<16|O[b|30]<<8|O[b|31],O[b|32]<<24|O[b|33]<<16|O[b|34]<<8|O[b|35],O[b|36]<<24|O[b|37]<<16|O[b|38]<<8|O[b|39],O[b|40]<<24|O[b|41]<<16|O[b|42]<<8|O[b|43],O[b|44]<<24|O[b|45]<<16|O[b|46]<<8|O[b|47],O[b|48]<<24|O[b|49]<<16|O[b|50]<<8|O[b|51],O[b|52]<<24|O[b|53]<<16|O[b|54]<<8|O[b|55],O[b|56]<<24|O[b|57]<<16|O[b|58]<<8|O[b|59],O[b|60]<<24|O[b|61]<<16|O[b|62]<<8|O[b|63])}function T(b){b=b|0,O[b|0]=n>>>24,O[b|1]=n>>>16&255,O[b|2]=n>>>8&255,O[b|3]=n&255,O[b|4]=i>>>24,O[b|5]=i>>>16&255,O[b|6]=i>>>8&255,O[b|7]=i&255,O[b|8]=s>>>24,O[b|9]=s>>>16&255,O[b|10]=s>>>8&255,O[b|11]=s&255,O[b|12]=a>>>24,O[b|13]=a>>>16&255,O[b|14]=a>>>8&255,O[b|15]=a&255,O[b|16]=o>>>24,O[b|17]=o>>>16&255,O[b|18]=o>>>8&255,O[b|19]=o&255}function h(){n=1732584193,i=4023233417,s=2562383102,a=271733878,o=3285377520,u=c=0}function d(b,C,V,Z,it,lt,dt){b=b|0,C=C|0,V=V|0,Z=Z|0,it=it|0,lt=lt|0,dt=dt|0,n=b,i=C,s=V,a=Z,o=it,u=lt,c=dt}function w(b,C){b=b|0,C=C|0;var V=0;if(b&63)return-1;for(;(C|0)>=64;)g(b),b=b+64|0,C=C-64|0,V=V+64|0;return u=u+V|0,u>>>0<V>>>0&&(c=c+1|0),V|0}function m(b,C,V){b=b|0,C=C|0,V=V|0;var Z=0,it=0;if(b&63||~V&&V&31)return-1;if((C|0)>=64){if(Z=w(b,C)|0,(Z|0)==-1)return-1;b=b+Z|0,C=C-Z|0}if(Z=Z+C|0,u=u+C|0,u>>>0<C>>>0&&(c=c+1|0),O[b|C]=128,(C|0)>=56){for(it=C+1|0;(it|0)<64;it=it+1|0)O[b|it]=0;g(b),C=0,O[b|0]=0}for(it=C+1|0;(it|0)<59;it=it+1|0)O[b|it]=0;return O[b|56]=c>>>21&255,O[b|57]=c>>>13&255,O[b|58]=c>>>5&255,O[b|59]=c<<3&255|u>>>29,O[b|60]=u>>>21&255,O[b|61]=u>>>13&255,O[b|62]=u>>>5&255,O[b|63]=u<<3&255,g(b),~V&&T(V),Z|0}function v(){n=f,i=l,s=y,a=p,o=k,u=64,c=0}function I(){n=x,i=E,s=D,a=q,o=z,u=64,c=0}function U(b,C,V,Z,it,lt,dt,pt,G,ut,F,S,Y,A,R,N){b=b|0,C=C|0,V=V|0,Z=Z|0,it=it|0,lt=lt|0,dt=dt|0,pt=pt|0,G=G|0,ut=ut|0,F=F|0,S=S|0,Y=Y|0,A=A|0,R=R|0,N=N|0,h(),L(b^1549556828,C^1549556828,V^1549556828,Z^1549556828,it^1549556828,lt^1549556828,dt^1549556828,pt^1549556828,G^1549556828,ut^1549556828,F^1549556828,S^1549556828,Y^1549556828,A^1549556828,R^1549556828,N^1549556828),x=n,E=i,D=s,q=a,z=o,h(),L(b^909522486,C^909522486,V^909522486,Z^909522486,it^909522486,lt^909522486,dt^909522486,pt^909522486,G^909522486,ut^909522486,F^909522486,S^909522486,Y^909522486,A^909522486,R^909522486,N^909522486),f=n,l=i,y=s,p=a,k=o,u=64,c=0}function $(b,C,V){b=b|0,C=C|0,V=V|0;var Z=0,it=0,lt=0,dt=0,pt=0,G=0;return b&63||~V&&V&31?-1:(G=m(b,C,-1)|0,Z=n,it=i,lt=s,dt=a,pt=o,I(),L(Z,it,lt,dt,pt,2147483648,0,0,0,0,0,0,0,0,0,672),~V&&T(V),G|0)}function nt(b,C,V,Z,it){b=b|0,C=C|0,V=V|0,Z=Z|0,it=it|0;var lt=0,dt=0,pt=0,G=0,ut=0,F=0,S=0,Y=0,A=0,R=0;if(b&63||~it&&it&31)return-1;for(O[b+C|0]=V>>>24,O[b+C+1|0]=V>>>16&255,O[b+C+2|0]=V>>>8&255,O[b+C+3|0]=V&255,$(b,C+4|0,-1)|0,lt=F=n,dt=S=i,pt=Y=s,G=A=a,ut=R=o,Z=Z-1|0;(Z|0)>0;)v(),L(F,S,Y,A,R,2147483648,0,0,0,0,0,0,0,0,0,672),F=n,S=i,Y=s,A=a,R=o,I(),L(F,S,Y,A,R,2147483648,0,0,0,0,0,0,0,0,0,672),F=n,S=i,Y=s,A=a,R=o,lt=lt^n,dt=dt^i,pt=pt^s,G=G^a,ut=ut^o,Z=Z-1|0;return n=lt,i=dt,s=pt,a=G,o=ut,~it&&T(it),0}return{reset:h,init:d,process:w,finish:m,hmac_reset:v,hmac_init:U,hmac_finish:$,pbkdf2_generate_block:nt}};class Iu{constructor(){this.pos=0,this.len=0}reset(){const{asm:e}=this.acquire_asm();return this.result=null,this.pos=0,this.len=0,e.reset(),this}process(e){if(this.result!==null)throw new pc("state must be reset before processing new data");const{asm:r,heap:n}=this.acquire_asm();let i=this.pos,s=this.len,a=0,o=e.length,u=0;for(;o>0;)u=ai(n,i+s,e,a,o),s+=u,a+=u,o-=u,u=r.process(i,s),i+=u,s-=u,s||(i=0);return this.pos=i,this.len=s,this}finish(){if(this.result!==null)throw new pc("state must be reset before processing new data");const{asm:e,heap:r}=this.acquire_asm();return e.finish(this.pos,this.len,0),this.result=new Uint8Array(this.HASH_SIZE),this.result.set(r.subarray(0,this.HASH_SIZE)),this.pos=0,this.len=0,this.release_asm(),this}}const Du=[],Uu=[];class oi extends Iu{constructor(){super(),this.NAME="sha1",this.BLOCK_SIZE=64,this.HASH_SIZE=20,this.acquire_asm()}acquire_asm(){return this.heap!==void 0&&this.asm!==void 0||(this.heap=Du.pop()||dc(),this.asm=Uu.pop()||Tu({Uint8Array},null,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(Du.push(this.heap),Uu.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return new oi().process(e).finish().result}}oi.NAME="sha1",oi.heap_pool=[],oi.asm_pool=[],oi.asm_function=Tu;const Bu=[],Ou=[];class Pa extends Iu{constructor(){super(),this.NAME="sha256",this.BLOCK_SIZE=64,this.HASH_SIZE=32,this.acquire_asm()}acquire_asm(){return this.heap!==void 0&&this.asm!==void 0||(this.heap=Bu.pop()||dc(),this.asm=Ou.pop()||function(e,r,n){var i=0,s=0,a=0,o=0,u=0,c=0,f=0,l=0,y=0,p=0,k=0,x=0,E=0,D=0,q=0,z=0,O=0,L=0,g=0,T=0,h=0,d=0,w=0,m=0,v=0,I=0,U=new e.Uint8Array(n);function $(F,S,Y,A,R,N,P,_,M,K,Q,J,rt,bt,_t,Pt){F=F|0,S=S|0,Y=Y|0,A=A|0,R=R|0,N=N|0,P=P|0,_=_|0,M=M|0,K=K|0,Q=Q|0,J=J|0,rt=rt|0,bt=bt|0,_t=_t|0,Pt=Pt|0;var tt=0,et=0,ct=0,st=0,at=0,ht=0,W=0,j=0;tt=i,et=s,ct=a,st=o,at=u,ht=c,W=f,j=l,j=F+j+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+(W^at&(ht^W))+1116352408|0,st=st+j|0,j=j+(tt&et^ct&(tt^et))+(tt>>>2^tt>>>13^tt>>>22^tt<<30^tt<<19^tt<<10)|0,W=S+W+(st>>>6^st>>>11^st>>>25^st<<26^st<<21^st<<7)+(ht^st&(at^ht))+1899447441|0,ct=ct+W|0,W=W+(j&tt^et&(j^tt))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,ht=Y+ht+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(at^ct&(st^at))+3049323471|0,et=et+ht|0,ht=ht+(W&j^tt&(W^j))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,at=A+at+(et>>>6^et>>>11^et>>>25^et<<26^et<<21^et<<7)+(st^et&(ct^st))+3921009573|0,tt=tt+at|0,at=at+(ht&W^j&(ht^W))+(ht>>>2^ht>>>13^ht>>>22^ht<<30^ht<<19^ht<<10)|0,st=R+st+(tt>>>6^tt>>>11^tt>>>25^tt<<26^tt<<21^tt<<7)+(ct^tt&(et^ct))+961987163|0,j=j+st|0,st=st+(at&ht^W&(at^ht))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,ct=N+ct+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(et^j&(tt^et))+1508970993|0,W=W+ct|0,ct=ct+(st&at^ht&(st^at))+(st>>>2^st>>>13^st>>>22^st<<30^st<<19^st<<10)|0,et=P+et+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(tt^W&(j^tt))+2453635748|0,ht=ht+et|0,et=et+(ct&st^at&(ct^st))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,tt=_+tt+(ht>>>6^ht>>>11^ht>>>25^ht<<26^ht<<21^ht<<7)+(j^ht&(W^j))+2870763221|0,at=at+tt|0,tt=tt+(et&ct^st&(et^ct))+(et>>>2^et>>>13^et>>>22^et<<30^et<<19^et<<10)|0,j=M+j+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+(W^at&(ht^W))+3624381080|0,st=st+j|0,j=j+(tt&et^ct&(tt^et))+(tt>>>2^tt>>>13^tt>>>22^tt<<30^tt<<19^tt<<10)|0,W=K+W+(st>>>6^st>>>11^st>>>25^st<<26^st<<21^st<<7)+(ht^st&(at^ht))+310598401|0,ct=ct+W|0,W=W+(j&tt^et&(j^tt))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,ht=Q+ht+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(at^ct&(st^at))+607225278|0,et=et+ht|0,ht=ht+(W&j^tt&(W^j))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,at=J+at+(et>>>6^et>>>11^et>>>25^et<<26^et<<21^et<<7)+(st^et&(ct^st))+1426881987|0,tt=tt+at|0,at=at+(ht&W^j&(ht^W))+(ht>>>2^ht>>>13^ht>>>22^ht<<30^ht<<19^ht<<10)|0,st=rt+st+(tt>>>6^tt>>>11^tt>>>25^tt<<26^tt<<21^tt<<7)+(ct^tt&(et^ct))+1925078388|0,j=j+st|0,st=st+(at&ht^W&(at^ht))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,ct=bt+ct+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(et^j&(tt^et))+2162078206|0,W=W+ct|0,ct=ct+(st&at^ht&(st^at))+(st>>>2^st>>>13^st>>>22^st<<30^st<<19^st<<10)|0,et=_t+et+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(tt^W&(j^tt))+2614888103|0,ht=ht+et|0,et=et+(ct&st^at&(ct^st))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,tt=Pt+tt+(ht>>>6^ht>>>11^ht>>>25^ht<<26^ht<<21^ht<<7)+(j^ht&(W^j))+3248222580|0,at=at+tt|0,tt=tt+(et&ct^st&(et^ct))+(et>>>2^et>>>13^et>>>22^et<<30^et<<19^et<<10)|0,F=(S>>>7^S>>>18^S>>>3^S<<25^S<<14)+(_t>>>17^_t>>>19^_t>>>10^_t<<15^_t<<13)+F+K|0,j=F+j+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+(W^at&(ht^W))+3835390401|0,st=st+j|0,j=j+(tt&et^ct&(tt^et))+(tt>>>2^tt>>>13^tt>>>22^tt<<30^tt<<19^tt<<10)|0,S=(Y>>>7^Y>>>18^Y>>>3^Y<<25^Y<<14)+(Pt>>>17^Pt>>>19^Pt>>>10^Pt<<15^Pt<<13)+S+Q|0,W=S+W+(st>>>6^st>>>11^st>>>25^st<<26^st<<21^st<<7)+(ht^st&(at^ht))+4022224774|0,ct=ct+W|0,W=W+(j&tt^et&(j^tt))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,Y=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(F>>>17^F>>>19^F>>>10^F<<15^F<<13)+Y+J|0,ht=Y+ht+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(at^ct&(st^at))+264347078|0,et=et+ht|0,ht=ht+(W&j^tt&(W^j))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,A=(R>>>7^R>>>18^R>>>3^R<<25^R<<14)+(S>>>17^S>>>19^S>>>10^S<<15^S<<13)+A+rt|0,at=A+at+(et>>>6^et>>>11^et>>>25^et<<26^et<<21^et<<7)+(st^et&(ct^st))+604807628|0,tt=tt+at|0,at=at+(ht&W^j&(ht^W))+(ht>>>2^ht>>>13^ht>>>22^ht<<30^ht<<19^ht<<10)|0,R=(N>>>7^N>>>18^N>>>3^N<<25^N<<14)+(Y>>>17^Y>>>19^Y>>>10^Y<<15^Y<<13)+R+bt|0,st=R+st+(tt>>>6^tt>>>11^tt>>>25^tt<<26^tt<<21^tt<<7)+(ct^tt&(et^ct))+770255983|0,j=j+st|0,st=st+(at&ht^W&(at^ht))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,N=(P>>>7^P>>>18^P>>>3^P<<25^P<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+N+_t|0,ct=N+ct+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(et^j&(tt^et))+1249150122|0,W=W+ct|0,ct=ct+(st&at^ht&(st^at))+(st>>>2^st>>>13^st>>>22^st<<30^st<<19^st<<10)|0,P=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(R>>>17^R>>>19^R>>>10^R<<15^R<<13)+P+Pt|0,et=P+et+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(tt^W&(j^tt))+1555081692|0,ht=ht+et|0,et=et+(ct&st^at&(ct^st))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,_=(M>>>7^M>>>18^M>>>3^M<<25^M<<14)+(N>>>17^N>>>19^N>>>10^N<<15^N<<13)+_+F|0,tt=_+tt+(ht>>>6^ht>>>11^ht>>>25^ht<<26^ht<<21^ht<<7)+(j^ht&(W^j))+1996064986|0,at=at+tt|0,tt=tt+(et&ct^st&(et^ct))+(et>>>2^et>>>13^et>>>22^et<<30^et<<19^et<<10)|0,M=(K>>>7^K>>>18^K>>>3^K<<25^K<<14)+(P>>>17^P>>>19^P>>>10^P<<15^P<<13)+M+S|0,j=M+j+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+(W^at&(ht^W))+2554220882|0,st=st+j|0,j=j+(tt&et^ct&(tt^et))+(tt>>>2^tt>>>13^tt>>>22^tt<<30^tt<<19^tt<<10)|0,K=(Q>>>7^Q>>>18^Q>>>3^Q<<25^Q<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+K+Y|0,W=K+W+(st>>>6^st>>>11^st>>>25^st<<26^st<<21^st<<7)+(ht^st&(at^ht))+2821834349|0,ct=ct+W|0,W=W+(j&tt^et&(j^tt))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,Q=(J>>>7^J>>>18^J>>>3^J<<25^J<<14)+(M>>>17^M>>>19^M>>>10^M<<15^M<<13)+Q+A|0,ht=Q+ht+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(at^ct&(st^at))+2952996808|0,et=et+ht|0,ht=ht+(W&j^tt&(W^j))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,J=(rt>>>7^rt>>>18^rt>>>3^rt<<25^rt<<14)+(K>>>17^K>>>19^K>>>10^K<<15^K<<13)+J+R|0,at=J+at+(et>>>6^et>>>11^et>>>25^et<<26^et<<21^et<<7)+(st^et&(ct^st))+3210313671|0,tt=tt+at|0,at=at+(ht&W^j&(ht^W))+(ht>>>2^ht>>>13^ht>>>22^ht<<30^ht<<19^ht<<10)|0,rt=(bt>>>7^bt>>>18^bt>>>3^bt<<25^bt<<14)+(Q>>>17^Q>>>19^Q>>>10^Q<<15^Q<<13)+rt+N|0,st=rt+st+(tt>>>6^tt>>>11^tt>>>25^tt<<26^tt<<21^tt<<7)+(ct^tt&(et^ct))+3336571891|0,j=j+st|0,st=st+(at&ht^W&(at^ht))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,bt=(_t>>>7^_t>>>18^_t>>>3^_t<<25^_t<<14)+(J>>>17^J>>>19^J>>>10^J<<15^J<<13)+bt+P|0,ct=bt+ct+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(et^j&(tt^et))+3584528711|0,W=W+ct|0,ct=ct+(st&at^ht&(st^at))+(st>>>2^st>>>13^st>>>22^st<<30^st<<19^st<<10)|0,_t=(Pt>>>7^Pt>>>18^Pt>>>3^Pt<<25^Pt<<14)+(rt>>>17^rt>>>19^rt>>>10^rt<<15^rt<<13)+_t+_|0,et=_t+et+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(tt^W&(j^tt))+113926993|0,ht=ht+et|0,et=et+(ct&st^at&(ct^st))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,Pt=(F>>>7^F>>>18^F>>>3^F<<25^F<<14)+(bt>>>17^bt>>>19^bt>>>10^bt<<15^bt<<13)+Pt+M|0,tt=Pt+tt+(ht>>>6^ht>>>11^ht>>>25^ht<<26^ht<<21^ht<<7)+(j^ht&(W^j))+338241895|0,at=at+tt|0,tt=tt+(et&ct^st&(et^ct))+(et>>>2^et>>>13^et>>>22^et<<30^et<<19^et<<10)|0,F=(S>>>7^S>>>18^S>>>3^S<<25^S<<14)+(_t>>>17^_t>>>19^_t>>>10^_t<<15^_t<<13)+F+K|0,j=F+j+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+(W^at&(ht^W))+666307205|0,st=st+j|0,j=j+(tt&et^ct&(tt^et))+(tt>>>2^tt>>>13^tt>>>22^tt<<30^tt<<19^tt<<10)|0,S=(Y>>>7^Y>>>18^Y>>>3^Y<<25^Y<<14)+(Pt>>>17^Pt>>>19^Pt>>>10^Pt<<15^Pt<<13)+S+Q|0,W=S+W+(st>>>6^st>>>11^st>>>25^st<<26^st<<21^st<<7)+(ht^st&(at^ht))+773529912|0,ct=ct+W|0,W=W+(j&tt^et&(j^tt))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,Y=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(F>>>17^F>>>19^F>>>10^F<<15^F<<13)+Y+J|0,ht=Y+ht+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(at^ct&(st^at))+1294757372|0,et=et+ht|0,ht=ht+(W&j^tt&(W^j))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,A=(R>>>7^R>>>18^R>>>3^R<<25^R<<14)+(S>>>17^S>>>19^S>>>10^S<<15^S<<13)+A+rt|0,at=A+at+(et>>>6^et>>>11^et>>>25^et<<26^et<<21^et<<7)+(st^et&(ct^st))+1396182291|0,tt=tt+at|0,at=at+(ht&W^j&(ht^W))+(ht>>>2^ht>>>13^ht>>>22^ht<<30^ht<<19^ht<<10)|0,R=(N>>>7^N>>>18^N>>>3^N<<25^N<<14)+(Y>>>17^Y>>>19^Y>>>10^Y<<15^Y<<13)+R+bt|0,st=R+st+(tt>>>6^tt>>>11^tt>>>25^tt<<26^tt<<21^tt<<7)+(ct^tt&(et^ct))+1695183700|0,j=j+st|0,st=st+(at&ht^W&(at^ht))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,N=(P>>>7^P>>>18^P>>>3^P<<25^P<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+N+_t|0,ct=N+ct+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(et^j&(tt^et))+1986661051|0,W=W+ct|0,ct=ct+(st&at^ht&(st^at))+(st>>>2^st>>>13^st>>>22^st<<30^st<<19^st<<10)|0,P=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(R>>>17^R>>>19^R>>>10^R<<15^R<<13)+P+Pt|0,et=P+et+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(tt^W&(j^tt))+2177026350|0,ht=ht+et|0,et=et+(ct&st^at&(ct^st))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,_=(M>>>7^M>>>18^M>>>3^M<<25^M<<14)+(N>>>17^N>>>19^N>>>10^N<<15^N<<13)+_+F|0,tt=_+tt+(ht>>>6^ht>>>11^ht>>>25^ht<<26^ht<<21^ht<<7)+(j^ht&(W^j))+2456956037|0,at=at+tt|0,tt=tt+(et&ct^st&(et^ct))+(et>>>2^et>>>13^et>>>22^et<<30^et<<19^et<<10)|0,M=(K>>>7^K>>>18^K>>>3^K<<25^K<<14)+(P>>>17^P>>>19^P>>>10^P<<15^P<<13)+M+S|0,j=M+j+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+(W^at&(ht^W))+2730485921|0,st=st+j|0,j=j+(tt&et^ct&(tt^et))+(tt>>>2^tt>>>13^tt>>>22^tt<<30^tt<<19^tt<<10)|0,K=(Q>>>7^Q>>>18^Q>>>3^Q<<25^Q<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+K+Y|0,W=K+W+(st>>>6^st>>>11^st>>>25^st<<26^st<<21^st<<7)+(ht^st&(at^ht))+2820302411|0,ct=ct+W|0,W=W+(j&tt^et&(j^tt))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,Q=(J>>>7^J>>>18^J>>>3^J<<25^J<<14)+(M>>>17^M>>>19^M>>>10^M<<15^M<<13)+Q+A|0,ht=Q+ht+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(at^ct&(st^at))+3259730800|0,et=et+ht|0,ht=ht+(W&j^tt&(W^j))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,J=(rt>>>7^rt>>>18^rt>>>3^rt<<25^rt<<14)+(K>>>17^K>>>19^K>>>10^K<<15^K<<13)+J+R|0,at=J+at+(et>>>6^et>>>11^et>>>25^et<<26^et<<21^et<<7)+(st^et&(ct^st))+3345764771|0,tt=tt+at|0,at=at+(ht&W^j&(ht^W))+(ht>>>2^ht>>>13^ht>>>22^ht<<30^ht<<19^ht<<10)|0,rt=(bt>>>7^bt>>>18^bt>>>3^bt<<25^bt<<14)+(Q>>>17^Q>>>19^Q>>>10^Q<<15^Q<<13)+rt+N|0,st=rt+st+(tt>>>6^tt>>>11^tt>>>25^tt<<26^tt<<21^tt<<7)+(ct^tt&(et^ct))+3516065817|0,j=j+st|0,st=st+(at&ht^W&(at^ht))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,bt=(_t>>>7^_t>>>18^_t>>>3^_t<<25^_t<<14)+(J>>>17^J>>>19^J>>>10^J<<15^J<<13)+bt+P|0,ct=bt+ct+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(et^j&(tt^et))+3600352804|0,W=W+ct|0,ct=ct+(st&at^ht&(st^at))+(st>>>2^st>>>13^st>>>22^st<<30^st<<19^st<<10)|0,_t=(Pt>>>7^Pt>>>18^Pt>>>3^Pt<<25^Pt<<14)+(rt>>>17^rt>>>19^rt>>>10^rt<<15^rt<<13)+_t+_|0,et=_t+et+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(tt^W&(j^tt))+4094571909|0,ht=ht+et|0,et=et+(ct&st^at&(ct^st))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,Pt=(F>>>7^F>>>18^F>>>3^F<<25^F<<14)+(bt>>>17^bt>>>19^bt>>>10^bt<<15^bt<<13)+Pt+M|0,tt=Pt+tt+(ht>>>6^ht>>>11^ht>>>25^ht<<26^ht<<21^ht<<7)+(j^ht&(W^j))+275423344|0,at=at+tt|0,tt=tt+(et&ct^st&(et^ct))+(et>>>2^et>>>13^et>>>22^et<<30^et<<19^et<<10)|0,F=(S>>>7^S>>>18^S>>>3^S<<25^S<<14)+(_t>>>17^_t>>>19^_t>>>10^_t<<15^_t<<13)+F+K|0,j=F+j+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+(W^at&(ht^W))+430227734|0,st=st+j|0,j=j+(tt&et^ct&(tt^et))+(tt>>>2^tt>>>13^tt>>>22^tt<<30^tt<<19^tt<<10)|0,S=(Y>>>7^Y>>>18^Y>>>3^Y<<25^Y<<14)+(Pt>>>17^Pt>>>19^Pt>>>10^Pt<<15^Pt<<13)+S+Q|0,W=S+W+(st>>>6^st>>>11^st>>>25^st<<26^st<<21^st<<7)+(ht^st&(at^ht))+506948616|0,ct=ct+W|0,W=W+(j&tt^et&(j^tt))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,Y=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(F>>>17^F>>>19^F>>>10^F<<15^F<<13)+Y+J|0,ht=Y+ht+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(at^ct&(st^at))+659060556|0,et=et+ht|0,ht=ht+(W&j^tt&(W^j))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,A=(R>>>7^R>>>18^R>>>3^R<<25^R<<14)+(S>>>17^S>>>19^S>>>10^S<<15^S<<13)+A+rt|0,at=A+at+(et>>>6^et>>>11^et>>>25^et<<26^et<<21^et<<7)+(st^et&(ct^st))+883997877|0,tt=tt+at|0,at=at+(ht&W^j&(ht^W))+(ht>>>2^ht>>>13^ht>>>22^ht<<30^ht<<19^ht<<10)|0,R=(N>>>7^N>>>18^N>>>3^N<<25^N<<14)+(Y>>>17^Y>>>19^Y>>>10^Y<<15^Y<<13)+R+bt|0,st=R+st+(tt>>>6^tt>>>11^tt>>>25^tt<<26^tt<<21^tt<<7)+(ct^tt&(et^ct))+958139571|0,j=j+st|0,st=st+(at&ht^W&(at^ht))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,N=(P>>>7^P>>>18^P>>>3^P<<25^P<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+N+_t|0,ct=N+ct+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(et^j&(tt^et))+1322822218|0,W=W+ct|0,ct=ct+(st&at^ht&(st^at))+(st>>>2^st>>>13^st>>>22^st<<30^st<<19^st<<10)|0,P=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(R>>>17^R>>>19^R>>>10^R<<15^R<<13)+P+Pt|0,et=P+et+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(tt^W&(j^tt))+1537002063|0,ht=ht+et|0,et=et+(ct&st^at&(ct^st))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,_=(M>>>7^M>>>18^M>>>3^M<<25^M<<14)+(N>>>17^N>>>19^N>>>10^N<<15^N<<13)+_+F|0,tt=_+tt+(ht>>>6^ht>>>11^ht>>>25^ht<<26^ht<<21^ht<<7)+(j^ht&(W^j))+1747873779|0,at=at+tt|0,tt=tt+(et&ct^st&(et^ct))+(et>>>2^et>>>13^et>>>22^et<<30^et<<19^et<<10)|0,M=(K>>>7^K>>>18^K>>>3^K<<25^K<<14)+(P>>>17^P>>>19^P>>>10^P<<15^P<<13)+M+S|0,j=M+j+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+(W^at&(ht^W))+1955562222|0,st=st+j|0,j=j+(tt&et^ct&(tt^et))+(tt>>>2^tt>>>13^tt>>>22^tt<<30^tt<<19^tt<<10)|0,K=(Q>>>7^Q>>>18^Q>>>3^Q<<25^Q<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+K+Y|0,W=K+W+(st>>>6^st>>>11^st>>>25^st<<26^st<<21^st<<7)+(ht^st&(at^ht))+2024104815|0,ct=ct+W|0,W=W+(j&tt^et&(j^tt))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,Q=(J>>>7^J>>>18^J>>>3^J<<25^J<<14)+(M>>>17^M>>>19^M>>>10^M<<15^M<<13)+Q+A|0,ht=Q+ht+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(at^ct&(st^at))+2227730452|0,et=et+ht|0,ht=ht+(W&j^tt&(W^j))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,J=(rt>>>7^rt>>>18^rt>>>3^rt<<25^rt<<14)+(K>>>17^K>>>19^K>>>10^K<<15^K<<13)+J+R|0,at=J+at+(et>>>6^et>>>11^et>>>25^et<<26^et<<21^et<<7)+(st^et&(ct^st))+2361852424|0,tt=tt+at|0,at=at+(ht&W^j&(ht^W))+(ht>>>2^ht>>>13^ht>>>22^ht<<30^ht<<19^ht<<10)|0,rt=(bt>>>7^bt>>>18^bt>>>3^bt<<25^bt<<14)+(Q>>>17^Q>>>19^Q>>>10^Q<<15^Q<<13)+rt+N|0,st=rt+st+(tt>>>6^tt>>>11^tt>>>25^tt<<26^tt<<21^tt<<7)+(ct^tt&(et^ct))+2428436474|0,j=j+st|0,st=st+(at&ht^W&(at^ht))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,bt=(_t>>>7^_t>>>18^_t>>>3^_t<<25^_t<<14)+(J>>>17^J>>>19^J>>>10^J<<15^J<<13)+bt+P|0,ct=bt+ct+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(et^j&(tt^et))+2756734187|0,W=W+ct|0,ct=ct+(st&at^ht&(st^at))+(st>>>2^st>>>13^st>>>22^st<<30^st<<19^st<<10)|0,_t=(Pt>>>7^Pt>>>18^Pt>>>3^Pt<<25^Pt<<14)+(rt>>>17^rt>>>19^rt>>>10^rt<<15^rt<<13)+_t+_|0,et=_t+et+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(tt^W&(j^tt))+3204031479|0,ht=ht+et|0,et=et+(ct&st^at&(ct^st))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,Pt=(F>>>7^F>>>18^F>>>3^F<<25^F<<14)+(bt>>>17^bt>>>19^bt>>>10^bt<<15^bt<<13)+Pt+M|0,tt=Pt+tt+(ht>>>6^ht>>>11^ht>>>25^ht<<26^ht<<21^ht<<7)+(j^ht&(W^j))+3329325298|0,at=at+tt|0,tt=tt+(et&ct^st&(et^ct))+(et>>>2^et>>>13^et>>>22^et<<30^et<<19^et<<10)|0,i=i+tt|0,s=s+et|0,a=a+ct|0,o=o+st|0,u=u+at|0,c=c+ht|0,f=f+W|0,l=l+j|0}function nt(F){F=F|0,$(U[F|0]<<24|U[F|1]<<16|U[F|2]<<8|U[F|3],U[F|4]<<24|U[F|5]<<16|U[F|6]<<8|U[F|7],U[F|8]<<24|U[F|9]<<16|U[F|10]<<8|U[F|11],U[F|12]<<24|U[F|13]<<16|U[F|14]<<8|U[F|15],U[F|16]<<24|U[F|17]<<16|U[F|18]<<8|U[F|19],U[F|20]<<24|U[F|21]<<16|U[F|22]<<8|U[F|23],U[F|24]<<24|U[F|25]<<16|U[F|26]<<8|U[F|27],U[F|28]<<24|U[F|29]<<16|U[F|30]<<8|U[F|31],U[F|32]<<24|U[F|33]<<16|U[F|34]<<8|U[F|35],U[F|36]<<24|U[F|37]<<16|U[F|38]<<8|U[F|39],U[F|40]<<24|U[F|41]<<16|U[F|42]<<8|U[F|43],U[F|44]<<24|U[F|45]<<16|U[F|46]<<8|U[F|47],U[F|48]<<24|U[F|49]<<16|U[F|50]<<8|U[F|51],U[F|52]<<24|U[F|53]<<16|U[F|54]<<8|U[F|55],U[F|56]<<24|U[F|57]<<16|U[F|58]<<8|U[F|59],U[F|60]<<24|U[F|61]<<16|U[F|62]<<8|U[F|63])}function b(F){F=F|0,U[F|0]=i>>>24,U[F|1]=i>>>16&255,U[F|2]=i>>>8&255,U[F|3]=i&255,U[F|4]=s>>>24,U[F|5]=s>>>16&255,U[F|6]=s>>>8&255,U[F|7]=s&255,U[F|8]=a>>>24,U[F|9]=a>>>16&255,U[F|10]=a>>>8&255,U[F|11]=a&255,U[F|12]=o>>>24,U[F|13]=o>>>16&255,U[F|14]=o>>>8&255,U[F|15]=o&255,U[F|16]=u>>>24,U[F|17]=u>>>16&255,U[F|18]=u>>>8&255,U[F|19]=u&255,U[F|20]=c>>>24,U[F|21]=c>>>16&255,U[F|22]=c>>>8&255,U[F|23]=c&255,U[F|24]=f>>>24,U[F|25]=f>>>16&255,U[F|26]=f>>>8&255,U[F|27]=f&255,U[F|28]=l>>>24,U[F|29]=l>>>16&255,U[F|30]=l>>>8&255,U[F|31]=l&255}function C(){i=1779033703,s=3144134277,a=1013904242,o=2773480762,u=1359893119,c=2600822924,f=528734635,l=1541459225,y=p=0}function V(F,S,Y,A,R,N,P,_,M,K){F=F|0,S=S|0,Y=Y|0,A=A|0,R=R|0,N=N|0,P=P|0,_=_|0,M=M|0,K=K|0,i=F,s=S,a=Y,o=A,u=R,c=N,f=P,l=_,y=M,p=K}function Z(F,S){F=F|0,S=S|0;var Y=0;if(F&63)return-1;for(;(S|0)>=64;)nt(F),F=F+64|0,S=S-64|0,Y=Y+64|0;return y=y+Y|0,y>>>0<Y>>>0&&(p=p+1|0),Y|0}function it(F,S,Y){F=F|0,S=S|0,Y=Y|0;var A=0,R=0;if(F&63||~Y&&Y&31)return-1;if((S|0)>=64){if(A=Z(F,S)|0,(A|0)==-1)return-1;F=F+A|0,S=S-A|0}if(A=A+S|0,y=y+S|0,y>>>0<S>>>0&&(p=p+1|0),U[F|S]=128,(S|0)>=56){for(R=S+1|0;(R|0)<64;R=R+1|0)U[F|R]=0;nt(F),S=0,U[F|0]=0}for(R=S+1|0;(R|0)<59;R=R+1|0)U[F|R]=0;return U[F|56]=p>>>21&255,U[F|57]=p>>>13&255,U[F|58]=p>>>5&255,U[F|59]=p<<3&255|y>>>29,U[F|60]=y>>>21&255,U[F|61]=y>>>13&255,U[F|62]=y>>>5&255,U[F|63]=y<<3&255,nt(F),~Y&&b(Y),A|0}function lt(){i=k,s=x,a=E,o=D,u=q,c=z,f=O,l=L,y=64,p=0}function dt(){i=g,s=T,a=h,o=d,u=w,c=m,f=v,l=I,y=64,p=0}function pt(F,S,Y,A,R,N,P,_,M,K,Q,J,rt,bt,_t,Pt){F=F|0,S=S|0,Y=Y|0,A=A|0,R=R|0,N=N|0,P=P|0,_=_|0,M=M|0,K=K|0,Q=Q|0,J=J|0,rt=rt|0,bt=bt|0,_t=_t|0,Pt=Pt|0,C(),$(F^1549556828,S^1549556828,Y^1549556828,A^1549556828,R^1549556828,N^1549556828,P^1549556828,_^1549556828,M^1549556828,K^1549556828,Q^1549556828,J^1549556828,rt^1549556828,bt^1549556828,_t^1549556828,Pt^1549556828),g=i,T=s,h=a,d=o,w=u,m=c,v=f,I=l,C(),$(F^909522486,S^909522486,Y^909522486,A^909522486,R^909522486,N^909522486,P^909522486,_^909522486,M^909522486,K^909522486,Q^909522486,J^909522486,rt^909522486,bt^909522486,_t^909522486,Pt^909522486),k=i,x=s,E=a,D=o,q=u,z=c,O=f,L=l,y=64,p=0}function G(F,S,Y){F=F|0,S=S|0,Y=Y|0;var A=0,R=0,N=0,P=0,_=0,M=0,K=0,Q=0,J=0;return F&63||~Y&&Y&31?-1:(J=it(F,S,-1)|0,A=i,R=s,N=a,P=o,_=u,M=c,K=f,Q=l,dt(),$(A,R,N,P,_,M,K,Q,2147483648,0,0,0,0,0,0,768),~Y&&b(Y),J|0)}function ut(F,S,Y,A,R){F=F|0,S=S|0,Y=Y|0,A=A|0,R=R|0;var N=0,P=0,_=0,M=0,K=0,Q=0,J=0,rt=0,bt=0,_t=0,Pt=0,tt=0,et=0,ct=0,st=0,at=0;if(F&63||~R&&R&31)return-1;for(U[F+S|0]=Y>>>24,U[F+S+1|0]=Y>>>16&255,U[F+S+2|0]=Y>>>8&255,U[F+S+3|0]=Y&255,G(F,S+4|0,-1)|0,N=bt=i,P=_t=s,_=Pt=a,M=tt=o,K=et=u,Q=ct=c,J=st=f,rt=at=l,A=A-1|0;(A|0)>0;)lt(),$(bt,_t,Pt,tt,et,ct,st,at,2147483648,0,0,0,0,0,0,768),bt=i,_t=s,Pt=a,tt=o,et=u,ct=c,st=f,at=l,dt(),$(bt,_t,Pt,tt,et,ct,st,at,2147483648,0,0,0,0,0,0,768),bt=i,_t=s,Pt=a,tt=o,et=u,ct=c,st=f,at=l,N=N^i,P=P^s,_=_^a,M=M^o,K=K^u,Q=Q^c,J=J^f,rt=rt^l,A=A-1|0;return i=N,s=P,a=_,o=M,u=K,c=Q,f=J,l=rt,~R&&b(R),0}return{reset:C,init:V,process:Z,finish:it,hmac_reset:lt,hmac_init:pt,hmac_finish:G,pbkdf2_generate_block:ut}}({Uint8Array},null,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(Bu.push(this.heap),Ou.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return new Pa().process(e).finish().result}}Pa.NAME="sha256";var Un=Nu;function Nu(t,e){if(!t)throw Error(e||"Assertion failed")}Nu.equal=function(t,e,r){if(t!=e)throw Error(r||"Assertion failed: "+t+" != "+e)};var Fl=$e!==void 0?$e:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Wr(t,e){return t(e={exports:{}},e.exports),e.exports}var Bn=Wr(function(t){t.exports=typeof Object.create=="function"?function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}});function Ku(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function zu(t){return t.length===1?"0"+t:t}function Fu(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}var Qt={inherits:Bn,toArray:function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,a=255&i;s?r.push(s,a):r.push(a)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},toHex:function(t){for(var e="",r=0;r<t.length;r++)e+=zu(t[r].toString(16));return e},htonl:Ku,toHex32:function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=Ku(i)),r+=Fu(i.toString(16))}return r},zero2:zu,zero8:Fu,join32:function(t,e,r,n){var i=r-e;Un(i%4==0);for(var s=Array(i/4),a=0,o=e;a<s.length;a++,o+=4){var u;u=n==="big"?t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],s[a]=u>>>0}return s},split32:function(t,e){for(var r=Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},rotr32:function(t,e){return t>>>e|t<<32-e},rotl32:function(t,e){return t<<e|t>>>32-e},sum32:function(t,e){return t+e>>>0},sum32_3:function(t,e,r){return t+e+r>>>0},sum32_4:function(t,e,r,n){return t+e+r+n>>>0},sum32_5:function(t,e,r,n,i){return t+e+r+n+i>>>0},sum64:function(t,e,r,n){var i=t[e],s=n+t[e+1]>>>0,a=(s<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=s},sum64_hi:function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},sum64_lo:function(t,e,r,n){return e+n>>>0},sum64_4_hi:function(t,e,r,n,i,s,a,o){var u=0,c=e;return u+=(c=c+n>>>0)<e?1:0,u+=(c=c+s>>>0)<s?1:0,t+r+i+a+(u+=(c=c+o>>>0)<o?1:0)>>>0},sum64_4_lo:function(t,e,r,n,i,s,a,o){return e+n+s+o>>>0},sum64_5_hi:function(t,e,r,n,i,s,a,o,u,c){var f=0,l=e;return f+=(l=l+n>>>0)<e?1:0,f+=(l=l+s>>>0)<s?1:0,f+=(l=l+o>>>0)<o?1:0,t+r+i+a+u+(f+=(l=l+c>>>0)<c?1:0)>>>0},sum64_5_lo:function(t,e,r,n,i,s,a,o,u,c){return e+n+s+o+c>>>0},rotr64_hi:function(t,e,r){return(e<<32-r|t>>>r)>>>0},rotr64_lo:function(t,e,r){return(t<<32-r|e>>>r)>>>0},shr64_hi:function(t,e,r){return t>>>r},shr64_lo:function(t,e,r){return(t<<32-r|e>>>r)>>>0}};function xa(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var Ll=xa;xa.prototype.update=function(t,e){if(t=Qt.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),this.pending.length===0&&(this.pending=null),t=Qt.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},xa.prototype.digest=function(t){return this.update(this._pad()),Un(this.pending===null),this._digest(t)},xa.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var Ss={BlockHash:Ll},Hr=Qt.rotr32;function Lu(t,e,r){return t&e^~t&r}function ju(t,e,r){return t&e^t&r^e&r}function qu(t,e,r){return t^e^r}var ci={ft_1:function(t,e,r,n){return t===0?Lu(e,r,n):t===1||t===3?qu(e,r,n):t===2?ju(e,r,n):void 0},ch32:Lu,maj32:ju,p32:qu,s0_256:function(t){return Hr(t,2)^Hr(t,13)^Hr(t,22)},s1_256:function(t){return Hr(t,6)^Hr(t,11)^Hr(t,25)},g0_256:function(t){return Hr(t,7)^Hr(t,18)^t>>>3},g1_256:function(t){return Hr(t,17)^Hr(t,19)^t>>>10}},Tr=Qt.sum32,jl=Qt.sum32_4,ql=Qt.sum32_5,Wl=ci.ch32,Hl=ci.maj32,Gl=ci.s0_256,$l=ci.s1_256,Vl=ci.g0_256,Yl=ci.g1_256,Wu=Ss.BlockHash,Jl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Gr(){if(!(this instanceof Gr))return new Gr;Wu.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Jl,this.W=Array(64)}Qt.inherits(Gr,Wu);var gc=Gr;function vn(){if(!(this instanceof vn))return new vn;gc.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Gr.blockSize=512,Gr.outSize=256,Gr.hmacStrength=192,Gr.padLength=64,Gr.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=jl(Yl(r[n-2]),r[n-7],Vl(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],a=this.h[2],o=this.h[3],u=this.h[4],c=this.h[5],f=this.h[6],l=this.h[7];for(Un(this.k.length===r.length),n=0;n<r.length;n++){var y=ql(l,$l(u),Wl(u,c,f),this.k[n],r[n]),p=Tr(Gl(i),Hl(i,s,a));l=f,f=c,c=u,u=Tr(o,y),o=a,a=s,s=i,i=Tr(y,p)}this.h[0]=Tr(this.h[0],i),this.h[1]=Tr(this.h[1],s),this.h[2]=Tr(this.h[2],a),this.h[3]=Tr(this.h[3],o),this.h[4]=Tr(this.h[4],u),this.h[5]=Tr(this.h[5],c),this.h[6]=Tr(this.h[6],f),this.h[7]=Tr(this.h[7],l)},Gr.prototype._digest=function(t){return t==="hex"?Qt.toHex32(this.h,"big"):Qt.split32(this.h,"big")},Qt.inherits(vn,gc);var Hu=vn;vn.blockSize=512,vn.outSize=224,vn.hmacStrength=192,vn.padLength=64,vn.prototype._digest=function(t){return t==="hex"?Qt.toHex32(this.h.slice(0,7),"big"):Qt.split32(this.h.slice(0,7),"big")};var $r=Qt.rotr64_hi,Vr=Qt.rotr64_lo,Gu=Qt.shr64_hi,$u=Qt.shr64_lo,On=Qt.sum64,bc=Qt.sum64_hi,vc=Qt.sum64_lo,Xl=Qt.sum64_4_hi,Ql=Qt.sum64_4_lo,Zl=Qt.sum64_5_hi,td=Qt.sum64_5_lo,Vu=Ss.BlockHash,ed=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ir(){if(!(this instanceof Ir))return new Ir;Vu.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ed,this.W=Array(160)}Qt.inherits(Ir,Vu);var Es=Ir;function rd(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function nd(t,e,r,n,i,s){var a=e&n^~e&s;return a<0&&(a+=4294967296),a}function id(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function sd(t,e,r,n,i,s){var a=e&n^e&s^n&s;return a<0&&(a+=4294967296),a}function ad(t,e){var r=$r(t,e,28)^$r(e,t,2)^$r(e,t,7);return r<0&&(r+=4294967296),r}function od(t,e){var r=Vr(t,e,28)^Vr(e,t,2)^Vr(e,t,7);return r<0&&(r+=4294967296),r}function cd(t,e){var r=$r(t,e,14)^$r(t,e,18)^$r(e,t,9);return r<0&&(r+=4294967296),r}function ud(t,e){var r=Vr(t,e,14)^Vr(t,e,18)^Vr(e,t,9);return r<0&&(r+=4294967296),r}function hd(t,e){var r=$r(t,e,1)^$r(t,e,8)^Gu(t,e,7);return r<0&&(r+=4294967296),r}function fd(t,e){var r=Vr(t,e,1)^Vr(t,e,8)^$u(t,e,7);return r<0&&(r+=4294967296),r}function ld(t,e){var r=$r(t,e,19)^$r(e,t,29)^Gu(t,e,6);return r<0&&(r+=4294967296),r}function dd(t,e){var r=Vr(t,e,19)^Vr(e,t,29)^$u(t,e,6);return r<0&&(r+=4294967296),r}function wn(){if(!(this instanceof wn))return new wn;Es.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Ir.blockSize=1024,Ir.outSize=512,Ir.hmacStrength=192,Ir.padLength=128,Ir.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=ld(r[n-4],r[n-3]),s=dd(r[n-4],r[n-3]),a=r[n-14],o=r[n-13],u=hd(r[n-30],r[n-29]),c=fd(r[n-30],r[n-29]),f=r[n-32],l=r[n-31];r[n]=Xl(i,s,a,o,u,c,f,l),r[n+1]=Ql(i,s,a,o,u,c,f,l)}},Ir.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],o=this.h[4],u=this.h[5],c=this.h[6],f=this.h[7],l=this.h[8],y=this.h[9],p=this.h[10],k=this.h[11],x=this.h[12],E=this.h[13],D=this.h[14],q=this.h[15];Un(this.k.length===r.length);for(var z=0;z<r.length;z+=2){var O=D,L=q,g=cd(l,y),T=ud(l,y),h=rd(l,y,p,k,x),d=nd(l,y,p,k,x,E),w=this.k[z],m=this.k[z+1],v=r[z],I=r[z+1],U=Zl(O,L,g,T,h,d,w,m,v,I),$=td(O,L,g,T,h,d,w,m,v,I);O=ad(n,i),L=od(n,i),g=id(n,i,s,a,o),T=sd(n,i,s,a,o,u);var nt=bc(O,L,g,T),b=vc(O,L,g,T);D=x,q=E,x=p,E=k,p=l,k=y,l=bc(c,f,U,$),y=vc(f,f,U,$),c=o,f=u,o=s,u=a,s=n,a=i,n=bc(U,$,nt,b),i=vc(U,$,nt,b)}On(this.h,0,n,i),On(this.h,2,s,a),On(this.h,4,o,u),On(this.h,6,c,f),On(this.h,8,l,y),On(this.h,10,p,k),On(this.h,12,x,E),On(this.h,14,D,q)},Ir.prototype._digest=function(t){return t==="hex"?Qt.toHex32(this.h,"big"):Qt.split32(this.h,"big")},Qt.inherits(wn,Es);var Yu=wn;wn.blockSize=1024,wn.outSize=384,wn.hmacStrength=192,wn.padLength=128,wn.prototype._digest=function(t){return t==="hex"?Qt.toHex32(this.h.slice(0,12),"big"):Qt.split32(this.h.slice(0,12),"big")};var Ma=Qt.rotl32,Ju=Qt.sum32,Ps=Qt.sum32_3,Xu=Qt.sum32_4,Qu=Ss.BlockHash;function Yr(){if(!(this instanceof Yr))return new Yr;Qu.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Qt.inherits(Yr,Qu);var Zu=Yr;function t1(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function pd(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function yd(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Yr.blockSize=512,Yr.outSize=160,Yr.hmacStrength=192,Yr.padLength=64,Yr.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],a=this.h[4],o=r,u=n,c=i,f=s,l=a,y=0;y<80;y++){var p=Ju(Ma(Xu(r,t1(y,n,i,s),t[md[y]+e],pd(y)),bd[y]),a);r=a,a=s,s=Ma(i,10),i=n,n=p,p=Ju(Ma(Xu(o,t1(79-y,u,c,f),t[gd[y]+e],yd(y)),vd[y]),l),o=l,l=f,f=Ma(c,10),c=u,u=p}p=Ps(this.h[1],i,f),this.h[1]=Ps(this.h[2],s,l),this.h[2]=Ps(this.h[3],a,o),this.h[3]=Ps(this.h[4],r,u),this.h[4]=Ps(this.h[0],n,c),this.h[0]=p},Yr.prototype._digest=function(t){return t==="hex"?Qt.toHex32(this.h,"little"):Qt.split32(this.h,"little")};var md=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],gd=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],bd=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],vd=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],wd={ripemd160:Zu};function wc(t,e){let r=t[0],n=t[1],i=t[2],s=t[3];r=ze(r,n,i,s,e[0],7,-680876936),s=ze(s,r,n,i,e[1],12,-389564586),i=ze(i,s,r,n,e[2],17,606105819),n=ze(n,i,s,r,e[3],22,-1044525330),r=ze(r,n,i,s,e[4],7,-176418897),s=ze(s,r,n,i,e[5],12,1200080426),i=ze(i,s,r,n,e[6],17,-1473231341),n=ze(n,i,s,r,e[7],22,-45705983),r=ze(r,n,i,s,e[8],7,1770035416),s=ze(s,r,n,i,e[9],12,-1958414417),i=ze(i,s,r,n,e[10],17,-42063),n=ze(n,i,s,r,e[11],22,-1990404162),r=ze(r,n,i,s,e[12],7,1804603682),s=ze(s,r,n,i,e[13],12,-40341101),i=ze(i,s,r,n,e[14],17,-1502002290),n=ze(n,i,s,r,e[15],22,1236535329),r=Fe(r,n,i,s,e[1],5,-165796510),s=Fe(s,r,n,i,e[6],9,-1069501632),i=Fe(i,s,r,n,e[11],14,643717713),n=Fe(n,i,s,r,e[0],20,-373897302),r=Fe(r,n,i,s,e[5],5,-701558691),s=Fe(s,r,n,i,e[10],9,38016083),i=Fe(i,s,r,n,e[15],14,-660478335),n=Fe(n,i,s,r,e[4],20,-405537848),r=Fe(r,n,i,s,e[9],5,568446438),s=Fe(s,r,n,i,e[14],9,-1019803690),i=Fe(i,s,r,n,e[3],14,-187363961),n=Fe(n,i,s,r,e[8],20,1163531501),r=Fe(r,n,i,s,e[13],5,-1444681467),s=Fe(s,r,n,i,e[2],9,-51403784),i=Fe(i,s,r,n,e[7],14,1735328473),n=Fe(n,i,s,r,e[12],20,-1926607734),r=Le(r,n,i,s,e[5],4,-378558),s=Le(s,r,n,i,e[8],11,-2022574463),i=Le(i,s,r,n,e[11],16,1839030562),n=Le(n,i,s,r,e[14],23,-35309556),r=Le(r,n,i,s,e[1],4,-1530992060),s=Le(s,r,n,i,e[4],11,1272893353),i=Le(i,s,r,n,e[7],16,-155497632),n=Le(n,i,s,r,e[10],23,-1094730640),r=Le(r,n,i,s,e[13],4,681279174),s=Le(s,r,n,i,e[0],11,-358537222),i=Le(i,s,r,n,e[3],16,-722521979),n=Le(n,i,s,r,e[6],23,76029189),r=Le(r,n,i,s,e[9],4,-640364487),s=Le(s,r,n,i,e[12],11,-421815835),i=Le(i,s,r,n,e[15],16,530742520),n=Le(n,i,s,r,e[2],23,-995338651),r=je(r,n,i,s,e[0],6,-198630844),s=je(s,r,n,i,e[7],10,1126891415),i=je(i,s,r,n,e[14],15,-1416354905),n=je(n,i,s,r,e[5],21,-57434055),r=je(r,n,i,s,e[12],6,1700485571),s=je(s,r,n,i,e[3],10,-1894986606),i=je(i,s,r,n,e[10],15,-1051523),n=je(n,i,s,r,e[1],21,-2054922799),r=je(r,n,i,s,e[8],6,1873313359),s=je(s,r,n,i,e[15],10,-30611744),i=je(i,s,r,n,e[6],15,-1560198380),n=je(n,i,s,r,e[13],21,1309151649),r=je(r,n,i,s,e[4],6,-145523070),s=je(s,r,n,i,e[11],10,-1120210379),i=je(i,s,r,n,e[2],15,718787259),n=je(n,i,s,r,e[9],21,-343485551),t[0]=Nn(r,t[0]),t[1]=Nn(n,t[1]),t[2]=Nn(i,t[2]),t[3]=Nn(s,t[3])}function Ra(t,e,r,n,i,s){return e=Nn(Nn(e,t),Nn(n,s)),Nn(e<<i|e>>>32-i,r)}function ze(t,e,r,n,i,s,a){return Ra(e&r|~e&n,t,e,i,s,a)}function Fe(t,e,r,n,i,s,a){return Ra(e&n|r&~n,t,e,i,s,a)}function Le(t,e,r,n,i,s,a){return Ra(e^r^n,t,e,i,s,a)}function je(t,e,r,n,i,s,a){return Ra(r^(e|~n),t,e,i,s,a)}function _d(t){const e=[];let r;for(r=0;r<64;r+=4)e[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return e}const e1="0123456789abcdef".split("");function Ad(t){let e="",r=0;for(;r<4;r++)e+=e1[t>>8*r+4&15]+e1[t>>8*r&15];return e}function Nn(t,e){return t+e&4294967295}const Ca=H.getWebCrypto(),r1=H.getNodeCrypto();function ui(t){return async function(e){const r=r1.createHash(t);return we(e,n=>{r.update(n)},()=>new Uint8Array(r.digest()))}}function Ta(t,e){return async function(r,n=It){if(_e(r)&&(r=await ke(r)),!H.isStream(r)&&Ca&&e&&r.length>=n.minBytesForWebCrypto)return new Uint8Array(await Ca.digest(e,r));const i=t();return we(r,s=>{i.update(s)},()=>new Uint8Array(i.digest()))}}function n1(t,e){return async function(r,n=It){if(_e(r)&&(r=await ke(r)),H.isStream(r)){const i=new t;return we(r,s=>{i.process(s)},()=>i.finish().result)}return Ca&&e&&r.length>=n.minBytesForWebCrypto?new Uint8Array(await Ca.digest(e,r)):t.bytes(r)}}let Kn;Kn=r1?{md5:ui("md5"),sha1:ui("sha1"),sha224:ui("sha224"),sha256:ui("sha256"),sha384:ui("sha384"),sha512:ui("sha512"),ripemd:ui("ripemd160")}:{md5:async function(t){const e=function(r){const n=r.length,i=[1732584193,-271733879,-1732584194,271733878];let s;for(s=64;s<=r.length;s+=64)wc(i,_d(r.substring(s-64,s)));r=r.substring(s-64);const a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<r.length;s++)a[s>>2]|=r.charCodeAt(s)<<(s%4<<3);if(a[s>>2]|=128<<(s%4<<3),s>55)for(wc(i,a),s=0;s<16;s++)a[s]=0;return a[14]=8*n,wc(i,a),i}(H.uint8ArrayToString(t));return H.hexToUint8Array(function(r){for(let n=0;n<r.length;n++)r[n]=Ad(r[n]);return r.join("")}(e))},sha1:n1(oi,navigator.userAgent.indexOf("Edge")===-1&&"SHA-1"),sha224:Ta(Hu),sha256:n1(Pa,"SHA-256"),sha384:Ta(Yu,"SHA-384"),sha512:Ta(Es,"SHA-512"),ripemd:Ta(Zu)};var Ti={md5:Kn.md5,sha1:Kn.sha1,sha224:Kn.sha224,sha256:Kn.sha256,sha384:Kn.sha384,sha512:Kn.sha512,ripemd:Kn.ripemd,digest:function(t,e){switch(t){case 1:return this.md5(e);case 2:return this.sha1(e);case 3:return this.ripemd(e);case 8:return this.sha256(e);case 9:return this.sha384(e);case 10:return this.sha512(e);case 11:return this.sha224(e);default:throw Error("Invalid hash function.")}},getHashByteLength:function(t){switch(t){case 1:return 16;case 2:case 3:return 20;case 8:return 32;case 9:return 48;case 10:return 64;case 11:return 28;default:throw Error("Invalid hash algorithm.")}}};class Ii{static encrypt(e,r,n){return new Ii(r,n).encrypt(e)}static decrypt(e,r,n){return new Ii(r,n).decrypt(e)}constructor(e,r,n){this.aes=n||new gs(e,r,!0,"CFB"),delete this.aes.padding}encrypt(e){return In(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return In(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}const i1=H.getWebCrypto(),Ia=H.getNodeCrypto(),hi=Ia?Ia.getCiphers():[],Da={idea:hi.includes("idea-cfb")?"idea-cfb":void 0,tripledes:hi.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:hi.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:hi.includes("bf-cfb")?"bf-cfb":void 0,aes128:hi.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:hi.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:hi.includes("aes-256-cfb")?"aes-256-cfb":void 0};var kd=Object.freeze({__proto__:null,encrypt:async function(t,e,r,n,i){if(H.getNodeCrypto()&&Da[t])return function(f,l,y,p){const k=new Ia.createCipheriv(Da[f],l,p);return we(y,x=>new Uint8Array(k.update(x)))}(t,e,r,n);if(t.substr(0,3)==="aes")return function(f,l,y,p,k){if(H.getWebCrypto()&&l.length!==24&&!H.isStream(y)&&y.length>=3e3*k.minBytesForWebCrypto)return async function(E,D,q,z){const O="AES-CBC",L=await i1.importKey("raw",D,{name:O},!1,["encrypt"]),{blockSize:g}=Cr[E],T=H.concatUint8Array([new Uint8Array(g),q]),h=new Uint8Array(await i1.encrypt({name:O,iv:z},L,T)).subarray(0,q.length);return function(d,w){for(let m=0;m<d.length;m++)d[m]=d[m]^w[m]}(h,q),h}(f,l,y,p);const x=new Ii(l,p);return we(y,E=>x.aes.AES_Encrypt_process(E),()=>x.aes.AES_Encrypt_finish())}(t,e,r,n,i);const s=new Cr[t](e),a=s.blockSize,o=n.slice();let u=new Uint8Array;const c=f=>{f&&(u=H.concatUint8Array([u,f]));const l=new Uint8Array(u.length);let y,p=0;for(;f?u.length>=a:u.length;){const k=s.encrypt(o);for(y=0;y<a;y++)o[y]=u[y]^k[y],l[p++]=o[y];u=u.subarray(a)}return l.subarray(0,p)};return we(r,c,c)},decrypt:async function(t,e,r,n){if(H.getNodeCrypto()&&Da[t])return function(c,f,l,y){const p=new Ia.createDecipheriv(Da[c],f,y);return we(l,k=>new Uint8Array(p.update(k)))}(t,e,r,n);if(t.substr(0,3)==="aes")return function(c,f,l,y){if(H.isStream(l)){const p=new Ii(f,y);return we(l,k=>p.aes.AES_Decrypt_process(k),()=>p.aes.AES_Decrypt_finish())}return Ii.decrypt(l,f,y)}(0,e,r,n);const i=new Cr[t](e),s=i.blockSize;let a=n,o=new Uint8Array;const u=c=>{c&&(o=H.concatUint8Array([o,c]));const f=new Uint8Array(o.length);let l,y=0;for(;c?o.length>=s:o.length;){const p=i.encrypt(a);for(a=o,l=0;l<s;l++)f[y++]=a[l]^p[l];o=o.subarray(s)}return f.subarray(0,y)};return we(r,u,u)}});class Ua{static encrypt(e,r,n){return new Ua(r,n).encrypt(e)}static decrypt(e,r,n){return new Ua(r,n).encrypt(e)}constructor(e,r,n){this.aes=n||new gs(e,void 0,!1,"CTR"),delete this.aes.padding,this.AES_CTR_set_options(r)}encrypt(e){return In(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return In(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}AES_CTR_set_options(e,r,n){let{asm:i}=this.aes.acquire_asm();if(n!==void 0){if(n<8||n>48)throw new gn("illegal counter size");let s=Math.pow(2,n)-1;i.set_mask(0,0,s/4294967296|0,0|s)}else n=48,i.set_mask(0,0,65535,4294967295);if(e===void 0)throw Error("nonce is required");{let s=e.length;if(!s||s>16)throw new gn("illegal nonce size");let a=new DataView(new ArrayBuffer(16));new Uint8Array(a.buffer).set(e),i.set_nonce(a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12))}if(r!==void 0){if(r<0||r>=Math.pow(2,n))throw new gn("illegal counter value");i.set_counter(0,0,r/4294967296|0,0|r)}}}class Ba{static encrypt(e,r,n=!0,i){return new Ba(r,i,n).encrypt(e)}static decrypt(e,r,n=!0,i){return new Ba(r,i,n).decrypt(e)}constructor(e,r,n=!0,i){this.aes=i||new gs(e,r,n,"CBC")}encrypt(e){return In(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return In(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}const s1=H.getWebCrypto(),Sd=H.getNodeCrypto();function a1(t,e){const r=t.length-16;for(let n=0;n<16;n++)t[n+r]^=e[n];return t}const Oa=new Uint8Array(16);async function Ed(t){const e=await async function(i){return H.getWebCrypto()&&i.length!==24?(i=await s1.importKey("raw",i,{name:"AES-CBC",length:8*i.length},!1,["encrypt"]),async function(s){const a=await s1.encrypt({name:"AES-CBC",iv:Oa,length:128},i,s);return new Uint8Array(a).subarray(0,a.byteLength-16)}):H.getNodeCrypto()?async function(s){const a=new Sd.createCipheriv("aes-"+8*i.length+"-cbc",i,Oa).update(s);return new Uint8Array(a)}:async function(s){return Ba.encrypt(s,i,!1,Oa)}}(t),r=H.double(await e(Oa)),n=H.double(r);return async function(i){return(await e(function(s,a,o){if(s.length&&s.length%16==0)return a1(s,a);const u=new Uint8Array(s.length+(16-s.length%16));return u.set(s),u[s.length]=128,a1(u,o)}(i,r,n))).subarray(-16)}}const o1=H.getWebCrypto(),Pd=H.getNodeCrypto(),xd=H.getNodeBuffer(),c1=new Uint8Array(16),_c=new Uint8Array(16);_c[15]=1;const Ac=new Uint8Array(16);async function Md(t){const e=await Ed(t);return function(r,n){return e(H.concatUint8Array([r,n]))}}async function Rd(t){return H.getWebCrypto()&&t.length!==24&&navigator.userAgent.indexOf("Edge")===-1?(t=await o1.importKey("raw",t,{name:"AES-CTR",length:8*t.length},!1,["encrypt"]),async function(e,r){const n=await o1.encrypt({name:"AES-CTR",counter:r,length:128},t,e);return new Uint8Array(n)}):H.getNodeCrypto()?async function(e,r){const n=new Pd.createCipheriv("aes-"+8*t.length+"-ctr",t,r),i=xd.concat([n.update(e),n.final()]);return new Uint8Array(i)}:async function(e,r){return Ua.encrypt(e,t,r)}}async function xs(t,e){if(t.substr(0,3)!=="aes")throw Error("EAX mode supports only AES cipher");const[r,n]=await Promise.all([Md(e),Rd(e)]);return{encrypt:async function(i,s,a){const[o,u]=await Promise.all([r(c1,s),r(_c,a)]),c=await n(i,o),f=await r(Ac,c);for(let l=0;l<16;l++)f[l]^=u[l]^o[l];return H.concatUint8Array([c,f])},decrypt:async function(i,s,a){if(i.length<16)throw Error("Invalid EAX ciphertext");const o=i.subarray(0,-16),u=i.subarray(-16),[c,f,l]=await Promise.all([r(c1,s),r(_c,a),r(Ac,o)]),y=l;for(let p=0;p<16;p++)y[p]^=f[p]^c[p];if(!H.equalsUint8Array(u,y))throw Error("Authentication tag mismatch");return await n(o,c)}}}Ac[15]=2,xs.getNonce=function(t,e){const r=t.slice();for(let n=0;n<e.length;n++)r[8+n]^=e[n];return r},xs.blockLength=16,xs.ivLength=16,xs.tagLength=16;function u1(t){let e=0;for(let r=1;(t&r)==0;r<<=1)e++;return e}function er(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r];return t}function Na(t,e){return er(t.slice(),e)}const kc=new Uint8Array(16),Cd=new Uint8Array([1]);async function Ms(t,e){let r,n,i,s=0;function a(o,u,c,f){const l=u.length/16|0;(function(g,T){const h=H.nbits(Math.max(g.length,T.length)/16|0)-1;for(let d=s+1;d<=h;d++)i[d]=H.double(i[d-1]);s=h})(u,f);const y=H.concatUint8Array([kc.subarray(0,15-c.length),Cd,c]),p=63&y[15];y[15]&=192;const k=r(y),x=H.concatUint8Array([k,Na(k.subarray(0,8),k.subarray(1,9))]),E=H.shiftRight(x.subarray(0+(p>>3),17+(p>>3)),8-(7&p)).subarray(1),D=new Uint8Array(16),q=new Uint8Array(u.length+16);let z,O=0;for(z=0;z<l;z++)er(E,i[u1(z+1)]),q.set(er(o(Na(E,u)),E),O),er(D,o===r?u:q.subarray(O)),u=u.subarray(16),O+=16;if(u.length){er(E,i.x);const g=r(E);q.set(Na(u,g),O);const T=new Uint8Array(16);T.set(o===r?u:q.subarray(O,-16),0),T[u.length]=128,er(D,T),O+=u.length}const L=er(r(er(er(D,E),i.$)),function(g){if(!g.length)return kc;const T=g.length/16|0,h=new Uint8Array(16),d=new Uint8Array(16);for(let w=0;w<T;w++)er(h,i[u1(w+1)]),er(d,r(Na(h,g))),g=g.subarray(16);if(g.length){er(h,i.x);const w=new Uint8Array(16);w.set(g,0),w[g.length]=128,er(w,h),er(d,r(w))}return d}(f));return q.set(L,O),q}return function(o,u){const c=new Cr[o](u);r=c.encrypt.bind(c),n=c.decrypt.bind(c);const f=r(kc),l=H.double(f);i=[],i[0]=H.double(l),i.x=f,i.$=l}(t,e),{encrypt:async function(o,u,c){return a(r,o,u,c)},decrypt:async function(o,u,c){if(o.length<16)throw Error("Invalid OCB ciphertext");const f=o.subarray(-16);o=o.subarray(0,-16);const l=a(n,o,u,c);if(H.equalsUint8Array(f,l.subarray(-16)))return l.subarray(0,-16);throw Error("Authentication tag mismatch")}}}Ms.getNonce=function(t,e){const r=t.slice();for(let n=0;n<e.length;n++)r[7+n]^=e[n];return r},Ms.blockLength=16,Ms.ivLength=15,Ms.tagLength=16;class fi{constructor(e,r,n,i=16,s){this.tagSize=i,this.gamma0=0,this.counter=1,this.aes=s||new gs(e,void 0,!1,"CTR");let{asm:a,heap:o}=this.aes.acquire_asm();if(a.gcm_init(),this.tagSize<4||this.tagSize>16)throw new gn("illegal tagSize value");const u=r.length||0,c=new Uint8Array(16);u!==12?(this._gcm_mac_process(r),o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=0,o[11]=u>>>29,o[12]=u>>>21&255,o[13]=u>>>13&255,o[14]=u>>>5&255,o[15]=u<<3&255,a.mac(te.MAC.GCM,te.HEAP_DATA,16),a.get_iv(te.HEAP_DATA),a.set_iv(0,0,0,0),c.set(o.subarray(0,16))):(c.set(r),c[15]=1);const f=new DataView(c.buffer);if(this.gamma0=f.getUint32(12),a.set_nonce(f.getUint32(0),f.getUint32(4),f.getUint32(8),0),a.set_mask(0,0,0,4294967295),n!==void 0){if(n.length>68719476704)throw new gn("illegal adata length");n.length?(this.adata=n,this._gcm_mac_process(n)):this.adata=void 0}else this.adata=void 0;if(this.counter<1||this.counter>4294967295)throw new RangeError("counter must be a positive 32-bit integer");a.set_counter(0,0,0,this.gamma0+this.counter|0)}static encrypt(e,r,n,i,s){return new fi(r,n,i,s).encrypt(e)}static decrypt(e,r,n,i,s){return new fi(r,n,i,s).decrypt(e)}encrypt(e){return this.AES_GCM_encrypt(e)}decrypt(e){return this.AES_GCM_decrypt(e)}AES_GCM_Encrypt_process(e){let r=0,n=e.length||0,{asm:i,heap:s}=this.aes.acquire_asm(),a=this.counter,o=this.aes.pos,u=this.aes.len,c=0,f=u+n&-16,l=0;if((a-1<<4)+u+n>68719476704)throw new RangeError("counter overflow");const y=new Uint8Array(f);for(;n>0;)l=ai(s,o+u,e,r,n),u+=l,r+=l,n-=l,l=i.cipher(te.ENC.CTR,te.HEAP_DATA+o,u),l=i.mac(te.MAC.GCM,te.HEAP_DATA+o,l),l&&y.set(s.subarray(o,o+l),c),a+=l>>>4,c+=l,l<u?(o+=l,u-=l):(o=0,u=0);return this.counter=a,this.aes.pos=o,this.aes.len=u,y}AES_GCM_Encrypt_finish(){let{asm:e,heap:r}=this.aes.acquire_asm(),n=this.counter,i=this.tagSize,s=this.adata,a=this.aes.pos,o=this.aes.len;const u=new Uint8Array(o+i);e.cipher(te.ENC.CTR,te.HEAP_DATA+a,o+15&-16),o&&u.set(r.subarray(a,a+o));let c=o;for(;15&c;c++)r[a+c]=0;e.mac(te.MAC.GCM,te.HEAP_DATA+a,c);const f=s!==void 0?s.length:0,l=(n-1<<4)+o;return r[0]=0,r[1]=0,r[2]=0,r[3]=f>>>29,r[4]=f>>>21,r[5]=f>>>13&255,r[6]=f>>>5&255,r[7]=f<<3&255,r[8]=r[9]=r[10]=0,r[11]=l>>>29,r[12]=l>>>21&255,r[13]=l>>>13&255,r[14]=l>>>5&255,r[15]=l<<3&255,e.mac(te.MAC.GCM,te.HEAP_DATA,16),e.get_iv(te.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(te.ENC.CTR,te.HEAP_DATA,16),u.set(r.subarray(0,i),o),this.counter=1,this.aes.pos=0,this.aes.len=0,u}AES_GCM_Decrypt_process(e){let r=0,n=e.length||0,{asm:i,heap:s}=this.aes.acquire_asm(),a=this.counter,o=this.tagSize,u=this.aes.pos,c=this.aes.len,f=0,l=c+n>o?c+n-o&-16:0,y=c+n-l,p=0;if((a-1<<4)+c+n>68719476704)throw new RangeError("counter overflow");const k=new Uint8Array(l);for(;n>y;)p=ai(s,u+c,e,r,n-y),c+=p,r+=p,n-=p,p=i.mac(te.MAC.GCM,te.HEAP_DATA+u,p),p=i.cipher(te.DEC.CTR,te.HEAP_DATA+u,p),p&&k.set(s.subarray(u,u+p),f),a+=p>>>4,f+=p,u=0,c=0;return n>0&&(c+=ai(s,0,e,r,n)),this.counter=a,this.aes.pos=u,this.aes.len=c,k}AES_GCM_Decrypt_finish(){let{asm:e,heap:r}=this.aes.acquire_asm(),n=this.tagSize,i=this.adata,s=this.counter,a=this.aes.pos,o=this.aes.len,u=o-n;if(o<n)throw new pc("authentication tag not found");const c=new Uint8Array(u),f=new Uint8Array(r.subarray(a+u,a+o));let l=u;for(;15&l;l++)r[a+l]=0;e.mac(te.MAC.GCM,te.HEAP_DATA+a,l),e.cipher(te.DEC.CTR,te.HEAP_DATA+a,l),u&&c.set(r.subarray(a,a+u));const y=i!==void 0?i.length:0,p=(s-1<<4)+o-n;r[0]=0,r[1]=0,r[2]=0,r[3]=y>>>29,r[4]=y>>>21,r[5]=y>>>13&255,r[6]=y>>>5&255,r[7]=y<<3&255,r[8]=r[9]=r[10]=0,r[11]=p>>>29,r[12]=p>>>21&255,r[13]=p>>>13&255,r[14]=p>>>5&255,r[15]=p<<3&255,e.mac(te.MAC.GCM,te.HEAP_DATA,16),e.get_iv(te.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(te.ENC.CTR,te.HEAP_DATA,16);let k=0;for(let x=0;x<n;++x)k|=f[x]^r[x];if(k)throw new yc("data integrity check failed");return this.counter=1,this.aes.pos=0,this.aes.len=0,c}AES_GCM_decrypt(e){const r=this.AES_GCM_Decrypt_process(e),n=this.AES_GCM_Decrypt_finish(),i=new Uint8Array(r.length+n.length);return r.length&&i.set(r),n.length&&i.set(n,r.length),i}AES_GCM_encrypt(e){const r=this.AES_GCM_Encrypt_process(e),n=this.AES_GCM_Encrypt_finish(),i=new Uint8Array(r.length+n.length);return r.length&&i.set(r),n.length&&i.set(n,r.length),i}_gcm_mac_process(e){let{asm:r,heap:n}=this.aes.acquire_asm(),i=0,s=e.length||0,a=0;for(;s>0;){for(a=ai(n,0,e,i,s),i+=a,s-=a;15&a;)n[a++]=0;r.mac(te.MAC.GCM,te.HEAP_DATA,a)}}}const Sc=H.getWebCrypto(),h1=H.getNodeCrypto(),f1=H.getNodeBuffer();async function Di(t,e){if(t.substr(0,3)!=="aes")throw Error("GCM mode supports only AES cipher");if(H.getWebCrypto()&&e.length!==24){const r=await Sc.importKey("raw",e,{name:"AES-GCM"},!1,["encrypt","decrypt"]);return{encrypt:async function(n,i,s=new Uint8Array){if(!n.length||!s.length&&navigator.userAgent.indexOf("Edge")!==-1)return fi.encrypt(n,e,i,s);const a=await Sc.encrypt({name:"AES-GCM",iv:i,additionalData:s,tagLength:128},r,n);return new Uint8Array(a)},decrypt:async function(n,i,s=new Uint8Array){if(n.length===16||!s.length&&navigator.userAgent.indexOf("Edge")!==-1)return fi.decrypt(n,e,i,s);const a=await Sc.decrypt({name:"AES-GCM",iv:i,additionalData:s,tagLength:128},r,n);return new Uint8Array(a)}}}return H.getNodeCrypto()?{encrypt:async function(r,n,i=new Uint8Array){const s=new h1.createCipheriv("aes-"+8*e.length+"-gcm",e,n);s.setAAD(i);const a=f1.concat([s.update(r),s.final(),s.getAuthTag()]);return new Uint8Array(a)},decrypt:async function(r,n,i=new Uint8Array){const s=new h1.createDecipheriv("aes-"+8*e.length+"-gcm",e,n);s.setAAD(i),s.setAuthTag(r.slice(r.length-16,r.length));const a=f1.concat([s.update(r.slice(0,r.length-16)),s.final()]);return new Uint8Array(a)}}:{encrypt:async function(r,n,i){return fi.encrypt(r,e,n,i)},decrypt:async function(r,n,i){return fi.decrypt(r,e,n,i)}}}Di.getNonce=function(t,e){const r=t.slice();for(let n=0;n<e.length;n++)r[4+n]^=e[n];return r},Di.blockLength=16,Di.ivLength=12,Di.tagLength=16;var Td={cfb:kd,gcm:Di,experimentalGCM:Di,eax:xs,ocb:Ms},Jr=Wr(function(t){(function(e){var r=function(G){var ut,F=new Float64Array(16);if(G)for(ut=0;ut<G.length;ut++)F[ut]=G[ut];return F},n=function(){throw Error("no PRNG")},i=new Uint8Array(32);i[0]=9;var s=r(),a=r([1]),o=r([56129,1]),u=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(G,ut,F,S){return function(Y,A,R,N,P){var _,M=0;for(_=0;_<P;_++)M|=Y[A+_]^R[N+_];return(1&M-1>>>8)-1}(G,ut,F,S,32)}function k(G,ut){var F;for(F=0;F<16;F++)G[F]=0|ut[F]}function x(G){var ut,F,S=1;for(ut=0;ut<16;ut++)F=G[ut]+S+65535,S=Math.floor(F/65536),G[ut]=F-65536*S;G[0]+=S-1+37*(S-1)}function E(G,ut,F){for(var S,Y=~(F-1),A=0;A<16;A++)S=Y&(G[A]^ut[A]),G[A]^=S,ut[A]^=S}function D(G,ut){var F,S,Y,A=r(),R=r();for(F=0;F<16;F++)R[F]=ut[F];for(x(R),x(R),x(R),S=0;S<2;S++){for(A[0]=R[0]-65517,F=1;F<15;F++)A[F]=R[F]-65535-(A[F-1]>>16&1),A[F-1]&=65535;A[15]=R[15]-32767-(A[14]>>16&1),Y=A[15]>>16&1,A[14]&=65535,E(R,A,1-Y)}for(F=0;F<16;F++)G[2*F]=255&R[F],G[2*F+1]=R[F]>>8}function q(G,ut){var F=new Uint8Array(32),S=new Uint8Array(32);return D(F,G),D(S,ut),p(F,0,S,0)}function z(G){var ut=new Uint8Array(32);return D(ut,G),1&ut[0]}function O(G,ut){var F;for(F=0;F<16;F++)G[F]=ut[2*F]+(ut[2*F+1]<<8);G[15]&=32767}function L(G,ut,F){for(var S=0;S<16;S++)G[S]=ut[S]+F[S]}function g(G,ut,F){for(var S=0;S<16;S++)G[S]=ut[S]-F[S]}function T(G,ut,F){var S,Y,A=0,R=0,N=0,P=0,_=0,M=0,K=0,Q=0,J=0,rt=0,bt=0,_t=0,Pt=0,tt=0,et=0,ct=0,st=0,at=0,ht=0,W=0,j=0,Et=0,At=0,Ot=0,Zt=0,jt=0,Ft=0,oe=0,Yt=0,Jt=0,ue=0,zt=F[0],Wt=F[1],ee=F[2],Nt=F[3],Gt=F[4],ae=F[5],Ht=F[6],vt=F[7],wt=F[8],St=F[9],Tt=F[10],qt=F[11],Kt=F[12],Bt=F[13],ne=F[14],$t=F[15];A+=(S=ut[0])*zt,R+=S*Wt,N+=S*ee,P+=S*Nt,_+=S*Gt,M+=S*ae,K+=S*Ht,Q+=S*vt,J+=S*wt,rt+=S*St,bt+=S*Tt,_t+=S*qt,Pt+=S*Kt,tt+=S*Bt,et+=S*ne,ct+=S*$t,R+=(S=ut[1])*zt,N+=S*Wt,P+=S*ee,_+=S*Nt,M+=S*Gt,K+=S*ae,Q+=S*Ht,J+=S*vt,rt+=S*wt,bt+=S*St,_t+=S*Tt,Pt+=S*qt,tt+=S*Kt,et+=S*Bt,ct+=S*ne,st+=S*$t,N+=(S=ut[2])*zt,P+=S*Wt,_+=S*ee,M+=S*Nt,K+=S*Gt,Q+=S*ae,J+=S*Ht,rt+=S*vt,bt+=S*wt,_t+=S*St,Pt+=S*Tt,tt+=S*qt,et+=S*Kt,ct+=S*Bt,st+=S*ne,at+=S*$t,P+=(S=ut[3])*zt,_+=S*Wt,M+=S*ee,K+=S*Nt,Q+=S*Gt,J+=S*ae,rt+=S*Ht,bt+=S*vt,_t+=S*wt,Pt+=S*St,tt+=S*Tt,et+=S*qt,ct+=S*Kt,st+=S*Bt,at+=S*ne,ht+=S*$t,_+=(S=ut[4])*zt,M+=S*Wt,K+=S*ee,Q+=S*Nt,J+=S*Gt,rt+=S*ae,bt+=S*Ht,_t+=S*vt,Pt+=S*wt,tt+=S*St,et+=S*Tt,ct+=S*qt,st+=S*Kt,at+=S*Bt,ht+=S*ne,W+=S*$t,M+=(S=ut[5])*zt,K+=S*Wt,Q+=S*ee,J+=S*Nt,rt+=S*Gt,bt+=S*ae,_t+=S*Ht,Pt+=S*vt,tt+=S*wt,et+=S*St,ct+=S*Tt,st+=S*qt,at+=S*Kt,ht+=S*Bt,W+=S*ne,j+=S*$t,K+=(S=ut[6])*zt,Q+=S*Wt,J+=S*ee,rt+=S*Nt,bt+=S*Gt,_t+=S*ae,Pt+=S*Ht,tt+=S*vt,et+=S*wt,ct+=S*St,st+=S*Tt,at+=S*qt,ht+=S*Kt,W+=S*Bt,j+=S*ne,Et+=S*$t,Q+=(S=ut[7])*zt,J+=S*Wt,rt+=S*ee,bt+=S*Nt,_t+=S*Gt,Pt+=S*ae,tt+=S*Ht,et+=S*vt,ct+=S*wt,st+=S*St,at+=S*Tt,ht+=S*qt,W+=S*Kt,j+=S*Bt,Et+=S*ne,At+=S*$t,J+=(S=ut[8])*zt,rt+=S*Wt,bt+=S*ee,_t+=S*Nt,Pt+=S*Gt,tt+=S*ae,et+=S*Ht,ct+=S*vt,st+=S*wt,at+=S*St,ht+=S*Tt,W+=S*qt,j+=S*Kt,Et+=S*Bt,At+=S*ne,Ot+=S*$t,rt+=(S=ut[9])*zt,bt+=S*Wt,_t+=S*ee,Pt+=S*Nt,tt+=S*Gt,et+=S*ae,ct+=S*Ht,st+=S*vt,at+=S*wt,ht+=S*St,W+=S*Tt,j+=S*qt,Et+=S*Kt,At+=S*Bt,Ot+=S*ne,Zt+=S*$t,bt+=(S=ut[10])*zt,_t+=S*Wt,Pt+=S*ee,tt+=S*Nt,et+=S*Gt,ct+=S*ae,st+=S*Ht,at+=S*vt,ht+=S*wt,W+=S*St,j+=S*Tt,Et+=S*qt,At+=S*Kt,Ot+=S*Bt,Zt+=S*ne,jt+=S*$t,_t+=(S=ut[11])*zt,Pt+=S*Wt,tt+=S*ee,et+=S*Nt,ct+=S*Gt,st+=S*ae,at+=S*Ht,ht+=S*vt,W+=S*wt,j+=S*St,Et+=S*Tt,At+=S*qt,Ot+=S*Kt,Zt+=S*Bt,jt+=S*ne,Ft+=S*$t,Pt+=(S=ut[12])*zt,tt+=S*Wt,et+=S*ee,ct+=S*Nt,st+=S*Gt,at+=S*ae,ht+=S*Ht,W+=S*vt,j+=S*wt,Et+=S*St,At+=S*Tt,Ot+=S*qt,Zt+=S*Kt,jt+=S*Bt,Ft+=S*ne,oe+=S*$t,tt+=(S=ut[13])*zt,et+=S*Wt,ct+=S*ee,st+=S*Nt,at+=S*Gt,ht+=S*ae,W+=S*Ht,j+=S*vt,Et+=S*wt,At+=S*St,Ot+=S*Tt,Zt+=S*qt,jt+=S*Kt,Ft+=S*Bt,oe+=S*ne,Yt+=S*$t,et+=(S=ut[14])*zt,ct+=S*Wt,st+=S*ee,at+=S*Nt,ht+=S*Gt,W+=S*ae,j+=S*Ht,Et+=S*vt,At+=S*wt,Ot+=S*St,Zt+=S*Tt,jt+=S*qt,Ft+=S*Kt,oe+=S*Bt,Yt+=S*ne,Jt+=S*$t,ct+=(S=ut[15])*zt,R+=38*(at+=S*ee),N+=38*(ht+=S*Nt),P+=38*(W+=S*Gt),_+=38*(j+=S*ae),M+=38*(Et+=S*Ht),K+=38*(At+=S*vt),Q+=38*(Ot+=S*wt),J+=38*(Zt+=S*St),rt+=38*(jt+=S*Tt),bt+=38*(Ft+=S*qt),_t+=38*(oe+=S*Kt),Pt+=38*(Yt+=S*Bt),tt+=38*(Jt+=S*ne),et+=38*(ue+=S*$t),A=(S=(A+=38*(st+=S*Wt))+(Y=1)+65535)-65536*(Y=Math.floor(S/65536)),R=(S=R+Y+65535)-65536*(Y=Math.floor(S/65536)),N=(S=N+Y+65535)-65536*(Y=Math.floor(S/65536)),P=(S=P+Y+65535)-65536*(Y=Math.floor(S/65536)),_=(S=_+Y+65535)-65536*(Y=Math.floor(S/65536)),M=(S=M+Y+65535)-65536*(Y=Math.floor(S/65536)),K=(S=K+Y+65535)-65536*(Y=Math.floor(S/65536)),Q=(S=Q+Y+65535)-65536*(Y=Math.floor(S/65536)),J=(S=J+Y+65535)-65536*(Y=Math.floor(S/65536)),rt=(S=rt+Y+65535)-65536*(Y=Math.floor(S/65536)),bt=(S=bt+Y+65535)-65536*(Y=Math.floor(S/65536)),_t=(S=_t+Y+65535)-65536*(Y=Math.floor(S/65536)),Pt=(S=Pt+Y+65535)-65536*(Y=Math.floor(S/65536)),tt=(S=tt+Y+65535)-65536*(Y=Math.floor(S/65536)),et=(S=et+Y+65535)-65536*(Y=Math.floor(S/65536)),ct=(S=ct+Y+65535)-65536*(Y=Math.floor(S/65536)),A=(S=(A+=Y-1+37*(Y-1))+(Y=1)+65535)-65536*(Y=Math.floor(S/65536)),R=(S=R+Y+65535)-65536*(Y=Math.floor(S/65536)),N=(S=N+Y+65535)-65536*(Y=Math.floor(S/65536)),P=(S=P+Y+65535)-65536*(Y=Math.floor(S/65536)),_=(S=_+Y+65535)-65536*(Y=Math.floor(S/65536)),M=(S=M+Y+65535)-65536*(Y=Math.floor(S/65536)),K=(S=K+Y+65535)-65536*(Y=Math.floor(S/65536)),Q=(S=Q+Y+65535)-65536*(Y=Math.floor(S/65536)),J=(S=J+Y+65535)-65536*(Y=Math.floor(S/65536)),rt=(S=rt+Y+65535)-65536*(Y=Math.floor(S/65536)),bt=(S=bt+Y+65535)-65536*(Y=Math.floor(S/65536)),_t=(S=_t+Y+65535)-65536*(Y=Math.floor(S/65536)),Pt=(S=Pt+Y+65535)-65536*(Y=Math.floor(S/65536)),tt=(S=tt+Y+65535)-65536*(Y=Math.floor(S/65536)),et=(S=et+Y+65535)-65536*(Y=Math.floor(S/65536)),ct=(S=ct+Y+65535)-65536*(Y=Math.floor(S/65536)),A+=Y-1+37*(Y-1),G[0]=A,G[1]=R,G[2]=N,G[3]=P,G[4]=_,G[5]=M,G[6]=K,G[7]=Q,G[8]=J,G[9]=rt,G[10]=bt,G[11]=_t,G[12]=Pt,G[13]=tt,G[14]=et,G[15]=ct}function h(G,ut){T(G,ut,ut)}function d(G,ut){var F,S=r();for(F=0;F<16;F++)S[F]=ut[F];for(F=253;F>=0;F--)h(S,S),F!==2&&F!==4&&T(S,S,ut);for(F=0;F<16;F++)G[F]=S[F]}function w(G,ut,F){var S,Y,A=new Uint8Array(32),R=new Float64Array(80),N=r(),P=r(),_=r(),M=r(),K=r(),Q=r();for(Y=0;Y<31;Y++)A[Y]=ut[Y];for(A[31]=127&ut[31]|64,A[0]&=248,O(R,F),Y=0;Y<16;Y++)P[Y]=R[Y],M[Y]=N[Y]=_[Y]=0;for(N[0]=M[0]=1,Y=254;Y>=0;--Y)E(N,P,S=A[Y>>>3]>>>(7&Y)&1),E(_,M,S),L(K,N,_),g(N,N,_),L(_,P,M),g(P,P,M),h(M,K),h(Q,N),T(N,_,N),T(_,P,K),L(K,N,_),g(N,N,_),h(P,N),g(_,M,Q),T(N,_,o),L(N,N,M),T(_,_,N),T(N,M,Q),T(M,P,R),h(P,K),E(N,P,S),E(_,M,S);for(Y=0;Y<16;Y++)R[Y+16]=N[Y],R[Y+32]=_[Y],R[Y+48]=P[Y],R[Y+64]=M[Y];var J=R.subarray(32),rt=R.subarray(16);return d(J,J),T(rt,rt,J),D(G,rt),0}function m(G,ut){return w(G,ut,i)}function v(G,ut){var F=r(),S=r(),Y=r(),A=r(),R=r(),N=r(),P=r(),_=r(),M=r();g(F,G[1],G[0]),g(M,ut[1],ut[0]),T(F,F,M),L(S,G[0],G[1]),L(M,ut[0],ut[1]),T(S,S,M),T(Y,G[3],ut[3]),T(Y,Y,c),T(A,G[2],ut[2]),L(A,A,A),g(R,S,F),g(N,A,Y),L(P,A,Y),L(_,S,F),T(G[0],R,N),T(G[1],_,P),T(G[2],P,N),T(G[3],R,_)}function I(G,ut,F){var S;for(S=0;S<4;S++)E(G[S],ut[S],F)}function U(G,ut){var F=r(),S=r(),Y=r();d(Y,ut[2]),T(F,ut[0],Y),T(S,ut[1],Y),D(G,S),G[31]^=z(F)<<7}function $(G,ut,F){var S,Y;for(k(G[0],s),k(G[1],a),k(G[2],a),k(G[3],s),Y=255;Y>=0;--Y)I(G,ut,S=F[Y/8|0]>>(7&Y)&1),v(ut,G),v(G,G),I(G,ut,S)}function nt(G,ut){var F=[r(),r(),r(),r()];k(F[0],f),k(F[1],l),k(F[2],a),T(F[3],f,l),$(G,F,ut)}function b(G,ut,F){var S,Y,A=[r(),r(),r(),r()];for(F||n(ut,32),(S=e.hash(ut.subarray(0,32)))[0]&=248,S[31]&=127,S[31]|=64,nt(A,S),U(G,A),Y=0;Y<32;Y++)ut[Y+32]=G[Y];return 0}var C=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function V(G,ut){var F,S,Y,A;for(S=63;S>=32;--S){for(F=0,Y=S-32,A=S-12;Y<A;++Y)ut[Y]+=F-16*ut[S]*C[Y-(S-32)],F=Math.floor((ut[Y]+128)/256),ut[Y]-=256*F;ut[Y]+=F,ut[S]=0}for(F=0,Y=0;Y<32;Y++)ut[Y]+=F-(ut[31]>>4)*C[Y],F=ut[Y]>>8,ut[Y]&=255;for(Y=0;Y<32;Y++)ut[Y]-=F*C[Y];for(S=0;S<32;S++)ut[S+1]+=ut[S]>>8,G[S]=255&ut[S]}function Z(G){var ut,F=new Float64Array(64);for(ut=0;ut<64;ut++)F[ut]=G[ut];for(ut=0;ut<64;ut++)G[ut]=0;V(G,F)}function it(G,ut){var F=r(),S=r(),Y=r(),A=r(),R=r(),N=r(),P=r();return k(G[2],a),O(G[1],ut),h(Y,G[1]),T(A,Y,u),g(Y,Y,G[2]),L(A,G[2],A),h(R,A),h(N,R),T(P,N,R),T(F,P,Y),T(F,F,A),function(_,M){var K,Q=r();for(K=0;K<16;K++)Q[K]=M[K];for(K=250;K>=0;K--)h(Q,Q),K!==1&&T(Q,Q,M);for(K=0;K<16;K++)_[K]=Q[K]}(F,F),T(F,F,Y),T(F,F,A),T(F,F,A),T(G[0],F,A),h(S,G[0]),T(S,S,A),q(S,Y)&&T(G[0],G[0],y),h(S,G[0]),T(S,S,A),q(S,Y)?-1:(z(G[0])===ut[31]>>7&&g(G[0],s,G[0]),T(G[3],G[0],G[1]),0)}var lt=64;function dt(){for(var G=0;G<arguments.length;G++)if(!(arguments[G]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pt(G){for(var ut=0;ut<G.length;ut++)G[ut]=0}e.scalarMult=function(G,ut){if(dt(G,ut),G.length!==32)throw Error("bad n size");if(ut.length!==32)throw Error("bad p size");var F=new Uint8Array(32);return w(F,G,ut),F},e.box={},e.box.keyPair=function(){var G,ut,F=new Uint8Array(32),S=new Uint8Array(32);return G=F,n(ut=S,32),m(G,ut),{publicKey:F,secretKey:S}},e.box.keyPair.fromSecretKey=function(G){if(dt(G),G.length!==32)throw Error("bad secret key size");var ut=new Uint8Array(32);return m(ut,G),{publicKey:ut,secretKey:new Uint8Array(G)}},e.sign=function(G,ut){if(dt(G,ut),ut.length!==64)throw Error("bad secret key size");var F=new Uint8Array(lt+G.length);return function(S,Y,A,R){var N,P,_,M,K,Q=new Float64Array(64),J=[r(),r(),r(),r()];(N=e.hash(R.subarray(0,32)))[0]&=248,N[31]&=127,N[31]|=64;var rt=A+64;for(M=0;M<A;M++)S[64+M]=Y[M];for(M=0;M<32;M++)S[32+M]=N[32+M];for(Z(_=e.hash(S.subarray(32,rt))),nt(J,_),U(S,J),M=32;M<64;M++)S[M]=R[M];for(Z(P=e.hash(S.subarray(0,rt))),M=0;M<64;M++)Q[M]=0;for(M=0;M<32;M++)Q[M]=_[M];for(M=0;M<32;M++)for(K=0;K<32;K++)Q[M+K]+=P[M]*N[K];V(S.subarray(32),Q)}(F,G,G.length,ut),F},e.sign.detached=function(G,ut){for(var F=e.sign(G,ut),S=new Uint8Array(lt),Y=0;Y<S.length;Y++)S[Y]=F[Y];return S},e.sign.detached.verify=function(G,ut,F){if(dt(G,ut,F),ut.length!==lt)throw Error("bad signature size");if(F.length!==32)throw Error("bad public key size");var S,Y=new Uint8Array(lt+G.length),A=new Uint8Array(lt+G.length);for(S=0;S<lt;S++)Y[S]=ut[S];for(S=0;S<G.length;S++)Y[S+lt]=G[S];return function(R,N,P,_){var M,K,Q=new Uint8Array(32),J=[r(),r(),r(),r()],rt=[r(),r(),r(),r()];if(P<64||it(rt,_))return-1;for(M=0;M<P;M++)R[M]=N[M];for(M=0;M<32;M++)R[M+32]=_[M];if(Z(K=e.hash(R.subarray(0,P))),$(J,rt,K),nt(rt,N.subarray(32)),v(J,rt),U(Q,J),P-=64,p(N,0,Q,0)){for(M=0;M<P;M++)R[M]=0;return-1}for(M=0;M<P;M++)R[M]=N[M+64];return P}(A,Y,Y.length,F)>=0},e.sign.keyPair=function(){var G=new Uint8Array(32),ut=new Uint8Array(64);return b(G,ut),{publicKey:G,secretKey:ut}},e.sign.keyPair.fromSecretKey=function(G){if(dt(G),G.length!==64)throw Error("bad secret key size");for(var ut=new Uint8Array(32),F=0;F<ut.length;F++)ut[F]=G[32+F];return{publicKey:ut,secretKey:new Uint8Array(G)}},e.sign.keyPair.fromSeed=function(G){if(dt(G),G.length!==32)throw Error("bad seed size");for(var ut=new Uint8Array(32),F=new Uint8Array(64),S=0;S<32;S++)F[S]=G[S];return b(ut,F,!0),{publicKey:ut,secretKey:F}},e.setPRNG=function(G){n=G},function(){var G=typeof self!="undefined"?self.crypto||self.msCrypto:null;G&&G.getRandomValues?e.setPRNG(function(ut,F){var S,Y=new Uint8Array(F);for(S=0;S<F;S+=65536)G.getRandomValues(Y.subarray(S,S+Math.min(F-S,65536)));for(S=0;S<F;S++)ut[S]=Y[S];pt(Y)}):(G=void 0)&&G.randomBytes&&e.setPRNG(function(ut,F){var S,Y=G.randomBytes(F);for(S=0;S<F;S++)ut[S]=Y[S];pt(Y)})}()})(t.exports?t.exports:self.nacl=self.nacl||{})});const l1=H.getNodeCrypto();async function Xr(t){const e=new Uint8Array(t);if(typeof crypto!="undefined"&&crypto.getRandomValues)crypto.getRandomValues(e);else if(l1){const r=l1.randomBytes(e.length);e.set(r)}else{if(!Ec.buffer)throw Error("No secure random number generator available.");await Ec.get(e)}return e}async function _n(t,e){const r=await H.getBigInteger();if(e.lt(t))throw Error("Illegal parameter value: max <= min");const n=e.sub(t),i=n.byteLength();return new r(await Xr(i+8)).mod(n).add(t)}const Ec=new class{constructor(){this.buffer=null,this.size=null,this.callback=null}init(t,e){this.buffer=new Uint8Array(t),this.size=0,this.callback=e}set(t){if(!this.buffer)throw Error("RandomBuffer is not initialized");if(!(t instanceof Uint8Array))throw Error("Invalid type: buf not an Uint8Array");const e=this.buffer.length-this.size;t.length>e&&(t=t.subarray(0,e)),this.buffer.set(t,this.size),this.size+=t.length}async get(t){if(!this.buffer)throw Error("RandomBuffer is not initialized");if(!(t instanceof Uint8Array))throw Error("Invalid type: buf not an Uint8Array");if(this.size<t.length){if(!this.callback)throw Error("Random number buffer depleted");return await this.callback(),this.get(t)}for(let e=0;e<t.length;e++)t[e]=this.buffer[--this.size],this.buffer[this.size]=0}};var Id=Object.freeze({__proto__:null,getRandomBytes:Xr,getRandomBigInteger:_n,randomBuffer:Ec});async function d1(t,e,r){const n=await H.getBigInteger(),i=new n(1),s=i.leftShift(new n(t-1)),a=new n(30),o=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],u=await _n(s,s.leftShift(i));let c=u.mod(a).toNumber();do u.iadd(new n(o[c])),c=(c+o[c])%o.length,u.bitLength()>t&&(u.imod(s.leftShift(i)).iadd(s),c=u.mod(a).toNumber());while(!await p1(u,e,r));return u}async function p1(t,e,r){return!(e&&!t.dec().gcd(e).isOne())&&!!await async function(n){const i=await H.getBigInteger();return Dd.every(s=>n.mod(new i(s))!==0)}(t)&&!!await async function(n,i){const s=await H.getBigInteger();return(i=i||new s(2)).modExp(n.dec(),n).isOne()}(t)&&!!await async function(n,i,s){const a=await H.getBigInteger(),o=n.bitLength();i||(i=Math.max(1,o/48|0));const u=n.dec();let c=0;for(;!u.getBit(c);)c++;const f=n.rightShift(new a(c));for(;i>0;i--){let l,y=(s?s():await _n(new a(2),u)).modExp(f,n);if(!y.isOne()&&!y.equal(u)){for(l=1;l<c;l++){if(y=y.mul(y).mod(n),y.isOne())return!1;if(y.equal(u))break}if(l===c)return!1}}return!0}(t,r)}const Dd=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999],Qr=[];async function Pc(t,e){const r=t.length;if(r>e-11)throw Error("Message too long");const n=await async function(s){const a=new Uint8Array(s);let o=0;for(;o<s;){const u=await Xr(s-o);for(let c=0;c<u.length;c++)u[c]!==0&&(a[o++]=u[c])}return a}(e-r-3),i=new Uint8Array(e);return i[1]=2,i.set(n,2),i.set(t,e-r),i}function xc(t){let e=2;for(;t[e]!==0&&e<t.length;)e++;const r=e-2,n=t[e++];if(t[0]===0&&t[1]===2&&r>=8&&n===0)return t.subarray(e);throw Error("Decryption error")}async function Mc(t,e,r){let n;if(e.length!==Ti.getHashByteLength(t))throw Error("Invalid hash length");const i=new Uint8Array(Qr[t].length);for(n=0;n<Qr[t].length;n++)i[n]=Qr[t][n];const s=i.length+e.length;if(r<s+11)throw Error("Intended encoded message length too short");const a=new Uint8Array(r-s-3).fill(255),o=new Uint8Array(r);return o[1]=1,o.set(a,2),o.set(i,r-s),o.set(e,r-e.length),o}Qr[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],Qr[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],Qr[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],Qr[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],Qr[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],Qr[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],Qr[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];var Ud=Object.freeze({__proto__:null,emeEncode:Pc,emeDecode:xc,emsaEncode:Mc});const Ui=H.getWebCrypto(),rr=H.getNodeCrypto(),y1=void 0,Bi=H.detectNode()?y1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}):void 0,Ka=H.detectNode()?y1.define("RSAPubliceKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}):void 0;var Bd=Object.freeze({__proto__:null,sign:async function(t,e,r,n,i,s,a,o,u){if(e&&!H.isStream(e)){if(H.getWebCrypto())try{return await async function(c,f,l,y,p,k,x,E){const D=await async function(O,L,g,T,h,d){const w=await H.getBigInteger(),m=new w(T),v=new w(h),I=new w(g);let U=I.mod(v.dec()),$=I.mod(m.dec());return $=$.toUint8Array(),U=U.toUint8Array(),{kty:"RSA",n:or(O,!0),e:or(L,!0),d:or(g,!0),p:or(h,!0),q:or(T,!0),dp:or(U,!0),dq:or($,!0),qi:or(d,!0),ext:!0}}(l,y,p,k,x,E),q={name:"RSASSA-PKCS1-v1_5",hash:{name:c}},z=await Ui.importKey("jwk",D,q,!1,["sign"]);return new Uint8Array(await Ui.sign({name:"RSASSA-PKCS1-v1_5",hash:c},z,f))}(B.read(B.webHash,t),e,r,n,i,s,a,o)}catch(c){H.printDebugError(c)}else if(H.getNodeCrypto())return async function(c,f,l,y,p,k,x,E){const{default:D}=await Promise.resolve().then(function(){return sa}),q=new D(k),z=new D(x),O=new D(p),L=O.mod(z.subn(1)),g=O.mod(q.subn(1)),T=rr.createSign(B.read(B.hash,c));T.write(f),T.end();const h={version:0,modulus:new D(l),publicExponent:new D(y),privateExponent:new D(p),prime1:new D(x),prime2:new D(k),exponent1:L,exponent2:g,coefficient:new D(E)};if(rr.createPrivateKey!==void 0){const w=Bi.encode(h,"der");return new Uint8Array(T.sign({key:w,format:"der",type:"pkcs1"}))}const d=Bi.encode(h,"pem",{label:"RSA PRIVATE KEY"});return new Uint8Array(T.sign(d))}(t,e,r,n,i,s,a,o)}return async function(c,f,l,y){const p=await H.getBigInteger();f=new p(f);const k=new p(await Mc(c,y,f.byteLength()));if(l=new p(l),k.gte(f))throw Error("Message size cannot exceed modulus size");return k.modExp(l,f).toUint8Array("be",f.byteLength())}(t,r,i,u)},verify:async function(t,e,r,n,i,s){if(e&&!H.isStream(e)){if(H.getWebCrypto())try{return await async function(a,o,u,c,f){const l=function(p,k){return{kty:"RSA",n:or(p,!0),e:or(k,!0),ext:!0}}(c,f),y=await Ui.importKey("jwk",l,{name:"RSASSA-PKCS1-v1_5",hash:{name:a}},!1,["verify"]);return Ui.verify({name:"RSASSA-PKCS1-v1_5",hash:a},y,u,o)}(B.read(B.webHash,t),e,r,n,i)}catch(a){H.printDebugError(a)}else if(H.getNodeCrypto())return async function(a,o,u,c,f){const{default:l}=await Promise.resolve().then(function(){return sa}),y=rr.createVerify(B.read(B.hash,a));y.write(o),y.end();const p={modulus:new l(c),publicExponent:new l(f)};let k;rr.createPrivateKey!==void 0?k={key:Ka.encode(p,"der"),format:"der",type:"pkcs1"}:k=Ka.encode(p,"pem",{label:"RSA PUBLIC KEY"});try{return await y.verify(k,u)}catch{return!1}}(t,e,r,n,i)}return async function(a,o,u,c,f){const l=await H.getBigInteger();if(u=new l(u),o=new l(o),c=new l(c),o.gte(u))throw Error("Signature size cannot exceed modulus size");const y=o.modExp(c,u).toUint8Array("be",u.byteLength()),p=await Mc(a,f,u.byteLength());return H.equalsUint8Array(y,p)}(t,r,n,i,s)},encrypt:async function(t,e,r){return H.getNodeCrypto()?async function(n,i,s){const{default:a}=await Promise.resolve().then(function(){return sa}),o={modulus:new a(i),publicExponent:new a(s)};let u;return rr.createPrivateKey!==void 0?u={key:Ka.encode(o,"der"),format:"der",type:"pkcs1",padding:rr.constants.RSA_PKCS1_PADDING}:u={key:Ka.encode(o,"pem",{label:"RSA PUBLIC KEY"}),padding:rr.constants.RSA_PKCS1_PADDING},new Uint8Array(rr.publicEncrypt(u,n))}(t,e,r):async function(n,i,s){const a=await H.getBigInteger();if(i=new a(i),n=new a(await Pc(n,i.byteLength())),s=new a(s),n.gte(i))throw Error("Message size cannot exceed modulus size");return n.modExp(s,i).toUint8Array("be",i.byteLength())}(t,e,r)},decrypt:async function(t,e,r,n,i,s,a){return H.getNodeCrypto()?async function(o,u,c,f,l,y,p){const{default:k}=await Promise.resolve().then(function(){return sa}),x=new k(l),E=new k(y),D=new k(f),q=D.mod(E.subn(1)),z=D.mod(x.subn(1)),O={version:0,modulus:new k(u),publicExponent:new k(c),privateExponent:new k(f),prime1:new k(y),prime2:new k(l),exponent1:q,exponent2:z,coefficient:new k(p)};let L;rr.createPrivateKey!==void 0?L={key:Bi.encode(O,"der"),format:"der",type:"pkcs1",padding:rr.constants.RSA_PKCS1_PADDING}:L={key:Bi.encode(O,"pem",{label:"RSA PRIVATE KEY"}),padding:rr.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(rr.privateDecrypt(L,o))}catch{throw Error("Decryption error")}}(t,e,r,n,i,s,a):async function(o,u,c,f,l,y,p){const k=await H.getBigInteger();if(o=new k(o),u=new k(u),c=new k(c),f=new k(f),l=new k(l),y=new k(y),p=new k(p),o.gte(u))throw Error("Data too large.");const x=f.mod(y.dec()),E=f.mod(l.dec()),D=(await _n(new k(2),u)).mod(u),q=D.modInv(u).modExp(c,u),z=(o=o.mul(q).mod(u)).modExp(E,l),O=o.modExp(x,y);let L=p.mul(O.sub(z)).mod(y).mul(l).add(z);return L=L.mul(D).mod(u),xc(L.toUint8Array("be",u.byteLength()))}(t,e,r,n,i,s,a)},generate:async function(t,e){if(e=new(await H.getBigInteger())(e),H.getWebCrypto()){const a={name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:e.toUint8Array(),hash:{name:"SHA-1"}},o=await Ui.generateKey(a,!0,["sign","verify"]),u=await Ui.exportKey("jwk",o.privateKey);return{n:mn(u.n),e:e.toUint8Array(),d:mn(u.d),p:mn(u.q),q:mn(u.p),u:mn(u.qi)}}if(H.getNodeCrypto()&&rr.generateKeyPair&&Bi){const a={modulusLength:t,publicExponent:e.toNumber(),publicKeyEncoding:{type:"pkcs1",format:"der"},privateKeyEncoding:{type:"pkcs1",format:"der"}},o=await new Promise((u,c)=>rr.generateKeyPair("rsa",a,(f,l,y)=>{f?c(f):u(Bi.decode(y,"der"))}));return{n:o.modulus.toArrayLike(Uint8Array),e:o.publicExponent.toArrayLike(Uint8Array),d:o.privateExponent.toArrayLike(Uint8Array),p:o.prime2.toArrayLike(Uint8Array),q:o.prime1.toArrayLike(Uint8Array),u:o.coefficient.toArrayLike(Uint8Array)}}let r,n,i;do n=await d1(t-(t>>1),e,40),r=await d1(t>>1,e,40),i=r.mul(n);while(i.bitLength()!==t);const s=r.dec().imul(n.dec());return n.lt(r)&&([r,n]=[n,r]),{n:i.toUint8Array(),e:e.toUint8Array(),d:e.modInv(s).toUint8Array(),p:r.toUint8Array(),q:n.toUint8Array(),u:r.modInv(n).toUint8Array()}},validateParams:async function(t,e,r,n,i,s){const a=await H.getBigInteger();if(t=new a(t),n=new a(n),i=new a(i),!n.mul(i).equal(t))return!1;const o=new a(2);if(s=new a(s),!n.mul(s).mod(i).isOne())return!1;e=new a(e),r=new a(r);const u=new a(Math.floor(t.bitLength()/3)),c=await _n(o,o.leftShift(u)),f=c.mul(r).mul(e);return!(!f.mod(n.dec()).equal(c)||!f.mod(i.dec()).equal(c))}}),Od=Object.freeze({__proto__:null,encrypt:async function(t,e,r,n){const i=await H.getBigInteger();e=new i(e),r=new i(r),n=new i(n);const s=new i(await Pc(t,e.byteLength())),a=await _n(new i(1),e.dec());return{c1:r.modExp(a,e).toUint8Array(),c2:n.modExp(a,e).imul(s).imod(e).toUint8Array()}},decrypt:async function(t,e,r,n){const i=await H.getBigInteger();return t=new i(t),e=new i(e),r=new i(r),n=new i(n),xc(t.modExp(n,r).modInv(r).imul(e).imod(r).toUint8Array("be",r.byteLength()))},validateParams:async function(t,e,r,n){const i=await H.getBigInteger();t=new i(t),e=new i(e),r=new i(r);const s=new i(1);if(e.lte(s)||e.gte(t))return!1;const a=new i(t.bitLength()),o=new i(1023);if(a.lt(o)||!e.modExp(t.dec(),t).isOne())return!1;let u=e;const c=new i(1),f=new i(2).leftShift(new i(17));for(;c.lt(f);){if(u=u.mul(e).imod(t),u.isOne())return!1;c.iinc()}n=new i(n);const l=new i(2),y=await _n(l.leftShift(a.dec()),l.leftShift(a)),p=t.dec().imul(y).iadd(n);return!!r.equal(e.modExp(p,t))}});class Zr{constructor(e){if(e instanceof Zr)this.oid=e.oid;else if(H.isArray(e)||H.isUint8Array(e)){if((e=new Uint8Array(e))[0]===6){if(e[1]!==e.length-2)throw Error("Length mismatch in DER encoded oid");e=e.subarray(2)}this.oid=e}else this.oid=""}read(e){if(e.length>=1){const r=e[0];if(e.length>=1+r)return this.oid=e.subarray(1,1+r),1+this.oid.length}throw Error("Invalid oid")}write(){return H.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return H.uint8ArrayToHex(this.oid)}getName(){const e=this.toHex();if(B.curve[e])return B.write(B.curve,e);throw Error("Unknown curve object identifier.")}}function za(t,e){return t.keyPair({priv:e})}function Fa(t,e){const r=t.keyPair({pub:e});if(r.validate().result!==!0)throw Error("Invalid elliptic public key");return r}async function Oi(t){if(!It.useIndutnyElliptic)throw Error("This curve is only supported in the full build of OpenPGP.js");const{default:e}=await Promise.resolve().then(function(){return O3});return new e.ec(t)}const Rc=H.getWebCrypto(),La=H.getNodeCrypto(),tn={p256:"P-256",p384:"P-384",p521:"P-521"},An=La?La.getCurves():[],zn=La?{secp256k1:An.includes("secp256k1")?"secp256k1":void 0,p256:An.includes("prime256v1")?"prime256v1":void 0,p384:An.includes("secp384r1")?"secp384r1":void 0,p521:An.includes("secp521r1")?"secp521r1":void 0,ed25519:An.includes("ED25519")?"ED25519":void 0,curve25519:An.includes("X25519")?"X25519":void 0,brainpoolP256r1:An.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,brainpoolP384r1:An.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,brainpoolP512r1:An.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},ja={p256:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:B.publicKey.ecdsa,hash:B.hash.sha256,cipher:B.symmetric.aes128,node:zn.p256,web:tn.p256,payloadSize:32,sharedSize:256},p384:{oid:[6,5,43,129,4,0,34],keyType:B.publicKey.ecdsa,hash:B.hash.sha384,cipher:B.symmetric.aes192,node:zn.p384,web:tn.p384,payloadSize:48,sharedSize:384},p521:{oid:[6,5,43,129,4,0,35],keyType:B.publicKey.ecdsa,hash:B.hash.sha512,cipher:B.symmetric.aes256,node:zn.p521,web:tn.p521,payloadSize:66,sharedSize:528},secp256k1:{oid:[6,5,43,129,4,0,10],keyType:B.publicKey.ecdsa,hash:B.hash.sha256,cipher:B.symmetric.aes128,node:zn.secp256k1,payloadSize:32},ed25519:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:B.publicKey.eddsa,hash:B.hash.sha512,node:!1,payloadSize:32},curve25519:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:B.publicKey.ecdh,hash:B.hash.sha256,cipher:B.symmetric.aes128,node:!1,payloadSize:32},brainpoolP256r1:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:B.publicKey.ecdsa,hash:B.hash.sha256,cipher:B.symmetric.aes128,node:zn.brainpoolP256r1,payloadSize:32},brainpoolP384r1:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:B.publicKey.ecdsa,hash:B.hash.sha384,cipher:B.symmetric.aes192,node:zn.brainpoolP384r1,payloadSize:48},brainpoolP512r1:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:B.publicKey.ecdsa,hash:B.hash.sha512,cipher:B.symmetric.aes256,node:zn.brainpoolP512r1,payloadSize:64}};class Fn{constructor(e,r){try{(H.isArray(e)||H.isUint8Array(e))&&(e=new Zr(e)),e instanceof Zr&&(e=e.getName()),this.name=B.write(B.curve,e)}catch{throw Error("Not valid curve")}r=r||ja[this.name],this.keyType=r.keyType,this.oid=r.oid,this.hash=r.hash,this.cipher=r.cipher,this.node=r.node&&ja[this.name],this.web=r.web&&ja[this.name],this.payloadSize=r.payloadSize,this.web&&H.getWebCrypto()?this.type="web":this.node&&H.getNodeCrypto()?this.type="node":this.name==="curve25519"?this.type="curve25519":this.name==="ed25519"&&(this.type="ed25519")}async genKeyPair(){let e;switch(this.type){case"web":try{return await async function(n){const i=await Rc.generateKey({name:"ECDSA",namedCurve:tn[n]},!0,["sign","verify"]),s=await Rc.exportKey("jwk",i.privateKey);return{publicKey:g1(await Rc.exportKey("jwk",i.publicKey)),privateKey:mn(s.d)}}(this.name)}catch(n){H.printDebugError("Browser did not support generating ec key "+n.message);break}case"node":return async function(n){const i=La.createECDH(zn[n]);return await i.generateKeys(),{publicKey:new Uint8Array(i.getPublicKey()),privateKey:new Uint8Array(i.getPrivateKey())}}(this.name);case"curve25519":{const n=await Xr(32);n[0]=127&n[0]|64,n[31]&=248;const i=n.slice().reverse();return e=Jr.box.keyPair.fromSecretKey(i),{publicKey:H.concatUint8Array([new Uint8Array([64]),e.publicKey]),privateKey:n}}case"ed25519":{const n=await Xr(32),i=Jr.sign.keyPair.fromSeed(n);return{publicKey:H.concatUint8Array([new Uint8Array([64]),i.publicKey]),privateKey:n}}}return e=await(await Oi(this.name)).genKeyPair({entropy:H.uint8ArrayToString(await Xr(32))}),{publicKey:new Uint8Array(e.getPublic("array",!1)),privateKey:e.getPrivate().toArrayLike(Uint8Array)}}}async function m1(t,e,r,n){const i={p256:!0,p384:!0,p521:!0,secp256k1:!0,curve25519:t===B.publicKey.ecdh,brainpoolP256r1:!0,brainpoolP384r1:!0,brainpoolP512r1:!0},s=e.getName();if(!i[s])return!1;if(s==="curve25519"){n=n.slice().reverse();const{publicKey:o}=Jr.box.keyPair.fromSecretKey(n);r=new Uint8Array(r);const u=new Uint8Array([64,...o]);return!!H.equalsUint8Array(u,r)}const a=await Oi(s);try{r=Fa(a,r).getPublic()}catch{return!1}return!!za(a,n).getPublic().eq(r)}function g1(t){const e=mn(t.x),r=mn(t.y),n=new Uint8Array(e.length+r.length+1);return n[0]=4,n.set(e,1),n.set(r,e.length+1),n}function qa(t,e,r){const n=t,i=r.slice(1,n+1),s=r.slice(n+1,2*n+1);return{kty:"EC",crv:e,x:or(i,!0),y:or(s,!0),ext:!0}}function b1(t,e,r,n){const i=qa(t,e,r);return i.d=or(n,!0),i}const Wa=H.getWebCrypto(),Ni=H.getNodeCrypto();async function v1(t,e,r,n,i,s){const a=new Fn(t);if(r&&!H.isStream(r)){const o={publicKey:n,privateKey:i};switch(a.type){case"web":try{return await async function(u,c,f,l){const y=u.payloadSize,p=b1(u.payloadSize,tn[u.name],l.publicKey,l.privateKey),k=await Wa.importKey("jwk",p,{name:"ECDSA",namedCurve:tn[u.name],hash:{name:B.read(B.webHash,u.hash)}},!1,["sign"]),x=new Uint8Array(await Wa.sign({name:"ECDSA",namedCurve:tn[u.name],hash:{name:B.read(B.webHash,c)}},k,f));return{r:x.slice(0,y),s:x.slice(y,y<<1)}}(a,e,r,o)}catch(u){if(a.name!=="p521"&&(u.name==="DataError"||u.name==="OperationError"))throw u;H.printDebugError("Browser did not support signing: "+u.message)}break;case"node":{const u=await async function(c,f,l,y){const p=Ni.createSign(B.read(B.hash,f));p.write(l),p.end();const k=Nd.encode({version:1,parameters:c.oid,privateKey:Array.from(y.privateKey),publicKey:{unused:0,data:Array.from(y.publicKey)}},"pem",{label:"EC PRIVATE KEY"});return _1.decode(p.sign(k),"der")}(a,e,r,o);return{r:u.r.toArrayLike(Uint8Array),s:u.s.toArrayLike(Uint8Array)}}}}return async function(o,u,c){const f=await Oi(o.name),l=za(f,c).sign(u);return{r:l.r.toArrayLike(Uint8Array),s:l.s.toArrayLike(Uint8Array)}}(a,s,i)}async function w1(t,e,r,n,i,s){const a=new Fn(t);if(n&&!H.isStream(n))switch(a.type){case"web":try{return await async function(o,u,{r:c,s:f},l,y){const p=qa(o.payloadSize,tn[o.name],y),k=await Wa.importKey("jwk",p,{name:"ECDSA",namedCurve:tn[o.name],hash:{name:B.read(B.webHash,o.hash)}},!1,["verify"]),x=H.concatUint8Array([c,f]).buffer;return Wa.verify({name:"ECDSA",namedCurve:tn[o.name],hash:{name:B.read(B.webHash,u)}},k,x,l)}(a,e,r,n,i)}catch(o){if(a.name!=="p521"&&(o.name==="DataError"||o.name==="OperationError"))throw o;H.printDebugError("Browser did not support verifying: "+o.message)}break;case"node":return async function(o,u,{r:c,s:f},l,y){const{default:p}=await Promise.resolve().then(function(){return sa}),k=Ni.createVerify(B.read(B.hash,u));k.write(l),k.end();const x=zd.encode({algorithm:{algorithm:[1,2,840,10045,2,1],parameters:o.oid},subjectPublicKey:{unused:0,data:Array.from(y)}},"pem",{label:"PUBLIC KEY"}),E=_1.encode({r:new p(c),s:new p(f)},"der");try{return k.verify(x,E)}catch{return!1}}(a,e,r,n,i)}return async function(o,u,c,f){const l=await Oi(o.name);return Fa(l,f).verify(c,u)}(a,r,e===void 0?n:s,i)}const Ha=void 0,_1=Ni?Ha.define("ECDSASignature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}):void 0,Nd=Ni?Ha.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())}):void 0,Kd=Ni?Ha.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}):void 0,zd=Ni?Ha.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Kd),this.key("subjectPublicKey").bitstr())}):void 0;var Fd=Object.freeze({__proto__:null,sign:v1,verify:w1,validateParams:async function(t,e,r){const n=new Fn(t);if(n.keyType!==B.publicKey.ecdsa)return!1;switch(n.type){case"web":case"node":{const i=await Xr(8),s=B.hash.sha256,a=await Ti.digest(s,i);try{const o=await v1(t,s,i,e,r,a);return await w1(t,s,o,i,e,a)}catch{return!1}}default:return m1(B.publicKey.ecdsa,t,e,r)}}});Jr.hash=t=>new Uint8Array(Es().update(t).digest());var Ld=Object.freeze({__proto__:null,sign:async function(t,e,r,n,i,s){if(Ti.getHashByteLength(e)<Ti.getHashByteLength(B.hash.sha256))throw Error("Hash algorithm too weak: sha256 or stronger is required for EdDSA.");const a=H.concatUint8Array([i,n.subarray(1)]),o=Jr.sign.detached(s,a);return{r:o.subarray(0,32),s:o.subarray(32)}},verify:async function(t,e,{r,s:n},i,s,a){const o=H.concatUint8Array([r,n]);return Jr.sign.detached.verify(a,o,s.subarray(1))},validateParams:async function(t,e,r){if(t.getName()!=="ed25519")return!1;const{publicKey:n}=Jr.sign.keyPair.fromSeed(r),i=new Uint8Array([64,...n]);return H.equalsUint8Array(e,i)}});function A1(t,e){const r=new Cr["aes"+8*t.length](t),n=new Uint32Array([2795939494,2795939494]),i=Ga(e);let s=n;const a=i,o=i.length/2,u=new Uint32Array([0,0]);let c=new Uint32Array(4);for(let f=0;f<=5;++f)for(let l=0;l<o;++l)u[1]=o*f+(1+l),c[0]=s[0],c[1]=s[1],c[2]=a[2*l],c[3]=a[2*l+1],c=Ga(r.encrypt($a(c))),s=c.subarray(0,2),s[0]^=u[0],s[1]^=u[1],a[2*l]=c[2],a[2*l+1]=c[3];return $a(s,a)}function k1(t,e){const r=new Cr["aes"+8*t.length](t),n=new Uint32Array([2795939494,2795939494]),i=Ga(e);let s=i.subarray(0,2);const a=i.subarray(2),o=i.length/2-1,u=new Uint32Array([0,0]);let c=new Uint32Array(4);for(let f=5;f>=0;--f)for(let l=o-1;l>=0;--l)u[1]=o*f+(l+1),c[0]=s[0]^u[0],c[1]=s[1]^u[1],c[2]=a[2*l],c[3]=a[2*l+1],c=Ga(r.decrypt($a(c))),s=c.subarray(0,2),a[2*l]=c[2],a[2*l+1]=c[3];if(s[0]===n[0]&&s[1]===n[1])return $a(a);throw Error("Key Data Integrity failed")}function Ga(t){const{length:e}=t,r=function(s){if(H.isString(s)){const{length:a}=s,o=new ArrayBuffer(a),u=new Uint8Array(o);for(let c=0;c<a;++c)u[c]=s.charCodeAt(c);return o}return new Uint8Array(s).buffer}(t),n=new DataView(r),i=new Uint32Array(e/4);for(let s=0;s<e/4;++s)i[s]=n.getUint32(4*s);return i}function $a(){let t=0;for(let i=0;i<arguments.length;++i)t+=4*arguments[i].length;const e=new ArrayBuffer(t),r=new DataView(e);let n=0;for(let i=0;i<arguments.length;++i){for(let s=0;s<arguments[i].length;++s)r.setUint32(n+4*s,arguments[i][s]);n+=4*arguments[i].length}return new Uint8Array(e)}var jd=Object.freeze({__proto__:null,wrap:A1,unwrap:k1});function S1(t){const e=8-t.length%8,r=new Uint8Array(t.length+e).fill(e);return r.set(t),r}function E1(t){const e=t.length;if(e>0){const r=t[e-1];if(r>=1){const n=t.subarray(e-r),i=new Uint8Array(r).fill(r);if(H.equalsUint8Array(n,i))return t.subarray(0,e-r)}}throw Error("Invalid padding")}var qd=Object.freeze({__proto__:null,encode:S1,decode:E1});const Ln=H.getWebCrypto(),P1=H.getNodeCrypto();function x1(t,e,r,n){return H.concatUint8Array([e.write(),new Uint8Array([t]),r.write(),H.stringToUint8Array("Anonymous Sender    "),n.subarray(0,20)])}async function M1(t,e,r,n,i=!1,s=!1){let a;if(i){for(a=0;a<e.length&&e[a]===0;a++);e=e.subarray(a)}if(s){for(a=e.length-1;a>=0&&e[a]===0;a--);e=e.subarray(0,a+1)}return(await Ti.digest(t,H.concatUint8Array([new Uint8Array([0,0,0,1]),e,n]))).subarray(0,r)}async function Wd(t,e){switch(t.type){case"curve25519":{const r=await Xr(32),{secretKey:n,sharedKey:i}=await R1(t,e,null,r);let{publicKey:s}=Jr.box.keyPair.fromSecretKey(n);return s=H.concatUint8Array([new Uint8Array([64]),s]),{publicKey:s,sharedKey:i}}case"web":if(t.web&&H.getWebCrypto())try{return await async function(r,n){const i=qa(r.payloadSize,r.web.web,n);let s=Ln.generateKey({name:"ECDH",namedCurve:r.web.web},!0,["deriveKey","deriveBits"]),a=Ln.importKey("jwk",i,{name:"ECDH",namedCurve:r.web.web},!1,[]);[s,a]=await Promise.all([s,a]);let o=Ln.deriveBits({name:"ECDH",namedCurve:r.web.web,public:a},s.privateKey,r.web.sharedSize),u=Ln.exportKey("jwk",s.publicKey);[o,u]=await Promise.all([o,u]);const c=new Uint8Array(o);return{publicKey:new Uint8Array(g1(u)),sharedKey:c}}(t,e)}catch(r){H.printDebugError(r)}break;case"node":return async function(r,n){const i=P1.createECDH(r.node.node);i.generateKeys();const s=new Uint8Array(i.computeSecret(n));return{publicKey:new Uint8Array(i.getPublicKey()),sharedKey:s}}(t,e)}return async function(r,n){const i=await Oi(r.name),s=await r.genKeyPair();n=Fa(i,n);const a=za(i,s.privateKey),o=s.publicKey,u=a.derive(n.getPublic()),c=i.curve.p.byteLength(),f=u.toArrayLike(Uint8Array,"be",c);return{publicKey:o,sharedKey:f}}(t,e)}async function R1(t,e,r,n){if(n.length!==t.payloadSize){const i=new Uint8Array(t.payloadSize);i.set(n,t.payloadSize-n.length),n=i}switch(t.type){case"curve25519":{const i=n.slice().reverse();return{secretKey:i,sharedKey:Jr.scalarMult(i,e.subarray(1))}}case"web":if(t.web&&H.getWebCrypto())try{return await async function(i,s,a,o){const u=b1(i.payloadSize,i.web.web,a,o);let c=Ln.importKey("jwk",u,{name:"ECDH",namedCurve:i.web.web},!0,["deriveKey","deriveBits"]);const f=qa(i.payloadSize,i.web.web,s);let l=Ln.importKey("jwk",f,{name:"ECDH",namedCurve:i.web.web},!0,[]);[c,l]=await Promise.all([c,l]);let y=Ln.deriveBits({name:"ECDH",namedCurve:i.web.web,public:l},c,i.web.sharedSize),p=Ln.exportKey("jwk",c);[y,p]=await Promise.all([y,p]);const k=new Uint8Array(y);return{secretKey:mn(p.d),sharedKey:k}}(t,e,r,n)}catch(i){H.printDebugError(i)}break;case"node":return async function(i,s,a){const o=P1.createECDH(i.node.node);o.setPrivateKey(a);const u=new Uint8Array(o.computeSecret(s));return{secretKey:new Uint8Array(o.getPrivateKey()),sharedKey:u}}(t,e,n)}return async function(i,s,a){const o=await Oi(i.name);s=Fa(o,s),a=za(o,a);const u=new Uint8Array(a.getPrivate()),c=a.derive(s.getPublic()),f=o.curve.p.byteLength(),l=c.toArrayLike(Uint8Array,"be",f);return{secretKey:u,sharedKey:l}}(t,e,n)}var Hd=Object.freeze({__proto__:null,validateParams:async function(t,e,r){return m1(B.publicKey.ecdh,t,e,r)},encrypt:async function(t,e,r,n,i){const s=S1(r),a=new Fn(t),{publicKey:o,sharedKey:u}=await Wd(a,n),c=x1(B.publicKey.ecdh,t,e,i),f=B.read(B.symmetric,e.cipher);return{publicKey:o,wrappedKey:A1(await M1(e.hash,u,Cr[f].keySize,c),s)}},decrypt:async function(t,e,r,n,i,s,a){const o=new Fn(t),{sharedKey:u}=await R1(o,r,i,s),c=x1(B.publicKey.ecdh,t,e,a),f=B.read(B.symmetric,e.cipher);let l;for(let y=0;y<3;y++)try{return E1(k1(await M1(e.hash,u,Cr[f].keySize,c,y===1,y===2),n))}catch(p){l=p}throw l}}),me={rsa:Bd,elgamal:Od,elliptic:Object.freeze({__proto__:null,Curve:Fn,ecdh:Hd,ecdsa:Fd,eddsa:Ld,generate:async function(t){const e=await H.getBigInteger();t=new Fn(t);const r=await t.genKeyPair(),n=new e(r.publicKey).toUint8Array(),i=new e(r.privateKey).toUint8Array("be",t.payloadSize);return{oid:t.oid,Q:n,secret:i,hash:t.hash,cipher:t.cipher}},getPreferredHashAlgo:function(t){return ja[B.write(B.curve,t.toHex())].hash}}),dsa:Object.freeze({__proto__:null,sign:async function(t,e,r,n,i,s){const a=await H.getBigInteger(),o=new a(1);let u,c,f,l;n=new a(n),i=new a(i),r=new a(r),s=new a(s),r=r.mod(n),s=s.mod(i);const y=new a(e.subarray(0,i.byteLength())).mod(i);for(;;){if(u=await _n(o,i),c=r.modExp(u,n).imod(i),c.isZero())continue;const p=s.mul(c).imod(i);if(l=y.add(p).imod(i),f=u.modInv(i).imul(l).imod(i),!f.isZero())break}return{r:c.toUint8Array("be",i.byteLength()),s:f.toUint8Array("be",i.byteLength())}},verify:async function(t,e,r,n,i,s,a,o){const u=await H.getBigInteger(),c=new u(0);if(e=new u(e),r=new u(r),s=new u(s),a=new u(a),i=new u(i),o=new u(o),e.lte(c)||e.gte(a)||r.lte(c)||r.gte(a))return H.printDebug("invalid DSA Signature"),!1;const f=new u(n.subarray(0,a.byteLength())).imod(a),l=r.modInv(a);if(l.isZero())return H.printDebug("invalid DSA Signature"),!1;i=i.mod(s),o=o.mod(s);const y=f.mul(l).imod(a),p=e.mul(l).imod(a),k=i.modExp(y,s),x=o.modExp(p,s);return k.mul(x).imod(s).imod(a).equal(e)},validateParams:async function(t,e,r,n,i){const s=await H.getBigInteger();t=new s(t),e=new s(e),r=new s(r),n=new s(n);const a=new s(1);if(r.lte(a)||r.gte(t)||!t.dec().mod(e).isZero()||!r.modExp(e,t).isOne())return!1;const o=new s(e.bitLength()),u=new s(150);if(o.lt(u)||!await p1(e,null,32))return!1;i=new s(i);const c=new s(2),f=await _n(c.leftShift(o.dec()),c.leftShift(o)),l=e.mul(f).add(i);return!!n.equal(r.modExp(l,t))}}),nacl:Jr},Gd=Object.freeze({__proto__:null,parseSignatureParams:function(t,e){let r=0;switch(t){case B.publicKey.rsaEncryptSign:case B.publicKey.rsaEncrypt:case B.publicKey.rsaSign:return{s:H.readMPI(e.subarray(r))};case B.publicKey.dsa:case B.publicKey.ecdsa:{const n=H.readMPI(e.subarray(r));return r+=n.length+2,{r:n,s:H.readMPI(e.subarray(r))}}case B.publicKey.eddsa:{let n=H.readMPI(e.subarray(r));r+=n.length+2,n=H.leftPad(n,32);let i=H.readMPI(e.subarray(r));return i=H.leftPad(i,32),{r:n,s:i}}default:throw Error("Invalid signature algorithm.")}},verify:async function(t,e,r,n,i,s){switch(t){case B.publicKey.rsaEncryptSign:case B.publicKey.rsaEncrypt:case B.publicKey.rsaSign:{const{n:a,e:o}=n,u=H.leftPad(r.s,a.length);return me.rsa.verify(e,i,u,a,o,s)}case B.publicKey.dsa:{const{g:a,p:o,q:u,y:c}=n,{r:f,s:l}=r;return me.dsa.verify(e,f,l,s,a,o,u,c)}case B.publicKey.ecdsa:{const{oid:a,Q:o}=n,u=new me.elliptic.Curve(a).payloadSize,c=H.leftPad(r.r,u),f=H.leftPad(r.s,u);return me.elliptic.ecdsa.verify(a,e,{r:c,s:f},i,o,s)}case B.publicKey.eddsa:{const{oid:a,Q:o}=n;return me.elliptic.eddsa.verify(a,e,r,i,o,s)}default:throw Error("Invalid signature algorithm.")}},sign:async function(t,e,r,n,i,s){if(!r||!n)throw Error("Missing key parameters");switch(t){case B.publicKey.rsaEncryptSign:case B.publicKey.rsaEncrypt:case B.publicKey.rsaSign:{const{n:a,e:o}=r,{d:u,p:c,q:f,u:l}=n;return{s:await me.rsa.sign(e,i,a,o,u,c,f,l,s)}}case B.publicKey.dsa:{const{g:a,p:o,q:u}=r,{x:c}=n;return me.dsa.sign(e,s,a,o,u,c)}case B.publicKey.elgamal:throw Error("Signing with Elgamal is not defined in the OpenPGP standard.");case B.publicKey.ecdsa:{const{oid:a,Q:o}=r,{d:u}=n;return me.elliptic.ecdsa.sign(a,e,i,o,u,s)}case B.publicKey.eddsa:{const{oid:a,Q:o}=r,{seed:u}=n;return me.elliptic.eddsa.sign(a,e,i,o,u,s)}default:throw Error("Invalid signature algorithm.")}}});class C1{constructor(e){e=e===void 0?new Uint8Array([]):H.isString(e)?H.stringToUint8Array(e):new Uint8Array(e),this.data=e}read(e){if(e.length>=1){const r=e[0];if(e.length>=1+r)return this.data=e.subarray(1,1+r),1+this.data.length}throw Error("Invalid symmetric key")}write(){return H.concatUint8Array([new Uint8Array([this.data.length]),this.data])}}class T1{constructor(e){if(e){const{hash:r,cipher:n}=e;this.hash=r,this.cipher=n}else this.hash=null,this.cipher=null}read(e){if(e.length<4||e[0]!==3||e[1]!==1)throw Error("Cannot read KDFParams");return this.hash=e[2],this.cipher=e[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}}var $d=Object.freeze({__proto__:null,publicKeyEncrypt:async function(t,e,r,n){switch(t){case B.publicKey.rsaEncrypt:case B.publicKey.rsaEncryptSign:{const{n:i,e:s}=e;return{c:await me.rsa.encrypt(r,i,s)}}case B.publicKey.elgamal:{const{p:i,g:s,y:a}=e;return me.elgamal.encrypt(r,i,s,a)}case B.publicKey.ecdh:{const{oid:i,Q:s,kdfParams:a}=e,{publicKey:o,wrappedKey:u}=await me.elliptic.ecdh.encrypt(i,a,r,s,n);return{V:o,C:new C1(u)}}default:return[]}},publicKeyDecrypt:async function(t,e,r,n,i){switch(t){case B.publicKey.rsaEncryptSign:case B.publicKey.rsaEncrypt:{const{c:s}=n,{n:a,e:o}=e,{d:u,p:c,q:f,u:l}=r;return me.rsa.decrypt(s,a,o,u,c,f,l)}case B.publicKey.elgamal:{const{c1:s,c2:a}=n,o=e.p,u=r.x;return me.elgamal.decrypt(s,a,o,u)}case B.publicKey.ecdh:{const{oid:s,Q:a,kdfParams:o}=e,{d:u}=r,{V:c,C:f}=n;return me.elliptic.ecdh.decrypt(s,o,c,f.data,a,u,i)}default:throw Error("Invalid public key encryption algorithm.")}},parsePublicKeyParams:function(t,e){let r=0;switch(t){case B.publicKey.rsaEncrypt:case B.publicKey.rsaEncryptSign:case B.publicKey.rsaSign:{const n=H.readMPI(e.subarray(r));r+=n.length+2;const i=H.readMPI(e.subarray(r));return r+=i.length+2,{read:r,publicParams:{n,e:i}}}case B.publicKey.dsa:{const n=H.readMPI(e.subarray(r));r+=n.length+2;const i=H.readMPI(e.subarray(r));r+=i.length+2;const s=H.readMPI(e.subarray(r));r+=s.length+2;const a=H.readMPI(e.subarray(r));return r+=a.length+2,{read:r,publicParams:{p:n,q:i,g:s,y:a}}}case B.publicKey.elgamal:{const n=H.readMPI(e.subarray(r));r+=n.length+2;const i=H.readMPI(e.subarray(r));r+=i.length+2;const s=H.readMPI(e.subarray(r));return r+=s.length+2,{read:r,publicParams:{p:n,g:i,y:s}}}case B.publicKey.ecdsa:{const n=new Zr;r+=n.read(e);const i=H.readMPI(e.subarray(r));return r+=i.length+2,{read:r,publicParams:{oid:n,Q:i}}}case B.publicKey.eddsa:{const n=new Zr;r+=n.read(e);let i=H.readMPI(e.subarray(r));return r+=i.length+2,i=H.leftPad(i,33),{read:r,publicParams:{oid:n,Q:i}}}case B.publicKey.ecdh:{const n=new Zr;r+=n.read(e);const i=H.readMPI(e.subarray(r));r+=i.length+2;const s=new T1;return r+=s.read(e.subarray(r)),{read:r,publicParams:{oid:n,Q:i,kdfParams:s}}}default:throw Error("Invalid public key encryption algorithm.")}},parsePrivateKeyParams:function(t,e,r){let n=0;switch(t){case B.publicKey.rsaEncrypt:case B.publicKey.rsaEncryptSign:case B.publicKey.rsaSign:{const i=H.readMPI(e.subarray(n));n+=i.length+2;const s=H.readMPI(e.subarray(n));n+=s.length+2;const a=H.readMPI(e.subarray(n));n+=a.length+2;const o=H.readMPI(e.subarray(n));return n+=o.length+2,{read:n,privateParams:{d:i,p:s,q:a,u:o}}}case B.publicKey.dsa:case B.publicKey.elgamal:{const i=H.readMPI(e.subarray(n));return n+=i.length+2,{read:n,privateParams:{x:i}}}case B.publicKey.ecdsa:case B.publicKey.ecdh:{const i=new Fn(r.oid);let s=H.readMPI(e.subarray(n));return n+=s.length+2,s=H.leftPad(s,i.payloadSize),{read:n,privateParams:{d:s}}}case B.publicKey.eddsa:{let i=H.readMPI(e.subarray(n));return n+=i.length+2,i=H.leftPad(i,32),{read:n,privateParams:{seed:i}}}default:throw Error("Invalid public key encryption algorithm.")}},parseEncSessionKeyParams:function(t,e){let r=0;switch(t){case B.publicKey.rsaEncrypt:case B.publicKey.rsaEncryptSign:return{c:H.readMPI(e.subarray(r))};case B.publicKey.elgamal:{const n=H.readMPI(e.subarray(r));return r+=n.length+2,{c1:n,c2:H.readMPI(e.subarray(r))}}case B.publicKey.ecdh:{const n=H.readMPI(e.subarray(r));r+=n.length+2;const i=new C1;return i.read(e.subarray(r)),{V:n,C:i}}default:throw Error("Invalid public key encryption algorithm.")}},serializeParams:function(t,e){const r=Object.keys(e).map(n=>{const i=e[n];return H.isUint8Array(i)?H.uint8ArrayToMPI(i):i.write()});return H.concatUint8Array(r)},generateParams:function(t,e,r){switch(t){case B.publicKey.rsaEncrypt:case B.publicKey.rsaEncryptSign:case B.publicKey.rsaSign:return me.rsa.generate(e,65537).then(({n,e:i,d:s,p:a,q:o,u})=>({privateParams:{d:s,p:a,q:o,u},publicParams:{n,e:i}}));case B.publicKey.ecdsa:return me.elliptic.generate(r).then(({oid:n,Q:i,secret:s})=>({privateParams:{d:s},publicParams:{oid:new Zr(n),Q:i}}));case B.publicKey.eddsa:return me.elliptic.generate(r).then(({oid:n,Q:i,secret:s})=>({privateParams:{seed:s},publicParams:{oid:new Zr(n),Q:i}}));case B.publicKey.ecdh:return me.elliptic.generate(r).then(({oid:n,Q:i,secret:s,hash:a,cipher:o})=>({privateParams:{d:s},publicParams:{oid:new Zr(n),Q:i,kdfParams:new T1({hash:a,cipher:o})}}));case B.publicKey.dsa:case B.publicKey.elgamal:throw Error("Unsupported algorithm for key generation.");default:throw Error("Invalid public key algorithm.")}},validateParams:async function(t,e,r){if(!e||!r)throw Error("Missing key parameters");switch(t){case B.publicKey.rsaEncrypt:case B.publicKey.rsaEncryptSign:case B.publicKey.rsaSign:{const{n,e:i}=e,{d:s,p:a,q:o,u}=r;return me.rsa.validateParams(n,i,s,a,o,u)}case B.publicKey.dsa:{const{p:n,q:i,g:s,y:a}=e,{x:o}=r;return me.dsa.validateParams(n,i,s,a,o)}case B.publicKey.elgamal:{const{p:n,g:i,y:s}=e,{x:a}=r;return me.elgamal.validateParams(n,i,s,a)}case B.publicKey.ecdsa:case B.publicKey.ecdh:{const n=me.elliptic[B.read(B.publicKey,t)],{oid:i,Q:s}=e,{d:a}=r;return n.validateParams(i,s,a)}case B.publicKey.eddsa:{const{oid:n,Q:i}=e,{seed:s}=r;return me.elliptic.eddsa.validateParams(n,i,s)}default:throw Error("Invalid public key algorithm.")}},getPrefixRandom:async function(t){const e=await Xr(Cr[t].blockSize),r=new Uint8Array([e[e.length-2],e[e.length-1]]);return H.concat([e,r])},generateSessionKey:function(t){return Xr(Cr[t].keySize)}});const Dt={cipher:Cr,hash:Ti,mode:Td,publicKey:me,signature:Gd,random:Id,pkcs1:Ud,pkcs5:qd,aesKW:jd};Object.assign(Dt,$d);var Rs=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function I1(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)}const D1={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(let s=0;s<n;s++)t[i+s]=e[r+s]},flattenChunks:function(t){let e,r,n,i,s;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;const a=new Uint8Array(n);for(i=0,e=0,r=t.length;e<r;e++)s=t[e],a.set(s,i),i+=s.length;return a}},U1={arraySet:function(t,e,r,n,i){for(let s=0;s<n;s++)t[i+s]=e[r+s]},flattenChunks:function(t){return[].concat.apply([],t)}};let en=Rs?Uint8Array:Array,vr=Rs?Uint16Array:Array,Va=Rs?Int32Array:Array,B1=Rs?D1.flattenChunks:U1.flattenChunks,rn=Rs?D1.arraySet:U1.arraySet;function Ki(t){let e=t.length;for(;--e>=0;)t[e]=0}const Cc=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ya=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Vd=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O1=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],kn=Array(576);Ki(kn);const Cs=Array(60);Ki(Cs);const Ts=Array(512);Ki(Ts);const Is=Array(256);Ki(Is);const Tc=Array(29);Ki(Tc);const Ja=Array(30);function Ic(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let N1,K1,z1;function Dc(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function F1(t){return t<256?Ts[t]:Ts[256+(t>>>7)]}function Ds(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function nr(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,Ds(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function nn(t,e,r){nr(t,r[2*e],r[2*e+1])}function L1(t,e){let r=0;do r|=1&t,t>>>=1,r<<=1;while(--e>0);return r>>>1}function j1(t,e,r){const n=Array(16);let i,s,a=0;for(i=1;i<=15;i++)n[i]=a=a+r[i-1]<<1;for(s=0;s<=e;s++){const o=t[2*s+1];o!==0&&(t[2*s]=L1(n[o]++,o))}}function q1(t){let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function W1(t){t.bi_valid>8?Ds(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function H1(t,e,r,n){const i=2*e,s=2*r;return t[i]<t[s]||t[i]===t[s]&&n[e]<=n[r]}function Uc(t,e,r){const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&H1(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!H1(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function G1(t,e,r){let n,i,s,a,o=0;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],i=t.pending_buf[t.l_buf+o],o++,n===0?nn(t,i,e):(s=Is[i],nn(t,s+256+1,e),a=Cc[s],a!==0&&(i-=Tc[s],nr(t,i,a)),n--,s=F1(n),nn(t,s,r),a=Ya[s],a!==0&&(n-=Ja[s],nr(t,n,a)));while(o<t.last_lit);nn(t,256,e)}function Bc(t,e){const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let a,o,u,c=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<s;a++)r[2*a]!==0?(t.heap[++t.heap_len]=c=a,t.depth[a]=0):r[2*a+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=c<2?++c:0,r[2*u]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=n[2*u+1]);for(e.max_code=c,a=t.heap_len>>1;a>=1;a--)Uc(t,r,a);u=s;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Uc(t,r,1),o=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=o,r[2*u]=r[2*a]+r[2*o],t.depth[u]=(t.depth[a]>=t.depth[o]?t.depth[a]:t.depth[o])+1,r[2*a+1]=r[2*o+1]=u,t.heap[1]=u++,Uc(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(f,l){const y=l.dyn_tree,p=l.max_code,k=l.stat_desc.static_tree,x=l.stat_desc.has_stree,E=l.stat_desc.extra_bits,D=l.stat_desc.extra_base,q=l.stat_desc.max_length;let z,O,L,g,T,h,d=0;for(g=0;g<=15;g++)f.bl_count[g]=0;for(y[2*f.heap[f.heap_max]+1]=0,z=f.heap_max+1;z<573;z++)O=f.heap[z],g=y[2*y[2*O+1]+1]+1,g>q&&(g=q,d++),y[2*O+1]=g,O>p||(f.bl_count[g]++,T=0,O>=D&&(T=E[O-D]),h=y[2*O],f.opt_len+=h*(g+T),x&&(f.static_len+=h*(k[2*O+1]+T)));if(d!==0){do{for(g=q-1;f.bl_count[g]===0;)g--;f.bl_count[g]--,f.bl_count[g+1]+=2,f.bl_count[q]--,d-=2}while(d>0);for(g=q;g!==0;g--)for(O=f.bl_count[g];O!==0;)L=f.heap[--z],L>p||(y[2*L+1]!==g&&(f.opt_len+=(g-y[2*L+1])*y[2*L],y[2*L+1]=g),O--)}}(t,e),j1(r,c,t.bl_count)}function $1(t,e,r){let n,i,s=-1,a=e[1],o=0,u=7,c=4;for(a===0&&(u=138,c=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=e[2*(n+1)+1],++o<u&&i===a||(o<c?t.bl_tree[2*i]+=o:i!==0?(i!==s&&t.bl_tree[2*i]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,s=i,a===0?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))}function V1(t,e,r){let n,i,s=-1,a=e[1],o=0,u=7,c=4;for(a===0&&(u=138,c=3),n=0;n<=r;n++)if(i=a,a=e[2*(n+1)+1],!(++o<u&&i===a)){if(o<c)do nn(t,i,t.bl_tree);while(--o!=0);else i!==0?(i!==s&&(nn(t,i,t.bl_tree),o--),nn(t,16,t.bl_tree),nr(t,o-3,2)):o<=10?(nn(t,17,t.bl_tree),nr(t,o-3,3)):(nn(t,18,t.bl_tree),nr(t,o-11,7));o=0,s=i,a===0?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4)}}Ki(Ja);let Y1=!1;function Yd(t){Y1||(function(){let e,r,n,i,s;const a=Array(16);for(n=0,i=0;i<28;i++)for(Tc[i]=n,e=0;e<1<<Cc[i];e++)Is[n++]=i;for(Is[n-1]=i,s=0,i=0;i<16;i++)for(Ja[i]=s,e=0;e<1<<Ya[i];e++)Ts[s++]=i;for(s>>=7;i<30;i++)for(Ja[i]=s<<7,e=0;e<1<<Ya[i]-7;e++)Ts[256+s++]=i;for(r=0;r<=15;r++)a[r]=0;for(e=0;e<=143;)kn[2*e+1]=8,e++,a[8]++;for(;e<=255;)kn[2*e+1]=9,e++,a[9]++;for(;e<=279;)kn[2*e+1]=7,e++,a[7]++;for(;e<=287;)kn[2*e+1]=8,e++,a[8]++;for(j1(kn,287,a),e=0;e<30;e++)Cs[2*e+1]=5,Cs[2*e]=L1(e,5);N1=new Ic(kn,Cc,257,286,15),K1=new Ic(Cs,Ya,0,30,15),z1=new Ic([],Vd,0,19,7)}(),Y1=!0),t.l_desc=new Dc(t.dyn_ltree,N1),t.d_desc=new Dc(t.dyn_dtree,K1),t.bl_desc=new Dc(t.bl_tree,z1),t.bi_buf=0,t.bi_valid=0,q1(t)}function J1(t,e,r,n){nr(t,0+(n?1:0),3),function(i,s,a,o){W1(i),o&&(Ds(i,a),Ds(i,~a)),rn(i.pending_buf,i.window,s,a,i.pending),i.pending+=a}(t,e,r,!0)}function Jd(t){nr(t,2,3),nn(t,256,kn),function(e){e.bi_valid===16?(Ds(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(t)}function Xd(t,e,r,n){let i,s,a=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=function(o){let u,c=4093624447;for(u=0;u<=31;u++,c>>>=1)if(1&c&&o.dyn_ltree[2*u]!==0)return 0;if(o.dyn_ltree[18]!==0||o.dyn_ltree[20]!==0||o.dyn_ltree[26]!==0)return 1;for(u=32;u<256;u++)if(o.dyn_ltree[2*u]!==0)return 1;return 0}(t)),Bc(t,t.l_desc),Bc(t,t.d_desc),a=function(o){let u;for($1(o,o.dyn_ltree,o.l_desc.max_code),$1(o,o.dyn_dtree,o.d_desc.max_code),Bc(o,o.bl_desc),u=18;u>=3&&o.bl_tree[2*O1[u]+1]===0;u--);return o.opt_len+=3*(u+1)+5+5+4,u}(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&e!==-1?J1(t,e,r,n):t.strategy===4||s===i?(nr(t,2+(n?1:0),3),G1(t,kn,Cs)):(nr(t,4+(n?1:0),3),function(o,u,c,f){let l;for(nr(o,u-257,5),nr(o,c-1,5),nr(o,f-4,4),l=0;l<f;l++)nr(o,o.bl_tree[2*O1[l]+1],3);V1(o,o.dyn_ltree,u-1),V1(o,o.dyn_dtree,c-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),G1(t,t.dyn_ltree,t.dyn_dtree)),q1(t),n&&W1(t)}function jn(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,e===0?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(Is[r]+256+1)]++,t.dyn_dtree[2*F1(e)]++),t.last_lit===t.lit_bufsize-1}function Us(t,e,r,n){let i=65535&t|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0}const Qd=function(){let t;const e=[];for(let r=0;r<256;r++){t=r;for(let n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();function Pe(t,e,r,n){const i=Qd,s=n+r;t^=-1;for(let a=n;a<s;a++)t=t>>>8^i[255&(t^e[a])];return-1^t}var Bs={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function qn(t,e){return t.msg=Bs[e],e}function X1(t){return(t<<1)-(t>4?9:0)}function Wn(t){let e=t.length;for(;--e>=0;)t[e]=0}function Hn(t){const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(rn(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))}function De(t,e){Xd(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Hn(t.strm)}function ce(t,e){t.pending_buf[t.pending++]=e}function Os(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function Zd(t,e,r,n){let i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,rn(e,t.input,t.next_in,i,r),t.state.wrap===1?t.adler=Us(t.adler,e,i,r):t.state.wrap===2&&(t.adler=Pe(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)}function Q1(t,e){let r,n,i=t.max_chain_length,s=t.strstart,a=t.prev_length,o=t.nice_match;const u=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,c=t.window,f=t.w_mask,l=t.prev,y=t.strstart+258;let p=c[s+a-1],k=c[s+a];t.prev_length>=t.good_match&&(i>>=2),o>t.lookahead&&(o=t.lookahead);do if(r=e,c[r+a]===k&&c[r+a-1]===p&&c[r]===c[s]&&c[++r]===c[s+1]){s+=2,r++;do;while(c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&s<y);if(n=258-(y-s),s=y-258,n>a){if(t.match_start=e,a=n,n>=o)break;p=c[s+a-1],k=c[s+a]}}while((e=l[e&f])>u&&--i!=0);return a<=t.lookahead?a:t.lookahead}function li(t){const e=t.w_size;let r,n,i,s,a;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-262)){rn(t.window,t.window,e,e,0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do i=t.head[--r],t.head[r]=i>=e?i-e:0;while(--n);n=e,r=n;do i=t.prev[--r],t.prev[r]=i>=e?i-e:0;while(--n);s+=e}if(t.strm.avail_in===0)break;if(n=Zd(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=n,t.lookahead+t.insert>=3)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+3-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&t.strm.avail_in!==0)}function Oc(t,e){let r,n;for(;;){if(t.lookahead<262){if(li(t),t.lookahead<262&&e===0)return 1;if(t.lookahead===0)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-262&&(t.match_length=Q1(t,r)),t.match_length>=3)if(n=jn(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!=0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=jn(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(De(t,!1),t.strm.avail_out===0))return 1}return t.insert=t.strstart<2?t.strstart:2,e===4?(De(t,!0),t.strm.avail_out===0?3:4):t.last_lit&&(De(t,!1),t.strm.avail_out===0)?1:2}function zi(t,e){let r,n,i;for(;;){if(t.lookahead<262){if(li(t),t.lookahead<262&&e===0)return 1;if(t.lookahead===0)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-262&&(t.match_length=Q1(t,r),t.match_length<=5&&(t.strategy===1||t.match_length===3&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=jn(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!=0);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(De(t,!1),t.strm.avail_out===0))return 1}else if(t.match_available){if(n=jn(t,0,t.window[t.strstart-1]),n&&De(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=jn(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===4?(De(t,!0),t.strm.avail_out===0?3:4):t.last_lit&&(De(t,!1),t.strm.avail_out===0)?1:2}class sn{constructor(e,r,n,i,s){this.good_length=e,this.max_lazy=r,this.nice_length=n,this.max_chain=i,this.func=s}}const Ns=[new sn(0,0,0,0,function(t,e){let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(li(t),t.lookahead===0&&e===0)return 1;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+r;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,De(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-262&&(De(t,!1),t.strm.avail_out===0))return 1}return t.insert=0,e===4?(De(t,!0),t.strm.avail_out===0?3:4):(t.strstart>t.block_start&&(De(t,!1),t.strm.avail_out),1)}),new sn(4,4,8,4,Oc),new sn(4,5,16,8,Oc),new sn(4,6,32,32,Oc),new sn(4,4,16,16,zi),new sn(8,16,32,32,zi),new sn(8,16,128,128,zi),new sn(8,32,128,256,zi),new sn(32,128,258,1024,zi),new sn(32,258,258,4096,zi)];class t2{constructor(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new vr(1146),this.dyn_dtree=new vr(122),this.bl_tree=new vr(78),Wn(this.dyn_ltree),Wn(this.dyn_dtree),Wn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new vr(16),this.heap=new vr(573),Wn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new vr(573),Wn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}}function e2(t){const e=function(r){let n;return r&&r.state?(r.total_in=r.total_out=0,r.data_type=2,n=r.state,n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?42:113,r.adler=n.wrap===2?0:1,n.last_flush=0,Yd(n),0):qn(r,-2)}(t);return e===0&&function(r){r.window_size=2*r.w_size,Wn(r.head),r.max_lazy_match=Ns[r.level].max_lazy,r.good_match=Ns[r.level].good_length,r.nice_match=Ns[r.level].nice_length,r.max_chain_length=Ns[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0}(t.state),e}function r2(t,e){let r,n,i,s;if(!t||!t.state||e>5||e<0)return t?qn(t,-2):-2;if(n=t.state,!t.output||!t.input&&t.avail_in!==0||n.status===666&&e!==4)return qn(t,t.avail_out===0?-5:-2);if(n.strm=t,r=n.last_flush,n.last_flush=e,n.status===42)if(n.wrap===2)t.adler=0,ce(n,31),ce(n,139),ce(n,8),n.gzhead?(ce(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ce(n,255&n.gzhead.time),ce(n,n.gzhead.time>>8&255),ce(n,n.gzhead.time>>16&255),ce(n,n.gzhead.time>>24&255),ce(n,n.level===9?2:n.strategy>=2||n.level<2?4:0),ce(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(ce(n,255&n.gzhead.extra.length),ce(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Pe(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(ce(n,0),ce(n,0),ce(n,0),ce(n,0),ce(n,0),ce(n,n.level===9?2:n.strategy>=2||n.level<2?4:0),ce(n,3),n.status=113);else{let o=8+(n.w_bits-8<<4)<<8,u=-1;u=n.strategy>=2||n.level<2?0:n.level<6?1:n.level===6?2:3,o|=u<<6,n.strstart!==0&&(o|=32),o+=31-o%31,n.status=113,Os(n,o),n.strstart!==0&&(Os(n,t.adler>>>16),Os(n,65535&t.adler)),t.adler=1}if(n.status===69)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(t.adler=Pe(t.adler,n.pending_buf,n.pending-i,i)),Hn(t),i=n.pending,n.pending!==n.pending_buf_size));)ce(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(t.adler=Pe(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(n.status===73)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Pe(t.adler,n.pending_buf,n.pending-i,i)),Hn(t),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,ce(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Pe(t.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.gzindex=0,n.status=91)}else n.status=91;if(n.status===91)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Pe(t.adler,n.pending_buf,n.pending-i,i)),Hn(t),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,ce(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Pe(t.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.status=103)}else n.status=103;if(n.status===103&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&Hn(t),n.pending+2<=n.pending_buf_size&&(ce(n,255&t.adler),ce(n,t.adler>>8&255),t.adler=0,n.status=113)):n.status=113),n.pending!==0){if(Hn(t),t.avail_out===0)return n.last_flush=-1,0}else if(t.avail_in===0&&X1(e)<=X1(r)&&e!==4)return qn(t,-5);if(n.status===666&&t.avail_in!==0)return qn(t,-5);if(t.avail_in!==0||n.lookahead!==0||e!==0&&n.status!==666){var a=n.strategy===2?function(o,u){let c;for(;;){if(o.lookahead===0&&(li(o),o.lookahead===0)){if(u===0)return 1;break}if(o.match_length=0,c=jn(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++,c&&(De(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,u===4?(De(o,!0),o.strm.avail_out===0?3:4):o.last_lit&&(De(o,!1),o.strm.avail_out===0)?1:2}(n,e):n.strategy===3?function(o,u){let c,f,l,y;const p=o.window;for(;;){if(o.lookahead<=258){if(li(o),o.lookahead<=258&&u===0)return 1;if(o.lookahead===0)break}if(o.match_length=0,o.lookahead>=3&&o.strstart>0&&(l=o.strstart-1,f=p[l],f===p[++l]&&f===p[++l]&&f===p[++l])){y=o.strstart+258;do;while(f===p[++l]&&f===p[++l]&&f===p[++l]&&f===p[++l]&&f===p[++l]&&f===p[++l]&&f===p[++l]&&f===p[++l]&&l<y);o.match_length=258-(y-l),o.match_length>o.lookahead&&(o.match_length=o.lookahead)}if(o.match_length>=3?(c=jn(o,1,o.match_length-3),o.lookahead-=o.match_length,o.strstart+=o.match_length,o.match_length=0):(c=jn(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++),c&&(De(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,u===4?(De(o,!0),o.strm.avail_out===0?3:4):o.last_lit&&(De(o,!1),o.strm.avail_out===0)?1:2}(n,e):Ns[n.level].func(n,e);if(a!==3&&a!==4||(n.status=666),a===1||a===3)return t.avail_out===0&&(n.last_flush=-1),0;if(a===2&&(e===1?Jd(n):e!==5&&(J1(n,0,0,!1),e===3&&(Wn(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Hn(t),t.avail_out===0))return n.last_flush=-1,0}return e!==4?0:n.wrap<=0?1:(n.wrap===2?(ce(n,255&t.adler),ce(n,t.adler>>8&255),ce(n,t.adler>>16&255),ce(n,t.adler>>24&255),ce(n,255&t.total_in),ce(n,t.total_in>>8&255),ce(n,t.total_in>>16&255),ce(n,t.total_in>>24&255)):(Os(n,t.adler>>>16),Os(n,65535&t.adler)),Hn(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?0:1)}try{String.fromCharCode.call(null,0)}catch{}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{}const Nc=new en(256);for(let t=0;t<256;t++)Nc[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;function Kc(t){let e,r,n,i,s=0;const a=t.length;for(n=0;n<a;n++)e=t.charCodeAt(n),(64512&e)==55296&&n+1<a&&(r=t.charCodeAt(n+1),(64512&r)==56320&&(e=65536+(e-55296<<10)+(r-56320),n++)),s+=e<128?1:e<2048?2:e<65536?3:4;const o=new en(s);for(i=0,n=0;i<s;n++)e=t.charCodeAt(n),(64512&e)==55296&&n+1<a&&(r=t.charCodeAt(n+1),(64512&r)==56320&&(e=65536+(e-55296<<10)+(r-56320),n++)),e<128?o[i++]=e:e<2048?(o[i++]=192|e>>>6,o[i++]=128|63&e):e<65536?(o[i++]=224|e>>>12,o[i++]=128|e>>>6&63,o[i++]=128|63&e):(o[i++]=240|e>>>18,o[i++]=128|e>>>12&63,o[i++]=128|e>>>6&63,o[i++]=128|63&e);return o}Nc[254]=Nc[254]=1;class Z1{constructor(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}}class zc{constructor(e){this.options=Ke({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0},e||{});const r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Z1,this.strm.avail_out=0;var n,i,s=function(a,o,u,c,f,l){if(!a)return-2;let y=1;if(o===-1&&(o=6),c<0?(y=0,c=-c):c>15&&(y=2,c-=16),f<1||f>9||u!==8||c<8||c>15||o<0||o>9||l<0||l>4)return qn(a,-2);c===8&&(c=9);const p=new t2;return a.state=p,p.strm=a,p.wrap=y,p.gzhead=null,p.w_bits=c,p.w_size=1<<p.w_bits,p.w_mask=p.w_size-1,p.hash_bits=f+7,p.hash_size=1<<p.hash_bits,p.hash_mask=p.hash_size-1,p.hash_shift=~~((p.hash_bits+3-1)/3),p.window=new en(2*p.w_size),p.head=new vr(p.hash_size),p.prev=new vr(p.w_size),p.lit_bufsize=1<<f+6,p.pending_buf_size=4*p.lit_bufsize,p.pending_buf=new en(p.pending_buf_size),p.d_buf=1*p.lit_bufsize,p.l_buf=3*p.lit_bufsize,p.level=o,p.strategy=l,p.method=u,e2(a)}(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(s!==0)throw Error(Bs[s]);if(r.header&&(n=this.strm,i=r.header,n&&n.state&&(n.state.wrap!==2||(n.state.gzhead=i))),r.dictionary){let a;if(a=typeof r.dictionary=="string"?Kc(r.dictionary):r.dictionary instanceof ArrayBuffer?new Uint8Array(r.dictionary):r.dictionary,(s=function(o,u){let c,f,l,y,p,k,x,E,D=u.length;if(!o||!o.state||(c=o.state,y=c.wrap,y===2||y===1&&c.status!==42||c.lookahead))return-2;for(y===1&&(o.adler=Us(o.adler,u,D,0)),c.wrap=0,D>=c.w_size&&(y===0&&(Wn(c.head),c.strstart=0,c.block_start=0,c.insert=0),E=new en(c.w_size),rn(E,u,D-c.w_size,c.w_size,0),u=E,D=c.w_size),p=o.avail_in,k=o.next_in,x=o.input,o.avail_in=D,o.next_in=0,o.input=u,li(c);c.lookahead>=3;){f=c.strstart,l=c.lookahead-2;do c.ins_h=(c.ins_h<<c.hash_shift^c.window[f+3-1])&c.hash_mask,c.prev[f&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=f,f++;while(--l);c.strstart=f,c.lookahead=2,li(c)}return c.strstart+=c.lookahead,c.block_start=c.strstart,c.insert=c.lookahead,c.lookahead=0,c.match_length=c.prev_length=2,c.match_available=0,o.next_in=k,o.input=x,o.avail_in=p,c.wrap=y,0}(this.strm,a))!==0)throw Error(Bs[s]);this._dict_set=!0}}push(e,r){const{strm:n,options:{chunkSize:i}}=this;var s,a;if(this.ended)return!1;a=r===~~r?r:r===!0?4:0,typeof e=="string"?n.input=Kc(e):e instanceof ArrayBuffer?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new en(i),n.next_out=0,n.avail_out=i),(s=r2(n,a))!==1&&s!==0)return this.onEnd(s),this.ended=!0,!1;n.avail_out!==0&&(n.avail_in!==0||a!==4&&a!==2)||this.onData(I1(n.output,n.next_out))}while((n.avail_in>0||n.avail_out===0)&&s!==1);return a===4?(s=function(o){let u;return o&&o.state?(u=o.state.status,u!==42&&u!==69&&u!==73&&u!==91&&u!==103&&u!==113&&u!==666?qn(o,-2):(o.state=null,u===113?qn(o,-3):0)):-2}(this.strm),this.onEnd(s),this.ended=!0,s===0):a!==2||(this.onEnd(0),n.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){e===0&&(this.result=B1(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}function n2(t,e){let r,n,i,s,a,o,u,c,f,l;const y=t.state;r=t.next_in;const p=t.input,k=r+(t.avail_in-5);n=t.next_out;const x=t.output,E=n-(e-t.avail_out),D=n+(t.avail_out-257),q=y.dmax,z=y.wsize,O=y.whave,L=y.wnext,g=y.window;i=y.hold,s=y.bits;const T=y.lencode,h=y.distcode,d=(1<<y.lenbits)-1,w=(1<<y.distbits)-1;t:do{s<15&&(i+=p[r++]<<s,s+=8,i+=p[r++]<<s,s+=8),a=T[i&d];e:for(;;){if(o=a>>>24,i>>>=o,s-=o,o=a>>>16&255,o===0)x[n++]=65535&a;else{if(!(16&o)){if((64&o)==0){a=T[(65535&a)+(i&(1<<o)-1)];continue e}if(32&o){y.mode=12;break t}t.msg="invalid literal/length code",y.mode=30;break t}u=65535&a,o&=15,o&&(s<o&&(i+=p[r++]<<s,s+=8),u+=i&(1<<o)-1,i>>>=o,s-=o),s<15&&(i+=p[r++]<<s,s+=8,i+=p[r++]<<s,s+=8),a=h[i&w];r:for(;;){if(o=a>>>24,i>>>=o,s-=o,o=a>>>16&255,!(16&o)){if((64&o)==0){a=h[(65535&a)+(i&(1<<o)-1)];continue r}t.msg="invalid distance code",y.mode=30;break t}if(c=65535&a,o&=15,s<o&&(i+=p[r++]<<s,s+=8,s<o&&(i+=p[r++]<<s,s+=8)),c+=i&(1<<o)-1,c>q){t.msg="invalid distance too far back",y.mode=30;break t}if(i>>>=o,s-=o,o=n-E,c>o){if(o=c-o,o>O&&y.sane){t.msg="invalid distance too far back",y.mode=30;break t}if(f=0,l=g,L===0){if(f+=z-o,o<u){u-=o;do x[n++]=g[f++];while(--o);f=n-c,l=x}}else if(L<o){if(f+=z+L-o,o-=L,o<u){u-=o;do x[n++]=g[f++];while(--o);if(f=0,L<u){o=L,u-=o;do x[n++]=g[f++];while(--o);f=n-c,l=x}}}else if(f+=L-o,o<u){u-=o;do x[n++]=g[f++];while(--o);f=n-c,l=x}for(;u>2;)x[n++]=l[f++],x[n++]=l[f++],x[n++]=l[f++],u-=3;u&&(x[n++]=l[f++],u>1&&(x[n++]=l[f++]))}else{f=n-c;do x[n++]=x[f++],x[n++]=x[f++],x[n++]=x[f++],u-=3;while(u>2);u&&(x[n++]=x[f++],u>1&&(x[n++]=x[f++]))}break}}break}}while(r<k&&n<D);u=s>>3,r-=u,s-=u<<3,i&=(1<<s)-1,t.next_in=r,t.next_out=n,t.avail_in=r<k?k-r+5:5-(r-k),t.avail_out=n<D?D-n+257:257-(n-D),y.hold=i,y.bits=s}const i2=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s2=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a2=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o2=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Ks(t,e,r,n,i,s,a,o){const u=o.bits;let c,f,l,y,p,k=0,x=0,E=0,D=0,q=0,z=0,O=0,L=0,g=0,T=0,h=null,d=0;const w=new vr(16),m=new vr(16);let v,I,U,$=null,nt=0;for(k=0;k<=15;k++)w[k]=0;for(x=0;x<n;x++)w[e[r+x]]++;for(q=u,D=15;D>=1&&w[D]===0;D--);if(q>D&&(q=D),D===0)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(E=1;E<D&&w[E]===0;E++);for(q<E&&(q=E),L=1,k=1;k<=15;k++)if(L<<=1,L-=w[k],L<0)return-1;if(L>0&&(t===0||D!==1))return-1;for(m[1]=0,k=1;k<15;k++)m[k+1]=m[k]+w[k];for(x=0;x<n;x++)e[r+x]!==0&&(a[m[e[r+x]]++]=x);t===0?(h=$=a,p=19):t===1?(h=i2,d-=257,$=s2,nt-=257,p=256):(h=a2,$=o2,p=-1),T=0,x=0,k=E,y=s,z=q,O=0,l=-1,g=1<<q;const b=g-1;if(t===1&&g>852||t===2&&g>592)return 1;for(;;){v=k-O,a[x]<p?(I=0,U=a[x]):a[x]>p?(I=$[nt+a[x]],U=h[d+a[x]]):(I=96,U=0),c=1<<k-O,f=1<<z,E=f;do f-=c,i[y+(T>>O)+f]=v<<24|I<<16|U|0;while(f!==0);for(c=1<<k-1;T&c;)c>>=1;if(c!==0?(T&=c-1,T+=c):T=0,x++,--w[k]==0){if(k===D)break;k=e[r+a[x]]}if(k>q&&(T&b)!==l){for(O===0&&(O=q),y+=E,z=k-O,L=1<<z;z+O<D&&(L-=w[z+O],!(L<=0));)z++,L<<=1;if(g+=1<<z,t===1&&g>852||t===2&&g>592)return 1;l=T&b,i[l]=q<<24|z<<16|y-s|0}}return T!==0&&(i[y+T]=k-O<<24|64<<16|0),o.bits=q,0}function th(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}class c2{constructor(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new vr(320),this.work=new vr(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}}function u2(t){let e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,function(r){let n;return r&&r.state?(n=r.state,r.total_in=r.total_out=n.total=0,r.msg="",n.wrap&&(r.adler=1&n.wrap),n.mode=1,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Va(852),n.distcode=n.distdyn=new Va(592),n.sane=1,n.back=-1,0):-2}(t)):-2}function h2(t,e){let r,n;return t?(n=new c2,t.state=n,n.window=null,r=function(i,s){let a,o;return i&&i.state?(o=i.state,s<0?(a=0,s=-s):(a=1+(s>>4),s<48&&(s&=15)),s&&(s<8||s>15)?-2:(o.window!==null&&o.wbits!==s&&(o.window=null),o.wrap=a,o.wbits=s,u2(i))):-2}(t,e),r!==0&&(t.state=null),r):-2}let Fc,Lc,eh=!0;function f2(t){if(eh){let e;for(Fc=new Va(512),Lc=new Va(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ks(1,t.lens,0,288,Fc,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ks(2,t.lens,0,32,Lc,0,t.work,{bits:5}),eh=!1}t.lencode=Fc,t.lenbits=9,t.distcode=Lc,t.distbits=5}function rh(t,e,r,n){let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new en(s.wsize)),n>=s.wsize?(rn(s.window,e,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),rn(s.window,e,r-n,i,s.wnext),(n-=i)?(rn(s.window,e,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}function l2(t,e){let r,n,i,s,a,o,u,c,f,l,y,p,k,x,E,D,q,z,O,L,g,T,h,d,w=0,m=new en(4);const v=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return-2;r=t.state,r.mode===12&&(r.mode=13),a=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,c=r.hold,f=r.bits,l=o,y=u,T=0;t:for(;;)switch(r.mode){case 1:if(r.wrap===0){r.mode=13;break}for(;f<16;){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}if(2&r.wrap&&c===35615){r.check=0,m[0]=255&c,m[1]=c>>>8&255,r.check=Pe(r.check,m,2,0),c=0,f=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=30;break}if((15&c)!=8){t.msg="unknown compression method",r.mode=30;break}if(c>>>=4,f-=4,g=8+(15&c),r.wbits===0)r.wbits=g;else if(g>r.wbits){t.msg="invalid window size",r.mode=30;break}r.dmax=1<<g,t.adler=r.check=1,r.mode=512&c?10:12,c=0,f=0;break;case 2:for(;f<16;){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}if(r.flags=c,(255&r.flags)!=8){t.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&(m[0]=255&c,m[1]=c>>>8&255,r.check=Pe(r.check,m,2,0)),c=0,f=0,r.mode=3;case 3:for(;f<32;){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}r.head&&(r.head.time=c),512&r.flags&&(m[0]=255&c,m[1]=c>>>8&255,m[2]=c>>>16&255,m[3]=c>>>24&255,r.check=Pe(r.check,m,4,0)),c=0,f=0,r.mode=4;case 4:for(;f<16;){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&(m[0]=255&c,m[1]=c>>>8&255,r.check=Pe(r.check,m,2,0)),c=0,f=0,r.mode=5;case 5:if(1024&r.flags){for(;f<16;){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&(m[0]=255&c,m[1]=c>>>8&255,r.check=Pe(r.check,m,2,0)),c=0,f=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(p=r.length,p>o&&(p=o),p&&(r.head&&(g=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),rn(r.head.extra,n,s,p,g)),512&r.flags&&(r.check=Pe(r.check,n,p,s)),o-=p,s+=p,r.length-=p),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(o===0)break t;p=0;do g=n[s+p++],r.head&&g&&r.length<65536&&(r.head.name+=String.fromCharCode(g));while(g&&p<o);if(512&r.flags&&(r.check=Pe(r.check,n,p,s)),o-=p,s+=p,g)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(o===0)break t;p=0;do g=n[s+p++],r.head&&g&&r.length<65536&&(r.head.comment+=String.fromCharCode(g));while(g&&p<o);if(512&r.flags&&(r.check=Pe(r.check,n,p,s)),o-=p,s+=p,g)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;f<16;){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}if(c!==(65535&r.check)){t.msg="header crc mismatch",r.mode=30;break}c=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;f<32;){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}t.adler=r.check=th(c),c=0,f=0,r.mode=11;case 11:if(r.havedict===0)return t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=f,2;t.adler=r.check=1,r.mode=12;case 12:if(e===5||e===6)break t;case 13:if(r.last){c>>>=7&f,f-=7&f,r.mode=27;break}for(;f<3;){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}switch(r.last=1&c,c>>>=1,f-=1,3&c){case 0:r.mode=14;break;case 1:if(f2(r),r.mode=20,e===6){c>>>=2,f-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=30}c>>>=2,f-=2;break;case 14:for(c>>>=7&f,f-=7&f;f<32;){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&c,c=0,f=0,r.mode=15,e===6)break t;case 15:r.mode=16;case 16:if(p=r.length,p){if(p>o&&(p=o),p>u&&(p=u),p===0)break t;rn(i,n,s,p,a),o-=p,s+=p,u-=p,a+=p,r.length-=p;break}r.mode=12;break;case 17:for(;f<14;){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}if(r.nlen=257+(31&c),c>>>=5,f-=5,r.ndist=1+(31&c),c>>>=5,f-=5,r.ncode=4+(15&c),c>>>=4,f-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;f<3;){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}r.lens[v[r.have++]]=7&c,c>>>=3,f-=3}for(;r.have<19;)r.lens[v[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,h={bits:r.lenbits},T=Ks(0,r.lens,0,19,r.lencode,0,r.work,h),r.lenbits=h.bits,T){t.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;w=r.lencode[c&(1<<r.lenbits)-1],E=w>>>24,D=w>>>16&255,q=65535&w,!(E<=f);){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}if(q<16)c>>>=E,f-=E,r.lens[r.have++]=q;else{if(q===16){for(d=E+2;f<d;){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}if(c>>>=E,f-=E,r.have===0){t.msg="invalid bit length repeat",r.mode=30;break}g=r.lens[r.have-1],p=3+(3&c),c>>>=2,f-=2}else if(q===17){for(d=E+3;f<d;){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}c>>>=E,f-=E,g=0,p=3+(7&c),c>>>=3,f-=3}else{for(d=E+7;f<d;){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}c>>>=E,f-=E,g=0,p=11+(127&c),c>>>=7,f-=7}if(r.have+p>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=30;break}for(;p--;)r.lens[r.have++]=g}}if(r.mode===30)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,h={bits:r.lenbits},T=Ks(1,r.lens,0,r.nlen,r.lencode,0,r.work,h),r.lenbits=h.bits,T){t.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,h={bits:r.distbits},T=Ks(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,h),r.distbits=h.bits,T){t.msg="invalid distances set",r.mode=30;break}if(r.mode=20,e===6)break t;case 20:r.mode=21;case 21:if(o>=6&&u>=258){t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=f,n2(t,y),a=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,c=r.hold,f=r.bits,r.mode===12&&(r.back=-1);break}for(r.back=0;w=r.lencode[c&(1<<r.lenbits)-1],E=w>>>24,D=w>>>16&255,q=65535&w,!(E<=f);){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}if(D&&(240&D)==0){for(z=E,O=D,L=q;w=r.lencode[L+((c&(1<<z+O)-1)>>z)],E=w>>>24,D=w>>>16&255,q=65535&w,!(z+E<=f);){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}c>>>=z,f-=z,r.back+=z}if(c>>>=E,f-=E,r.back+=E,r.length=q,D===0){r.mode=26;break}if(32&D){r.back=-1,r.mode=12;break}if(64&D){t.msg="invalid literal/length code",r.mode=30;break}r.extra=15&D,r.mode=22;case 22:if(r.extra){for(d=r.extra;f<d;){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;w=r.distcode[c&(1<<r.distbits)-1],E=w>>>24,D=w>>>16&255,q=65535&w,!(E<=f);){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}if((240&D)==0){for(z=E,O=D,L=q;w=r.distcode[L+((c&(1<<z+O)-1)>>z)],E=w>>>24,D=w>>>16&255,q=65535&w,!(z+E<=f);){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}c>>>=z,f-=z,r.back+=z}if(c>>>=E,f-=E,r.back+=E,64&D){t.msg="invalid distance code",r.mode=30;break}r.offset=q,r.extra=15&D,r.mode=24;case 24:if(r.extra){for(d=r.extra;f<d;){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(u===0)break t;if(p=y-u,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=30;break}p>r.wnext?(p-=r.wnext,k=r.wsize-p):k=r.wnext-p,p>r.length&&(p=r.length),x=r.window}else x=i,k=a-r.offset,p=r.length;p>u&&(p=u),u-=p,r.length-=p;do i[a++]=x[k++];while(--p);r.length===0&&(r.mode=21);break;case 26:if(u===0)break t;i[a++]=r.length,u--,r.mode=21;break;case 27:if(r.wrap){for(;f<32;){if(o===0)break t;o--,c|=n[s++]<<f,f+=8}if(y-=u,t.total_out+=y,r.total+=y,y&&(t.adler=r.check=r.flags?Pe(r.check,i,y,a-y):Us(r.check,i,y,a-y)),y=u,(r.flags?c:th(c))!==r.check){t.msg="incorrect data check",r.mode=30;break}c=0,f=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;f<32;){if(o===0)break t;o--,c+=n[s++]<<f,f+=8}if(c!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=30;break}c=0,f=0}r.mode=29;case 29:T=1;break t;case 30:T=-3;break t;case 32:default:return-2}return t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=f,(r.wsize||y!==t.avail_out&&r.mode<30&&(r.mode<27||e!==4))&&rh(t,t.output,t.next_out,y-t.avail_out),l-=t.avail_in,y-=t.avail_out,t.total_in+=l,t.total_out+=y,r.total+=y,r.wrap&&y&&(t.adler=r.check=r.flags?Pe(r.check,i,y,t.next_out-y):Us(r.check,i,y,t.next_out-y)),t.data_type=r.bits+(r.last?64:0)+(r.mode===12?128:0)+(r.mode===20||r.mode===15?256:0),(l===0&&y===0||e===4)&&T===0&&(T=-5),T}function nh(t,e){const r=e.length;let n,i;return t&&t.state?(n=t.state,n.wrap!==0&&n.mode!==11?-2:n.mode===11&&(i=1,i=Us(i,e,r,0),i!==n.check)?-3:(rh(t,e,r,r),n.havedict=1,0)):-2}class d2{constructor(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}class ih{constructor(e){this.options=Ke({chunkSize:16384,windowBits:0},e||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),!(r.windowBits>=0&&r.windowBits<16)||e&&e.windowBits||(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(15&r.windowBits)==0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Z1,this.strm.avail_out=0;let n=h2(this.strm,r.windowBits);if(n!==0||(this.header=new d2,function(i,s){let a;i&&i.state&&(a=i.state,(2&a.wrap)==0||(a.head=s,s.done=!1))}(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=Kc(r.dictionary):r.dictionary instanceof ArrayBuffer&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(n=nh(this.strm,r.dictionary),n!==0))))throw Error(Bs[n])}push(e,r){const{strm:n,options:{chunkSize:i,dictionary:s}}=this;let a,o,u=!1;if(this.ended)return!1;o=r===~~r?r:r===!0?4:0,typeof e=="string"?n.input=function(c){const f=new en(c.length);for(let l=0,y=f.length;l<y;l++)f[l]=c.charCodeAt(l);return f}(e):e instanceof ArrayBuffer?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new en(i),n.next_out=0,n.avail_out=i),a=l2(n,0),a===2&&s&&(a=nh(this.strm,s)),a===-5&&u===!0&&(a=0,u=!1),a!==1&&a!==0)return this.onEnd(a),this.ended=!0,!1;n.next_out&&(n.avail_out!==0&&a!==1&&(n.avail_in!==0||o!==4&&o!==2)||this.onData(I1(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(u=!0)}while((n.avail_in>0||n.avail_out===0)&&a!==1);return a===1&&(o=4),o===4?(a=function(c){if(!c||!c.state)return-2;const f=c.state;return f.window&&(f.window=null),c.state=null,0}(this.strm),this.onEnd(a),this.ended=!0,a===0):o!==2||(this.onEnd(0),n.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){e===0&&(this.result=B1(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}var sh=[0,1,3,7,15,31,63,127,255],zs=function(t){this.stream=t,this.bitOffset=0,this.curByte=0,this.hasByte=!1};zs.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},zs.prototype.read=function(t){for(var e=0;t>0;){this._ensureByte();var r=8-this.bitOffset;if(t>=r)e<<=r,e|=sh[r]&this.curByte,this.hasByte=!1,this.bitOffset=0,t-=r;else{e<<=t;var n=r-t;e|=(this.curByte&sh[t]<<n)>>n,this.bitOffset+=t,t=0}}return e},zs.prototype.seek=function(t){var e=t%8,r=(t-e)/8;this.bitOffset=e,this.stream.seek(r),this.hasByte=!1},zs.prototype.pi=function(){var t,e=new Uint8Array(6);for(t=0;t<e.length;t++)e[t]=this.read(8);return function(r){return Array.prototype.map.call(r,n=>("00"+n.toString(16)).slice(-2)).join("")}(e)};var p2=zs,di=function(){};di.prototype.readByte=function(){throw Error("abstract method readByte() not implemented")},di.prototype.read=function(t,e,r){for(var n=0;n<r;){var i=this.readByte();if(i<0)return n===0?-1:n;t[e++]=i,n++}return n},di.prototype.seek=function(t){throw Error("abstract method seek() not implemented")},di.prototype.writeByte=function(t){throw Error("abstract method readByte() not implemented")},di.prototype.write=function(t,e,r){var n;for(n=0;n<r;n++)this.writeByte(t[e++]);return r},di.prototype.flush=function(){};var jc,ah=di,y2=(jc=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),function(){var t=4294967295;this.getCRC=function(){return~t>>>0},this.updateCRC=function(e){t=t<<8^jc[255&(t>>>24^e)]},this.updateCRCRun=function(e,r){for(;r-- >0;)t=t<<8^jc[255&(t>>>24^e)]}}),oh=function(t,e){var r,n=t[e];for(r=e;r>0;r--)t[r]=t[r-1];return t[0]=n,n},ve={OK:0,LAST_BLOCK:-1,NOT_BZIP_DATA:-2,UNEXPECTED_INPUT_EOF:-3,UNEXPECTED_OUTPUT_EOF:-4,DATA_ERROR:-5,OUT_OF_MEMORY:-6,OBSOLETE_INPUT:-7,END_OF_BLOCK:-8},Gn={};Gn[ve.LAST_BLOCK]="Bad file checksum",Gn[ve.NOT_BZIP_DATA]="Not bzip data",Gn[ve.UNEXPECTED_INPUT_EOF]="Unexpected input EOF",Gn[ve.UNEXPECTED_OUTPUT_EOF]="Unexpected output EOF",Gn[ve.DATA_ERROR]="Data error",Gn[ve.OUT_OF_MEMORY]="Out of memory",Gn[ve.OBSOLETE_INPUT]="Obsolete (pre 0.9.5) bzip format not supported.";var Ue=function(t,e){var r=Gn[t]||"unknown error";e&&(r+=": "+e);var n=new TypeError(r);throw n.errorCode=t,n},Fs=function(t,e){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(t,e)};Fs.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new y2,!0):(this.writeCount=-1,!1)},Fs.prototype._start_bunzip=function(t,e){var r=new Uint8Array(4);t.read(r,0,4)===4&&String.fromCharCode(r[0],r[1],r[2])==="BZh"||Ue(ve.NOT_BZIP_DATA,"bad magic");var n=r[3]-48;(n<1||n>9)&&Ue(ve.NOT_BZIP_DATA,"level out of range"),this.reader=new p2(t),this.dbufSize=1e5*n,this.nextoutput=0,this.outputStream=e,this.streamCRC=0},Fs.prototype._get_next_block=function(){var t,e,r,n=this.reader,i=n.pi();if(i==="177245385090")return!1;i!=="314159265359"&&Ue(ve.NOT_BZIP_DATA),this.targetBlockCRC=n.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,n.read(1)&&Ue(ve.OBSOLETE_INPUT);var s=n.read(24);s>this.dbufSize&&Ue(ve.DATA_ERROR,"initial position out of bounds");var a=n.read(16),o=new Uint8Array(256),u=0;for(t=0;t<16;t++)if(a&1<<15-t){var c=16*t;for(r=n.read(16),e=0;e<16;e++)r&1<<15-e&&(o[u++]=c+e)}var f=n.read(3);(f<2||f>6)&&Ue(ve.DATA_ERROR);var l=n.read(15);l===0&&Ue(ve.DATA_ERROR);var y=new Uint8Array(256);for(t=0;t<f;t++)y[t]=t;var p=new Uint8Array(l);for(t=0;t<l;t++){for(e=0;n.read(1);e++)e>=f&&Ue(ve.DATA_ERROR);p[t]=oh(y,e)}var k,x=u+2,E=[];for(e=0;e<f;e++){var D,q,z=new Uint8Array(x),O=new Uint16Array(21);for(a=n.read(5),t=0;t<x;t++){for(;(a<1||a>20)&&Ue(ve.DATA_ERROR),n.read(1);)n.read(1)?a--:a++;z[t]=a}for(D=q=z[0],t=1;t<x;t++)z[t]>q?q=z[t]:z[t]<D&&(D=z[t]);k={},E.push(k),k.permute=new Uint16Array(258),k.limit=new Uint32Array(22),k.base=new Uint32Array(21),k.minLen=D,k.maxLen=q;var L=0;for(t=D;t<=q;t++)for(O[t]=k.limit[t]=0,a=0;a<x;a++)z[a]===t&&(k.permute[L++]=a);for(t=0;t<x;t++)O[z[t]]++;for(L=a=0,t=D;t<q;t++)L+=O[t],k.limit[t]=L-1,L<<=1,a+=O[t],k.base[t+1]=L-a;k.limit[q+1]=Number.MAX_VALUE,k.limit[q]=L+O[q]-1,k.base[D]=0}var g=new Uint32Array(256);for(t=0;t<256;t++)y[t]=t;var T,h=0,d=0,w=0,m=this.dbuf=new Uint32Array(this.dbufSize);for(x=0;;){for(x--||(x=49,w>=l&&Ue(ve.DATA_ERROR),k=E[p[w++]]),t=k.minLen,e=n.read(t);t>k.maxLen&&Ue(ve.DATA_ERROR),!(e<=k.limit[t]);t++)e=e<<1|n.read(1);((e-=k.base[t])<0||e>=258)&&Ue(ve.DATA_ERROR);var v=k.permute[e];if(v!==0&&v!==1){if(h)for(h=0,d+a>this.dbufSize&&Ue(ve.DATA_ERROR),g[T=o[y[0]]]+=a;a--;)m[d++]=T;if(v>u)break;d>=this.dbufSize&&Ue(ve.DATA_ERROR),g[T=o[T=oh(y,t=v-1)]]++,m[d++]=T}else h||(h=1,a=0),a+=v===0?h:2*h,h<<=1}for((s<0||s>=d)&&Ue(ve.DATA_ERROR),e=0,t=0;t<256;t++)r=e+g[t],g[t]=e,e=r;for(t=0;t<d;t++)m[g[T=255&m[t]]]|=t<<8,g[T]++;var I=0,U=0,$=0;return d&&(U=255&(I=m[s]),I>>=8,$=-1),this.writePos=I,this.writeCurrent=U,this.writeCount=d,this.writeRun=$,!0},Fs.prototype._read_bunzip=function(t,e){var r,n,i;if(this.writeCount<0)return 0;var s=this.dbuf,a=this.writePos,o=this.writeCurrent,u=this.writeCount;this.outputsize;for(var c=this.writeRun;u;){for(u--,n=o,o=255&(a=s[a]),a>>=8,c++==3?(r=o,i=n,o=-1):(r=1,i=o),this.blockCRC.updateCRCRun(i,r);r--;)this.outputStream.writeByte(i),this.nextoutput++;o!=n&&(c=0)}return this.writeCount=u,this.blockCRC.getCRC()!==this.targetBlockCRC&&Ue(ve.DATA_ERROR,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var m2=function(t){if("readByte"in t)return t;var e=new ah;return e.pos=0,e.readByte=function(){return t[this.pos++]},e.seek=function(r){this.pos=r},e.eof=function(){return this.pos>=t.length},e},g2=function(t){var e=new ah,r=!0;if(t)if(typeof t=="number")e.buffer=new Uint8Array(t),r=!1;else{if("writeByte"in t)return t;e.buffer=t,r=!1}else e.buffer=new Uint8Array(16384);return e.pos=0,e.writeByte=function(n){if(r&&this.pos>=this.buffer.length){var i=new Uint8Array(2*this.buffer.length);i.set(this.buffer),this.buffer=i}this.buffer[this.pos++]=n},e.getBuffer=function(){if(this.pos!==this.buffer.length){if(!r)throw new TypeError("outputsize does not match decoded input");var n=new Uint8Array(this.pos);n.set(this.buffer.subarray(0,this.pos)),this.buffer=n}return this.buffer},e._coerced=!0,e},ch=function(t,e,r){for(var n=m2(t),i=g2(e),s=new Fs(n,i);!("eof"in n)||!n.eof();)if(s._init_block())s._read_bunzip();else{var a=s.reader.read(32)>>>0;if(a!==s.streamCRC&&Ue(ve.DATA_ERROR,"Bad stream CRC (got "+s.streamCRC.toString(16)+" expected "+a.toString(16)+")"),!r||!("eof"in n)||n.eof())break;s._start_bunzip(n,i)}if("getBuffer"in i)return i.getBuffer()};class Fi{static get tag(){return B.packet.literalData}constructor(e=new Date){this.format="utf8",this.date=H.normalizeDate(e),this.text=null,this.data=null,this.filename=""}setText(e,r="utf8"){this.format=r,this.text=e,this.data=null}getText(e=!1){return(this.text===null||H.isStream(this.text))&&(this.text=H.decodeUTF8(H.nativeEOL(this.getBytes(e)))),this.text}setBytes(e,r){this.format=r,this.data=e,this.text=null}getBytes(e=!1){return this.data===null&&(this.data=H.canonicalizeEOL(H.encodeUTF8(this.text))),e?Ci(this.data):this.data}setFilename(e){this.filename=e}getFilename(){return this.filename}async read(e){await Sa(e,async r=>{const n=B.read(B.literal,await r.readByte()),i=await r.readByte();this.filename=H.decodeUTF8(await r.readBytes(i)),this.date=H.readDate(await r.readBytes(4));let s=r.remainder();_e(s)&&(s=await ke(s)),this.setBytes(s,n)})}writeHeader(){const e=H.encodeUTF8(this.filename),r=new Uint8Array([e.length]),n=new Uint8Array([B.write(B.literal,this.format)]),i=H.writeDate(this.date);return H.concatUint8Array([n,r,e,i])}write(){const e=this.writeHeader(),r=this.getBytes();return H.concat([e,r])}}function uh(t){let e,r=0;const n=t[0];return n<192?([r]=t,e=1):n<255?(r=(t[0]-192<<8)+t[1]+192,e=2):n===255&&(r=H.readNumber(t.subarray(1,5)),e=5),{len:r,offset:e}}function Ls(t){return t<192?new Uint8Array([t]):t>191&&t<8384?new Uint8Array([192+(t-192>>8),t-192&255]):H.concatUint8Array([new Uint8Array([255]),H.writeNumber(t,4)])}function b2(t){if(t<0||t>30)throw Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+t])}function hh(t){return new Uint8Array([192|t])}function fh(t,e){return H.concatUint8Array([hh(t),Ls(e)])}function Xa(t){return[B.packet.literalData,B.packet.compressedData,B.packet.symmetricallyEncryptedData,B.packet.symEncryptedIntegrityProtectedData,B.packet.aeadEncryptedData].includes(t)}async function v2(t,e){const r=jr(t);let n,i;try{const s=await r.peekBytes(2);if(!s||s.length<2||(128&s[0])==0)throw Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");const a=await r.readByte();let o,u,c=-1,f=-1;f=0,(64&a)!=0&&(f=1),f?c=63&a:(c=(63&a)>>2,u=3&a);const l=Xa(c);let y,p=null;if(l){if(H.isStream(t)==="array"){const x=new Fr;n=tr(x),p=x}else{const x=new Ri;n=tr(x.writable),p=x.readable}i=e({tag:c,packet:p})}else p=[];do{if(f){const x=await r.readByte();if(y=!1,x<192)o=x;else if(x>=192&&x<224)o=(x-192<<8)+await r.readByte()+192;else if(x>223&&x<255){if(o=1<<(31&x),y=!0,!l)throw new TypeError("This packet type does not support partial lengths.")}else o=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte()}else switch(u){case 0:o=await r.readByte();break;case 1:o=await r.readByte()<<8|await r.readByte();break;case 2:o=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte();break;default:o=1/0}if(o>0){let x=0;for(;;){n&&await n.ready;const{done:E,value:D}=await r.read();if(E){if(o===1/0)break;throw Error("Unexpected end of packet")}const q=o===1/0?D:D.subarray(0,o-x);if(n?await n.write(q):p.push(q),x+=D.length,x>=o){r.unshift(D.subarray(o-x+D.length));break}}}}while(y);const k=await r.peekBytes(l?1/0:2);return n?(await n.ready,await n.close()):(p=H.concatUint8Array(p),await e({tag:c,packet:p})),!k||!k.length}catch(s){if(n)return await n.abort(s),!0;throw s}finally{n&&await i,r.releaseLock()}}class wr extends Error{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,wr),this.name="UnsupportedError"}}const js=Symbol("verified"),w2=new Set([B.signatureSubpacket.issuer,B.signatureSubpacket.issuerFingerprint,B.signatureSubpacket.embeddedSignature]);class qe{static get tag(){return B.packet.signature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.signedHashValue=null,this.created=null,this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new Tn,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.revoked=null,this[js]=null}read(e){let r=0;if(this.version=e[r++],this.version!==4&&this.version!==5)throw new wr(`Version ${this.version} of the signature packet is unsupported.`);if(this.signatureType=e[r++],this.publicKeyAlgorithm=e[r++],this.hashAlgorithm=e[r++],r+=this.readSubPackets(e.subarray(r,e.length),!0),!this.created)throw Error("Missing signature creation time subpacket.");this.signatureData=e.subarray(0,r),r+=this.readSubPackets(e.subarray(r,e.length),!1),this.signedHashValue=e.subarray(r,r+2),r+=2,this.params=Dt.signature.parseSignatureParams(this.publicKeyAlgorithm,e.subarray(r,e.length))}writeParams(){return this.params instanceof Promise?Rn(async()=>Dt.serializeParams(this.publicKeyAlgorithm,await this.params)):Dt.serializeParams(this.publicKeyAlgorithm,this.params)}write(){const e=[];return e.push(this.signatureData),e.push(this.writeUnhashedSubPackets()),e.push(this.signedHashValue),e.push(this.writeParams()),H.concat(e)}async sign(e,r,n=new Date,i=!1){const s=B.write(B.signature,this.signatureType),a=B.write(B.publicKey,this.publicKeyAlgorithm),o=B.write(B.hash,this.hashAlgorithm);e.version===5?this.version=5:this.version=4;const u=[new Uint8Array([this.version,s,a,o])];this.created=H.normalizeDate(n),this.issuerKeyVersion=e.version,this.issuerFingerprint=e.getFingerprintBytes(),this.issuerKeyID=e.getKeyID(),u.push(this.writeHashedSubPackets()),this.signatureData=H.concat(u);const c=this.toHash(s,r,i),f=await this.hash(s,r,c,i);this.signedHashValue=Ie(ii(f),0,2);const l=async()=>Dt.signature.sign(a,o,e.publicParams,e.privateParams,c,await ke(f));H.isStream(f)?this.params=l():(this.params=await l(),this[js]=!0)}writeHashedSubPackets(){const e=B.signatureSubpacket,r=[];let n;if(this.created===null)throw Error("Missing signature creation time");r.push(ge(e.signatureCreationTime,H.writeDate(this.created))),this.signatureExpirationTime!==null&&r.push(ge(e.signatureExpirationTime,H.writeNumber(this.signatureExpirationTime,4))),this.exportable!==null&&r.push(ge(e.exportableCertification,new Uint8Array([this.exportable?1:0]))),this.trustLevel!==null&&(n=new Uint8Array([this.trustLevel,this.trustAmount]),r.push(ge(e.trustSignature,n))),this.regularExpression!==null&&r.push(ge(e.regularExpression,this.regularExpression)),this.revocable!==null&&r.push(ge(e.revocable,new Uint8Array([this.revocable?1:0]))),this.keyExpirationTime!==null&&r.push(ge(e.keyExpirationTime,H.writeNumber(this.keyExpirationTime,4))),this.preferredSymmetricAlgorithms!==null&&(n=H.stringToUint8Array(H.uint8ArrayToString(this.preferredSymmetricAlgorithms)),r.push(ge(e.preferredSymmetricAlgorithms,n))),this.revocationKeyClass!==null&&(n=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),n=H.concat([n,this.revocationKeyFingerprint]),r.push(ge(e.revocationKey,n))),this.rawNotations.forEach(([{name:a,value:o,humanReadable:u}])=>{n=[new Uint8Array([u?128:0,0,0,0])],n.push(H.writeNumber(a.length,2)),n.push(H.writeNumber(o.length,2)),n.push(H.stringToUint8Array(a)),n.push(o),n=H.concat(n),r.push(ge(e.notationData,n))}),this.preferredHashAlgorithms!==null&&(n=H.stringToUint8Array(H.uint8ArrayToString(this.preferredHashAlgorithms)),r.push(ge(e.preferredHashAlgorithms,n))),this.preferredCompressionAlgorithms!==null&&(n=H.stringToUint8Array(H.uint8ArrayToString(this.preferredCompressionAlgorithms)),r.push(ge(e.preferredCompressionAlgorithms,n))),this.keyServerPreferences!==null&&(n=H.stringToUint8Array(H.uint8ArrayToString(this.keyServerPreferences)),r.push(ge(e.keyServerPreferences,n))),this.preferredKeyServer!==null&&r.push(ge(e.preferredKeyServer,H.stringToUint8Array(this.preferredKeyServer))),this.isPrimaryUserID!==null&&r.push(ge(e.primaryUserID,new Uint8Array([this.isPrimaryUserID?1:0]))),this.policyURI!==null&&r.push(ge(e.policyURI,H.stringToUint8Array(this.policyURI))),this.keyFlags!==null&&(n=H.stringToUint8Array(H.uint8ArrayToString(this.keyFlags)),r.push(ge(e.keyFlags,n))),this.signersUserID!==null&&r.push(ge(e.signersUserID,H.stringToUint8Array(this.signersUserID))),this.reasonForRevocationFlag!==null&&(n=H.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),r.push(ge(e.reasonForRevocation,n))),this.features!==null&&(n=H.stringToUint8Array(H.uint8ArrayToString(this.features)),r.push(ge(e.features,n))),this.signatureTargetPublicKeyAlgorithm!==null&&(n=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],n.push(H.stringToUint8Array(this.signatureTargetHash)),n=H.concat(n),r.push(ge(e.signatureTarget,n))),this.preferredAEADAlgorithms!==null&&(n=H.stringToUint8Array(H.uint8ArrayToString(this.preferredAEADAlgorithms)),r.push(ge(e.preferredAEADAlgorithms,n)));const i=H.concat(r),s=H.writeNumber(i.length,2);return H.concat([s,i])}writeUnhashedSubPackets(){const e=B.signatureSubpacket,r=[];let n;this.issuerKeyID.isNull()||this.issuerKeyVersion===5||r.push(ge(e.issuer,this.issuerKeyID.write())),this.embeddedSignature!==null&&r.push(ge(e.embeddedSignature,this.embeddedSignature.write())),this.issuerFingerprint!==null&&(n=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],n=H.concat(n),r.push(ge(e.issuerFingerprint,n))),this.unhashedSubpackets.forEach(a=>{r.push(Ls(a.length)),r.push(a)});const i=H.concat(r),s=H.writeNumber(i.length,2);return H.concat([s,i])}readSubPacket(e,r=!0){let n=0;const i=128&e[n],s=127&e[n];if(r||w2.has(s))switch(n++,s){case B.signatureSubpacket.signatureCreationTime:this.created=H.readDate(e.subarray(n,e.length));break;case B.signatureSubpacket.signatureExpirationTime:{const a=H.readNumber(e.subarray(n,e.length));this.signatureNeverExpires=a===0,this.signatureExpirationTime=a;break}case B.signatureSubpacket.exportableCertification:this.exportable=e[n++]===1;break;case B.signatureSubpacket.trustSignature:this.trustLevel=e[n++],this.trustAmount=e[n++];break;case B.signatureSubpacket.regularExpression:this.regularExpression=e[n];break;case B.signatureSubpacket.revocable:this.revocable=e[n++]===1;break;case B.signatureSubpacket.keyExpirationTime:{const a=H.readNumber(e.subarray(n,e.length));this.keyExpirationTime=a,this.keyNeverExpires=a===0;break}case B.signatureSubpacket.preferredSymmetricAlgorithms:this.preferredSymmetricAlgorithms=[...e.subarray(n,e.length)];break;case B.signatureSubpacket.revocationKey:this.revocationKeyClass=e[n++],this.revocationKeyAlgorithm=e[n++],this.revocationKeyFingerprint=e.subarray(n,n+20);break;case B.signatureSubpacket.issuer:this.issuerKeyID.read(e.subarray(n,e.length));break;case B.signatureSubpacket.notationData:{const a=!!(128&e[n]);n+=4;const o=H.readNumber(e.subarray(n,n+2));n+=2;const u=H.readNumber(e.subarray(n,n+2));n+=2;const c=H.uint8ArrayToString(e.subarray(n,n+o)),f=e.subarray(n+o,n+o+u);this.rawNotations.push({name:c,humanReadable:a,value:f,critical:i}),a&&(this.notations[c]=H.uint8ArrayToString(f));break}case B.signatureSubpacket.preferredHashAlgorithms:this.preferredHashAlgorithms=[...e.subarray(n,e.length)];break;case B.signatureSubpacket.preferredCompressionAlgorithms:this.preferredCompressionAlgorithms=[...e.subarray(n,e.length)];break;case B.signatureSubpacket.keyServerPreferences:this.keyServerPreferences=[...e.subarray(n,e.length)];break;case B.signatureSubpacket.preferredKeyServer:this.preferredKeyServer=H.uint8ArrayToString(e.subarray(n,e.length));break;case B.signatureSubpacket.primaryUserID:this.isPrimaryUserID=e[n++]!==0;break;case B.signatureSubpacket.policyURI:this.policyURI=H.uint8ArrayToString(e.subarray(n,e.length));break;case B.signatureSubpacket.keyFlags:this.keyFlags=[...e.subarray(n,e.length)];break;case B.signatureSubpacket.signersUserID:this.signersUserID=H.uint8ArrayToString(e.subarray(n,e.length));break;case B.signatureSubpacket.reasonForRevocation:this.reasonForRevocationFlag=e[n++],this.reasonForRevocationString=H.uint8ArrayToString(e.subarray(n,e.length));break;case B.signatureSubpacket.features:this.features=[...e.subarray(n,e.length)];break;case B.signatureSubpacket.signatureTarget:{this.signatureTargetPublicKeyAlgorithm=e[n++],this.signatureTargetHashAlgorithm=e[n++];const a=Dt.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=H.uint8ArrayToString(e.subarray(n,n+a));break}case B.signatureSubpacket.embeddedSignature:this.embeddedSignature=new qe,this.embeddedSignature.read(e.subarray(n,e.length));break;case B.signatureSubpacket.issuerFingerprint:this.issuerKeyVersion=e[n++],this.issuerFingerprint=e.subarray(n,e.length),this.issuerKeyVersion===5?this.issuerKeyID.read(this.issuerFingerprint):this.issuerKeyID.read(this.issuerFingerprint.subarray(-8));break;case B.signatureSubpacket.preferredAEADAlgorithms:this.preferredAEADAlgorithms=[...e.subarray(n,e.length)];break;default:{const a=Error("Unknown signature subpacket type "+s);if(i)throw a;H.printDebug(a)}}else this.unhashedSubpackets.push(e.subarray(n,e.length))}readSubPackets(e,r=!0,n){const i=H.readNumber(e.subarray(0,2));let s=2;for(;s<2+i;){const a=uh(e.subarray(s,e.length));s+=a.offset,this.readSubPacket(e.subarray(s,s+a.len),r,n),s+=a.len}return s}toSign(e,r){const n=B.signature;switch(e){case n.binary:return r.text!==null?H.encodeUTF8(r.getText(!0)):r.getBytes(!0);case n.text:{const i=r.getBytes(!0);return H.canonicalizeEOL(i)}case n.standalone:return new Uint8Array(0);case n.certGeneric:case n.certPersona:case n.certCasual:case n.certPositive:case n.certRevocation:{let i,s;if(r.userID)s=180,i=r.userID;else{if(!r.userAttribute)throw Error("Either a userID or userAttribute packet needs to be supplied for certification.");s=209,i=r.userAttribute}const a=i.write();return H.concat([this.toSign(n.key,r),new Uint8Array([s]),H.writeNumber(a.length,4),a])}case n.subkeyBinding:case n.subkeyRevocation:case n.keyBinding:return H.concat([this.toSign(n.key,r),this.toSign(n.key,{key:r.bind})]);case n.key:if(r.key===void 0)throw Error("Key packet is required for this signature.");return r.key.writeForHash(this.version);case n.keyRevocation:return this.toSign(n.key,r);case n.timestamp:return new Uint8Array(0);case n.thirdParty:throw Error("Not implemented");default:throw Error("Unknown signature type.")}}calculateTrailer(e,r){let n=0;return we(ii(this.signatureData),i=>{n+=i.length},()=>{const i=[];return this.version!==5||this.signatureType!==B.signature.binary&&this.signatureType!==B.signature.text||(r?i.push(new Uint8Array(6)):i.push(e.writeHeader())),i.push(new Uint8Array([this.version,255])),this.version===5&&i.push(new Uint8Array(4)),i.push(H.writeNumber(n,4)),H.concat(i)})}toHash(e,r,n=!1){const i=this.toSign(e,r);return H.concat([i,this.signatureData,this.calculateTrailer(r,n)])}async hash(e,r,n,i=!1){const s=B.write(B.hash,this.hashAlgorithm);return n||(n=this.toHash(e,r,i)),Dt.hash.digest(s,n)}async verify(e,r,n,i=new Date,s=!1,a=It){const o=B.write(B.publicKey,this.publicKeyAlgorithm),u=B.write(B.hash,this.hashAlgorithm);if(!this.issuerKeyID.equals(e.getKeyID()))throw Error("Signature was not issued by the given public key");if(o!==B.write(B.publicKey,e.algorithm))throw Error("Public key algorithm used to sign signature does not match issuer key algorithm.");const c=r===B.signature.binary||r===B.signature.text;if(!(this[js]&&!c)){let l,y;if(this.hashed?y=await this.hashed:(l=this.toHash(r,n,s),y=await this.hash(r,n,l)),y=await ke(y),this.signedHashValue[0]!==y[0]||this.signedHashValue[1]!==y[1])throw Error("Signed digest did not match");if(this.params=await this.params,this[js]=await Dt.signature.verify(o,u,this.params,e.publicParams,l,y),!this[js])throw Error("Signature verification failed")}const f=H.normalizeDate(i);if(f&&this.created>f)throw Error("Signature creation time is in the future");if(f&&f>=this.getExpirationTime())throw Error("Signature is expired");if(a.rejectHashAlgorithms.has(u))throw Error("Insecure hash algorithm: "+B.read(B.hash,u).toUpperCase());if(a.rejectMessageHashAlgorithms.has(u)&&[B.signature.binary,B.signature.text].includes(this.signatureType))throw Error("Insecure message hash algorithm: "+B.read(B.hash,u).toUpperCase());if(this.rawNotations.forEach(({name:l,critical:y})=>{if(y&&a.knownNotations.indexOf(l)<0)throw Error("Unknown critical notation: "+l)}),this.revocationKeyClass!==null)throw Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")}isExpired(e=new Date){const r=H.normalizeDate(e);return r!==null&&!(this.created<=r&&r<this.getExpirationTime())}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}}function ge(t,e){const r=[];return r.push(Ls(e.length+1)),r.push(new Uint8Array([t])),r.push(e),H.concat(r)}class Dr{static get tag(){return B.packet.onePassSignature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.issuerKeyID=null,this.flags=null}read(e){let r=0;if(this.version=e[r++],this.version!==3)throw new wr(`Version ${this.version} of the one-pass signature packet is unsupported.`);return this.signatureType=e[r++],this.hashAlgorithm=e[r++],this.publicKeyAlgorithm=e[r++],this.issuerKeyID=new Tn,this.issuerKeyID.read(e.subarray(r,r+8)),r+=8,this.flags=e[r++],this}write(){const e=new Uint8Array([3,B.write(B.signature,this.signatureType),B.write(B.hash,this.hashAlgorithm),B.write(B.publicKey,this.publicKeyAlgorithm)]),r=new Uint8Array([this.flags]);return H.concatUint8Array([e,this.issuerKeyID.write(),r])}calculateTrailer(...e){return Rn(async()=>qe.prototype.calculateTrailer.apply(await this.correspondingSig,e))}async verify(){const e=await this.correspondingSig;if(!e||e.constructor.tag!==B.packet.signature)throw Error("Corresponding signature packet missing");if(e.signatureType!==this.signatureType||e.hashAlgorithm!==this.hashAlgorithm||e.publicKeyAlgorithm!==this.publicKeyAlgorithm||!e.issuerKeyID.equals(this.issuerKeyID))throw Error("Corresponding signature packet does not match one-pass signature packet");return e.hashed=this.hashed,e.verify.apply(e,arguments)}}function _2(t,e){if(!e[t]){let r;try{r=B.read(B.packet,t)}catch{throw new wr("Unknown packet type with tag: "+t)}throw Error("Packet not allowed in this context: "+r)}return new e[t]}Dr.prototype.hash=qe.prototype.hash,Dr.prototype.toHash=qe.prototype.toHash,Dr.prototype.toSign=qe.prototype.toSign;class de extends Array{static async fromBinary(e,r,n=It){const i=new de;return await i.read(e,r,n),i}async read(e,r,n=It){this.stream=pn(e,async(s,a)=>{const o=tr(a);try{for(;;)if(await o.ready,await v2(s,async u=>{try{if(u.tag===B.packet.marker||u.tag===B.packet.trust)return;const c=_2(u.tag,r);c.packets=new de,c.fromStream=H.isStream(u.packet),await c.read(u.packet,n),await o.write(c)}catch(c){const f=!n.ignoreUnsupportedPackets&&c instanceof wr,l=!(n.ignoreMalformedPackets||c instanceof wr);(f||l||Xa(u.tag))&&await o.abort(c),H.printDebugError(c)}}))return await o.ready,void await o.close()}catch(u){await o.abort(u)}});const i=jr(this.stream);for(;;){const{done:s,value:a}=await i.read();if(s?this.stream=null:this.push(a),s||Xa(a.constructor.tag))break}i.releaseLock()}write(){const e=[];for(let r=0;r<this.length;r++){const n=this[r].write();if(H.isStream(n)&&Xa(this[r].constructor.tag)){let i=[],s=0;const a=512;e.push(hh(this[r].constructor.tag)),e.push(we(n,o=>{if(i.push(o),s+=o.length,s>=a){const u=Math.min(Math.log(s)/Math.LN2|0,30),c=2**u,f=H.concat([b2(u)].concat(i));return i=[f.subarray(1+c)],s=i[0].length,f.subarray(0,1+c)}},()=>H.concat([Ls(s)].concat(i))))}else{if(H.isStream(n)){let i=0;e.push(we(ii(n),s=>{i+=s.length},()=>fh(this[r].constructor.tag,i)))}else e.push(fh(this[r].constructor.tag,n.length));e.push(n)}}return H.concat(e)}filterByTag(...e){const r=new de,n=i=>s=>i===s;for(let i=0;i<this.length;i++)e.some(n(this[i].constructor.tag))&&r.push(this[i]);return r}findPacket(e){return this.find(r=>r.constructor.tag===e)}indexOfTag(...e){const r=[],n=this,i=s=>a=>s===a;for(let s=0;s<this.length;s++)e.some(i(n[s].constructor.tag))&&r.push(s);return r}}const A2=H.constructAllowedPackets([Fi,Dr,qe]);class qs{static get tag(){return B.packet.compressedData}constructor(e=It){this.packets=null,this.algorithm=B.read(B.compression,e.preferredCompressionAlgorithm),this.compressed=null,this.deflateLevel=e.deflateLevel}async read(e,r=It){await Sa(e,async n=>{this.algorithm=B.read(B.compression,await n.readByte()),this.compressed=n.remainder(),await this.decompress(r)})}write(){return this.compressed===null&&this.compress(),H.concat([new Uint8Array([B.write(B.compression,this.algorithm)]),this.compressed])}async decompress(e=It){if(!yh[this.algorithm])throw Error(this.algorithm+" decompression not supported");this.packets=await de.fromBinary(yh[this.algorithm](this.compressed),A2,e)}compress(){if(!ph[this.algorithm])throw Error(this.algorithm+" compression not supported");this.compressed=ph[this.algorithm](this.packets.write(),this.deflateLevel)}}const an=H.getNodeZlib();function lh(t){return t}function Qa(t,e,r={}){return function(n){return!H.isStream(n)||_e(n)?Rn(()=>ke(n).then(i=>new Promise((s,a)=>{t(i,r,(o,u)=>{if(o)return a(o);s(u)})}))):ka(cc(n).pipe(e(r)))}}function Za(t,e={}){return function(r){const n=new t(e);return we(r,i=>{if(i.length)return n.push(i,2),n.result},()=>{if(t===zc)return n.push([],4),n.result})}}function dh(t){return function(e){return Rn(async()=>t(await ke(e)))}}const ph=an?{zip:(t,e)=>Qa(an.deflateRaw,an.createDeflateRaw,{level:e})(t),zlib:(t,e)=>Qa(an.deflate,an.createDeflate,{level:e})(t)}:{zip:(t,e)=>Za(zc,{raw:!0,level:e})(t),zlib:(t,e)=>Za(zc,{level:e})(t)},yh=an?{uncompressed:lh,zip:Qa(an.inflateRaw,an.createInflateRaw),zlib:Qa(an.inflate,an.createInflate),bzip2:dh(ch)}:{uncompressed:lh,zip:Za(ih,{raw:!0}),zlib:Za(ih),bzip2:dh(ch)},k2=H.constructAllowedPackets([Fi,qs,Dr,qe]);class mh{static get tag(){return B.packet.symEncryptedIntegrityProtectedData}constructor(){this.version=1,this.encrypted=null,this.packets=null}async read(e){await Sa(e,async r=>{const n=await r.readByte();if(n!==1)throw new wr(`Version ${n} of the SEIP packet is unsupported.`);this.encrypted=r.remainder()})}write(){return H.concat([new Uint8Array([1]),this.encrypted])}async encrypt(e,r,n=It){let i=this.packets.write();_e(i)&&(i=await ke(i));const s=await Dt.getPrefixRandom(e),a=new Uint8Array([211,20]),o=H.concat([s,i,a]),u=await Dt.hash.sha1(Ci(o)),c=H.concat([o,u]);return this.encrypted=await Dt.mode.cfb.encrypt(e,r,c,new Uint8Array(Dt.cipher[e].blockSize),n),!0}async decrypt(e,r,n=It){let i=ii(this.encrypted);_e(i)&&(i=await ke(i));const s=await Dt.mode.cfb.decrypt(e,r,i,new Uint8Array(Dt.cipher[e].blockSize)),a=Ie(Ci(s),-20),o=Ie(s,0,-20),u=Promise.all([ke(await Dt.hash.sha1(Ci(o))),ke(a)]).then(([l,y])=>{if(!H.equalsUint8Array(l,y))throw Error("Modification detected.");return new Uint8Array}),c=Ie(o,Dt.cipher[e].blockSize+2);let f=Ie(c,0,-2);return f=Ze([f,Rn(()=>u)]),H.isStream(i)&&n.allowUnauthenticatedStream||(f=await ke(f)),this.packets=await de.fromBinary(f,k2,n),!0}}const S2=H.constructAllowedPackets([Fi,qs,Dr,qe]);class to{static get tag(){return B.packet.aeadEncryptedData}constructor(){this.version=1,this.cipherAlgo=null,this.aeadAlgorithm="eax",this.aeadAlgo=null,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}async read(e){await Sa(e,async r=>{const n=await r.readByte();if(n!==1)throw new wr(`Version ${n} of the AEAD-encrypted data packet is not supported.`);this.cipherAlgo=await r.readByte(),this.aeadAlgo=await r.readByte(),this.chunkSizeByte=await r.readByte();const i=Dt.mode[B.read(B.aead,this.aeadAlgo)];this.iv=await r.readBytes(i.ivLength),this.encrypted=r.remainder()})}write(){return H.concat([new Uint8Array([this.version,this.cipherAlgo,this.aeadAlgo,this.chunkSizeByte]),this.iv,this.encrypted])}async decrypt(e,r,n=It){this.packets=await de.fromBinary(await this.crypt("decrypt",r,ii(this.encrypted)),S2,n)}async encrypt(e,r,n=It){this.cipherAlgo=B.write(B.symmetric,e),this.aeadAlgo=B.write(B.aead,this.aeadAlgorithm);const i=Dt.mode[B.read(B.aead,this.aeadAlgo)];this.iv=await Dt.random.getRandomBytes(i.ivLength),this.chunkSizeByte=n.aeadChunkSizeByte;const s=this.packets.write();this.encrypted=await this.crypt("encrypt",r,s)}async crypt(e,r,n){const i=B.read(B.symmetric,this.cipherAlgo),s=Dt.mode[B.read(B.aead,this.aeadAlgo)],a=await s(i,r),o=e==="decrypt"?s.tagLength:0,u=e==="encrypt"?s.tagLength:0,c=2**(this.chunkSizeByte+6)+o,f=new ArrayBuffer(21),l=new Uint8Array(f,0,13),y=new Uint8Array(f),p=new DataView(f),k=new Uint8Array(f,5,8);l.set([192|to.tag,this.version,this.cipherAlgo,this.aeadAlgo,this.chunkSizeByte],0);let x=0,E=Promise.resolve(),D=0,q=0;const z=this.iv;return pn(n,async(O,L)=>{if(H.isStream(O)!=="array"){const h=new Ri({},{highWaterMark:H.getHardwareConcurrency()*2**(this.chunkSizeByte+6),size:d=>d.length});Mn(h.readable,L),L=h.writable}const g=jr(O),T=tr(L);try{for(;;){let h=await g.readBytes(c+o)||new Uint8Array;const d=h.subarray(h.length-o);let w,m;if(h=h.subarray(0,h.length-o),!x||h.length?(g.unshift(d),w=a[e](h,s.getNonce(z,k),l),q+=h.length-o+u):(p.setInt32(17,D),w=a[e](d,s.getNonce(z,k),y),q+=u,m=!0),D+=h.length-o,E=E.then(()=>w).then(async v=>{await T.ready,await T.write(v),q-=v.length}).catch(v=>T.abort(v)),(m||q>T.desiredSize)&&await E,m){await T.close();break}p.setInt32(9,++x)}}catch(h){await T.abort(h)}})}}class gh{static get tag(){return B.packet.publicKeyEncryptedSessionKey}constructor(){this.version=3,this.publicKeyID=new Tn,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}read(e){if(this.version=e[0],this.version!==3)throw new wr(`Version ${this.version} of the PKESK packet is unsupported.`);this.publicKeyID.read(e.subarray(1,e.length)),this.publicKeyAlgorithm=B.read(B.publicKey,e[9]);const r=B.write(B.publicKey,this.publicKeyAlgorithm);this.encrypted=Dt.parseEncSessionKeyParams(r,e.subarray(10))}write(){const e=B.write(B.publicKey,this.publicKeyAlgorithm),r=[new Uint8Array([this.version]),this.publicKeyID.write(),new Uint8Array([B.write(B.publicKey,this.publicKeyAlgorithm)]),Dt.serializeParams(e,this.encrypted)];return H.concatUint8Array(r)}async encrypt(e){const r=H.concatUint8Array([new Uint8Array([B.write(B.symmetric,this.sessionKeyAlgorithm)]),this.sessionKey,H.writeChecksum(this.sessionKey)]),n=B.write(B.publicKey,this.publicKeyAlgorithm);this.encrypted=await Dt.publicKeyEncrypt(n,e.publicParams,r,e.getFingerprintBytes())}async decrypt(e){const r=B.write(B.publicKey,this.publicKeyAlgorithm);if(r!==B.write(B.publicKey,e.algorithm))throw Error("Decryption error");const n=await Dt.publicKeyDecrypt(r,e.publicParams,e.privateParams,this.encrypted,e.getFingerprintBytes()),i=n.subarray(n.length-2),s=n.subarray(1,n.length-2);if(!H.equalsUint8Array(i,H.writeChecksum(s)))throw Error("Decryption error");this.sessionKey=s,this.sessionKeyAlgorithm=B.read(B.symmetric,n[0])}}class Ws{constructor(e=It){this.algorithm="sha256",this.type="iterated",this.c=e.s2kIterationCountByte,this.salt=null}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(e){let r=0;switch(this.type=B.read(B.s2k,e[r++]),this.algorithm=e[r++],this.type!=="gnu"&&(this.algorithm=B.read(B.hash,this.algorithm)),this.type){case"simple":break;case"salted":this.salt=e.subarray(r,r+8),r+=8;break;case"iterated":this.salt=e.subarray(r,r+8),r+=8,this.c=e[r++];break;case"gnu":if(H.uint8ArrayToString(e.subarray(r,r+3))!=="GNU")throw Error("Unknown s2k type.");if(r+=3,1e3+e[r++]!==1001)throw Error("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw Error("Unknown s2k type.")}return r}write(){if(this.type==="gnu-dummy")return new Uint8Array([101,0,...H.stringToUint8Array("GNU"),1]);const e=[new Uint8Array([B.write(B.s2k,this.type),B.write(B.hash,this.algorithm)])];switch(this.type){case"simple":break;case"salted":e.push(this.salt);break;case"iterated":e.push(this.salt),e.push(new Uint8Array([this.c]));break;case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}return H.concatUint8Array(e)}async produceKey(e,r){e=H.encodeUTF8(e);const n=B.write(B.hash,this.algorithm),i=[];let s=0,a=0;for(;s<r;){let o;switch(this.type){case"simple":o=H.concatUint8Array([new Uint8Array(a),e]);break;case"salted":o=H.concatUint8Array([new Uint8Array(a),this.salt,e]);break;case"iterated":{const c=H.concatUint8Array([this.salt,e]);let f=c.length;const l=Math.max(this.getCount(),f);o=new Uint8Array(a+l),o.set(c,a);for(let y=a+f;y<l;y+=f,f*=2)o.copyWithin(y,a,y);break}case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}const u=await Dt.hash.digest(n,o);i.push(u),s+=u.length,a++}return H.concatUint8Array(i).subarray(0,r)}}class Li{static get tag(){return B.packet.symEncryptedSessionKey}constructor(e=It){this.version=e.aeadProtect?5:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm="aes256",this.aeadAlgorithm=B.read(B.aead,e.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(e){let r=0;if(this.version=e[r++],this.version!==4&&this.version!==5)throw new wr(`Version ${this.version} of the SKESK packet is unsupported.`);const n=B.read(B.symmetric,e[r++]);if(this.version===5&&(this.aeadAlgorithm=B.read(B.aead,e[r++])),this.s2k=new Ws,r+=this.s2k.read(e.subarray(r,e.length)),this.version===5){const i=Dt.mode[this.aeadAlgorithm];this.iv=e.subarray(r,r+=i.ivLength)}this.version===5||r<e.length?(this.encrypted=e.subarray(r,e.length),this.sessionKeyEncryptionAlgorithm=n):this.sessionKeyAlgorithm=n}write(){const e=this.encrypted===null?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm;let r;return this.version===5?r=H.concatUint8Array([new Uint8Array([this.version,B.write(B.symmetric,e),B.write(B.aead,this.aeadAlgorithm)]),this.s2k.write(),this.iv,this.encrypted]):(r=H.concatUint8Array([new Uint8Array([this.version,B.write(B.symmetric,e)]),this.s2k.write()]),this.encrypted!==null&&(r=H.concatUint8Array([r,this.encrypted]))),r}async decrypt(e){const r=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,n=Dt.cipher[r].keySize,i=await this.s2k.produceKey(e,n);if(this.version===5){const s=Dt.mode[this.aeadAlgorithm],a=new Uint8Array([192|Li.tag,this.version,B.write(B.symmetric,this.sessionKeyEncryptionAlgorithm),B.write(B.aead,this.aeadAlgorithm)]),o=await s(r,i);this.sessionKey=await o.decrypt(this.encrypted,this.iv,a)}else if(this.encrypted!==null){const s=await Dt.mode.cfb.decrypt(r,i,this.encrypted,new Uint8Array(Dt.cipher[r].blockSize));this.sessionKeyAlgorithm=B.read(B.symmetric,s[0]),this.sessionKey=s.subarray(1,s.length)}else this.sessionKey=i}async encrypt(e,r=It){const n=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=n,this.s2k=new Ws(r),this.s2k.salt=await Dt.random.getRandomBytes(8);const i=Dt.cipher[n].keySize,s=await this.s2k.produceKey(e,i);if(this.sessionKey===null&&(this.sessionKey=await Dt.generateSessionKey(this.sessionKeyAlgorithm)),this.version===5){const a=Dt.mode[this.aeadAlgorithm];this.iv=await Dt.random.getRandomBytes(a.ivLength);const o=new Uint8Array([192|Li.tag,this.version,B.write(B.symmetric,this.sessionKeyEncryptionAlgorithm),B.write(B.aead,this.aeadAlgorithm)]),u=await a(n,s);this.encrypted=await u.encrypt(this.sessionKey,this.iv,o)}else{const a=new Uint8Array([B.write(B.symmetric,this.sessionKeyAlgorithm)]),o=H.concatUint8Array([a,this.sessionKey]);this.encrypted=await Dt.mode.cfb.encrypt(n,s,o,new Uint8Array(Dt.cipher[n].blockSize),r)}}}class Ur{static get tag(){return B.packet.publicKey}constructor(e=new Date,r=It){this.version=r.v5Keys?5:4,this.created=H.normalizeDate(e),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(e){const r=new Ur,{version:n,created:i,algorithm:s,publicParams:a,keyID:o,fingerprint:u}=e;return r.version=n,r.created=i,r.algorithm=s,r.publicParams=a,r.keyID=o,r.fingerprint=u,r}async read(e){let r=0;if(this.version=e[r++],this.version===4||this.version===5){this.created=H.readDate(e.subarray(r,r+4)),r+=4,this.algorithm=B.read(B.publicKey,e[r++]);const n=B.write(B.publicKey,this.algorithm);this.version===5&&(r+=4);try{const{read:i,publicParams:s}=Dt.parsePublicKeyParams(n,e.subarray(r));this.publicParams=s,r+=i}catch{throw Error("Error reading MPIs")}return await this.computeFingerprintAndKeyID(),r}throw new wr(`Version ${this.version} of the key packet is unsupported.`)}write(){const e=[];e.push(new Uint8Array([this.version])),e.push(H.writeDate(this.created));const r=B.write(B.publicKey,this.algorithm);e.push(new Uint8Array([r]));const n=Dt.serializeParams(r,this.publicParams);return this.version===5&&e.push(H.writeNumber(n.length,4)),e.push(n),H.concatUint8Array(e)}writeForHash(e){const r=this.writePublicKey();return e===5?H.concatUint8Array([new Uint8Array([154]),H.writeNumber(r.length,4),r]):H.concatUint8Array([new Uint8Array([153]),H.writeNumber(r.length,2),r])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}async computeFingerprintAndKeyID(){if(await this.computeFingerprint(),this.keyID=new Tn,this.version===5)this.keyID.read(this.fingerprint.subarray(0,8));else{if(this.version!==4)throw Error("Unsupported key version");this.keyID.read(this.fingerprint.subarray(12,20))}}async computeFingerprint(){const e=this.writeForHash(this.version);if(this.version===5)this.fingerprint=await Dt.hash.sha256(e);else{if(this.version!==4)throw Error("Unsupported key version");this.fingerprint=await Dt.hash.sha1(e)}}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return H.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(e){return this.version===e.version&&H.equalsUint8Array(this.writePublicKey(),e.writePublicKey())}getAlgorithmInfo(){const e={};e.algorithm=this.algorithm;const r=this.publicParams.n||this.publicParams.p;return r?e.bits=H.uint8ArrayBitLength(r):e.curve=this.publicParams.oid.getName(),e}}Ur.prototype.readPublicKey=Ur.prototype.read,Ur.prototype.writePublicKey=Ur.prototype.write;const E2=H.constructAllowedPackets([Fi,qs,Dr,qe]);class P2{static get tag(){return B.packet.symmetricallyEncryptedData}constructor(){this.encrypted=null,this.packets=null}read(e){this.encrypted=e}write(){return this.encrypted}async decrypt(e,r,n=It){if(!n.allowUnauthenticatedMessages)throw Error("Message is not authenticated.");const i=await ke(ii(this.encrypted)),s=await Dt.mode.cfb.decrypt(e,r,i.subarray(Dt.cipher[e].blockSize+2),i.subarray(2,Dt.cipher[e].blockSize+2));this.packets=await de.fromBinary(s,E2,n)}async encrypt(e,r,n=It){const i=this.packets.write(),s=await Dt.getPrefixRandom(e),a=await Dt.mode.cfb.encrypt(e,r,s,new Uint8Array(Dt.cipher[e].blockSize),n),o=await Dt.mode.cfb.encrypt(e,r,i,a.subarray(2),n);this.encrypted=H.concat([a,o])}}class Hs extends Ur{static get tag(){return B.packet.publicSubkey}constructor(e,r){super(e,r)}static fromSecretSubkeyPacket(e){const r=new Hs,{version:n,created:i,algorithm:s,publicParams:a,keyID:o,fingerprint:u}=e;return r.version=n,r.created=i,r.algorithm=s,r.publicParams=a,r.keyID=o,r.fingerprint=u,r}}class qc{static get tag(){return B.packet.userAttribute}constructor(){this.attributes=[]}read(e){let r=0;for(;r<e.length;){const n=uh(e.subarray(r,e.length));r+=n.offset,this.attributes.push(H.uint8ArrayToString(e.subarray(r,r+n.len))),r+=n.len}}write(){const e=[];for(let r=0;r<this.attributes.length;r++)e.push(Ls(this.attributes[r].length)),e.push(H.stringToUint8Array(this.attributes[r]));return H.concatUint8Array(e)}equals(e){return!!(e&&e instanceof qc)&&this.attributes.every(function(r,n){return r===e.attributes[n]})}}class Wc extends Ur{static get tag(){return B.packet.secretKey}constructor(e=new Date,r=It){super(e,r),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.privateParams=null}async read(e){let r=await this.readPublicKey(e);if(this.s2kUsage=e[r++],this.version===5&&r++,this.s2kUsage===255||this.s2kUsage===254||this.s2kUsage===253){if(this.symmetric=e[r++],this.symmetric=B.read(B.symmetric,this.symmetric),this.s2kUsage===253&&(this.aead=e[r++],this.aead=B.read(B.aead,this.aead)),this.s2k=new Ws,r+=this.s2k.read(e.subarray(r,e.length)),this.s2k.type==="gnu-dummy")return}else this.s2kUsage&&(this.symmetric=this.s2kUsage,this.symmetric=B.read(B.symmetric,this.symmetric));if(this.s2kUsage&&(this.iv=e.subarray(r,r+Dt.cipher[this.symmetric].blockSize),r+=this.iv.length),this.version===5&&(r+=4),this.keyMaterial=e.subarray(r),this.isEncrypted=!!this.s2kUsage,!this.isEncrypted){const n=this.keyMaterial.subarray(0,-2);if(!H.equalsUint8Array(H.writeChecksum(n),this.keyMaterial.subarray(-2)))throw Error("Key checksum mismatch");try{const i=B.write(B.publicKey,this.algorithm),{privateParams:s}=Dt.parsePrivateKeyParams(i,n,this.publicParams);this.privateParams=s}catch{throw Error("Error reading MPIs")}}}write(){const e=[this.writePublicKey()];e.push(new Uint8Array([this.s2kUsage]));const r=[];if(this.s2kUsage!==255&&this.s2kUsage!==254&&this.s2kUsage!==253||(r.push(B.write(B.symmetric,this.symmetric)),this.s2kUsage===253&&r.push(B.write(B.aead,this.aead)),r.push(...this.s2k.write())),this.s2kUsage&&this.s2k.type!=="gnu-dummy"&&r.push(...this.iv),this.version===5&&e.push(new Uint8Array([r.length])),e.push(new Uint8Array(r)),!this.isDummy()){if(!this.s2kUsage){const n=B.write(B.publicKey,this.algorithm);this.keyMaterial=Dt.serializeParams(n,this.privateParams)}this.version===5&&e.push(H.writeNumber(this.keyMaterial.length,4)),e.push(this.keyMaterial),this.s2kUsage||e.push(H.writeChecksum(this.keyMaterial))}return H.concatUint8Array(e)}isDecrypted(){return this.isEncrypted===!1}isDummy(){return!(!this.s2k||this.s2k.type!=="gnu-dummy")}makeDummy(e=It){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),this.isEncrypted=null,this.keyMaterial=null,this.s2k=new Ws(e),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric="aes256")}async encrypt(e,r=It){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key packet is already encrypted");if(this.isDecrypted()&&!e)return void(this.s2kUsage=0);if(!e)throw Error("The key must be decrypted before removing passphrase protection.");this.s2k=new Ws(r),this.s2k.salt=await Dt.random.getRandomBytes(8);const n=B.write(B.publicKey,this.algorithm),i=Dt.serializeParams(n,this.privateParams);this.symmetric="aes256";const s=await bh(this.s2k,e,this.symmetric),a=Dt.cipher[this.symmetric].blockSize;if(this.iv=await Dt.random.getRandomBytes(a),r.aeadProtect){this.s2kUsage=253,this.aead="eax";const o=Dt.mode[this.aead],u=await o(this.symmetric,s);this.keyMaterial=await u.encrypt(i,this.iv.subarray(0,o.ivLength),new Uint8Array)}else this.s2kUsage=254,this.keyMaterial=await Dt.mode.cfb.encrypt(this.symmetric,s,H.concatUint8Array([i,await Dt.hash.sha1(i,r)]),this.iv,r)}async decrypt(e){if(this.isDummy())return!1;if(this.isDecrypted())throw Error("Key packet is already decrypted.");let r,n;if(this.s2kUsage!==254&&this.s2kUsage!==253)throw this.s2kUsage===255?Error("Encrypted private key is authenticated using an insecure two-byte hash"):Error("Private key is encrypted using an insecure S2K function: unsalted MD5");if(r=await bh(this.s2k,e,this.symmetric),this.s2kUsage===253){const i=Dt.mode[this.aead];try{n=await(await i(this.symmetric,r)).decrypt(this.keyMaterial,this.iv.subarray(0,i.ivLength),new Uint8Array)}catch(s){throw s.message==="Authentication tag mismatch"?Error("Incorrect key passphrase: "+s.message):s}}else{const i=await Dt.mode.cfb.decrypt(this.symmetric,r,this.keyMaterial,this.iv);n=i.subarray(0,-20);const s=await Dt.hash.sha1(n);if(!H.equalsUint8Array(s,i.subarray(-20)))throw Error("Incorrect key passphrase")}try{const i=B.write(B.publicKey,this.algorithm),{privateParams:s}=Dt.parsePrivateKeyParams(i,n,this.publicParams);this.privateParams=s}catch{throw Error("Error reading MPIs")}this.isEncrypted=!1,this.keyMaterial=null,this.s2kUsage=0}async validate(){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key is not decrypted");const e=B.write(B.publicKey,this.algorithm);let r;try{r=await Dt.validateParams(e,this.publicParams,this.privateParams)}catch{r=!1}if(!r)throw Error("Key is invalid")}async generate(e,r){const n=B.write(B.publicKey,this.algorithm),{privateParams:i,publicParams:s}=await Dt.generateParams(n,e,r);this.privateParams=i,this.publicParams=s,this.isEncrypted=!1}clearPrivateParams(){this.isDummy()||(Object.keys(this.privateParams).forEach(e=>{this.privateParams[e].fill(0),delete this.privateParams[e]}),this.privateParams=null,this.isEncrypted=!0)}}async function bh(t,e,r){return t.produceKey(e,Dt.cipher[r].keySize)}var x2=Wr(function(t){(function(e){function r(i){function s(){return Nt<Gt}function a(){return Nt}function o(vt){Nt=vt}function u(){Nt=0,Gt=ee.length}function c(vt,wt){return{name:vt,tokens:wt||"",semantic:wt||"",children:[]}}function f(vt,wt){var St;return wt===null?null:((St=c(vt)).tokens=wt.tokens,St.semantic=wt.semantic,St.children.push(wt),St)}function l(vt,wt){return wt!==null&&(vt.tokens+=wt.tokens,vt.semantic+=wt.semantic),vt.children.push(wt),vt}function y(vt){var wt;return s()&&vt(wt=ee[Nt])?(Nt+=1,c("token",wt)):null}function p(vt){return function(){return f("literal",y(function(wt){return wt===vt}))}}function k(){var vt=arguments;return function(){var wt,St,Tt,qt;for(qt=a(),St=c("and"),wt=0;wt<vt.length;wt+=1){if((Tt=vt[wt]())===null)return o(qt),null;l(St,Tt)}return St}}function x(){var vt=arguments;return function(){var wt,St,Tt;for(Tt=a(),wt=0;wt<vt.length;wt+=1){if((St=vt[wt]())!==null)return St;o(Tt)}return null}}function E(vt){return function(){var wt,St;return St=a(),(wt=vt())!==null?wt:(o(St),c("opt"))}}function D(vt){return function(){var wt=vt();return wt!==null&&(wt.semantic=""),wt}}function q(vt){return function(){var wt=vt();return wt!==null&&wt.semantic.length>0&&(wt.semantic=" "),wt}}function z(vt,wt){return function(){var St,Tt,qt,Kt,Bt;for(Kt=a(),St=c("star"),qt=0,Bt=wt===void 0?0:wt;(Tt=vt())!==null;)qt+=1,l(St,Tt);return qt>=Bt?St:(o(Kt),null)}}function O(vt){return vt.charCodeAt(0)>=128}function L(){return f("cr",p("\r")())}function g(){return f("crlf",k(L,d)())}function T(){return f("dquote",p('"')())}function h(){return f("htab",p("	")())}function d(){return f("lf",p(`
`)())}function w(){return f("sp",p(" ")())}function m(){return f("vchar",y(function(vt){var wt=vt.charCodeAt(0),St=33<=wt&&wt<=126;return i.rfc6532&&(St=St||O(vt)),St}))}function v(){return f("wsp",x(w,h)())}function I(){var vt=f("quoted-pair",x(k(p("\\"),x(m,v)),et)());return vt===null?null:(vt.semantic=vt.semantic[1],vt)}function U(){return f("fws",x(st,k(E(k(z(v),D(g))),z(v,1)))())}function $(){return f("ctext",x(function(){return y(function(vt){var wt=vt.charCodeAt(0),St=33<=wt&&wt<=39||42<=wt&&wt<=91||93<=wt&&wt<=126;return i.rfc6532&&(St=St||O(vt)),St})},Pt)())}function nt(){return f("ccontent",x($,I,b)())}function b(){return f("comment",k(p("("),z(k(E(U),nt)),E(U),p(")"))())}function C(){return f("cfws",x(k(z(k(E(U),b),1),E(U)),U)())}function V(){return f("atext",y(function(vt){var wt="a"<=vt&&vt<="z"||"A"<=vt&&vt<="Z"||"0"<=vt&&vt<="9"||["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(vt)>=0;return i.rfc6532&&(wt=wt||O(vt)),wt}))}function Z(){return f("atom",k(q(E(C)),z(V,1),q(E(C)))())}function it(){var vt,wt;return(vt=f("dot-atom-text",z(V,1)()))===null||(wt=z(k(p("."),z(V,1)))())!==null&&l(vt,wt),vt}function lt(){return f("dot-atom",k(D(E(C)),it,D(E(C)))())}function dt(){return f("qtext",x(function(){return y(function(vt){var wt=vt.charCodeAt(0),St=wt===33||35<=wt&&wt<=91||93<=wt&&wt<=126;return i.rfc6532&&(St=St||O(vt)),St})},tt)())}function pt(){return f("qcontent",x(dt,I)())}function G(){return f("quoted-string",k(D(E(C)),D(T),z(k(E(q(U)),pt)),E(D(U)),D(T),D(E(C)))())}function ut(){return f("word",x(Z,G)())}function F(){return f("address",x(S,R)())}function S(){return f("mailbox",x(Y,bt)())}function Y(){return f("name-addr",k(E(N),A)())}function A(){return f("angle-addr",x(k(D(E(C)),p("<"),bt,p(">"),D(E(C))),at)())}function R(){return f("group",k(N,p(":"),E(M),p(";"),D(E(C)))())}function N(){return f("display-name",((vt=f("phrase",x(ct,z(ut,1))()))!==null&&(vt.semantic=function(wt){return wt.replace(/([ \t]|\r\n)+/g," ").replace(/^\s*/,"").replace(/\s*$/,"")}(vt.semantic)),vt));var vt}function P(){return f("mailbox-list",x(k(S,z(k(p(","),S))),j)())}function _(){return f("address-list",x(k(F,z(k(p(","),F))),Et)())}function M(){return f("group-list",x(P,D(C),At)())}function K(){return f("local-part",x(Ot,lt,G)())}function Q(){return f("dtext",x(function(){return y(function(vt){var wt=vt.charCodeAt(0),St=33<=wt&&wt<=90||94<=wt&&wt<=126;return i.rfc6532&&(St=St||O(vt)),St})},jt)())}function J(){return f("domain-literal",k(D(E(C)),p("["),z(k(E(U),Q)),E(U),p("]"),D(E(C)))())}function rt(){return f("domain",(vt=x(Zt,lt,J)(),i.rejectTLD&&vt&&vt.semantic&&vt.semantic.indexOf(".")<0?null:(vt&&(vt.semantic=vt.semantic.replace(/\s+/g,"")),vt)));var vt}function bt(){return f("addr-spec",k(K,p("@"),rt)())}function _t(){return i.strict?null:f("obs-NO-WS-CTL",y(function(vt){var wt=vt.charCodeAt(0);return 1<=wt&&wt<=8||wt===11||wt===12||14<=wt&&wt<=31||wt===127}))}function Pt(){return i.strict?null:f("obs-ctext",_t())}function tt(){return i.strict?null:f("obs-qtext",_t())}function et(){return i.strict?null:f("obs-qp",k(p("\\"),x(p("\0"),_t,d,L))())}function ct(){return i.strict?null:i.atInDisplayName?f("obs-phrase",k(ut,z(x(ut,p("."),p("@"),q(C))))()):f("obs-phrase",k(ut,z(x(ut,p("."),q(C))))())}function st(){return i.strict?null:f("obs-FWS",z(k(D(E(g)),v),1)())}function at(){return i.strict?null:f("obs-angle-addr",k(D(E(C)),p("<"),ht,bt,p(">"),D(E(C)))())}function ht(){return i.strict?null:f("obs-route",k(W,p(":"))())}function W(){return i.strict?null:f("obs-domain-list",k(z(x(D(C),p(","))),p("@"),rt,z(k(p(","),D(E(C)),E(k(p("@"),rt)))))())}function j(){return i.strict?null:f("obs-mbox-list",k(z(k(D(E(C)),p(","))),S,z(k(p(","),E(k(S,D(C))))))())}function Et(){return i.strict?null:f("obs-addr-list",k(z(k(D(E(C)),p(","))),F,z(k(p(","),E(k(F,D(C))))))())}function At(){return i.strict?null:f("obs-group-list",k(z(k(D(E(C)),p(",")),1),D(E(C)))())}function Ot(){return i.strict?null:f("obs-local-part",k(ut,z(k(p("."),ut)))())}function Zt(){return i.strict?null:f("obs-domain",k(Z,z(k(p("."),Z)))())}function jt(){return i.strict?null:f("obs-dtext",x(_t,I)())}function Ft(vt,wt){var St,Tt,qt;if(wt==null)return null;for(Tt=[wt];Tt.length>0;){if((qt=Tt.pop()).name===vt)return qt;for(St=qt.children.length-1;St>=0;St-=1)Tt.push(qt.children[St])}return null}function oe(vt,wt){var St,Tt,qt,Kt,Bt;if(wt==null)return null;for(Tt=[wt],Kt=[],Bt={},St=0;St<vt.length;St+=1)Bt[vt[St]]=!0;for(;Tt.length>0;)if((qt=Tt.pop()).name in Bt)Kt.push(qt);else for(St=qt.children.length-1;St>=0;St-=1)Tt.push(qt.children[St]);return Kt}function Yt(vt){var wt,St,Tt,qt,Kt;if(vt===null)return null;for(wt=[],St=oe(["group","mailbox"],vt),Tt=0;Tt<St.length;Tt+=1)(qt=St[Tt]).name==="group"?wt.push(Jt(qt)):qt.name==="mailbox"&&wt.push(ue(qt));return Kt={ast:vt,addresses:wt},i.simple&&(Kt=function(Bt){var ne;if(Bt&&Bt.addresses)for(ne=0;ne<Bt.addresses.length;ne+=1)delete Bt.addresses[ne].node;return Bt}(Kt)),i.oneResult?function(Bt){return!Bt||!i.partial&&Bt.addresses.length>1?null:Bt.addresses&&Bt.addresses[0]}(Kt):i.simple?Kt&&Kt.addresses:Kt}function Jt(vt){var wt,St=Ft("display-name",vt),Tt=[],qt=oe(["mailbox"],vt);for(wt=0;wt<qt.length;wt+=1)Tt.push(ue(qt[wt]));return{node:vt,parts:{name:St},type:vt.name,name:zt(St),addresses:Tt}}function ue(vt){var wt=Ft("display-name",vt),St=Ft("addr-spec",vt),Tt=function(ne,$t){var se,Ce,Te,Ne;if($t==null)return null;for(Ce=[$t],Ne=[];Ce.length>0;)for((Te=Ce.pop()).name===ne&&Ne.push(Te),se=Te.children.length-1;se>=0;se-=1)Ce.push(Te.children[se]);return Ne}("cfws",vt),qt=oe(["comment"],vt),Kt=Ft("local-part",St),Bt=Ft("domain",St);return{node:vt,parts:{name:wt,address:St,local:Kt,domain:Bt,comments:Tt},type:vt.name,name:zt(wt),address:zt(St),local:zt(Kt),domain:zt(Bt),comments:Wt(qt),groupName:zt(vt.groupName)}}function zt(vt){return vt!=null?vt.semantic:null}function Wt(vt){var wt="";if(vt)for(var St=0;St<vt.length;St+=1)wt+=zt(vt[St]);return wt}var ee,Nt,Gt,ae,Ht;if((i=n(i,{}))===null)return null;if(ee=i.input,Ht={address:F,"address-list":_,"angle-addr":A,from:function(){return f("from",x(P,_)())},group:R,mailbox:S,"mailbox-list":P,"reply-to":function(){return f("reply-to",_())},sender:function(){return f("sender",x(S,F)())}}[i.startAt]||_,!i.strict){if(u(),i.strict=!0,ae=Ht(ee),i.partial||!s())return Yt(ae);i.strict=!1}return u(),ae=Ht(ee),!i.partial&&s()?null:Yt(ae)}function n(i,s){function a(f){return Object.prototype.toString.call(f)==="[object String]"}function o(f){return f==null}var u,c;if(a(i))i={input:i};else if(!function(f){return f===Object(f)}(i))return null;if(!a(i.input)||!s)return null;for(c in u={oneResult:!1,partial:!1,rejectTLD:!1,rfc6532:!1,simple:!1,startAt:"address-list",strict:!1,atInDisplayName:!1})o(i[c])&&(i[c]=o(s[c])?u[c]:s[c]);return i}r.parseOneAddress=function(i){return r(n(i,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseAddressList=function(i){return r(n(i,{rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseFrom=function(i){return r(n(i,{rfc6532:!0,simple:!0,startAt:"from"}))},r.parseSender=function(i){return r(n(i,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"sender"}))},r.parseReplyTo=function(i){return r(n(i,{rfc6532:!0,simple:!0,startAt:"reply-to"}))},t.exports=r})()});class Hc{static get tag(){return B.packet.userID}constructor(){this.userID="",this.name="",this.email="",this.comment=""}static fromObject(e){if(H.isString(e)||e.name&&!H.isString(e.name)||e.email&&!H.isEmailAddress(e.email)||e.comment&&!H.isString(e.comment))throw Error("Invalid user ID format");const r=new Hc;Object.assign(r,e);const n=[];return r.name&&n.push(r.name),r.comment&&n.push(`(${r.comment})`),r.email&&n.push(`<${r.email}>`),r.userID=n.join(" "),r}read(e,r=It){const n=H.decodeUTF8(e);if(n.length>r.maxUserIDLength)throw Error("User ID string is too long");try{const{name:i,address:s,comments:a}=x2.parseOneAddress({input:n,atInDisplayName:!0});this.comment=a.replace(/^\(|\)$/g,""),this.name=i,this.email=s}catch{}this.userID=n}write(){return H.encodeUTF8(this.userID)}equals(e){return e&&e.userID===this.userID}}class Gc extends Wc{static get tag(){return B.packet.secretSubkey}constructor(e=new Date,r=It){super(e,r)}}class vh{constructor(e){this.packets=e||new de}write(){return this.packets.write()}armor(e=It){return ms(B.armor.signature,this.write(),void 0,void 0,void 0,e)}getSigningKeyIDs(){return this.packets.map(e=>e.issuerKeyID)}}async function M2(t,e){const r=new Gc(t.date,e);return r.packets=null,r.algorithm=B.read(B.publicKey,t.algorithm),await r.generate(t.rsaBits,t.curve),await r.computeFingerprintAndKeyID(),r}async function on(t,e,r,n,i=new Date,s){let a,o;for(let u=t.length-1;u>=0;u--)try{(!a||t[u].created>=a.created)&&(await t[u].verify(e,r,n,i,void 0,s),a=t[u])}catch(c){o=c}if(!a)throw H.wrapError(`Could not find valid ${B.read(B.signature,r)} signature in key ${e.getKeyID().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,(u,c,f)=>c+" "+f.toLowerCase()),o);return a}function $c(t,e,r=new Date){const n=H.normalizeDate(r);if(n!==null){const i=eo(t,e);return!(t.created<=n&&n<i)}return!1}async function R2(t,e,r,n){const i={};i.key=e,i.bind=t;const s=new qe;return s.signatureType=B.signature.subkeyBinding,s.publicKeyAlgorithm=e.algorithm,s.hashAlgorithm=await Vc(null,t,void 0,void 0,n),r.sign?(s.keyFlags=[B.keyFlags.signData],s.embeddedSignature=await Gs(i,null,t,{signatureType:B.signature.keyBinding},r.date,void 0,void 0,n)):s.keyFlags=[B.keyFlags.encryptCommunication|B.keyFlags.encryptStorage],r.keyExpirationTime>0&&(s.keyExpirationTime=r.keyExpirationTime,s.keyNeverExpires=!1),await s.sign(e,i,r.date),s}async function Vc(t,e,r=new Date,n={},i){let s=i.preferredHashAlgorithm,a=s;if(t){const o=await t.getPrimaryUser(r,n,i);o.selfCertification.preferredHashAlgorithms&&([a]=o.selfCertification.preferredHashAlgorithms,s=Dt.hash.getHashByteLength(s)<=Dt.hash.getHashByteLength(a)?a:s)}switch(Object.getPrototypeOf(e)){case Wc.prototype:case Ur.prototype:case Gc.prototype:case Hs.prototype:switch(e.algorithm){case"ecdh":case"ecdsa":case"eddsa":a=Dt.publicKey.elliptic.getPreferredHashAlgo(e.publicParams.oid)}}return Dt.hash.getHashByteLength(s)<=Dt.hash.getHashByteLength(a)?a:s}async function Yc(t,e=[],r=new Date,n=[],i=It){const s={symmetric:B.symmetric.aes128,aead:B.aead.eax,compression:B.compression.uncompressed}[t],a={symmetric:i.preferredSymmetricAlgorithm,aead:i.preferredAEADAlgorithm,compression:i.preferredCompressionAlgorithm}[t],o={symmetric:"preferredSymmetricAlgorithms",aead:"preferredAEADAlgorithms",compression:"preferredCompressionAlgorithms"}[t];return(await Promise.all(e.map(async function(u,c){const f=(await u.getPrimaryUser(r,n[c],i)).selfCertification[o];return!!f&&f.indexOf(a)>=0}))).every(Boolean)?a:s}async function Gs(t,e,r,n,i,s,a=!1,o){if(r.isDummy())throw Error("Cannot sign with a gnu-dummy key.");if(!r.isDecrypted())throw Error("Signing key is not decrypted.");const u=new qe;return Object.assign(u,n),u.publicKeyAlgorithm=r.algorithm,u.hashAlgorithm=await Vc(e,r,i,s,o),await u.sign(r,t,i,a),u}async function pi(t,e,r,n=new Date,i){(t=t[r])&&(e[r].length?await Promise.all(t.map(async function(s){s.isExpired(n)||i&&!await i(s)||e[r].some(function(a){return H.equalsUint8Array(a.writeParams(),s.writeParams())})||e[r].push(s)})):e[r]=t)}async function ji(t,e,r,n,i,s,a=new Date,o){s=s||t;const u=[];return await Promise.all(n.map(async function(c){try{i&&!c.issuerKeyID.equals(i.issuerKeyID)||(await c.verify(s,e,r,o.revocationsExpire?a:null,!1,o),u.push(c.issuerKeyID))}catch{}})),i?(i.revoked=!!u.some(c=>c.equals(i.issuerKeyID))||i.revoked||!1,i.revoked):u.length>0}function eo(t,e){let r;return e.keyNeverExpires===!1&&(r=t.created.getTime()+1e3*e.keyExpirationTime),r?new Date(r):1/0}function C2(t,e={}){switch(t.type=t.type||e.type,t.curve=t.curve||e.curve,t.rsaBits=t.rsaBits||e.rsaBits,t.keyExpirationTime=t.keyExpirationTime!==void 0?t.keyExpirationTime:e.keyExpirationTime,t.passphrase=H.isString(t.passphrase)?t.passphrase:e.passphrase,t.date=t.date||e.date,t.sign=t.sign||!1,t.type){case"ecc":try{t.curve=B.write(B.curve,t.curve)}catch{throw Error("Invalid curve")}t.curve!==B.curve.ed25519&&t.curve!==B.curve.curve25519||(t.curve=t.sign?B.curve.ed25519:B.curve.curve25519),t.sign?t.algorithm=t.curve===B.curve.ed25519?B.publicKey.eddsa:B.publicKey.ecdsa:t.algorithm=B.publicKey.ecdh;break;case"rsa":t.algorithm=B.publicKey.rsaEncryptSign;break;default:throw Error("Unsupported key type "+t.type)}return t}function wh(t,e){const r=B.write(B.publicKey,t.algorithm);return r!==B.publicKey.rsaEncrypt&&r!==B.publicKey.elgamal&&r!==B.publicKey.ecdh&&(!e.keyFlags||(e.keyFlags[0]&B.keyFlags.signData)!=0)}function _h(t,e){const r=B.write(B.publicKey,t.algorithm);return r!==B.publicKey.dsa&&r!==B.publicKey.rsaSign&&r!==B.publicKey.ecdsa&&r!==B.publicKey.eddsa&&(!e.keyFlags||(e.keyFlags[0]&B.keyFlags.encryptCommunication)!=0||(e.keyFlags[0]&B.keyFlags.encryptStorage)!=0)}function Ah(t,e){return!!e.allowInsecureDecryptionWithSigningKeys||!t.keyFlags||(t.keyFlags[0]&B.keyFlags.encryptCommunication)!=0||(t.keyFlags[0]&B.keyFlags.encryptStorage)!=0}function ro(t,e){const r=B.write(B.publicKey,t.algorithm);if(e.rejectPublicKeyAlgorithms.has(r))throw Error(t.algorithm+" keys are considered too weak.");const n=t.getAlgorithmInfo();switch(r){case B.publicKey.rsaEncryptSign:case B.publicKey.rsaSign:case B.publicKey.rsaEncrypt:if(n.bits<e.minRSABits)throw Error(`RSA keys shorter than ${e.minRSABits} bits are considered too weak.`);break;case B.publicKey.ecdsa:case B.publicKey.eddsa:case B.publicKey.ecdh:if(e.rejectCurves.has(n.curve))throw Error(`Support for ${t.algorithm} keys using curve ${n.curve} is disabled.`)}}class no{constructor(e,r){this.userID=e.constructor.tag===B.packet.userID?e:null,this.userAttribute=e.constructor.tag===B.packet.userAttribute?e:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[],this.mainKey=r}toPacketList(){const e=new de;return e.push(this.userID||this.userAttribute),e.push(...this.revocationSignatures),e.push(...this.selfCertifications),e.push(...this.otherCertifications),e}clone(){const e=new no(this.userID||this.userAttribute,this.mainKey);return e.selfCertifications=[...this.selfCertifications],e.otherCertifications=[...this.otherCertifications],e.revocationSignatures=[...this.revocationSignatures],e}async certify(e,r,n){const i=this.mainKey.keyPacket,s={userID:this.userID,userAttribute:this.userAttribute,key:i},a=new no(s.userID||s.userAttribute,this.mainKey);return a.otherCertifications=await Promise.all(e.map(async function(o){if(!o.isPrivate())throw Error("Need private key for signing");if(o.hasSameFingerprintAs(i))throw Error("The user's own key can only be used for self-certifications");const u=await o.getSigningKey(void 0,r,void 0,n);return Gs(s,o,u.keyPacket,{signatureType:B.signature.certGeneric,keyFlags:[B.keyFlags.certifyKeys|B.keyFlags.signData]},r,void 0,void 0,n)})),await a.update(this,r,n),a}async isRevoked(e,r,n=new Date,i){const s=this.mainKey.keyPacket;return ji(s,B.signature.certRevocation,{key:s,userID:this.userID,userAttribute:this.userAttribute},this.revocationSignatures,e,r,n,i)}async verifyCertificate(e,r,n=new Date,i){const s=this,a=this.mainKey.keyPacket,o={userID:this.userID,userAttribute:this.userAttribute,key:a},{issuerKeyID:u}=e,c=r.filter(f=>f.getKeys(u).length>0);return c.length===0?null:(await Promise.all(c.map(async f=>{const l=await f.getSigningKey(u,e.created,void 0,i);if(e.revoked||await s.isRevoked(e,l.keyPacket,n,i))throw Error("User certificate is revoked");try{await e.verify(l.keyPacket,B.signature.certGeneric,o,n,void 0,i)}catch(y){throw H.wrapError("User certificate is invalid",y)}})),!0)}async verifyAllCertifications(e,r=new Date,n){const i=this,s=this.selfCertifications.concat(this.otherCertifications);return Promise.all(s.map(async a=>({keyID:a.issuerKeyID,valid:await i.verifyCertificate(a,e,r,n).catch(()=>!1)})))}async verify(e=new Date,r){if(!this.selfCertifications.length)throw Error("No self-certifications found");const n=this,i=this.mainKey.keyPacket,s={userID:this.userID,userAttribute:this.userAttribute,key:i};let a;for(let o=this.selfCertifications.length-1;o>=0;o--)try{const u=this.selfCertifications[o];if(u.revoked||await n.isRevoked(u,void 0,e,r))throw Error("Self-certification is revoked");try{await u.verify(i,B.signature.certGeneric,s,e,void 0,r)}catch(c){throw H.wrapError("Self-certification is invalid",c)}return!0}catch(u){a=u}throw a}async update(e,r,n){const i=this.mainKey.keyPacket,s={userID:this.userID,userAttribute:this.userAttribute,key:i};await pi(e,this,"selfCertifications",r,async function(a){try{return await a.verify(i,B.signature.certGeneric,s,r,!1,n),!0}catch{return!1}}),await pi(e,this,"otherCertifications",r),await pi(e,this,"revocationSignatures",r,function(a){return ji(i,B.signature.certRevocation,s,[a],void 0,void 0,r,n)})}}class qi{constructor(e,r){this.keyPacket=e,this.bindingSignatures=[],this.revocationSignatures=[],this.mainKey=r}toPacketList(){const e=new de;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.bindingSignatures),e}clone(){const e=new qi(this.keyPacket,this.mainKey);return e.bindingSignatures=[...this.bindingSignatures],e.revocationSignatures=[...this.revocationSignatures],e}async isRevoked(e,r,n=new Date,i=It){const s=this.mainKey.keyPacket;return ji(s,B.signature.subkeyRevocation,{key:s,bind:this.keyPacket},this.revocationSignatures,e,r,n,i)}async verify(e=new Date,r=It){const n=this.mainKey.keyPacket,i={key:n,bind:this.keyPacket},s=await on(this.bindingSignatures,n,B.signature.subkeyBinding,i,e,r);if(s.revoked||await this.isRevoked(s,null,e,r))throw Error("Subkey is revoked");if($c(this.keyPacket,s,e))throw Error("Subkey is expired");return s}async getExpirationTime(e=new Date,r=It){const n=this.mainKey.keyPacket,i={key:n,bind:this.keyPacket};let s;try{s=await on(this.bindingSignatures,n,B.signature.subkeyBinding,i,e,r)}catch{return null}const a=eo(this.keyPacket,s),o=s.getExpirationTime();return a<o?a:o}async update(e,r=new Date,n=It){const i=this.mainKey.keyPacket;if(!this.hasSameFingerprintAs(e))throw Error("Subkey update method: fingerprints of subkeys not equal");this.keyPacket.constructor.tag===B.packet.publicSubkey&&e.keyPacket.constructor.tag===B.packet.secretSubkey&&(this.keyPacket=e.keyPacket);const s=this,a={key:i,bind:s.keyPacket};await pi(e,this,"bindingSignatures",r,async function(o){for(let u=0;u<s.bindingSignatures.length;u++)if(s.bindingSignatures[u].issuerKeyID.equals(o.issuerKeyID))return o.created>s.bindingSignatures[u].created&&(s.bindingSignatures[u]=o),!1;try{return await o.verify(i,B.signature.subkeyBinding,a,r,void 0,n),!0}catch{return!1}}),await pi(e,this,"revocationSignatures",r,function(o){return ji(i,B.signature.subkeyRevocation,a,[o],void 0,void 0,r,n)})}async revoke(e,{flag:r=B.reasonForRevocation.noReason,string:n=""}={},i=new Date,s=It){const a={key:e,bind:this.keyPacket},o=new qi(this.keyPacket,this.mainKey);return o.revocationSignatures.push(await Gs(a,null,e,{signatureType:B.signature.subkeyRevocation,reasonForRevocationFlag:B.write(B.reasonForRevocation,r),reasonForRevocationString:n},i,void 0,!1,s)),await o.update(this),o}hasSameFingerprintAs(e){return this.keyPacket.hasSameFingerprintAs(e.keyPacket||e)}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach(t=>{qi.prototype[t]=function(){return this.keyPacket[t]()}});const T2=H.constructAllowedPackets([qe]);class kh{packetListToStructure(e,r=new Set){let n,i,s;for(const a of e){const o=a.constructor.tag;if(r.has(o))throw Error("Unexpected packet type: "+o);switch(o){case B.packet.publicKey:case B.packet.secretKey:if(this.keyPacket)throw Error("Key block contains multiple keys");if(this.keyPacket=a,i=this.getKeyID(),!i)throw Error("Missing Key ID");break;case B.packet.userID:case B.packet.userAttribute:n=new no(a,this),this.users.push(n);break;case B.packet.publicSubkey:case B.packet.secretSubkey:n=null,s=new qi(a,this),this.subkeys.push(s);break;case B.packet.signature:switch(a.signatureType){case B.signature.certGeneric:case B.signature.certPersona:case B.signature.certCasual:case B.signature.certPositive:if(!n){H.printDebug("Dropping certification signatures without preceding user packet");continue}a.issuerKeyID.equals(i)?n.selfCertifications.push(a):n.otherCertifications.push(a);break;case B.signature.certRevocation:n?n.revocationSignatures.push(a):this.directSignatures.push(a);break;case B.signature.key:this.directSignatures.push(a);break;case B.signature.subkeyBinding:if(!s){H.printDebug("Dropping subkey binding signature without preceding subkey packet");continue}s.bindingSignatures.push(a);break;case B.signature.keyRevocation:this.revocationSignatures.push(a);break;case B.signature.subkeyRevocation:if(!s){H.printDebug("Dropping subkey revocation signature without preceding subkey packet");continue}s.revocationSignatures.push(a)}}}}toPacketList(){const e=new de;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.directSignatures),this.users.map(r=>e.push(...r.toPacketList())),this.subkeys.map(r=>e.push(...r.toPacketList())),e}clone(e=!1){const r=new this.constructor(this.toPacketList());return e&&r.getKeys().forEach(n=>{if(n.keyPacket=Object.create(Object.getPrototypeOf(n.keyPacket),Object.getOwnPropertyDescriptors(n.keyPacket)),!n.keyPacket.isDecrypted())return;const i={};Object.keys(n.keyPacket.privateParams).forEach(s=>{i[s]=new Uint8Array(n.keyPacket.privateParams[s])}),n.keyPacket.privateParams=i}),r}getSubkeys(e=null){return this.subkeys.filter(r=>!e||r.getKeyID().equals(e,!0))}getKeys(e=null){const r=[];return e&&!this.getKeyID().equals(e,!0)||r.push(this),r.concat(this.getSubkeys(e))}getKeyIDs(){return this.getKeys().map(e=>e.getKeyID())}getUserIDs(){return this.users.map(e=>e.userID?e.userID.userID:null).filter(e=>e!==null)}write(){return this.toPacketList().write()}async getSigningKey(e=null,r=new Date,n={},i=It){await this.verifyPrimaryKey(r,n,i);const s=this.keyPacket,a=this.subkeys.slice().sort((u,c)=>c.keyPacket.created-u.keyPacket.created);let o;for(const u of a)if(!e||u.getKeyID().equals(e))try{await u.verify(r,i);const c={key:s,bind:u.keyPacket},f=await on(u.bindingSignatures,s,B.signature.subkeyBinding,c,r,i);if(!wh(u.keyPacket,f))continue;if(!f.embeddedSignature)throw Error("Missing embedded signature");return await on([f.embeddedSignature],u.keyPacket,B.signature.keyBinding,c,r,i),ro(u.keyPacket,i),u}catch(c){o=c}try{const u=await this.getPrimaryUser(r,n,i);if((!e||s.getKeyID().equals(e))&&wh(s,u.selfCertification))return ro(s,i),this}catch(u){o=u}throw H.wrapError("Could not find valid signing key packet in key "+this.getKeyID().toHex(),o)}async getEncryptionKey(e,r=new Date,n={},i=It){await this.verifyPrimaryKey(r,n,i);const s=this.keyPacket,a=this.subkeys.slice().sort((u,c)=>c.keyPacket.created-u.keyPacket.created);let o;for(const u of a)if(!e||u.getKeyID().equals(e))try{await u.verify(r,i);const c={key:s,bind:u.keyPacket},f=await on(u.bindingSignatures,s,B.signature.subkeyBinding,c,r,i);if(_h(u.keyPacket,f))return ro(u.keyPacket,i),u}catch(c){o=c}try{const u=await this.getPrimaryUser(r,n,i);if((!e||s.getKeyID().equals(e))&&_h(s,u.selfCertification))return ro(s,i),this}catch(u){o=u}throw H.wrapError("Could not find valid encryption key packet in key "+this.getKeyID().toHex(),o)}async isRevoked(e,r,n=new Date,i=It){return ji(this.keyPacket,B.signature.keyRevocation,{key:this.keyPacket},this.revocationSignatures,e,r,n,i)}async verifyPrimaryKey(e=new Date,r={},n=It){const i=this.keyPacket;if(await this.isRevoked(null,null,e,n))throw Error("Primary key is revoked");const{selfCertification:s}=await this.getPrimaryUser(e,r,n);if($c(i,s,e))throw Error("Primary key is expired");const a=await on(this.directSignatures,i,B.signature.key,{key:i},e,n).catch(()=>{});if(a&&$c(i,a,e))throw Error("Primary key is expired")}async getExpirationTime(e,r=It){let n;try{const{selfCertification:i}=await this.getPrimaryUser(null,e,r),s=eo(this.keyPacket,i),a=i.getExpirationTime(),o=await on(this.directSignatures,this.keyPacket,B.signature.key,{key:this.keyPacket},null,r).catch(()=>{});if(o){const u=eo(this.keyPacket,o);n=Math.min(s,a,u)}else n=s<a?s:a}catch{n=null}return H.normalizeDate(n)}async getPrimaryUser(e=new Date,r={},n=It){const i=this.keyPacket,s=[];let a;for(let f=0;f<this.users.length;f++)try{const l=this.users[f];if(!l.userID)continue;if(r.name!==void 0&&l.userID.name!==r.name||r.email!==void 0&&l.userID.email!==r.email||r.comment!==void 0&&l.userID.comment!==r.comment)throw Error("Could not find user that matches that user ID");const y={userID:l.userID,key:i},p=await on(l.selfCertifications,i,B.signature.certGeneric,y,e,n);s.push({index:f,user:l,selfCertification:p})}catch(l){a=l}if(!s.length)throw a||Error("Could not find primary user");await Promise.all(s.map(async function(f){return f.user.revoked||f.user.isRevoked(f.selfCertification,null,e,n)}));const o=s.sort(function(f,l){const y=f.selfCertification,p=l.selfCertification;return p.revoked-y.revoked||y.isPrimaryUserID-p.isPrimaryUserID||y.created-p.created}).pop(),{user:u,selfCertification:c}=o;if(c.revoked||await u.isRevoked(c,null,e,n))throw Error("Primary user is revoked");return o}async update(e,r=new Date,n=It){if(!this.hasSameFingerprintAs(e))throw Error("Primary key fingerprints must be equal to update the key");if(!this.isPrivate()&&e.isPrivate()){if(!(this.subkeys.length===e.subkeys.length&&this.subkeys.every(s=>e.subkeys.some(a=>s.hasSameFingerprintAs(a)))))throw Error("Cannot update public key with private key if subkeys mismatch");return e.update(this,n)}const i=this.clone();return await pi(e,i,"revocationSignatures",r,s=>ji(i.keyPacket,B.signature.keyRevocation,i,[s],null,e.keyPacket,r,n)),await pi(e,i,"directSignatures",r),await Promise.all(e.users.map(async s=>{const a=i.users.filter(o=>s.userID&&s.userID.equals(o.userID)||s.userAttribute&&s.userAttribute.equals(o.userAttribute));if(a.length>0)await Promise.all(a.map(o=>o.update(s,r,n)));else{const o=s.clone();o.mainKey=i,i.users.push(o)}})),await Promise.all(e.subkeys.map(async s=>{const a=i.subkeys.filter(o=>o.hasSameFingerprintAs(s));if(a.length>0)await Promise.all(a.map(o=>o.update(s,r,n)));else{const o=s.clone();o.mainKey=i,i.subkeys.push(o)}})),i}async getRevocationCertificate(e=new Date,r=It){const n={key:this.keyPacket},i=await on(this.revocationSignatures,this.keyPacket,B.signature.keyRevocation,n,e,r),s=new de;return s.push(i),ms(B.armor.publicKey,s.write(),null,null,"This is a revocation certificate")}async applyRevocationCertificate(e,r=new Date,n=It){const i=await ys(e,n),s=(await de.fromBinary(i.data,T2,n)).findPacket(B.packet.signature);if(!s||s.signatureType!==B.signature.keyRevocation)throw Error("Could not find revocation signature packet");if(!s.issuerKeyID.equals(this.getKeyID()))throw Error("Revocation signature does not match key");try{await s.verify(this.keyPacket,B.signature.keyRevocation,{key:this.keyPacket},r,void 0,n)}catch(o){throw H.wrapError("Could not verify revocation signature",o)}const a=this.clone();return a.revocationSignatures.push(s),a}async signPrimaryUser(e,r,n,i=It){const{index:s,user:a}=await this.getPrimaryUser(r,n,i),o=await a.certify(e,r,i),u=this.clone();return u.users[s]=o,u}async signAllUsers(e,r=new Date,n=It){const i=this.clone();return i.users=await Promise.all(this.users.map(function(s){return s.certify(e,r,n)})),i}async verifyPrimaryUser(e,r=new Date,n,i=It){const s=this.keyPacket,{user:a}=await this.getPrimaryUser(r,n,i);return e?await a.verifyAllCertifications(e,r,i):[{keyID:s.getKeyID(),valid:await a.verify(r,i).catch(()=>!1)}]}async verifyAllUsers(e,r=new Date,n=It){const i=this.keyPacket,s=[];return await Promise.all(this.users.map(async a=>{const o=e?await a.verifyAllCertifications(e,r,n):[{keyID:i.getKeyID(),valid:await a.verify(r,n).catch(()=>!1)}];s.push(...o.map(u=>({userID:a.userID.userID,keyID:u.keyID,valid:u.valid})))})),s}}function I2(t){for(const e of t)switch(e.constructor.tag){case B.packet.secretKey:return new io(t);case B.packet.publicKey:return new Jc(t)}throw Error("No key packet found")}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach(t=>{kh.prototype[t]=qi.prototype[t]});class Jc extends kh{constructor(e){if(super(),this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subkeys=[],e&&(this.packetListToStructure(e,new Set([B.packet.secretKey,B.packet.secretSubkey])),!this.keyPacket))throw Error("Invalid key: missing public-key packet")}isPrivate(){return!1}toPublic(){return this}armor(e=It){return ms(B.armor.publicKey,this.toPacketList().write(),void 0,void 0,void 0,e)}}class io extends Jc{constructor(e){if(super(),this.packetListToStructure(e,new Set([B.packet.publicKey,B.packet.publicSubkey])),!this.keyPacket)throw Error("Invalid key: missing private-key packet")}isPrivate(){return!0}toPublic(){const e=new de,r=this.toPacketList();for(const n of r)switch(n.constructor.tag){case B.packet.secretKey:{const i=Ur.fromSecretKeyPacket(n);e.push(i);break}case B.packet.secretSubkey:{const i=Hs.fromSecretSubkeyPacket(n);e.push(i);break}default:e.push(n)}return new Jc(e)}armor(e=It){return ms(B.armor.privateKey,this.toPacketList().write(),void 0,void 0,void 0,e)}async getDecryptionKeys(e,r=new Date,n={},i=It){const s=this.keyPacket,a=[];for(let u=0;u<this.subkeys.length;u++)if(!e||this.subkeys[u].getKeyID().equals(e,!0))try{const c={key:s,bind:this.subkeys[u].keyPacket};Ah(await on(this.subkeys[u].bindingSignatures,s,B.signature.subkeyBinding,c,r,i),i)&&a.push(this.subkeys[u])}catch{}const o=await this.getPrimaryUser(r,n,i);return e&&!s.getKeyID().equals(e,!0)||!Ah(o.selfCertification,i)||a.push(this),a}isDecrypted(){return this.getKeys().some(({keyPacket:e})=>e.isDecrypted())}async validate(e=It){if(!this.isPrivate())throw Error("Cannot validate a public key");let r;if(this.keyPacket.isDummy()){const n=await this.getSigningKey(null,null,void 0,J0(Ke({},e),{rejectPublicKeyAlgorithms:new Set,minRSABits:0}));n&&!n.keyPacket.isDummy()&&(r=n.keyPacket)}else r=this.keyPacket;if(r)return r.validate();{const n=this.getKeys();if(n.map(i=>i.keyPacket.isDummy()).every(Boolean))throw Error("Cannot validate an all-gnu-dummy key");return Promise.all(n.map(async i=>i.keyPacket.validate()))}}clearPrivateParams(){this.getKeys().forEach(({keyPacket:e})=>{e.isDecrypted()&&e.clearPrivateParams()})}async revoke({flag:e=B.reasonForRevocation.noReason,string:r=""}={},n=new Date,i=It){if(!this.isPrivate())throw Error("Need private key for revoking");const s={key:this.keyPacket},a=this.clone();return a.revocationSignatures.push(await Gs(s,null,this.keyPacket,{signatureType:B.signature.keyRevocation,reasonForRevocationFlag:B.write(B.reasonForRevocation,e),reasonForRevocationString:r},n,void 0,void 0,i)),a}async addSubkey(e={}){const r=Ke(Ke({},It),e.config);if(e.passphrase)throw Error("Subkey could not be encrypted here, please encrypt whole key");if(e.rsaBits<r.minRSABits)throw Error(`rsaBits should be at least ${r.minRSABits}, got: ${e.rsaBits}`);const n=this.keyPacket;if(n.isDummy())throw Error("Cannot add subkey to gnu-dummy primary key");if(!n.isDecrypted())throw Error("Key is not decrypted");const i=n.getAlgorithmInfo();i.type=i.curve?"ecc":"rsa",i.rsaBits=i.bits||4096,i.curve=i.curve||"curve25519",e=C2(e,i);const s=await M2(e),a=await R2(s,n,e,r),o=this.toPacketList();return o.push(s,a),new io(o)}}const Sh=H.constructAllowedPackets([Ur,Hs,Wc,Gc,Hc,qc,qe]);async function w5(i){var s=i,{armoredKey:t,binaryKey:e,config:r}=s,n=ei(s,["armoredKey","binaryKey","config"]);if(r=Ke(Ke({},It),r),!t&&!e)throw Error("readKey: must pass options object containing `armoredKey` or `binaryKey`");if(t&&!H.isString(t))throw Error("readKey: options.armoredKey must be a string");if(e&&!H.isUint8Array(e))throw Error("readKey: options.binaryKey must be a Uint8Array");const a=Object.keys(n);if(a.length>0)throw Error("Unknown option: "+a.join(", "));let o;if(t){const{type:u,data:c}=await ys(t,r);if(u!==B.armor.publicKey&&u!==B.armor.privateKey)throw Error("Armored text not of type key");o=c}else o=e;return I2(await de.fromBinary(o,Sh,r))}async function _5(i){var s=i,{armoredKey:t,binaryKey:e,config:r}=s,n=ei(s,["armoredKey","binaryKey","config"]);if(r=Ke(Ke({},It),r),!t&&!e)throw Error("readPrivateKey: must pass options object containing `armoredKey` or `binaryKey`");if(t&&!H.isString(t))throw Error("readPrivateKey: options.armoredKey must be a string");if(e&&!H.isUint8Array(e))throw Error("readPrivateKey: options.binaryKey must be a Uint8Array");const a=Object.keys(n);if(a.length>0)throw Error("Unknown option: "+a.join(", "));let o;if(t){const{type:c,data:f}=await ys(t,r);if(c!==B.armor.privateKey)throw Error("Armored text not of type private key");o=f}else o=e;const u=await de.fromBinary(o,Sh,r);return new io(u)}const D2=H.constructAllowedPackets([Fi,qs,to,mh,P2,gh,Li,Dr,qe]),U2=H.constructAllowedPackets([Li]),B2=H.constructAllowedPackets([qe]);class _r{constructor(e){this.packets=e||new de}getEncryptionKeyIDs(){const e=[];return this.packets.filterByTag(B.packet.publicKeyEncryptedSessionKey).forEach(function(r){e.push(r.publicKeyID)}),e}getSigningKeyIDs(){const e=this.unwrapCompressed(),r=e.packets.filterByTag(B.packet.onePassSignature);return r.length>0?r.map(n=>n.issuerKeyID):e.packets.filterByTag(B.packet.signature).map(n=>n.issuerKeyID)}async decrypt(e,r,n,i=new Date,s=It){const a=n||await this.decryptSessionKeys(e,r,i,s),o=this.packets.filterByTag(B.packet.symmetricallyEncryptedData,B.packet.symEncryptedIntegrityProtectedData,B.packet.aeadEncryptedData);if(o.length===0)return this;const u=o[0];let c=null;const f=Promise.all(a.map(async y=>{if(!y||!H.isUint8Array(y.data)||!H.isString(y.algorithm))throw Error("Invalid session key for decryption.");try{await u.decrypt(y.algorithm,y.data,s)}catch(p){H.printDebugError(p),c=p}}));if(hc(u.encrypted),u.encrypted=null,await f,!u.packets||!u.packets.length)throw c||Error("Decryption failed.");const l=new _r(u.packets);return u.packets=new de,l}async decryptSessionKeys(e,r,n=new Date,i=It){let s,a=[];if(r){const o=this.packets.filterByTag(B.packet.symEncryptedSessionKey);if(o.length===0)throw Error("No symmetrically encrypted session key packet found.");await Promise.all(r.map(async function(u,c){let f;f=c?await de.fromBinary(o.write(),U2,i):o,await Promise.all(f.map(async function(l){try{await l.decrypt(u),a.push(l)}catch(y){H.printDebugError(y)}}))}))}else{if(!e)throw Error("No key or password specified.");{const o=this.packets.filterByTag(B.packet.publicKeyEncryptedSessionKey);if(o.length===0)throw Error("No public key encrypted session key packet found.");await Promise.all(o.map(async function(u){await Promise.all(e.map(async function(c){let f=[B.symmetric.aes256,B.symmetric.aes128,B.symmetric.tripledes,B.symmetric.cast5];try{const y=await c.getPrimaryUser(n,void 0,i);y.selfCertification.preferredSymmetricAlgorithms&&(f=f.concat(y.selfCertification.preferredSymmetricAlgorithms))}catch{}const l=(await c.getDecryptionKeys(u.publicKeyID,null,void 0,i)).map(y=>y.keyPacket);await Promise.all(l.map(async function(y){if(y&&!y.isDummy()){if(!y.isDecrypted())throw Error("Decryption key is not decrypted.");try{if(await u.decrypt(y),!f.includes(B.write(B.symmetric,u.sessionKeyAlgorithm)))throw Error("A non-preferred symmetric algorithm was used.");a.push(u)}catch(p){H.printDebugError(p),s=p}}}))})),hc(u.encrypted),u.encrypted=null}))}}if(a.length){if(a.length>1){const o=new Set;a=a.filter(u=>{const c=u.sessionKeyAlgorithm+H.uint8ArrayToString(u.sessionKey);return!o.has(c)&&(o.add(c),!0)})}return a.map(o=>({data:o.sessionKey,algorithm:o.sessionKeyAlgorithm}))}throw s||Error("Session key decryption failed.")}getLiteralData(){const e=this.unwrapCompressed().packets.findPacket(B.packet.literalData);return e&&e.getBytes()||null}getFilename(){const e=this.unwrapCompressed().packets.findPacket(B.packet.literalData);return e&&e.getFilename()||null}getText(){const e=this.unwrapCompressed().packets.findPacket(B.packet.literalData);return e?e.getText():null}static async generateSessionKey(e=[],r=new Date,n=[],i=It){const s=B.read(B.symmetric,await Yc("symmetric",e,r,n,i)),a=i.aeadProtect&&await async function(o,u=new Date,c=[],f=It){let l=!0;return await Promise.all(o.map(async function(y,p){const k=await y.getPrimaryUser(u,c[p],f);k.selfCertification.features&&k.selfCertification.features[0]&B.features.aead||(l=!1)})),l}(e,r,n,i)?B.read(B.aead,await Yc("aead",e,r,n,i)):void 0;return{data:await Dt.generateSessionKey(s),algorithm:s,aeadAlgorithm:a}}async encrypt(e,r,n,i=!1,s=[],a=new Date,o=[],u=It){if(n){if(!H.isUint8Array(n.data)||!H.isString(n.algorithm))throw Error("Invalid session key for encryption.")}else if(e&&e.length)n=await _r.generateSessionKey(e,a,o,u);else{if(!r||!r.length)throw Error("No keys, passwords, or session key provided.");n=await _r.generateSessionKey(void 0,void 0,void 0,u)}const{data:c,algorithm:f,aeadAlgorithm:l}=n,y=await _r.encryptSessionKey(c,f,l,e,r,i,s,a,o,u);let p;return l?(p=new to,p.aeadAlgorithm=l):p=new mh,p.packets=this.packets,await p.encrypt(f,c,u),y.packets.push(p),p.packets=new de,y}static async encryptSessionKey(e,r,n,i,s,a=!1,o=[],u=new Date,c=[],f=It){const l=new de;if(i){const y=await Promise.all(i.map(async function(p,k){const x=await p.getEncryptionKey(o[k],u,c,f),E=new gh;return E.publicKeyID=a?Tn.wildcard():x.getKeyID(),E.publicKeyAlgorithm=x.keyPacket.algorithm,E.sessionKey=e,E.sessionKeyAlgorithm=r,await E.encrypt(x.keyPacket),delete E.sessionKey,E}));l.push(...y)}if(s){const y=async function(E,D){try{return await E.decrypt(D),1}catch{return 0}},p=(E,D)=>E+D,k=async function(E,D,q,z){const O=new Li(f);return O.sessionKey=E,O.sessionKeyAlgorithm=D,q&&(O.aeadAlgorithm=q),await O.encrypt(z,f),f.passwordCollisionCheck&&(await Promise.all(s.map(L=>y(O,L)))).reduce(p)!==1?k(E,D,z):(delete O.sessionKey,O)},x=await Promise.all(s.map(E=>k(e,r,n,E)));l.push(...x)}return new _r(l)}async sign(e=[],r=null,n=[],i=new Date,s=[],a=It){const o=new de,u=this.packets.findPacket(B.packet.literalData);if(!u)throw Error("No literal data packet to sign.");let c,f;const l=u.text===null?B.signature.binary:B.signature.text;if(r)for(f=r.packets.filterByTag(B.packet.signature),c=f.length-1;c>=0;c--){const y=f[c],p=new Dr;p.signatureType=y.signatureType,p.hashAlgorithm=y.hashAlgorithm,p.publicKeyAlgorithm=y.publicKeyAlgorithm,p.issuerKeyID=y.issuerKeyID,e.length||c!==0||(p.flags=1),o.push(p)}return await Promise.all(Array.from(e).reverse().map(async function(y,p){if(!y.isPrivate())throw Error("Need private key for signing");const k=n[e.length-1-p],x=await y.getSigningKey(k,i,s,a),E=new Dr;return E.signatureType=l,E.hashAlgorithm=await Vc(y,x.keyPacket,i,s,a),E.publicKeyAlgorithm=x.keyPacket.algorithm,E.issuerKeyID=x.getKeyID(),p===e.length-1&&(E.flags=1),E})).then(y=>{y.forEach(p=>o.push(p))}),o.push(u),o.push(...await Eh(u,e,r,n,i,s,!1,a)),new _r(o)}compress(e,r=It){if(e===B.compression.uncompressed)return this;const n=new qs(r);n.algorithm=B.read(B.compression,e),n.packets=this.packets;const i=new de;return i.push(n),new _r(i)}async signDetached(e=[],r=null,n=[],i=new Date,s=[],a=It){const o=this.packets.findPacket(B.packet.literalData);if(!o)throw Error("No literal data packet to sign.");return new vh(await Eh(o,e,r,n,i,s,!0,a))}async verify(e,r=new Date,n=It){const i=this.unwrapCompressed(),s=i.packets.filterByTag(B.packet.literalData);if(s.length!==1)throw Error("Can only verify message with one literal data packet.");_e(i.packets.stream)&&i.packets.push(...await ke(i.packets.stream,u=>u||[]));const a=i.packets.filterByTag(B.packet.onePassSignature).reverse(),o=i.packets.filterByTag(B.packet.signature);return a.length&&!o.length&&H.isStream(i.packets.stream)&&!_e(i.packets.stream)?(await Promise.all(a.map(async u=>{u.correspondingSig=new Promise((c,f)=>{u.correspondingSigResolve=c,u.correspondingSigReject=f}),u.signatureData=Rn(async()=>(await u.correspondingSig).signatureData),u.hashed=ke(await u.hash(u.signatureType,s[0],void 0,!1)),u.hashed.catch(()=>{})})),i.packets.stream=pn(i.packets.stream,async(u,c)=>{const f=jr(u),l=tr(c);try{for(let y=0;y<a.length;y++){const{value:p}=await f.read();a[y].correspondingSigResolve(p)}await f.readToEnd(),await l.ready,await l.close()}catch(y){a.forEach(p=>{p.correspondingSigReject(y)}),await l.abort(y)}}),Xc(a,s,e,r,!1,n)):Xc(o,s,e,r,!1,n)}verifyDetached(e,r,n=new Date,i=It){const s=this.unwrapCompressed().packets.filterByTag(B.packet.literalData);if(s.length!==1)throw Error("Can only verify message with one literal data packet.");return Xc(e.packets,s,r,n,!0,i)}unwrapCompressed(){const e=this.packets.filterByTag(B.packet.compressedData);return e.length?new _r(e[0].packets):this}async appendSignature(e,r=It){await this.packets.read(H.isUint8Array(e)?e:(await ys(e)).data,B2,r)}write(){return this.packets.write()}armor(e=It){return ms(B.armor.message,this.write(),null,null,null,e)}}async function Eh(t,e,r=null,n=[],i=new Date,s=[],a=!1,o=It){const u=new de,c=t.text===null?B.signature.binary:B.signature.text;if(await Promise.all(e.map(async(f,l)=>{const y=s[l];if(!f.isPrivate())throw Error("Need private key for signing");const p=await f.getSigningKey(n[l],i,y,o);return Gs(t,f,p.keyPacket,{signatureType:c},i,y,a,o)})).then(f=>{u.push(...f)}),r){const f=r.packets.filterByTag(B.packet.signature);u.push(...f)}return u}async function Xc(t,e,r,n=new Date,i=!1,s=It){return Promise.all(t.filter(function(a){return["text","binary"].includes(B.read(B.signature,a.signatureType))}).map(async function(a){return async function(o,u,c,f=new Date,l=!1,y=It){let p,k;for(const D of c){const q=D.getKeys(o.issuerKeyID);if(q.length>0){p=D,k=q[0];break}}const x=o instanceof Dr?o.correspondingSig:o,E={keyID:o.issuerKeyID,verified:(async()=>{if(!k)throw Error("Could not find signing key with key ID "+o.issuerKeyID.toHex());await o.verify(k.keyPacket,o.signatureType,u[0],f,l,y);const D=await x;if(k.getCreationTime()>D.created)throw Error("Key is newer than the signature");try{await p.getSigningKey(k.getKeyID(),D.created,void 0,y)}catch(q){if(!y.allowInsecureVerificationWithReformattedKeys||!q.message.match(/Signature creation time is in the future/))throw q;await p.getSigningKey(k.getKeyID(),f,void 0,y)}return!0})(),signature:(async()=>{const D=await x,q=new de;return D&&q.push(D),new vh(q)})()};return E.signature.catch(()=>{}),E.verified.catch(()=>{}),E}(a,e,r,n,i,s)}))}async function A5(i){var s=i,{armoredMessage:t,binaryMessage:e,config:r}=s,n=ei(s,["armoredMessage","binaryMessage","config"]);r=Ke(Ke({},It),r);let a=t||e;if(!a)throw Error("readMessage: must pass options object containing `armoredMessage` or `binaryMessage`");if(t&&!H.isString(t)&&!H.isStream(t))throw Error("readMessage: options.armoredMessage must be a string or stream");if(e&&!H.isUint8Array(e)&&!H.isStream(e))throw Error("readMessage: options.binaryMessage must be a Uint8Array or stream");const o=Object.keys(n);if(o.length>0)throw Error("Unknown option: "+o.join(", "));const u=H.isStream(a);if(u&&(await wu(),a=ds(a)),t){const{type:l,data:y}=await ys(a,r);if(l!==B.armor.message)throw Error("Armored text not of type message");a=y}const c=await de.fromBinary(a,D2,r),f=new _r(c);return f.fromStream=u,f}async function k5(a){var o=a,{text:t,binary:e,filename:r,date:n=new Date,format:i=t!==void 0?"utf8":"binary"}=o,s=ei(o,["text","binary","filename","date","format"]);let u=t!==void 0?t:e;if(u===void 0)throw Error("createMessage: must pass options object containing `text` or `binary`");if(t&&!H.isString(t)&&!H.isStream(t))throw Error("createMessage: options.text must be a string or stream");if(e&&!H.isUint8Array(e)&&!H.isStream(e))throw Error("createMessage: options.binary must be a Uint8Array or stream");const c=Object.keys(s);if(c.length>0)throw Error("Unknown option: "+c.join(", "));const f=H.isStream(u);f&&(await wu(),u=ds(u));const l=new Fi(n);t!==void 0?l.setText(u,i):l.setBytes(u,i),r!==void 0&&l.setFilename(r);const y=new de;y.push(l);const p=new _r(y);return p.fromStream=f,p}async function S5(x){var E=x,{message:t,encryptionKeys:e,signingKeys:r,passwords:n,sessionKey:i,format:s="armored",signature:a=null,wildcard:o=!1,signingKeyIDs:u=[],encryptionKeyIDs:c=[],date:f=new Date,signingUserIDs:l=[],encryptionUserIDs:y=[],config:p}=E,k=ei(E,["message","encryptionKeys","signingKeys","passwords","sessionKey","format","signature","wildcard","signingKeyIDs","encryptionKeyIDs","date","signingUserIDs","encryptionUserIDs","config"]);if(xh(p=Ke(Ke({},It),p)),Ph(t),O2(s),e=Br(e),r=Br(r),n=Br(n),u=Br(u),c=Br(c),l=Br(l),y=Br(y),k.detached)throw Error("The `detached` option has been removed from openpgp.encrypt, separately call openpgp.sign instead. Don't forget to remove the `privateKeys` option as well.");if(k.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encrypt, pass `encryptionKeys` instead");if(k.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.encrypt, pass `signingKeys` instead");if(k.armor!==void 0)throw Error("The `armor` option has been removed from openpgp.encrypt, pass `format` instead.");const D=Object.keys(k);if(D.length>0)throw Error("Unknown option: "+D.join(", "));r||(r=[]);const q=t.fromStream;try{if((r.length||a)&&(t=await t.sign(r,a,u,f,l,p)),t=t.compress(await Yc("compression",e,f,y,p),p),t=await t.encrypt(e,n,i,o,c,f,y,p),s==="object")return t;const z=s==="armored";return Mh(z?t.armor(p):t.write(),q,z?"utf8":"binary")}catch(z){throw H.wrapError("Error encrypting message",z)}}async function E5(l){var y=l,{message:t,decryptionKeys:e,passwords:r,sessionKeys:n,verificationKeys:i,expectSigned:s=!1,format:a="utf8",signature:o=null,date:u=new Date,config:c}=y,f=ei(y,["message","decryptionKeys","passwords","sessionKeys","verificationKeys","expectSigned","format","signature","date","config"]);if(xh(c=Ke(Ke({},It),c)),Ph(t),i=Br(i),e=Br(e),r=Br(r),n=Br(n),f.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.decrypt, pass `decryptionKeys` instead");if(f.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.decrypt, pass `verificationKeys` instead");const p=Object.keys(f);if(p.length>0)throw Error("Unknown option: "+p.join(", "));try{const k=await t.decrypt(e,r,n,u,c);i||(i=[]);const x={};if(x.signatures=o?await k.verifyDetached(o,i,u,c):await k.verify(i,u,c),x.data=a==="binary"?k.getLiteralData():k.getText(),x.filename=k.getFilename(),K2(x,t),s){if(i.length===0)throw Error("Verification keys are required to verify message signatures");if(x.signatures.length===0)throw Error("Message is not signed");x.data=Ze([x.data,Rn(async()=>{await H.anyPromise(x.signatures.map(E=>E.verified))})])}return x.data=await Mh(x.data,t.fromStream,a),x}catch(k){throw H.wrapError("Error decrypting message",k)}}function Ph(t){if(!(t instanceof _r))throw Error("Parameter [message] needs to be of type Message")}function O2(t){if(t!=="armored"&&t!=="binary"&&t!=="object")throw Error("Unsupported format "+t)}const N2=Object.keys(It).length;function xh(t){const e=Object.keys(t);if(e.length!==N2){for(const r of e)if(It[r]===void 0)throw Error("Unknown config property: "+r)}}function Br(t){return t&&!H.isArray(t)&&(t=[t]),t}async function Mh(t,e,r="utf8"){const n=H.isStream(t);return n==="array"?ke(t):e==="node"?(t=cc(t),r!=="binary"&&t.setEncoding(r),t):e==="web"&&n==="ponyfill"?bu(t):t}function K2(t,e){t.data=pn(e.packets.stream,async(r,n)=>{await Mn(t.data,n,{preventClose:!0});const i=tr(n);try{await ke(r,s=>s),await i.close()}catch(s){await i.abort(s)}})}const ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:t=>`Symbol(${t})`;function Qc(){}const Rh=typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:void 0;function ir(t){return typeof t=="object"&&t!==null||typeof t=="function"}const Ch=Qc,Zc=Promise,z2=Promise.prototype.then,F2=Promise.resolve.bind(Zc),L2=Promise.reject.bind(Zc);function Ye(t){return new Zc(t)}function be(t){return F2(t)}function Vt(t){return L2(t)}function Sn(t,e,r){return z2.call(t,e,r)}function Or(t,e,r){Sn(Sn(t,e,r),void 0,Ch)}function t0(t,e){Or(t,e)}function Th(t,e){Or(t,void 0,e)}function yi(t,e,r){return Sn(t,e,r)}function $s(t){Sn(t,void 0,Ch)}const Ih=(()=>{const t=Rh&&Rh.queueMicrotask;if(typeof t=="function")return t;const e=be(void 0);return r=>Sn(e,r)})();function so(t,e,r){if(typeof t!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,e,r)}function mi(t,e,r){try{return be(so(t,e,r))}catch(n){return Vt(n)}}class cn{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const r=this._back;let n=r;r._elements.length===16383&&(n={_elements:[],_next:void 0}),r._elements.push(e),n!==r&&(this._back=n,r._next=n),++this._size}shift(){const e=this._front;let r=e;const n=this._cursor;let i=n+1;const s=e._elements,a=s[n];return i===16384&&(r=e._next,i=0),--this._size,this._cursor=i,e!==r&&(this._front=r),s[n]=void 0,a}forEach(e){let r=this._cursor,n=this._front,i=n._elements;for(;!(r===i.length&&n._next===void 0||r===i.length&&(n=n._next,i=n._elements,r=0,i.length===0));)e(i[r]),++r}peek(){const e=this._front,r=this._cursor;return e._elements[r]}}function Dh(t,e){t._ownerReadableStream=e,e._reader=t,e._state==="readable"?r0(t):e._state==="closed"?function(r){r0(r),Bh(r)}(t):Uh(t,e._storedError)}function e0(t,e){return Ai(t._ownerReadableStream,e)}function gi(t){t._ownerReadableStream._state==="readable"?n0(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,r){Uh(e,r)}(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._ownerReadableStream._reader=void 0,t._ownerReadableStream=void 0}function Wi(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function r0(t){t._closedPromise=Ye((e,r)=>{t._closedPromise_resolve=e,t._closedPromise_reject=r})}function Uh(t,e){r0(t),n0(t,e)}function n0(t,e){t._closedPromise_reject!==void 0&&($s(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}function Bh(t){t._closedPromise_resolve!==void 0&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}const Oh=ie("[[AbortSteps]]"),Nh=ie("[[ErrorSteps]]"),i0=ie("[[CancelSteps]]"),s0=ie("[[PullSteps]]"),Kh=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},j2=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function En(t,e){if(t!==void 0&&typeof(r=t)!="object"&&typeof r!="function")throw new TypeError(e+" is not an object.");var r}function Nr(t,e){if(typeof t!="function")throw new TypeError(e+" is not a function.")}function zh(t,e){if(!function(r){return typeof r=="object"&&r!==null||typeof r=="function"}(t))throw new TypeError(e+" is not an object.")}function Pn(t,e,r){if(t===void 0)throw new TypeError(`Parameter ${e} is required in '${r}'.`)}function a0(t,e,r){if(t===void 0)throw new TypeError(`${e} is required in '${r}'.`)}function o0(t){return Number(t)}function Fh(t){return t===0?0:t}function Lh(t,e){const r=Number.MAX_SAFE_INTEGER;let n=Number(t);if(n=Fh(n),!Kh(n))throw new TypeError(e+" is not a finite number");if(n=function(i){return Fh(j2(i))}(n),n<0||n>r)throw new TypeError(`${e} is outside the accepted range of 0 to ${r}, inclusive`);return Kh(n)&&n!==0?n:0}function c0(t,e){if(!Yn(t))throw new TypeError(e+" is not a ReadableStream.")}function ao(t){return new co(t)}function jh(t,e){t._reader._readRequests.push(e)}function u0(t,e,r){const n=t._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(e)}function oo(t){return t._reader._readRequests.length}function qh(t){const e=t._reader;return e!==void 0&&!!bi(e)}class co{constructor(e){if(Pn(e,1,"ReadableStreamDefaultReader"),c0(e,"First parameter"),Jn(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Dh(this,e),this._readRequests=new cn}get closed(){return bi(this)?this._closedPromise:Vt(ho("closed"))}cancel(e){return bi(this)?this._ownerReadableStream===void 0?Vt(Wi("cancel")):e0(this,e):Vt(ho("cancel"))}read(){if(!bi(this))return Vt(ho("read"));if(this._ownerReadableStream===void 0)return Vt(Wi("read from"));let e,r;const n=Ye((i,s)=>{e=i,r=s});return uo(this,{_chunkSteps:i=>e({value:i,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:i=>r(i)}),n}releaseLock(){if(!bi(this))throw ho("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");gi(this)}}}function bi(t){return!!ir(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readRequests")}function uo(t,e){const r=t._ownerReadableStream;r._disturbed=!0,r._state==="closed"?e._closeSteps():r._state==="errored"?e._errorSteps(r._storedError):r._readableStreamController[s0](e)}function ho(t){return new TypeError(`ReadableStreamDefaultReader.prototype.${t} can only be used on a ReadableStreamDefaultReader`)}let fo;Object.defineProperties(co.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof ie.toStringTag=="symbol"&&Object.defineProperty(co.prototype,ie.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),typeof ie.asyncIterator=="symbol"&&(fo={[ie.asyncIterator](){return this}},Object.defineProperty(fo,ie.asyncIterator,{enumerable:!1}));class q2{constructor(e,r){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=r}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?yi(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const r=()=>this._returnSteps(e);return this._ongoingPromise?yi(this._ongoingPromise,r,r):r()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(e._ownerReadableStream===void 0)return Vt(Wi("iterate"));let r,n;const i=Ye((s,a)=>{r=s,n=a});return uo(e,{_chunkSteps:s=>{this._ongoingPromise=void 0,Ih(()=>r({value:s,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,gi(e),r({value:void 0,done:!0})},_errorSteps:s=>{this._ongoingPromise=void 0,this._isFinished=!0,gi(e),n(s)}}),i}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const r=this._reader;if(r._ownerReadableStream===void 0)return Vt(Wi("finish iterating"));if(!this._preventCancel){const n=e0(r,e);return gi(r),yi(n,()=>({value:e,done:!0}))}return gi(r),be({value:e,done:!0})}}const Wh={next(){return Hh(this)?this._asyncIteratorImpl.next():Vt(Gh("next"))},return(t){return Hh(this)?this._asyncIteratorImpl.return(t):Vt(Gh("return"))}};function Hh(t){return!!ir(t)&&!!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorImpl")}function Gh(t){return new TypeError(`ReadableStreamAsyncIterator.${t} can only be used on a ReadableSteamAsyncIterator`)}fo!==void 0&&Object.setPrototypeOf(Wh,fo);const $h=Number.isNaN||function(t){return t!=t};function Vh(t){return!!function(e){return!(typeof e!="number"||$h(e)||e<0)}(t)&&t!==1/0}function h0(t){const e=t._queue.shift();return t._queueTotalSize-=e.size,t._queueTotalSize<0&&(t._queueTotalSize=0),e.value}function f0(t,e,r){if(!Vh(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t._queue.push({value:e,size:r}),t._queueTotalSize+=r}function $n(t){t._queue=new cn,t._queueTotalSize=0}function l0(t){return t.slice()}class lo{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!d0(this))throw g0("view");return this._view}respond(e){if(!d0(this))throw g0("respond");if(Pn(e,1,"respond"),e=Lh(e,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(r,n){if(!Vh(n=Number(n)))throw new RangeError("bytesWritten must be a finite");tf(r,n)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!d0(this))throw g0("respondWithNewView");if(Pn(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(e.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(e.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");(function(r,n){const i=r._pendingPullIntos.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,tf(r,n.byteLength)})(this._associatedReadableByteStreamController,e)}}Object.defineProperties(lo.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof ie.toStringTag=="symbol"&&Object.defineProperty(lo.prototype,ie.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class po{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Hi(this))throw Ys("byobRequest");if(this._byobRequest===null&&this._pendingPullIntos.length>0){const e=this._pendingPullIntos.peek(),r=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),n=Object.create(lo.prototype);(function(i,s,a){i._associatedReadableByteStreamController=s,i._view=a})(n,this,r),this._byobRequest=n}return this._byobRequest}get desiredSize(){if(!Hi(this))throw Ys("desiredSize");return ef(this)}close(){if(!Hi(this))throw Ys("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if(e!=="readable")throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);(function(r){const n=r._controlledReadableByteStream;if(!(r._closeRequested||n._state!=="readable")){if(r._queueTotalSize>0)return void(r._closeRequested=!0);if(r._pendingPullIntos.length>0&&r._pendingPullIntos.peek().bytesFilled>0){const i=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Vs(r,i),i}mo(r),na(n)}})(this)}enqueue(e){if(!Hi(this))throw Ys("enqueue");if(Pn(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(e.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(e.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const r=this._controlledReadableByteStream._state;if(r!=="readable")throw new TypeError(`The stream (in ${r} state) is not in the readable state and cannot be enqueued to`);(function(n,i){const s=n._controlledReadableByteStream;if(n._closeRequested||s._state!=="readable")return;const a=i.buffer,o=i.byteOffset,u=i.byteLength,c=a;qh(s)?oo(s)===0?yo(n,c,o,u):u0(s,new Uint8Array(c,o,u),!1):b0(s)?(yo(n,c,o,u),Zh(n)):yo(n,c,o,u),vi(n)})(this,e)}error(e){if(!Hi(this))throw Ys("error");Vs(this,e)}[i0](e){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),$n(this);const r=this._cancelAlgorithm(e);return mo(this),r}[s0](e){const r=this._controlledReadableByteStream;if(this._queueTotalSize>0){const i=this._queue.shift();this._queueTotalSize-=i.byteLength,Qh(this);const s=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);return void e._chunkSteps(s)}const n=this._autoAllocateChunkSize;if(n!==void 0){let i;try{i=new ArrayBuffer(n)}catch(a){return void e._errorSteps(a)}const s={buffer:i,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(s)}jh(r,e),vi(this)}}function Hi(t){return!!ir(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")}function d0(t){return!!ir(t)&&!!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")}function vi(t){if(!!function(e){const r=e._controlledReadableByteStream;return r._state!=="readable"||e._closeRequested||!e._started?!1:!!(qh(r)&&oo(r)>0||b0(r)&&nf(r)>0||ef(e)>0)}(t)){if(t._pulling)return void(t._pullAgain=!0);t._pulling=!0,Or(t._pullAlgorithm(),()=>{t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,vi(t))},e=>{Vs(t,e)})}}function p0(t,e){let r=!1;t._state==="closed"&&(r=!0);const n=Yh(e);e.readerType==="default"?u0(t,n,r):function(i,s,a){const o=i._reader._readIntoRequests.shift();a?o._closeSteps(s):o._chunkSteps(s)}(t,n,r)}function Yh(t){const e=t.bytesFilled,r=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,e/r)}function yo(t,e,r,n){t._queue.push({buffer:e,byteOffset:r,byteLength:n}),t._queueTotalSize+=n}function Jh(t,e){const r=e.elementSize,n=e.bytesFilled-e.bytesFilled%r,i=Math.min(t._queueTotalSize,e.byteLength-e.bytesFilled),s=e.bytesFilled+i,a=s-s%r;let o=i,u=!1;a>n&&(o=a-e.bytesFilled,u=!0);const c=t._queue;for(;o>0;){const x=c.peek(),E=Math.min(o,x.byteLength),D=e.byteOffset+e.bytesFilled;f=e.buffer,l=D,y=x.buffer,p=x.byteOffset,k=E,new Uint8Array(f).set(new Uint8Array(y,p,k),l),x.byteLength===E?c.shift():(x.byteOffset+=E,x.byteLength-=E),t._queueTotalSize-=E,Xh(t,E,e),o-=E}var f,l,y,p,k;return u}function Xh(t,e,r){y0(t),r.bytesFilled+=e}function Qh(t){t._queueTotalSize===0&&t._closeRequested?(mo(t),na(t._controlledReadableByteStream)):vi(t)}function y0(t){t._byobRequest!==null&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=null,t._byobRequest=null)}function Zh(t){for(;t._pendingPullIntos.length>0;){if(t._queueTotalSize===0)return;const e=t._pendingPullIntos.peek();Jh(t,e)&&(m0(t),p0(t._controlledReadableByteStream,e))}}function tf(t,e){const r=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(e!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");(function(n,i){i.buffer=i.buffer;const s=n._controlledReadableByteStream;if(b0(s))for(;nf(s)>0;)p0(s,m0(n))})(t,r)}else(function(n,i,s){if(s.bytesFilled+i>s.byteLength)throw new RangeError("bytesWritten out of range");if(Xh(n,i,s),s.bytesFilled<s.elementSize)return;m0(n);const a=s.bytesFilled%s.elementSize;if(a>0){const o=s.byteOffset+s.bytesFilled,u=s.buffer.slice(o-a,o);yo(n,u,0,u.byteLength)}s.buffer=s.buffer,s.bytesFilled-=a,p0(n._controlledReadableByteStream,s),Zh(n)})(t,e,r);vi(t)}function m0(t){const e=t._pendingPullIntos.shift();return y0(t),e}function mo(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function Vs(t,e){const r=t._controlledReadableByteStream;r._state==="readable"&&(function(n){y0(n),n._pendingPullIntos=new cn}(t),$n(t),mo(t),xf(r,e))}function ef(t){const e=t._controlledReadableByteStream._state;return e==="errored"?null:e==="closed"?0:t._strategyHWM-t._queueTotalSize}function W2(t,e,r){const n=Object.create(po.prototype);let i=()=>{},s=()=>be(void 0),a=()=>be(void 0);e.start!==void 0&&(i=()=>e.start(n)),e.pull!==void 0&&(s=()=>e.pull(n)),e.cancel!==void 0&&(a=u=>e.cancel(u));const o=e.autoAllocateChunkSize;if(o===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");(function(u,c,f,l,y,p,k){c._controlledReadableByteStream=u,c._pullAgain=!1,c._pulling=!1,c._byobRequest=null,c._queue=c._queueTotalSize=void 0,$n(c),c._closeRequested=!1,c._started=!1,c._strategyHWM=p,c._pullAlgorithm=l,c._cancelAlgorithm=y,c._autoAllocateChunkSize=k,c._pendingPullIntos=new cn,u._readableStreamController=c,Or(be(f()),()=>{c._started=!0,vi(c)},x=>{Vs(c,x)})})(t,n,i,s,a,r,o)}function g0(t){return new TypeError(`ReadableStreamBYOBRequest.prototype.${t} can only be used on a ReadableStreamBYOBRequest`)}function Ys(t){return new TypeError(`ReadableByteStreamController.prototype.${t} can only be used on a ReadableByteStreamController`)}function rf(t,e){t._reader._readIntoRequests.push(e)}function nf(t){return t._reader._readIntoRequests.length}function b0(t){const e=t._reader;return e!==void 0&&!!Js(e)}Object.defineProperties(po.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof ie.toStringTag=="symbol"&&Object.defineProperty(po.prototype,ie.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class go{constructor(e){if(Pn(e,1,"ReadableStreamBYOBReader"),c0(e,"First parameter"),Jn(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Hi(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Dh(this,e),this._readIntoRequests=new cn}get closed(){return Js(this)?this._closedPromise:Vt(bo("closed"))}cancel(e){return Js(this)?this._ownerReadableStream===void 0?Vt(Wi("cancel")):e0(this,e):Vt(bo("cancel"))}read(e){if(!Js(this))return Vt(bo("read"));if(!ArrayBuffer.isView(e))return Vt(new TypeError("view must be an array buffer view"));if(e.byteLength===0)return Vt(new TypeError("view must have non-zero byteLength"));if(e.buffer.byteLength===0)return Vt(new TypeError("view's buffer must have non-zero byteLength"));if(this._ownerReadableStream===void 0)return Vt(Wi("read from"));let r,n;const i=Ye((s,a)=>{r=s,n=a});return function(s,a,o){const u=s._ownerReadableStream;u._disturbed=!0,u._state==="errored"?o._errorSteps(u._storedError):function(c,f,l){const y=c._controlledReadableByteStream;let p=1;f.constructor!==DataView&&(p=f.constructor.BYTES_PER_ELEMENT);const k=f.constructor,x={buffer:f.buffer,byteOffset:f.byteOffset,byteLength:f.byteLength,bytesFilled:0,elementSize:p,viewConstructor:k,readerType:"byob"};if(c._pendingPullIntos.length>0)return c._pendingPullIntos.push(x),void rf(y,l);if(y._state!=="closed"){if(c._queueTotalSize>0){if(Jh(c,x)){const E=Yh(x);return Qh(c),void l._chunkSteps(E)}if(c._closeRequested){const E=new TypeError("Insufficient bytes to fill elements in the given buffer");return Vs(c,E),void l._errorSteps(E)}}c._pendingPullIntos.push(x),rf(y,l),vi(c)}else{const E=new k(x.buffer,x.byteOffset,0);l._closeSteps(E)}}(u._readableStreamController,a,o)}(this,e,{_chunkSteps:s=>r({value:s,done:!1}),_closeSteps:s=>r({value:s,done:!0}),_errorSteps:s=>n(s)}),i}releaseLock(){if(!Js(this))throw bo("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");gi(this)}}}function Js(t){return!!ir(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")}function bo(t){return new TypeError(`ReadableStreamBYOBReader.prototype.${t} can only be used on a ReadableStreamBYOBReader`)}function Xs(t,e){const{highWaterMark:r}=t;if(r===void 0)return e;if($h(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function vo(t){const{size:e}=t;return e||(()=>1)}function wo(t,e){En(t,e);const r=t==null?void 0:t.highWaterMark,n=t==null?void 0:t.size;return{highWaterMark:r===void 0?void 0:o0(r),size:n===void 0?void 0:H2(n,e+" has member 'size' that")}}function H2(t,e){return Nr(t,e),r=>o0(t(r))}function G2(t,e,r){return Nr(t,r),n=>mi(t,e,[n])}function $2(t,e,r){return Nr(t,r),()=>mi(t,e,[])}function V2(t,e,r){return Nr(t,r),n=>so(t,e,[n])}function Y2(t,e,r){return Nr(t,r),(n,i)=>mi(t,e,[n,i])}function sf(t,e){if(!Gi(t))throw new TypeError(e+" is not a WritableStream.")}Object.defineProperties(go.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof ie.toStringTag=="symbol"&&Object.defineProperty(go.prototype,ie.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class _o{constructor(e={},r={}){e===void 0?e=null:zh(e,"First parameter");const n=wo(r,"Second parameter"),i=function(a,o){En(a,o);const u=a==null?void 0:a.abort,c=a==null?void 0:a.close,f=a==null?void 0:a.start,l=a==null?void 0:a.type,y=a==null?void 0:a.write;return{abort:u===void 0?void 0:G2(u,a,o+" has member 'abort' that"),close:c===void 0?void 0:$2(c,a,o+" has member 'close' that"),start:f===void 0?void 0:V2(f,a,o+" has member 'start' that"),write:y===void 0?void 0:Y2(y,a,o+" has member 'write' that"),type:l}}(e,"First parameter");if(of(this),i.type!==void 0)throw new RangeError("Invalid type is specified");const s=vo(n);(function(a,o,u,c){const f=Object.create(Qs.prototype);let l=()=>{},y=()=>be(void 0),p=()=>be(void 0),k=()=>be(void 0);o.start!==void 0&&(l=()=>o.start(f)),o.write!==void 0&&(y=x=>o.write(x,f)),o.close!==void 0&&(p=()=>o.close()),o.abort!==void 0&&(k=x=>o.abort(x)),pf(a,f,l,y,p,k,u,c)})(this,i,Xs(n,1),s)}get locked(){if(!Gi(this))throw xo("locked");return $i(this)}abort(e){return Gi(this)?$i(this)?Vt(new TypeError("Cannot abort a stream that already has a writer")):Ao(this,e):Vt(xo("abort"))}close(){return Gi(this)?$i(this)?Vt(new TypeError("Cannot close a stream that already has a writer")):un(this)?Vt(new TypeError("Cannot close an already-closing stream")):cf(this):Vt(xo("close"))}getWriter(){if(!Gi(this))throw xo("getWriter");return af(this)}}function af(t){return new So(t)}function of(t){t._state="writable",t._storedError=void 0,t._writer=void 0,t._writableStreamController=void 0,t._writeRequests=new cn,t._inFlightWriteRequest=void 0,t._closeRequest=void 0,t._inFlightCloseRequest=void 0,t._pendingAbortRequest=void 0,t._backpressure=!1}function Gi(t){return!!ir(t)&&!!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")}function $i(t){return t._writer!==void 0}function Ao(t,e){const r=t._state;if(r==="closed"||r==="errored")return be(void 0);if(t._pendingAbortRequest!==void 0)return t._pendingAbortRequest._promise;let n=!1;r==="erroring"&&(n=!0,e=void 0);const i=Ye((s,a)=>{t._pendingAbortRequest={_promise:void 0,_resolve:s,_reject:a,_reason:e,_wasAlreadyErroring:n}});return t._pendingAbortRequest._promise=i,n||w0(t,e),i}function cf(t){const e=t._state;if(e==="closed"||e==="errored")return Vt(new TypeError(`The stream (in ${e} state) is not in the writable state and cannot be closed`));const r=Ye((s,a)=>{const o={_resolve:s,_reject:a};t._closeRequest=o}),n=t._writer;var i;return n!==void 0&&t._backpressure&&e==="writable"&&x0(n),f0(i=t._writableStreamController,df,0),Po(i),r}function v0(t,e){t._state!=="writable"?_0(t):w0(t,e)}function w0(t,e){const r=t._writableStreamController;t._state="erroring",t._storedError=e;const n=t._writer;n!==void 0&&hf(n,e),!function(i){return!(i._inFlightWriteRequest===void 0&&i._inFlightCloseRequest===void 0)}(t)&&r._started&&_0(t)}function _0(t){t._state="errored",t._writableStreamController[Nh]();const e=t._storedError;if(t._writeRequests.forEach(n=>{n._reject(e)}),t._writeRequests=new cn,t._pendingAbortRequest===void 0)return void ko(t);const r=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(e),void ko(t);Or(t._writableStreamController[Oh](r._reason),()=>{r._resolve(),ko(t)},n=>{r._reject(n),ko(t)})}function un(t){return t._closeRequest!==void 0||t._inFlightCloseRequest!==void 0}function ko(t){t._closeRequest!==void 0&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);const e=t._writer;e!==void 0&&E0(e,t._storedError)}function A0(t,e){const r=t._writer;r!==void 0&&e!==t._backpressure&&(e?function(n){Ro(n)}(r):x0(r)),t._backpressure=e}Object.defineProperties(_o.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof ie.toStringTag=="symbol"&&Object.defineProperty(_o.prototype,ie.toStringTag,{value:"WritableStream",configurable:!0});class So{constructor(e){if(Pn(e,1,"WritableStreamDefaultWriter"),sf(e,"First parameter"),$i(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const r=e._state;if(r==="writable")!un(e)&&e._backpressure?Ro(this):vf(this),Mo(this);else if(r==="erroring")P0(this,e._storedError),Mo(this);else if(r==="closed")vf(this),Mo(n=this),bf(n);else{const i=e._storedError;P0(this,i),gf(this,i)}var n}get closed(){return wi(this)?this._closedPromise:Vt(_i("closed"))}get desiredSize(){if(!wi(this))throw _i("desiredSize");if(this._ownerWritableStream===void 0)throw Zs("desiredSize");return function(e){const r=e._ownerWritableStream,n=r._state;return n==="errored"||n==="erroring"?null:n==="closed"?0:yf(r._writableStreamController)}(this)}get ready(){return wi(this)?this._readyPromise:Vt(_i("ready"))}abort(e){return wi(this)?this._ownerWritableStream===void 0?Vt(Zs("abort")):function(r,n){return Ao(r._ownerWritableStream,n)}(this,e):Vt(_i("abort"))}close(){if(!wi(this))return Vt(_i("close"));const e=this._ownerWritableStream;return e===void 0?Vt(Zs("close")):un(e)?Vt(new TypeError("Cannot close an already-closing stream")):uf(this)}releaseLock(){if(!wi(this))throw _i("releaseLock");this._ownerWritableStream!==void 0&&ff(this)}write(e){return wi(this)?this._ownerWritableStream===void 0?Vt(Zs("write to")):lf(this,e):Vt(_i("write"))}}function wi(t){return!!ir(t)&&!!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")}function uf(t){return cf(t._ownerWritableStream)}function J2(t,e){t._closedPromiseState==="pending"?E0(t,e):function(r,n){gf(r,n)}(t,e)}function hf(t,e){t._readyPromiseState==="pending"?wf(t,e):function(r,n){P0(r,n)}(t,e)}function ff(t){const e=t._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");hf(t,r),J2(t,r),e._writer=void 0,t._ownerWritableStream=void 0}function lf(t,e){const r=t._ownerWritableStream,n=r._writableStreamController,i=function(o,u){try{return o._strategySizeAlgorithm(u)}catch(c){return k0(o,c),1}}(n,e);if(r!==t._ownerWritableStream)return Vt(Zs("write to"));const s=r._state;if(s==="errored")return Vt(r._storedError);if(un(r)||s==="closed")return Vt(new TypeError("The stream is closing or closed and cannot be written to"));if(s==="erroring")return Vt(r._storedError);const a=function(o){return Ye((u,c)=>{const f={_resolve:u,_reject:c};o._writeRequests.push(f)})}(r);return function(o,u,c){try{f0(o,u,c)}catch(l){return void k0(o,l)}const f=o._controlledWritableStream;!un(f)&&f._state==="writable"&&A0(f,S0(o)),Po(o)}(n,e,i),a}Object.defineProperties(So.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof ie.toStringTag=="symbol"&&Object.defineProperty(So.prototype,ie.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const df={};class Qs{constructor(){throw new TypeError("Illegal constructor")}error(e){if(!function(r){return!(!ir(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledWritableStream"))}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");this._controlledWritableStream._state==="writable"&&mf(this,e)}[Oh](e){const r=this._abortAlgorithm(e);return Eo(this),r}[Nh](){$n(this)}}function pf(t,e,r,n,i,s,a,o){e._controlledWritableStream=t,t._writableStreamController=e,e._queue=void 0,e._queueTotalSize=void 0,$n(e),e._started=!1,e._strategySizeAlgorithm=o,e._strategyHWM=a,e._writeAlgorithm=n,e._closeAlgorithm=i,e._abortAlgorithm=s;const u=S0(e);A0(t,u),Or(be(r()),()=>{e._started=!0,Po(e)},c=>{e._started=!0,v0(t,c)})}function Eo(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function yf(t){return t._strategyHWM-t._queueTotalSize}function Po(t){const e=t._controlledWritableStream;if(!t._started||e._inFlightWriteRequest!==void 0)return;if(e._state==="erroring")return void _0(e);if(t._queue.length===0)return;const r=t._queue.peek().value;r===df?function(n){const i=n._controlledWritableStream;(function(a){a._inFlightCloseRequest=a._closeRequest,a._closeRequest=void 0})(i),h0(n);const s=n._closeAlgorithm();Eo(n),Or(s,()=>{(function(a){a._inFlightCloseRequest._resolve(void 0),a._inFlightCloseRequest=void 0,a._state==="erroring"&&(a._storedError=void 0,a._pendingAbortRequest!==void 0&&(a._pendingAbortRequest._resolve(),a._pendingAbortRequest=void 0)),a._state="closed";const o=a._writer;o!==void 0&&bf(o)})(i)},a=>{(function(o,u){o._inFlightCloseRequest._reject(u),o._inFlightCloseRequest=void 0,o._pendingAbortRequest!==void 0&&(o._pendingAbortRequest._reject(u),o._pendingAbortRequest=void 0),v0(o,u)})(i,a)})}(t):function(n,i){const s=n._controlledWritableStream;(function(a){a._inFlightWriteRequest=a._writeRequests.shift()})(s),Or(n._writeAlgorithm(i),()=>{(function(o){o._inFlightWriteRequest._resolve(void 0),o._inFlightWriteRequest=void 0})(s);const a=s._state;if(h0(n),!un(s)&&a==="writable"){const o=S0(n);A0(s,o)}Po(n)},a=>{s._state==="writable"&&Eo(n),function(o,u){o._inFlightWriteRequest._reject(u),o._inFlightWriteRequest=void 0,v0(o,u)}(s,a)})}(t,r)}function k0(t,e){t._controlledWritableStream._state==="writable"&&mf(t,e)}function S0(t){return yf(t)<=0}function mf(t,e){const r=t._controlledWritableStream;Eo(t),w0(r,e)}function xo(t){return new TypeError(`WritableStream.prototype.${t} can only be used on a WritableStream`)}function _i(t){return new TypeError(`WritableStreamDefaultWriter.prototype.${t} can only be used on a WritableStreamDefaultWriter`)}function Zs(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function Mo(t){t._closedPromise=Ye((e,r)=>{t._closedPromise_resolve=e,t._closedPromise_reject=r,t._closedPromiseState="pending"})}function gf(t,e){Mo(t),E0(t,e)}function E0(t,e){t._closedPromise_reject!==void 0&&($s(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected")}function bf(t){t._closedPromise_resolve!==void 0&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved")}function Ro(t){t._readyPromise=Ye((e,r)=>{t._readyPromise_resolve=e,t._readyPromise_reject=r}),t._readyPromiseState="pending"}function P0(t,e){Ro(t),wf(t,e)}function vf(t){Ro(t),x0(t)}function wf(t,e){t._readyPromise_reject!==void 0&&($s(t._readyPromise),t._readyPromise_reject(e),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected")}function x0(t){t._readyPromise_resolve!==void 0&&(t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled")}Object.defineProperties(Qs.prototype,{error:{enumerable:!0}}),typeof ie.toStringTag=="symbol"&&Object.defineProperty(Qs.prototype,ie.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const _f=typeof DOMException!="undefined"?DOMException:void 0,X2=function(t){if(typeof t!="function"&&typeof t!="object")return!1;try{return new t,!0}catch{return!1}}(_f)?_f:function(){const t=function(e,r){this.message=e||"",this.name=r||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return Object.defineProperty(t.prototype=Object.create(Error.prototype),"constructor",{value:t,writable:!0,configurable:!0}),t}();function Af(t,e,r,n,i,s){const a=ao(t),o=af(e);t._disturbed=!0;let u=!1,c=be(void 0);return Ye((f,l)=>{let y;if(s!==void 0){if(y=()=>{const q=new X2("Aborted","AbortError"),z=[];n||z.push(()=>e._state==="writable"?Ao(e,q):be(void 0)),i||z.push(()=>t._state==="readable"?Ai(t,q):be(void 0)),x(()=>Promise.all(z.map(O=>O())),!0,q)},s.aborted)return void y();s.addEventListener("abort",y)}if(k(t,a._closedPromise,q=>{n?E(!0,q):x(()=>Ao(e,q),!0,q)}),k(e,o._closedPromise,q=>{i?E(!0,q):x(()=>Ai(t,q),!0,q)}),function(q,z,O){q._state==="closed"?O():t0(z,O)}(t,a._closedPromise,()=>{r?E():x(()=>function(q){const z=q._ownerWritableStream,O=z._state;return un(z)||O==="closed"?be(void 0):O==="errored"?Vt(z._storedError):uf(q)}(o))}),un(e)||e._state==="closed"){const q=new TypeError("the destination writable stream closed before all data could be piped to it");i?E(!0,q):x(()=>Ai(t,q),!0,q)}function p(){const q=c;return Sn(c,()=>q!==c?p():void 0)}function k(q,z,O){q._state==="errored"?O(q._storedError):Th(z,O)}function x(q,z,O){function L(){Or(q(),()=>D(z,O),g=>D(!0,g))}u||(u=!0,e._state!=="writable"||un(e)?L():t0(p(),L))}function E(q,z){u||(u=!0,e._state!=="writable"||un(e)?D(q,z):t0(p(),()=>D(q,z)))}function D(q,z){ff(o),gi(a),s!==void 0&&s.removeEventListener("abort",y),q?l(z):f(void 0)}$s(Ye((q,z)=>{(function O(L){L?q():Sn(u?be(!0):Sn(o._readyPromise,()=>Ye((g,T)=>{uo(a,{_chunkSteps:h=>{c=Sn(lf(o,h),void 0,Qc),g(!1)},_closeSteps:()=>g(!0),_errorSteps:T})})),O,z)})(!1)}))})}class ta{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Co(this))throw Do("desiredSize");return M0(this)}close(){if(!Co(this))throw Do("close");if(!Vi(this))throw new TypeError("The stream is not in a state that permits close");ra(this)}enqueue(e){if(!Co(this))throw Do("enqueue");if(!Vi(this))throw new TypeError("The stream is not in a state that permits enqueue");return Io(this,e)}error(e){if(!Co(this))throw Do("error");Vn(this,e)}[i0](e){$n(this);const r=this._cancelAlgorithm(e);return To(this),r}[s0](e){const r=this._controlledReadableStream;if(this._queue.length>0){const n=h0(this);this._closeRequested&&this._queue.length===0?(To(this),na(r)):ea(this),e._chunkSteps(n)}else jh(r,e),ea(this)}}function Co(t){return!!ir(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")}function ea(t){if(!!kf(t)){if(t._pulling)return void(t._pullAgain=!0);t._pulling=!0,Or(t._pullAlgorithm(),()=>{t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,ea(t))},e=>{Vn(t,e)})}}function kf(t){const e=t._controlledReadableStream;return!Vi(t)||!t._started?!1:Jn(e)&&oo(e)>0?!0:M0(t)>0}function To(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function ra(t){if(!Vi(t))return;const e=t._controlledReadableStream;t._closeRequested=!0,t._queue.length===0&&(To(t),na(e))}function Io(t,e){if(!Vi(t))return;const r=t._controlledReadableStream;if(Jn(r)&&oo(r)>0)u0(r,e,!1);else{let n;try{n=t._strategySizeAlgorithm(e)}catch(i){throw Vn(t,i),i}try{f0(t,e,n)}catch(i){throw Vn(t,i),i}}ea(t)}function Vn(t,e){const r=t._controlledReadableStream;r._state==="readable"&&($n(t),To(t),xf(r,e))}function M0(t){const e=t._controlledReadableStream._state;return e==="errored"?null:e==="closed"?0:t._strategyHWM-t._queueTotalSize}function Vi(t){const e=t._controlledReadableStream._state;return!t._closeRequested&&e==="readable"}function Sf(t,e,r,n,i,s,a){e._controlledReadableStream=t,e._queue=void 0,e._queueTotalSize=void 0,$n(e),e._started=!1,e._closeRequested=!1,e._pullAgain=!1,e._pulling=!1,e._strategySizeAlgorithm=a,e._strategyHWM=s,e._pullAlgorithm=n,e._cancelAlgorithm=i,t._readableStreamController=e,Or(be(r()),()=>{e._started=!0,ea(e)},o=>{Vn(e,o)})}function Do(t){return new TypeError(`ReadableStreamDefaultController.prototype.${t} can only be used on a ReadableStreamDefaultController`)}function Q2(t,e,r){return Nr(t,r),n=>mi(t,e,[n])}function Z2(t,e,r){return Nr(t,r),n=>mi(t,e,[n])}function t3(t,e,r){return Nr(t,r),n=>so(t,e,[n])}function e3(t,e){if((t=""+t)!=="bytes")throw new TypeError(`${e} '${t}' is not a valid enumeration value for ReadableStreamType`);return t}function r3(t,e){if((t=""+t)!=="byob")throw new TypeError(`${e} '${t}' is not a valid enumeration value for ReadableStreamReaderMode`);return t}function Ef(t,e){En(t,e);const r=t==null?void 0:t.preventAbort,n=t==null?void 0:t.preventCancel,i=t==null?void 0:t.preventClose,s=t==null?void 0:t.signal;return s!==void 0&&function(a,o){if(!function(u){if(typeof u!="object"||u===null)return!1;try{return typeof u.aborted=="boolean"}catch{return!1}}(a))throw new TypeError(o+" is not an AbortSignal.")}(s,e+" has member 'signal' that"),{preventAbort:!!r,preventCancel:!!n,preventClose:!!i,signal:s}}Object.defineProperties(ta.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof ie.toStringTag=="symbol"&&Object.defineProperty(ta.prototype,ie.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class Yi{constructor(e={},r={}){e===void 0?e=null:zh(e,"First parameter");const n=wo(r,"Second parameter"),i=function(s,a){En(s,a);const o=s,u=o==null?void 0:o.autoAllocateChunkSize,c=o==null?void 0:o.cancel,f=o==null?void 0:o.pull,l=o==null?void 0:o.start,y=o==null?void 0:o.type;return{autoAllocateChunkSize:u===void 0?void 0:Lh(u,a+" has member 'autoAllocateChunkSize' that"),cancel:c===void 0?void 0:Q2(c,o,a+" has member 'cancel' that"),pull:f===void 0?void 0:Z2(f,o,a+" has member 'pull' that"),start:l===void 0?void 0:t3(l,o,a+" has member 'start' that"),type:y===void 0?void 0:e3(y,a+" has member 'type' that")}}(e,"First parameter");if(Pf(this),i.type==="bytes"){if(n.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");W2(this,i,Xs(n,0))}else{const s=vo(n);(function(a,o,u,c){const f=Object.create(ta.prototype);let l=()=>{},y=()=>be(void 0),p=()=>be(void 0);o.start!==void 0&&(l=()=>o.start(f)),o.pull!==void 0&&(y=()=>o.pull(f)),o.cancel!==void 0&&(p=k=>o.cancel(k)),Sf(a,f,l,y,p,u,c)})(this,i,Xs(n,1),s)}}get locked(){if(!Yn(this))throw ki("locked");return Jn(this)}cancel(e){return Yn(this)?Jn(this)?Vt(new TypeError("Cannot cancel a stream that already has a reader")):Ai(this,e):Vt(ki("cancel"))}getReader(e){if(!Yn(this))throw ki("getReader");return function(r,n){En(r,n);const i=r==null?void 0:r.mode;return{mode:i===void 0?void 0:r3(i,n+" has member 'mode' that")}}(e,"First parameter").mode===void 0?ao(this):function(r){return new go(r)}(this)}pipeThrough(e,r={}){if(!Yn(this))throw ki("pipeThrough");Pn(e,1,"pipeThrough");const n=function(s,a){En(s,a);const o=s==null?void 0:s.readable;a0(o,"readable","ReadableWritablePair"),c0(o,a+" has member 'readable' that");const u=s==null?void 0:s.writable;return a0(u,"writable","ReadableWritablePair"),sf(u,a+" has member 'writable' that"),{readable:o,writable:u}}(e,"First parameter"),i=Ef(r,"Second parameter");if(Jn(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if($i(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return $s(Af(this,n.writable,i.preventClose,i.preventAbort,i.preventCancel,i.signal)),n.readable}pipeTo(e,r={}){if(!Yn(this))return Vt(ki("pipeTo"));if(e===void 0)return Vt("Parameter 1 is required in 'pipeTo'.");if(!Gi(e))return Vt(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let n;try{n=Ef(r,"Second parameter")}catch(i){return Vt(i)}return Jn(this)?Vt(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):$i(e)?Vt(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Af(this,e,n.preventClose,n.preventAbort,n.preventCancel,n.signal)}tee(){if(!Yn(this))throw ki("tee");const e=function(r,n){const i=ao(r);let s,a,o,u,c,f=!1,l=!1,y=!1;const p=Ye(E=>{c=E});function k(){return f||(f=!0,uo(i,{_chunkSteps:E=>{Ih(()=>{f=!1;const D=E,q=E;l||Io(o._readableStreamController,D),y||Io(u._readableStreamController,q)})},_closeSteps:()=>{f=!1,l||ra(o._readableStreamController),y||ra(u._readableStreamController),l&&y||c(void 0)},_errorSteps:()=>{f=!1}})),be(void 0)}function x(){}return o=R0(x,k,function(E){if(l=!0,s=E,y){const D=l0([s,a]),q=Ai(r,D);c(q)}return p}),u=R0(x,k,function(E){if(y=!0,a=E,l){const D=l0([s,a]),q=Ai(r,D);c(q)}return p}),Th(i._closedPromise,E=>{Vn(o._readableStreamController,E),Vn(u._readableStreamController,E),l&&y||c(void 0)}),[o,u]}(this);return l0(e)}values(e){if(!Yn(this))throw ki("values");return function(r,n){const i=ao(r),s=new q2(i,n),a=Object.create(Wh);return a._asyncIteratorImpl=s,a}(this,function(r,n){return En(r,n),{preventCancel:!!(r==null?void 0:r.preventCancel)}}(e,"First parameter").preventCancel)}}function R0(t,e,r,n=1,i=()=>1){const s=Object.create(Yi.prototype);return Pf(s),Sf(s,Object.create(ta.prototype),t,e,r,n,i),s}function Pf(t){t._state="readable",t._reader=void 0,t._storedError=void 0,t._disturbed=!1}function Yn(t){return!!ir(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")}function Jn(t){return t._reader!==void 0}function Ai(t,e){return t._disturbed=!0,t._state==="closed"?be(void 0):t._state==="errored"?Vt(t._storedError):(na(t),yi(t._readableStreamController[i0](e),Qc))}function na(t){t._state="closed";const e=t._reader;e!==void 0&&(Bh(e),bi(e)&&(e._readRequests.forEach(r=>{r._closeSteps()}),e._readRequests=new cn))}function xf(t,e){t._state="errored",t._storedError=e;const r=t._reader;r!==void 0&&(n0(r,e),bi(r)?(r._readRequests.forEach(n=>{n._errorSteps(e)}),r._readRequests=new cn):(r._readIntoRequests.forEach(n=>{n._errorSteps(e)}),r._readIntoRequests=new cn))}function ki(t){return new TypeError(`ReadableStream.prototype.${t} can only be used on a ReadableStream`)}function Mf(t,e){En(t,e);const r=t==null?void 0:t.highWaterMark;return a0(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:o0(r)}}Object.defineProperties(Yi.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof ie.toStringTag=="symbol"&&Object.defineProperty(Yi.prototype,ie.toStringTag,{value:"ReadableStream",configurable:!0}),typeof ie.asyncIterator=="symbol"&&Object.defineProperty(Yi.prototype,ie.asyncIterator,{value:Yi.prototype.values,writable:!0,configurable:!0});const n3=function(t){return t.byteLength};class C0{constructor(e){Pn(e,1,"ByteLengthQueuingStrategy"),e=Mf(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Cf(this))throw Rf("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Cf(this))throw Rf("size");return n3}}function Rf(t){return new TypeError(`ByteLengthQueuingStrategy.prototype.${t} can only be used on a ByteLengthQueuingStrategy`)}function Cf(t){return!!ir(t)&&!!Object.prototype.hasOwnProperty.call(t,"_byteLengthQueuingStrategyHighWaterMark")}Object.defineProperties(C0.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof ie.toStringTag=="symbol"&&Object.defineProperty(C0.prototype,ie.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const i3=function(){return 1};class T0{constructor(e){Pn(e,1,"CountQueuingStrategy"),e=Mf(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!If(this))throw Tf("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!If(this))throw Tf("size");return i3}}function Tf(t){return new TypeError(`CountQueuingStrategy.prototype.${t} can only be used on a CountQueuingStrategy`)}function If(t){return!!ir(t)&&!!Object.prototype.hasOwnProperty.call(t,"_countQueuingStrategyHighWaterMark")}function s3(t,e,r){return Nr(t,r),n=>mi(t,e,[n])}function a3(t,e,r){return Nr(t,r),n=>so(t,e,[n])}function o3(t,e,r){return Nr(t,r),(n,i)=>mi(t,e,[n,i])}Object.defineProperties(T0.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof ie.toStringTag=="symbol"&&Object.defineProperty(T0.prototype,ie.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class I0{constructor(e={},r={},n={}){e===void 0&&(e=null);const i=wo(r,"Second parameter"),s=wo(n,"Third parameter"),a=function(y,p){En(y,p);const k=y==null?void 0:y.flush,x=y==null?void 0:y.readableType,E=y==null?void 0:y.start,D=y==null?void 0:y.transform,q=y==null?void 0:y.writableType;return{flush:k===void 0?void 0:s3(k,y,p+" has member 'flush' that"),readableType:x,start:E===void 0?void 0:a3(E,y,p+" has member 'start' that"),transform:D===void 0?void 0:o3(D,y,p+" has member 'transform' that"),writableType:q}}(e,"First parameter");if(a.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(a.writableType!==void 0)throw new RangeError("Invalid writableType specified");const o=Xs(s,0),u=vo(s),c=Xs(i,1),f=vo(i);let l;(function(y,p,k,x,E,D){function q(){return p}function z(h){return function(d,w){const m=d._transformStreamController;return d._backpressure?yi(d._backpressureChangePromise,()=>{const v=d._writable;if(v._state==="erroring")throw v._storedError;return Of(m,w)}):Of(m,w)}(y,h)}function O(h){return function(d,w){return Uo(d,w),be(void 0)}(y,h)}function L(){return function(h){const d=h._readable,w=h._transformStreamController,m=w._flushAlgorithm();return Uf(w),yi(m,()=>{if(d._state==="errored")throw d._storedError;ra(d._readableStreamController)},v=>{throw Uo(h,v),d._storedError})}(y)}function g(){return function(h){return Oo(h,!1),h._backpressureChangePromise}(y)}function T(h){return Bo(y,h),be(void 0)}y._writable=function(h,d,w,m,v=1,I=()=>1){const U=Object.create(_o.prototype);return of(U),pf(U,Object.create(Qs.prototype),h,d,w,m,v,I),U}(q,z,L,O,k,x),y._readable=R0(q,g,T,E,D),y._backpressure=void 0,y._backpressureChangePromise=void 0,y._backpressureChangePromise_resolve=void 0,Oo(y,!0),y._transformStreamController=void 0})(this,Ye(y=>{l=y}),c,f,o,u),function(y,p){const k=Object.create(No.prototype);let x=D=>{try{return Bf(k,D),be(void 0)}catch(q){return Vt(q)}},E=()=>be(void 0);p.transform!==void 0&&(x=D=>p.transform(D,k)),p.flush!==void 0&&(E=()=>p.flush(k)),function(D,q,z,O){q._controlledTransformStream=D,D._transformStreamController=q,q._transformAlgorithm=z,q._flushAlgorithm=O}(y,k,x,E)}(this,a),a.start!==void 0?l(a.start(this._transformStreamController)):l(void 0)}get readable(){if(!Df(this))throw Nf("readable");return this._readable}get writable(){if(!Df(this))throw Nf("writable");return this._writable}}function Df(t){return!!ir(t)&&!!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")}function Uo(t,e){Vn(t._readable._readableStreamController,e),Bo(t,e)}function Bo(t,e){Uf(t._transformStreamController),k0(t._writable._writableStreamController,e),t._backpressure&&Oo(t,!1)}function Oo(t,e){t._backpressureChangePromise!==void 0&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=Ye(r=>{t._backpressureChangePromise_resolve=r}),t._backpressure=e}Object.defineProperties(I0.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof ie.toStringTag=="symbol"&&Object.defineProperty(I0.prototype,ie.toStringTag,{value:"TransformStream",configurable:!0});class No{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ko(this))throw zo("desiredSize");return M0(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!Ko(this))throw zo("enqueue");Bf(this,e)}error(e){if(!Ko(this))throw zo("error");var r;r=e,Uo(this._controlledTransformStream,r)}terminate(){if(!Ko(this))throw zo("terminate");(function(e){const r=e._controlledTransformStream;ra(r._readable._readableStreamController),Bo(r,new TypeError("TransformStream terminated"))})(this)}}function Ko(t){return!!ir(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")}function Uf(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0}function Bf(t,e){const r=t._controlledTransformStream,n=r._readable._readableStreamController;if(!Vi(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{Io(n,e)}catch(i){throw Bo(r,i),r._readable._storedError}(function(i){return!kf(i)})(n)!==r._backpressure&&Oo(r,!0)}function Of(t,e){return yi(t._transformAlgorithm(e),void 0,r=>{throw Uo(t._controlledTransformStream,r),r})}function zo(t){return new TypeError(`TransformStreamDefaultController.prototype.${t} can only be used on a TransformStreamDefaultController`)}function Nf(t){return new TypeError(`TransformStream.prototype.${t} can only be used on a TransformStream`)}Object.defineProperties(No.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof ie.toStringTag=="symbol"&&Object.defineProperty(No.prototype,ie.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var c3=Object.freeze({__proto__:null,ByteLengthQueuingStrategy:C0,CountQueuingStrategy:T0,ReadableByteStreamController:po,ReadableStream:Yi,ReadableStreamBYOBReader:go,ReadableStreamBYOBRequest:lo,ReadableStreamDefaultController:ta,ReadableStreamDefaultReader:co,TransformStream:I0,TransformStreamDefaultController:No,WritableStream:_o,WritableStreamDefaultController:Qs,WritableStreamDefaultWriter:So}),Kf=function(t,e){return(Kf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function zf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+e+" is not a constructor or null");function r(){this.constructor=t}Kf(t,e),t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function cr(t){if(!t)throw new TypeError("Assertion failed")}function ia(){}function D0(t){return typeof t=="object"&&t!==null||typeof t=="function"}function U0(t){if(typeof t!="function")return!1;var e=!1;try{new t({start:function(){e=!0}})}catch{}return e}function B0(t){return!!D0(t)&&typeof t.getReader=="function"}function O0(t){return!!D0(t)&&typeof t.getWriter=="function"}function Ff(t){return!!D0(t)&&!!B0(t.readable)&&!!O0(t.writable)}function Lf(t){try{return t.getReader({mode:"byob"}).releaseLock(),!0}catch{return!1}}function N0(t,e){var r=(e===void 0?{}:e).type;return cr(B0(t)),cr(t.locked===!1),(r=jf(r))==="bytes"?new h3(t):new u3(t)}function jf(t){var e=t+"";if(e==="bytes")return e;if(t===void 0)return t;throw new RangeError("Invalid type is specified")}var qf=function(){function t(e){this._underlyingReader=void 0,this._readerMode=void 0,this._readableStreamController=void 0,this._pendingRead=void 0,this._underlyingStream=e,this._attachDefaultReader()}return t.prototype.start=function(e){this._readableStreamController=e},t.prototype.cancel=function(e){return cr(this._underlyingReader!==void 0),this._underlyingReader.cancel(e)},t.prototype._attachDefaultReader=function(){if(this._readerMode!=="default"){this._detachReader();var e=this._underlyingStream.getReader();this._readerMode="default",this._attachReader(e)}},t.prototype._attachReader=function(e){var r=this;cr(this._underlyingReader===void 0),this._underlyingReader=e;var n=this._underlyingReader.closed;n&&n.then(function(){return r._finishPendingRead()}).then(function(){e===r._underlyingReader&&r._readableStreamController.close()},function(i){e===r._underlyingReader&&r._readableStreamController.error(i)}).catch(ia)},t.prototype._detachReader=function(){this._underlyingReader!==void 0&&(this._underlyingReader.releaseLock(),this._underlyingReader=void 0,this._readerMode=void 0)},t.prototype._pullWithDefaultReader=function(){var e=this;this._attachDefaultReader();var r=this._underlyingReader.read().then(function(n){var i=e._readableStreamController;n.done?e._tryClose():i.enqueue(n.value)});return this._setPendingRead(r),r},t.prototype._tryClose=function(){try{this._readableStreamController.close()}catch{}},t.prototype._setPendingRead=function(e){var r,n=this,i=function(){n._pendingRead===r&&(n._pendingRead=void 0)};this._pendingRead=r=e.then(i,i)},t.prototype._finishPendingRead=function(){var e=this;if(this._pendingRead){var r=function(){return e._finishPendingRead()};return this._pendingRead.then(r,r)}},t}(),u3=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return zf(e,t),e.prototype.pull=function(){return this._pullWithDefaultReader()},e}(qf);function Wf(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}var h3=function(t){function e(r){var n=this,i=Lf(r);return(n=t.call(this,r)||this)._supportsByob=i,n}return zf(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"bytes"},enumerable:!1,configurable:!0}),e.prototype._attachByobReader=function(){if(this._readerMode!=="byob"){cr(this._supportsByob),this._detachReader();var r=this._underlyingStream.getReader({mode:"byob"});this._readerMode="byob",this._attachReader(r)}},e.prototype.pull=function(){if(this._supportsByob){var r=this._readableStreamController.byobRequest;if(r)return this._pullWithByobRequest(r)}return this._pullWithDefaultReader()},e.prototype._pullWithByobRequest=function(r){var n=this;this._attachByobReader();var i=new Uint8Array(r.view.byteLength),s=this._underlyingReader.read(i).then(function(a){var o,u,c;n._readableStreamController,a.done?(n._tryClose(),r.respond(0)):(o=a.value,u=r.view,c=Wf(o),Wf(u).set(c,0),r.respond(a.value.byteLength))});return this._setPendingRead(s),s},e}(qf);function Hf(t){cr(O0(t)),cr(t.locked===!1);var e=t.getWriter();return new f3(e)}var f3=function(){function t(e){var r=this;this._writableStreamController=void 0,this._pendingWrite=void 0,this._state="writable",this._storedError=void 0,this._underlyingWriter=e,this._errorPromise=new Promise(function(n,i){r._errorPromiseReject=i}),this._errorPromise.catch(ia)}return t.prototype.start=function(e){var r=this;this._writableStreamController=e,this._underlyingWriter.closed.then(function(){r._state="closed"}).catch(function(n){return r._finishErroring(n)})},t.prototype.write=function(e){var r=this,n=this._underlyingWriter;if(n.desiredSize===null)return n.ready;var i=n.write(e);i.catch(function(a){return r._finishErroring(a)}),n.ready.catch(function(a){return r._startErroring(a)});var s=Promise.race([i,this._errorPromise]);return this._setPendingWrite(s),s},t.prototype.close=function(){var e=this;return this._pendingWrite===void 0?this._underlyingWriter.close():this._finishPendingWrite().then(function(){return e.close()})},t.prototype.abort=function(e){if(this._state!=="errored")return this._underlyingWriter.abort(e)},t.prototype._setPendingWrite=function(e){var r,n=this,i=function(){n._pendingWrite===r&&(n._pendingWrite=void 0)};this._pendingWrite=r=e.then(i,i)},t.prototype._finishPendingWrite=function(){var e=this;if(this._pendingWrite===void 0)return Promise.resolve();var r=function(){return e._finishPendingWrite()};return this._pendingWrite.then(r,r)},t.prototype._startErroring=function(e){var r=this;if(this._state==="writable"){this._state="erroring",this._storedError=e;var n=function(){return r._finishErroring(e)};this._pendingWrite===void 0?n():this._finishPendingWrite().then(n,n),this._writableStreamController.error(e)}},t.prototype._finishErroring=function(e){this._state==="writable"&&this._startErroring(e),this._state==="erroring"&&(this._state="errored",this._errorPromiseReject(this._storedError))},t}();function Gf(t){cr(Ff(t));var e=t.readable,r=t.writable;cr(e.locked===!1),cr(r.locked===!1);var n,i=e.getReader();try{n=r.getWriter()}catch(s){throw i.releaseLock(),s}return new l3(i,n)}var l3=function(){function t(e,r){var n=this;this._transformStreamController=void 0,this._onRead=function(i){if(!i.done)return n._transformStreamController.enqueue(i.value),n._reader.read().then(n._onRead)},this._onError=function(i){n._flushReject(i),n._transformStreamController.error(i),n._reader.cancel(i).catch(ia),n._writer.abort(i).catch(ia)},this._onTerminate=function(){n._flushResolve(),n._transformStreamController.terminate();var i=new TypeError("TransformStream terminated");n._writer.abort(i).catch(ia)},this._reader=e,this._writer=r,this._flushPromise=new Promise(function(i,s){n._flushResolve=i,n._flushReject=s})}return t.prototype.start=function(e){this._transformStreamController=e,this._reader.read().then(this._onRead).then(this._onTerminate,this._onError);var r=this._reader.closed;r&&r.then(this._onTerminate,this._onError)},t.prototype.transform=function(e){return this._writer.write(e)},t.prototype.flush=function(){var e=this;return this._writer.close().then(function(){return e._flushPromise})},t}(),d3=Object.freeze({__proto__:null,createReadableStreamWrapper:function(t){cr(function(r){return!!U0(r)&&!!B0(new r)}(t));var e=function(r){try{return new r({type:"bytes"}),!0}catch{return!1}}(t);return function(r,n){var i=(n===void 0?{}:n).type;if((i=jf(i))!=="bytes"||e||(i=void 0),r.constructor===t&&(i!=="bytes"||Lf(r)))return r;if(i==="bytes"){var s=N0(r,{type:i});return new t(s)}return s=N0(r),new t(s)}},createTransformStreamWrapper:function(t){return cr(function(e){return!!U0(e)&&!!Ff(new e)}(t)),function(e){if(e.constructor===t)return e;var r=Gf(e);return new t(r)}},createWrappingReadableSource:N0,createWrappingTransformer:Gf,createWrappingWritableSink:Hf,createWritableStreamWrapper:function(t){return cr(function(e){return!!U0(e)&&!!O0(new e)}(t)),function(e){if(e.constructor===t)return e;var r=Hf(e);return new t(r)}}}),Ut=Wr(function(t){(function(e,r){function n(h,d){if(!h)throw Error(d||"Assertion failed")}function i(h,d){h.super_=d;var w=function(){};w.prototype=d.prototype,h.prototype=new w,h.prototype.constructor=h}function s(h,d,w){if(s.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&(d!=="le"&&d!=="be"||(w=d,d=10),this._init(h||0,d||10,w||"be"))}var a;typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{a=void 0}catch{}function o(h,d,w){for(var m=0,v=Math.min(h.length,w),I=d;I<v;I++){var U=h.charCodeAt(I)-48;m<<=4,m|=U>=49&&U<=54?U-49+10:U>=17&&U<=22?U-17+10:15&U}return m}function u(h,d,w,m){for(var v=0,I=Math.min(h.length,w),U=d;U<I;U++){var $=h.charCodeAt(U)-48;v*=m,v+=$>=49?$-49+10:$>=17?$-17+10:$}return v}s.isBN=function(h){return h instanceof s||h!==null&&typeof h=="object"&&h.constructor.wordSize===s.wordSize&&Array.isArray(h.words)},s.max=function(h,d){return h.cmp(d)>0?h:d},s.min=function(h,d){return h.cmp(d)<0?h:d},s.prototype._init=function(h,d,w){if(typeof h=="number")return this._initNumber(h,d,w);if(typeof h=="object")return this._initArray(h,d,w);d==="hex"&&(d=16),n(d===(0|d)&&d>=2&&d<=36);var m=0;(h=h.toString().replace(/\s+/g,""))[0]==="-"&&m++,d===16?this._parseHex(h,m):this._parseBase(h,d,m),h[0]==="-"&&(this.negative=1),this.strip(),w==="le"&&this._initArray(this.toArray(),d,w)},s.prototype._initNumber=function(h,d,w){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[67108863&h],this.length=1):h<4503599627370496?(this.words=[67108863&h,h/67108864&67108863],this.length=2):(n(h<9007199254740992),this.words=[67108863&h,h/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),d,w)},s.prototype._initArray=function(h,d,w){if(n(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v,I,U=0;if(w==="be")for(m=h.length-1,v=0;m>=0;m-=3)I=h[m]|h[m-1]<<8|h[m-2]<<16,this.words[v]|=I<<U&67108863,this.words[v+1]=I>>>26-U&67108863,(U+=24)>=26&&(U-=26,v++);else if(w==="le")for(m=0,v=0;m<h.length;m+=3)I=h[m]|h[m+1]<<8|h[m+2]<<16,this.words[v]|=I<<U&67108863,this.words[v+1]=I>>>26-U&67108863,(U+=24)>=26&&(U-=26,v++);return this.strip()},s.prototype._parseHex=function(h,d){this.length=Math.ceil((h.length-d)/6),this.words=Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var m,v,I=0;for(w=h.length-6,m=0;w>=d;w-=6)v=o(h,w,w+6),this.words[m]|=v<<I&67108863,this.words[m+1]|=v>>>26-I&4194303,(I+=24)>=26&&(I-=26,m++);w+6!==d&&(v=o(h,d,w+6),this.words[m]|=v<<I&67108863,this.words[m+1]|=v>>>26-I&4194303),this.strip()},s.prototype._parseBase=function(h,d,w){this.words=[0],this.length=1;for(var m=0,v=1;v<=67108863;v*=d)m++;m--,v=v/d|0;for(var I=h.length-w,U=I%m,$=Math.min(I,I-U)+w,nt=0,b=w;b<$;b+=m)nt=u(h,b,b+m,d),this.imuln(v),this.words[0]+nt<67108864?this.words[0]+=nt:this._iaddn(nt);if(U!==0){var C=1;for(nt=u(h,b,h.length,d),b=0;b<U;b++)C*=d;this.imuln(C),this.words[0]+nt<67108864?this.words[0]+=nt:this._iaddn(nt)}},s.prototype.copy=function(h){h.words=Array(this.length);for(var d=0;d<this.length;d++)h.words[d]=this.words[d];h.length=this.length,h.negative=this.negative,h.red=this.red},s.prototype.clone=function(){var h=new s(null);return this.copy(h),h},s.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(h,d,w){w.negative=d.negative^h.negative;var m=h.length+d.length|0;w.length=m,m=m-1|0;var v=0|h.words[0],I=0|d.words[0],U=v*I,$=67108863&U,nt=U/67108864|0;w.words[0]=$;for(var b=1;b<m;b++){for(var C=nt>>>26,V=67108863&nt,Z=Math.min(b,d.length-1),it=Math.max(0,b-h.length+1);it<=Z;it++){var lt=b-it|0;C+=(U=(v=0|h.words[lt])*(I=0|d.words[it])+V)/67108864|0,V=67108863&U}w.words[b]=0|V,nt=0|C}return nt!==0?w.words[b]=0|nt:w.length--,w.strip()}s.prototype.toString=function(h,d){var w;if(d=0|d||1,(h=h||10)===16||h==="hex"){w="";for(var m=0,v=0,I=0;I<this.length;I++){var U=this.words[I],$=(16777215&(U<<m|v)).toString(16);w=(v=U>>>24-m&16777215)!=0||I!==this.length-1?c[6-$.length]+$+w:$+w,(m+=2)>=26&&(m-=26,I--)}for(v!==0&&(w=v.toString(16)+w);w.length%d!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(h===(0|h)&&h>=2&&h<=36){var nt=f[h],b=l[h];w="";var C=this.clone();for(C.negative=0;!C.isZero();){var V=C.modn(b).toString(h);w=(C=C.idivn(b)).isZero()?V+w:c[nt-V.length]+V+w}for(this.isZero()&&(w="0"+w);w.length%d!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=67108864*this.words[1]:this.length===3&&this.words[2]===1?h+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(h,d){return n(a!==void 0),this.toArrayLike(a,h,d)},s.prototype.toArray=function(h,d){return this.toArrayLike(Array,h,d)},s.prototype.toArrayLike=function(h,d,w){var m=this.byteLength(),v=w||Math.max(1,m);n(m<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var I,U,$=d==="le",nt=new h(v),b=this.clone();if($){for(U=0;!b.isZero();U++)I=b.andln(255),b.iushrn(8),nt[U]=I;for(;U<v;U++)nt[U]=0}else{for(U=0;U<v-m;U++)nt[U]=0;for(U=0;!b.isZero();U++)I=b.andln(255),b.iushrn(8),nt[v-U-1]=I}return nt},s.prototype._countBits=Math.clz32?function(h){return 32-Math.clz32(h)}:function(h){var d=h,w=0;return d>=4096&&(w+=13,d>>>=13),d>=64&&(w+=7,d>>>=7),d>=8&&(w+=4,d>>>=4),d>=2&&(w+=2,d>>>=2),w+d},s.prototype._zeroBits=function(h){if(h===0)return 26;var d=h,w=0;return(8191&d)==0&&(w+=13,d>>>=13),(127&d)==0&&(w+=7,d>>>=7),(15&d)==0&&(w+=4,d>>>=4),(3&d)==0&&(w+=2,d>>>=2),(1&d)==0&&w++,w},s.prototype.bitLength=function(){var h=this.words[this.length-1],d=this._countBits(h);return 26*(this.length-1)+d},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,d=0;d<this.length;d++){var w=this._zeroBits(this.words[d]);if(h+=w,w!==26)break}return h},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},s.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var d=0;d<h.length;d++)this.words[d]=this.words[d]|h.words[d];return this.strip()},s.prototype.ior=function(h){return n((this.negative|h.negative)==0),this.iuor(h)},s.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},s.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},s.prototype.iuand=function(h){var d;d=this.length>h.length?h:this;for(var w=0;w<d.length;w++)this.words[w]=this.words[w]&h.words[w];return this.length=d.length,this.strip()},s.prototype.iand=function(h){return n((this.negative|h.negative)==0),this.iuand(h)},s.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},s.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},s.prototype.iuxor=function(h){var d,w;this.length>h.length?(d=this,w=h):(d=h,w=this);for(var m=0;m<w.length;m++)this.words[m]=d.words[m]^w.words[m];if(this!==d)for(;m<d.length;m++)this.words[m]=d.words[m];return this.length=d.length,this.strip()},s.prototype.ixor=function(h){return n((this.negative|h.negative)==0),this.iuxor(h)},s.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},s.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},s.prototype.inotn=function(h){n(typeof h=="number"&&h>=0);var d=0|Math.ceil(h/26),w=h%26;this._expand(d),w>0&&d--;for(var m=0;m<d;m++)this.words[m]=67108863&~this.words[m];return w>0&&(this.words[m]=~this.words[m]&67108863>>26-w),this.strip()},s.prototype.notn=function(h){return this.clone().inotn(h)},s.prototype.setn=function(h,d){n(typeof h=="number"&&h>=0);var w=h/26|0,m=h%26;return this._expand(w+1),this.words[w]=d?this.words[w]|1<<m:this.words[w]&~(1<<m),this.strip()},s.prototype.iadd=function(h){var d,w,m;if(this.negative!==0&&h.negative===0)return this.negative=0,d=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,d=this.isub(h),h.negative=1,d._normSign();this.length>h.length?(w=this,m=h):(w=h,m=this);for(var v=0,I=0;I<m.length;I++)d=(0|w.words[I])+(0|m.words[I])+v,this.words[I]=67108863&d,v=d>>>26;for(;v!==0&&I<w.length;I++)d=(0|w.words[I])+v,this.words[I]=67108863&d,v=d>>>26;if(this.length=w.length,v!==0)this.words[this.length]=v,this.length++;else if(w!==this)for(;I<w.length;I++)this.words[I]=w.words[I];return this},s.prototype.add=function(h){var d;return h.negative!==0&&this.negative===0?(h.negative=0,d=this.sub(h),h.negative^=1,d):h.negative===0&&this.negative!==0?(this.negative=0,d=h.sub(this),this.negative=1,d):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},s.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var d=this.iadd(h);return h.negative=1,d._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var w,m,v=this.cmp(h);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;v>0?(w=this,m=h):(w=h,m=this);for(var I=0,U=0;U<m.length;U++)I=(d=(0|w.words[U])-(0|m.words[U])+I)>>26,this.words[U]=67108863&d;for(;I!==0&&U<w.length;U++)I=(d=(0|w.words[U])+I)>>26,this.words[U]=67108863&d;if(I===0&&U<w.length&&w!==this)for(;U<w.length;U++)this.words[U]=w.words[U];return this.length=Math.max(this.length,U),w!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(h){return this.clone().isub(h)};var p=function(h,d,w){var m,v,I,U=h.words,$=d.words,nt=w.words,b=0,C=0|U[0],V=8191&C,Z=C>>>13,it=0|U[1],lt=8191&it,dt=it>>>13,pt=0|U[2],G=8191&pt,ut=pt>>>13,F=0|U[3],S=8191&F,Y=F>>>13,A=0|U[4],R=8191&A,N=A>>>13,P=0|U[5],_=8191&P,M=P>>>13,K=0|U[6],Q=8191&K,J=K>>>13,rt=0|U[7],bt=8191&rt,_t=rt>>>13,Pt=0|U[8],tt=8191&Pt,et=Pt>>>13,ct=0|U[9],st=8191&ct,at=ct>>>13,ht=0|$[0],W=8191&ht,j=ht>>>13,Et=0|$[1],At=8191&Et,Ot=Et>>>13,Zt=0|$[2],jt=8191&Zt,Ft=Zt>>>13,oe=0|$[3],Yt=8191&oe,Jt=oe>>>13,ue=0|$[4],zt=8191&ue,Wt=ue>>>13,ee=0|$[5],Nt=8191&ee,Gt=ee>>>13,ae=0|$[6],Ht=8191&ae,vt=ae>>>13,wt=0|$[7],St=8191&wt,Tt=wt>>>13,qt=0|$[8],Kt=8191&qt,Bt=qt>>>13,ne=0|$[9],$t=8191&ne,se=ne>>>13;w.negative=h.negative^d.negative,w.length=19;var Ce=(b+(m=Math.imul(V,W))|0)+((8191&(v=(v=Math.imul(V,j))+Math.imul(Z,W)|0))<<13)|0;b=((I=Math.imul(Z,j))+(v>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,m=Math.imul(lt,W),v=(v=Math.imul(lt,j))+Math.imul(dt,W)|0,I=Math.imul(dt,j);var Te=(b+(m=m+Math.imul(V,At)|0)|0)+((8191&(v=(v=v+Math.imul(V,Ot)|0)+Math.imul(Z,At)|0))<<13)|0;b=((I=I+Math.imul(Z,Ot)|0)+(v>>>13)|0)+(Te>>>26)|0,Te&=67108863,m=Math.imul(G,W),v=(v=Math.imul(G,j))+Math.imul(ut,W)|0,I=Math.imul(ut,j),m=m+Math.imul(lt,At)|0,v=(v=v+Math.imul(lt,Ot)|0)+Math.imul(dt,At)|0,I=I+Math.imul(dt,Ot)|0;var Ne=(b+(m=m+Math.imul(V,jt)|0)|0)+((8191&(v=(v=v+Math.imul(V,Ft)|0)+Math.imul(Z,jt)|0))<<13)|0;b=((I=I+Math.imul(Z,Ft)|0)+(v>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,m=Math.imul(S,W),v=(v=Math.imul(S,j))+Math.imul(Y,W)|0,I=Math.imul(Y,j),m=m+Math.imul(G,At)|0,v=(v=v+Math.imul(G,Ot)|0)+Math.imul(ut,At)|0,I=I+Math.imul(ut,Ot)|0,m=m+Math.imul(lt,jt)|0,v=(v=v+Math.imul(lt,Ft)|0)+Math.imul(dt,jt)|0,I=I+Math.imul(dt,Ft)|0;var hr=(b+(m=m+Math.imul(V,Yt)|0)|0)+((8191&(v=(v=v+Math.imul(V,Jt)|0)+Math.imul(Z,Yt)|0))<<13)|0;b=((I=I+Math.imul(Z,Jt)|0)+(v>>>13)|0)+(hr>>>26)|0,hr&=67108863,m=Math.imul(R,W),v=(v=Math.imul(R,j))+Math.imul(N,W)|0,I=Math.imul(N,j),m=m+Math.imul(S,At)|0,v=(v=v+Math.imul(S,Ot)|0)+Math.imul(Y,At)|0,I=I+Math.imul(Y,Ot)|0,m=m+Math.imul(G,jt)|0,v=(v=v+Math.imul(G,Ft)|0)+Math.imul(ut,jt)|0,I=I+Math.imul(ut,Ft)|0,m=m+Math.imul(lt,Yt)|0,v=(v=v+Math.imul(lt,Jt)|0)+Math.imul(dt,Yt)|0,I=I+Math.imul(dt,Jt)|0;var fr=(b+(m=m+Math.imul(V,zt)|0)|0)+((8191&(v=(v=v+Math.imul(V,Wt)|0)+Math.imul(Z,zt)|0))<<13)|0;b=((I=I+Math.imul(Z,Wt)|0)+(v>>>13)|0)+(fr>>>26)|0,fr&=67108863,m=Math.imul(_,W),v=(v=Math.imul(_,j))+Math.imul(M,W)|0,I=Math.imul(M,j),m=m+Math.imul(R,At)|0,v=(v=v+Math.imul(R,Ot)|0)+Math.imul(N,At)|0,I=I+Math.imul(N,Ot)|0,m=m+Math.imul(S,jt)|0,v=(v=v+Math.imul(S,Ft)|0)+Math.imul(Y,jt)|0,I=I+Math.imul(Y,Ft)|0,m=m+Math.imul(G,Yt)|0,v=(v=v+Math.imul(G,Jt)|0)+Math.imul(ut,Yt)|0,I=I+Math.imul(ut,Jt)|0,m=m+Math.imul(lt,zt)|0,v=(v=v+Math.imul(lt,Wt)|0)+Math.imul(dt,zt)|0,I=I+Math.imul(dt,Wt)|0;var lr=(b+(m=m+Math.imul(V,Nt)|0)|0)+((8191&(v=(v=v+Math.imul(V,Gt)|0)+Math.imul(Z,Nt)|0))<<13)|0;b=((I=I+Math.imul(Z,Gt)|0)+(v>>>13)|0)+(lr>>>26)|0,lr&=67108863,m=Math.imul(Q,W),v=(v=Math.imul(Q,j))+Math.imul(J,W)|0,I=Math.imul(J,j),m=m+Math.imul(_,At)|0,v=(v=v+Math.imul(_,Ot)|0)+Math.imul(M,At)|0,I=I+Math.imul(M,Ot)|0,m=m+Math.imul(R,jt)|0,v=(v=v+Math.imul(R,Ft)|0)+Math.imul(N,jt)|0,I=I+Math.imul(N,Ft)|0,m=m+Math.imul(S,Yt)|0,v=(v=v+Math.imul(S,Jt)|0)+Math.imul(Y,Yt)|0,I=I+Math.imul(Y,Jt)|0,m=m+Math.imul(G,zt)|0,v=(v=v+Math.imul(G,Wt)|0)+Math.imul(ut,zt)|0,I=I+Math.imul(ut,Wt)|0,m=m+Math.imul(lt,Nt)|0,v=(v=v+Math.imul(lt,Gt)|0)+Math.imul(dt,Nt)|0,I=I+Math.imul(dt,Gt)|0;var dr=(b+(m=m+Math.imul(V,Ht)|0)|0)+((8191&(v=(v=v+Math.imul(V,vt)|0)+Math.imul(Z,Ht)|0))<<13)|0;b=((I=I+Math.imul(Z,vt)|0)+(v>>>13)|0)+(dr>>>26)|0,dr&=67108863,m=Math.imul(bt,W),v=(v=Math.imul(bt,j))+Math.imul(_t,W)|0,I=Math.imul(_t,j),m=m+Math.imul(Q,At)|0,v=(v=v+Math.imul(Q,Ot)|0)+Math.imul(J,At)|0,I=I+Math.imul(J,Ot)|0,m=m+Math.imul(_,jt)|0,v=(v=v+Math.imul(_,Ft)|0)+Math.imul(M,jt)|0,I=I+Math.imul(M,Ft)|0,m=m+Math.imul(R,Yt)|0,v=(v=v+Math.imul(R,Jt)|0)+Math.imul(N,Yt)|0,I=I+Math.imul(N,Jt)|0,m=m+Math.imul(S,zt)|0,v=(v=v+Math.imul(S,Wt)|0)+Math.imul(Y,zt)|0,I=I+Math.imul(Y,Wt)|0,m=m+Math.imul(G,Nt)|0,v=(v=v+Math.imul(G,Gt)|0)+Math.imul(ut,Nt)|0,I=I+Math.imul(ut,Gt)|0,m=m+Math.imul(lt,Ht)|0,v=(v=v+Math.imul(lt,vt)|0)+Math.imul(dt,Ht)|0,I=I+Math.imul(dt,vt)|0;var pr=(b+(m=m+Math.imul(V,St)|0)|0)+((8191&(v=(v=v+Math.imul(V,Tt)|0)+Math.imul(Z,St)|0))<<13)|0;b=((I=I+Math.imul(Z,Tt)|0)+(v>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(tt,W),v=(v=Math.imul(tt,j))+Math.imul(et,W)|0,I=Math.imul(et,j),m=m+Math.imul(bt,At)|0,v=(v=v+Math.imul(bt,Ot)|0)+Math.imul(_t,At)|0,I=I+Math.imul(_t,Ot)|0,m=m+Math.imul(Q,jt)|0,v=(v=v+Math.imul(Q,Ft)|0)+Math.imul(J,jt)|0,I=I+Math.imul(J,Ft)|0,m=m+Math.imul(_,Yt)|0,v=(v=v+Math.imul(_,Jt)|0)+Math.imul(M,Yt)|0,I=I+Math.imul(M,Jt)|0,m=m+Math.imul(R,zt)|0,v=(v=v+Math.imul(R,Wt)|0)+Math.imul(N,zt)|0,I=I+Math.imul(N,Wt)|0,m=m+Math.imul(S,Nt)|0,v=(v=v+Math.imul(S,Gt)|0)+Math.imul(Y,Nt)|0,I=I+Math.imul(Y,Gt)|0,m=m+Math.imul(G,Ht)|0,v=(v=v+Math.imul(G,vt)|0)+Math.imul(ut,Ht)|0,I=I+Math.imul(ut,vt)|0,m=m+Math.imul(lt,St)|0,v=(v=v+Math.imul(lt,Tt)|0)+Math.imul(dt,St)|0,I=I+Math.imul(dt,Tt)|0;var yr=(b+(m=m+Math.imul(V,Kt)|0)|0)+((8191&(v=(v=v+Math.imul(V,Bt)|0)+Math.imul(Z,Kt)|0))<<13)|0;b=((I=I+Math.imul(Z,Bt)|0)+(v>>>13)|0)+(yr>>>26)|0,yr&=67108863,m=Math.imul(st,W),v=(v=Math.imul(st,j))+Math.imul(at,W)|0,I=Math.imul(at,j),m=m+Math.imul(tt,At)|0,v=(v=v+Math.imul(tt,Ot)|0)+Math.imul(et,At)|0,I=I+Math.imul(et,Ot)|0,m=m+Math.imul(bt,jt)|0,v=(v=v+Math.imul(bt,Ft)|0)+Math.imul(_t,jt)|0,I=I+Math.imul(_t,Ft)|0,m=m+Math.imul(Q,Yt)|0,v=(v=v+Math.imul(Q,Jt)|0)+Math.imul(J,Yt)|0,I=I+Math.imul(J,Jt)|0,m=m+Math.imul(_,zt)|0,v=(v=v+Math.imul(_,Wt)|0)+Math.imul(M,zt)|0,I=I+Math.imul(M,Wt)|0,m=m+Math.imul(R,Nt)|0,v=(v=v+Math.imul(R,Gt)|0)+Math.imul(N,Nt)|0,I=I+Math.imul(N,Gt)|0,m=m+Math.imul(S,Ht)|0,v=(v=v+Math.imul(S,vt)|0)+Math.imul(Y,Ht)|0,I=I+Math.imul(Y,vt)|0,m=m+Math.imul(G,St)|0,v=(v=v+Math.imul(G,Tt)|0)+Math.imul(ut,St)|0,I=I+Math.imul(ut,Tt)|0,m=m+Math.imul(lt,Kt)|0,v=(v=v+Math.imul(lt,Bt)|0)+Math.imul(dt,Kt)|0,I=I+Math.imul(dt,Bt)|0;var mr=(b+(m=m+Math.imul(V,$t)|0)|0)+((8191&(v=(v=v+Math.imul(V,se)|0)+Math.imul(Z,$t)|0))<<13)|0;b=((I=I+Math.imul(Z,se)|0)+(v>>>13)|0)+(mr>>>26)|0,mr&=67108863,m=Math.imul(st,At),v=(v=Math.imul(st,Ot))+Math.imul(at,At)|0,I=Math.imul(at,Ot),m=m+Math.imul(tt,jt)|0,v=(v=v+Math.imul(tt,Ft)|0)+Math.imul(et,jt)|0,I=I+Math.imul(et,Ft)|0,m=m+Math.imul(bt,Yt)|0,v=(v=v+Math.imul(bt,Jt)|0)+Math.imul(_t,Yt)|0,I=I+Math.imul(_t,Jt)|0,m=m+Math.imul(Q,zt)|0,v=(v=v+Math.imul(Q,Wt)|0)+Math.imul(J,zt)|0,I=I+Math.imul(J,Wt)|0,m=m+Math.imul(_,Nt)|0,v=(v=v+Math.imul(_,Gt)|0)+Math.imul(M,Nt)|0,I=I+Math.imul(M,Gt)|0,m=m+Math.imul(R,Ht)|0,v=(v=v+Math.imul(R,vt)|0)+Math.imul(N,Ht)|0,I=I+Math.imul(N,vt)|0,m=m+Math.imul(S,St)|0,v=(v=v+Math.imul(S,Tt)|0)+Math.imul(Y,St)|0,I=I+Math.imul(Y,Tt)|0,m=m+Math.imul(G,Kt)|0,v=(v=v+Math.imul(G,Bt)|0)+Math.imul(ut,Kt)|0,I=I+Math.imul(ut,Bt)|0;var Sr=(b+(m=m+Math.imul(lt,$t)|0)|0)+((8191&(v=(v=v+Math.imul(lt,se)|0)+Math.imul(dt,$t)|0))<<13)|0;b=((I=I+Math.imul(dt,se)|0)+(v>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,m=Math.imul(st,jt),v=(v=Math.imul(st,Ft))+Math.imul(at,jt)|0,I=Math.imul(at,Ft),m=m+Math.imul(tt,Yt)|0,v=(v=v+Math.imul(tt,Jt)|0)+Math.imul(et,Yt)|0,I=I+Math.imul(et,Jt)|0,m=m+Math.imul(bt,zt)|0,v=(v=v+Math.imul(bt,Wt)|0)+Math.imul(_t,zt)|0,I=I+Math.imul(_t,Wt)|0,m=m+Math.imul(Q,Nt)|0,v=(v=v+Math.imul(Q,Gt)|0)+Math.imul(J,Nt)|0,I=I+Math.imul(J,Gt)|0,m=m+Math.imul(_,Ht)|0,v=(v=v+Math.imul(_,vt)|0)+Math.imul(M,Ht)|0,I=I+Math.imul(M,vt)|0,m=m+Math.imul(R,St)|0,v=(v=v+Math.imul(R,Tt)|0)+Math.imul(N,St)|0,I=I+Math.imul(N,Tt)|0,m=m+Math.imul(S,Kt)|0,v=(v=v+Math.imul(S,Bt)|0)+Math.imul(Y,Kt)|0,I=I+Math.imul(Y,Bt)|0;var Er=(b+(m=m+Math.imul(G,$t)|0)|0)+((8191&(v=(v=v+Math.imul(G,se)|0)+Math.imul(ut,$t)|0))<<13)|0;b=((I=I+Math.imul(ut,se)|0)+(v>>>13)|0)+(Er>>>26)|0,Er&=67108863,m=Math.imul(st,Yt),v=(v=Math.imul(st,Jt))+Math.imul(at,Yt)|0,I=Math.imul(at,Jt),m=m+Math.imul(tt,zt)|0,v=(v=v+Math.imul(tt,Wt)|0)+Math.imul(et,zt)|0,I=I+Math.imul(et,Wt)|0,m=m+Math.imul(bt,Nt)|0,v=(v=v+Math.imul(bt,Gt)|0)+Math.imul(_t,Nt)|0,I=I+Math.imul(_t,Gt)|0,m=m+Math.imul(Q,Ht)|0,v=(v=v+Math.imul(Q,vt)|0)+Math.imul(J,Ht)|0,I=I+Math.imul(J,vt)|0,m=m+Math.imul(_,St)|0,v=(v=v+Math.imul(_,Tt)|0)+Math.imul(M,St)|0,I=I+Math.imul(M,Tt)|0,m=m+Math.imul(R,Kt)|0,v=(v=v+Math.imul(R,Bt)|0)+Math.imul(N,Kt)|0,I=I+Math.imul(N,Bt)|0;var Pr=(b+(m=m+Math.imul(S,$t)|0)|0)+((8191&(v=(v=v+Math.imul(S,se)|0)+Math.imul(Y,$t)|0))<<13)|0;b=((I=I+Math.imul(Y,se)|0)+(v>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,m=Math.imul(st,zt),v=(v=Math.imul(st,Wt))+Math.imul(at,zt)|0,I=Math.imul(at,Wt),m=m+Math.imul(tt,Nt)|0,v=(v=v+Math.imul(tt,Gt)|0)+Math.imul(et,Nt)|0,I=I+Math.imul(et,Gt)|0,m=m+Math.imul(bt,Ht)|0,v=(v=v+Math.imul(bt,vt)|0)+Math.imul(_t,Ht)|0,I=I+Math.imul(_t,vt)|0,m=m+Math.imul(Q,St)|0,v=(v=v+Math.imul(Q,Tt)|0)+Math.imul(J,St)|0,I=I+Math.imul(J,Tt)|0,m=m+Math.imul(_,Kt)|0,v=(v=v+Math.imul(_,Bt)|0)+Math.imul(M,Kt)|0,I=I+Math.imul(M,Bt)|0;var Xe=(b+(m=m+Math.imul(R,$t)|0)|0)+((8191&(v=(v=v+Math.imul(R,se)|0)+Math.imul(N,$t)|0))<<13)|0;b=((I=I+Math.imul(N,se)|0)+(v>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,m=Math.imul(st,Nt),v=(v=Math.imul(st,Gt))+Math.imul(at,Nt)|0,I=Math.imul(at,Gt),m=m+Math.imul(tt,Ht)|0,v=(v=v+Math.imul(tt,vt)|0)+Math.imul(et,Ht)|0,I=I+Math.imul(et,vt)|0,m=m+Math.imul(bt,St)|0,v=(v=v+Math.imul(bt,Tt)|0)+Math.imul(_t,St)|0,I=I+Math.imul(_t,Tt)|0,m=m+Math.imul(Q,Kt)|0,v=(v=v+Math.imul(Q,Bt)|0)+Math.imul(J,Kt)|0,I=I+Math.imul(J,Bt)|0;var xr=(b+(m=m+Math.imul(_,$t)|0)|0)+((8191&(v=(v=v+Math.imul(_,se)|0)+Math.imul(M,$t)|0))<<13)|0;b=((I=I+Math.imul(M,se)|0)+(v>>>13)|0)+(xr>>>26)|0,xr&=67108863,m=Math.imul(st,Ht),v=(v=Math.imul(st,vt))+Math.imul(at,Ht)|0,I=Math.imul(at,vt),m=m+Math.imul(tt,St)|0,v=(v=v+Math.imul(tt,Tt)|0)+Math.imul(et,St)|0,I=I+Math.imul(et,Tt)|0,m=m+Math.imul(bt,Kt)|0,v=(v=v+Math.imul(bt,Bt)|0)+Math.imul(_t,Kt)|0,I=I+Math.imul(_t,Bt)|0;var Ge=(b+(m=m+Math.imul(Q,$t)|0)|0)+((8191&(v=(v=v+Math.imul(Q,se)|0)+Math.imul(J,$t)|0))<<13)|0;b=((I=I+Math.imul(J,se)|0)+(v>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,m=Math.imul(st,St),v=(v=Math.imul(st,Tt))+Math.imul(at,St)|0,I=Math.imul(at,Tt),m=m+Math.imul(tt,Kt)|0,v=(v=v+Math.imul(tt,Bt)|0)+Math.imul(et,Kt)|0,I=I+Math.imul(et,Bt)|0;var zr=(b+(m=m+Math.imul(bt,$t)|0)|0)+((8191&(v=(v=v+Math.imul(bt,se)|0)+Math.imul(_t,$t)|0))<<13)|0;b=((I=I+Math.imul(_t,se)|0)+(v>>>13)|0)+(zr>>>26)|0,zr&=67108863,m=Math.imul(st,Kt),v=(v=Math.imul(st,Bt))+Math.imul(at,Kt)|0,I=Math.imul(at,Bt);var ar=(b+(m=m+Math.imul(tt,$t)|0)|0)+((8191&(v=(v=v+Math.imul(tt,se)|0)+Math.imul(et,$t)|0))<<13)|0;b=((I=I+Math.imul(et,se)|0)+(v>>>13)|0)+(ar>>>26)|0,ar&=67108863;var Mr=(b+(m=Math.imul(st,$t))|0)+((8191&(v=(v=Math.imul(st,se))+Math.imul(at,$t)|0))<<13)|0;return b=((I=Math.imul(at,se))+(v>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,nt[0]=Ce,nt[1]=Te,nt[2]=Ne,nt[3]=hr,nt[4]=fr,nt[5]=lr,nt[6]=dr,nt[7]=pr,nt[8]=yr,nt[9]=mr,nt[10]=Sr,nt[11]=Er,nt[12]=Pr,nt[13]=Xe,nt[14]=xr,nt[15]=Ge,nt[16]=zr,nt[17]=ar,nt[18]=Mr,b!==0&&(nt[19]=b,w.length++),w};function k(h,d,w){return new x().mulp(h,d,w)}function x(h,d){this.x=h,this.y=d}Math.imul||(p=y),s.prototype.mulTo=function(h,d){var w=this.length+h.length;return this.length===10&&h.length===10?p(this,h,d):w<63?y(this,h,d):w<1024?function(m,v,I){I.negative=v.negative^m.negative,I.length=m.length+v.length;for(var U=0,$=0,nt=0;nt<I.length-1;nt++){var b=$;$=0;for(var C=67108863&U,V=Math.min(nt,v.length-1),Z=Math.max(0,nt-m.length+1);Z<=V;Z++){var it=nt-Z,lt=(0|m.words[it])*(0|v.words[Z]),dt=67108863&lt;C=67108863&(dt=dt+C|0),$+=(b=(b=b+(lt/67108864|0)|0)+(dt>>>26)|0)>>>26,b&=67108863}I.words[nt]=C,U=b,b=$}return U!==0?I.words[nt]=U:I.length--,I.strip()}(this,h,d):k(this,h,d)},x.prototype.makeRBT=function(h){for(var d=Array(h),w=s.prototype._countBits(h)-1,m=0;m<h;m++)d[m]=this.revBin(m,w,h);return d},x.prototype.revBin=function(h,d,w){if(h===0||h===w-1)return h;for(var m=0,v=0;v<d;v++)m|=(1&h)<<d-v-1,h>>=1;return m},x.prototype.permute=function(h,d,w,m,v,I){for(var U=0;U<I;U++)m[U]=d[h[U]],v[U]=w[h[U]]},x.prototype.transform=function(h,d,w,m,v,I){this.permute(I,h,d,w,m,v);for(var U=1;U<v;U<<=1)for(var $=U<<1,nt=Math.cos(2*Math.PI/$),b=Math.sin(2*Math.PI/$),C=0;C<v;C+=$)for(var V=nt,Z=b,it=0;it<U;it++){var lt=w[C+it],dt=m[C+it],pt=w[C+it+U],G=m[C+it+U],ut=V*pt-Z*G;G=V*G+Z*pt,pt=ut,w[C+it]=lt+pt,m[C+it]=dt+G,w[C+it+U]=lt-pt,m[C+it+U]=dt-G,it!==$&&(ut=nt*V-b*Z,Z=nt*Z+b*V,V=ut)}},x.prototype.guessLen13b=function(h,d){var w=1|Math.max(d,h),m=1&w,v=0;for(w=w/2|0;w;w>>>=1)v++;return 1<<v+1+m},x.prototype.conjugate=function(h,d,w){if(!(w<=1))for(var m=0;m<w/2;m++){var v=h[m];h[m]=h[w-m-1],h[w-m-1]=v,v=d[m],d[m]=-d[w-m-1],d[w-m-1]=-v}},x.prototype.normalize13b=function(h,d){for(var w=0,m=0;m<d/2;m++){var v=8192*Math.round(h[2*m+1]/d)+Math.round(h[2*m]/d)+w;h[m]=67108863&v,w=v<67108864?0:v/67108864|0}return h},x.prototype.convert13b=function(h,d,w,m){for(var v=0,I=0;I<d;I++)v+=0|h[I],w[2*I]=8191&v,v>>>=13,w[2*I+1]=8191&v,v>>>=13;for(I=2*d;I<m;++I)w[I]=0;n(v===0),n((-8192&v)==0)},x.prototype.stub=function(h){for(var d=Array(h),w=0;w<h;w++)d[w]=0;return d},x.prototype.mulp=function(h,d,w){var m=2*this.guessLen13b(h.length,d.length),v=this.makeRBT(m),I=this.stub(m),U=Array(m),$=Array(m),nt=Array(m),b=Array(m),C=Array(m),V=Array(m),Z=w.words;Z.length=m,this.convert13b(h.words,h.length,U,m),this.convert13b(d.words,d.length,b,m),this.transform(U,I,$,nt,m,v),this.transform(b,I,C,V,m,v);for(var it=0;it<m;it++){var lt=$[it]*C[it]-nt[it]*V[it];nt[it]=$[it]*V[it]+nt[it]*C[it],$[it]=lt}return this.conjugate($,nt,m),this.transform($,nt,Z,I,m,v),this.conjugate(Z,I,m),this.normalize13b(Z,m),w.negative=h.negative^d.negative,w.length=h.length+d.length,w.strip()},s.prototype.mul=function(h){var d=new s(null);return d.words=Array(this.length+h.length),this.mulTo(h,d)},s.prototype.mulf=function(h){var d=new s(null);return d.words=Array(this.length+h.length),k(this,h,d)},s.prototype.imul=function(h){return this.clone().mulTo(h,this)},s.prototype.imuln=function(h){n(typeof h=="number"),n(h<67108864);for(var d=0,w=0;w<this.length;w++){var m=(0|this.words[w])*h,v=(67108863&m)+(67108863&d);d>>=26,d+=m/67108864|0,d+=v>>>26,this.words[w]=67108863&v}return d!==0&&(this.words[w]=d,this.length++),this},s.prototype.muln=function(h){return this.clone().imuln(h)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(h){var d=function(I){for(var U=Array(I.bitLength()),$=0;$<U.length;$++){var nt=$/26|0,b=$%26;U[$]=(I.words[nt]&1<<b)>>>b}return U}(h);if(d.length===0)return new s(1);for(var w=this,m=0;m<d.length&&d[m]===0;m++,w=w.sqr());if(++m<d.length)for(var v=w.sqr();m<d.length;m++,v=v.sqr())d[m]!==0&&(w=w.mul(v));return w},s.prototype.iushln=function(h){n(typeof h=="number"&&h>=0);var d,w=h%26,m=(h-w)/26,v=67108863>>>26-w<<26-w;if(w!==0){var I=0;for(d=0;d<this.length;d++){var U=this.words[d]&v,$=(0|this.words[d])-U<<w;this.words[d]=$|I,I=U>>>26-w}I&&(this.words[d]=I,this.length++)}if(m!==0){for(d=this.length-1;d>=0;d--)this.words[d+m]=this.words[d];for(d=0;d<m;d++)this.words[d]=0;this.length+=m}return this.strip()},s.prototype.ishln=function(h){return n(this.negative===0),this.iushln(h)},s.prototype.iushrn=function(h,d,w){var m;n(typeof h=="number"&&h>=0),m=d?(d-d%26)/26:0;var v=h%26,I=Math.min((h-v)/26,this.length),U=67108863^67108863>>>v<<v,$=w;if(m=Math.max(0,m-=I),$){for(var nt=0;nt<I;nt++)$.words[nt]=this.words[nt];$.length=I}if(I!==0)if(this.length>I)for(this.length-=I,nt=0;nt<this.length;nt++)this.words[nt]=this.words[nt+I];else this.words[0]=0,this.length=1;var b=0;for(nt=this.length-1;nt>=0&&(b!==0||nt>=m);nt--){var C=0|this.words[nt];this.words[nt]=b<<26-v|C>>>v,b=C&U}return $&&b!==0&&($.words[$.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(h,d,w){return n(this.negative===0),this.iushrn(h,d,w)},s.prototype.shln=function(h){return this.clone().ishln(h)},s.prototype.ushln=function(h){return this.clone().iushln(h)},s.prototype.shrn=function(h){return this.clone().ishrn(h)},s.prototype.ushrn=function(h){return this.clone().iushrn(h)},s.prototype.testn=function(h){n(typeof h=="number"&&h>=0);var d=h%26,w=(h-d)/26,m=1<<d;return!(this.length<=w)&&!!(this.words[w]&m)},s.prototype.imaskn=function(h){n(typeof h=="number"&&h>=0);var d=h%26,w=(h-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(d!==0&&w++,this.length=Math.min(w,this.length),d!==0){var m=67108863^67108863>>>d<<d;this.words[this.length-1]&=m}return this.strip()},s.prototype.maskn=function(h){return this.clone().imaskn(h)},s.prototype.iaddn=function(h){return n(typeof h=="number"),n(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(0|this.words[0])<h?(this.words[0]=h-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},s.prototype._iaddn=function(h){this.words[0]+=h;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(h){if(n(typeof h=="number"),n(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},s.prototype.addn=function(h){return this.clone().iaddn(h)},s.prototype.subn=function(h){return this.clone().isubn(h)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(h,d,w){var m,v,I=h.length+w;this._expand(I);var U=0;for(m=0;m<h.length;m++){v=(0|this.words[m+w])+U;var $=(0|h.words[m])*d;U=((v-=67108863&$)>>26)-($/67108864|0),this.words[m+w]=67108863&v}for(;m<this.length-w;m++)U=(v=(0|this.words[m+w])+U)>>26,this.words[m+w]=67108863&v;if(U===0)return this.strip();for(n(U===-1),U=0,m=0;m<this.length;m++)U=(v=-(0|this.words[m])+U)>>26,this.words[m]=67108863&v;return this.negative=1,this.strip()},s.prototype._wordDiv=function(h,d){var w=(this.length,h.length),m=this.clone(),v=h,I=0|v.words[v.length-1];(w=26-this._countBits(I))!=0&&(v=v.ushln(w),m.iushln(w),I=0|v.words[v.length-1]);var U,$=m.length-v.length;if(d!=="mod"){(U=new s(null)).length=$+1,U.words=Array(U.length);for(var nt=0;nt<U.length;nt++)U.words[nt]=0}var b=m.clone()._ishlnsubmul(v,1,$);b.negative===0&&(m=b,U&&(U.words[$]=1));for(var C=$-1;C>=0;C--){var V=67108864*(0|m.words[v.length+C])+(0|m.words[v.length+C-1]);for(V=Math.min(V/I|0,67108863),m._ishlnsubmul(v,V,C);m.negative!==0;)V--,m.negative=0,m._ishlnsubmul(v,1,C),m.isZero()||(m.negative^=1);U&&(U.words[C]=V)}return U&&U.strip(),m.strip(),d!=="div"&&w!==0&&m.iushrn(w),{div:U||null,mod:m}},s.prototype.divmod=function(h,d,w){return n(!h.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:this.negative!==0&&h.negative===0?(I=this.neg().divmod(h,d),d!=="mod"&&(m=I.div.neg()),d!=="div"&&(v=I.mod.neg(),w&&v.negative!==0&&v.iadd(h)),{div:m,mod:v}):this.negative===0&&h.negative!==0?(I=this.divmod(h.neg(),d),d!=="mod"&&(m=I.div.neg()),{div:m,mod:I.mod}):(this.negative&h.negative)!=0?(I=this.neg().divmod(h.neg(),d),d!=="div"&&(v=I.mod.neg(),w&&v.negative!==0&&v.isub(h)),{div:I.div,mod:v}):h.length>this.length||this.cmp(h)<0?{div:new s(0),mod:this}:h.length===1?d==="div"?{div:this.divn(h.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new s(this.modn(h.words[0]))}:this._wordDiv(h,d);var m,v,I},s.prototype.div=function(h){return this.divmod(h,"div",!1).div},s.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},s.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},s.prototype.divRound=function(h){var d=this.divmod(h);if(d.mod.isZero())return d.div;var w=d.div.negative!==0?d.mod.isub(h):d.mod,m=h.ushrn(1),v=h.andln(1),I=w.cmp(m);return I<0||v===1&&I===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modn=function(h){n(h<=67108863);for(var d=(1<<26)%h,w=0,m=this.length-1;m>=0;m--)w=(d*w+(0|this.words[m]))%h;return w},s.prototype.idivn=function(h){n(h<=67108863);for(var d=0,w=this.length-1;w>=0;w--){var m=(0|this.words[w])+67108864*d;this.words[w]=m/h|0,d=m%h}return this.strip()},s.prototype.divn=function(h){return this.clone().idivn(h)},s.prototype.egcd=function(h){n(h.negative===0),n(!h.isZero());var d=this,w=h.clone();d=d.negative!==0?d.umod(h):d.clone();for(var m=new s(1),v=new s(0),I=new s(0),U=new s(1),$=0;d.isEven()&&w.isEven();)d.iushrn(1),w.iushrn(1),++$;for(var nt=w.clone(),b=d.clone();!d.isZero();){for(var C=0,V=1;(d.words[0]&V)==0&&C<26;++C,V<<=1);if(C>0)for(d.iushrn(C);C-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(nt),v.isub(b)),m.iushrn(1),v.iushrn(1);for(var Z=0,it=1;(w.words[0]&it)==0&&Z<26;++Z,it<<=1);if(Z>0)for(w.iushrn(Z);Z-- >0;)(I.isOdd()||U.isOdd())&&(I.iadd(nt),U.isub(b)),I.iushrn(1),U.iushrn(1);d.cmp(w)>=0?(d.isub(w),m.isub(I),v.isub(U)):(w.isub(d),I.isub(m),U.isub(v))}return{a:I,b:U,gcd:w.iushln($)}},s.prototype._invmp=function(h){n(h.negative===0),n(!h.isZero());var d=this,w=h.clone();d=d.negative!==0?d.umod(h):d.clone();for(var m,v=new s(1),I=new s(0),U=w.clone();d.cmpn(1)>0&&w.cmpn(1)>0;){for(var $=0,nt=1;(d.words[0]&nt)==0&&$<26;++$,nt<<=1);if($>0)for(d.iushrn($);$-- >0;)v.isOdd()&&v.iadd(U),v.iushrn(1);for(var b=0,C=1;(w.words[0]&C)==0&&b<26;++b,C<<=1);if(b>0)for(w.iushrn(b);b-- >0;)I.isOdd()&&I.iadd(U),I.iushrn(1);d.cmp(w)>=0?(d.isub(w),v.isub(I)):(w.isub(d),I.isub(v))}return(m=d.cmpn(1)===0?v:I).cmpn(0)<0&&m.iadd(h),m},s.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var d=this.clone(),w=h.clone();d.negative=0,w.negative=0;for(var m=0;d.isEven()&&w.isEven();m++)d.iushrn(1),w.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;w.isEven();)w.iushrn(1);var v=d.cmp(w);if(v<0){var I=d;d=w,w=I}else if(v===0||w.cmpn(1)===0)break;d.isub(w)}return w.iushln(m)},s.prototype.invm=function(h){return this.egcd(h).a.umod(h)},s.prototype.isEven=function(){return(1&this.words[0])==0},s.prototype.isOdd=function(){return(1&this.words[0])==1},s.prototype.andln=function(h){return this.words[0]&h},s.prototype.bincn=function(h){n(typeof h=="number");var d=h%26,w=(h-d)/26,m=1<<d;if(this.length<=w)return this._expand(w+1),this.words[w]|=m,this;for(var v=m,I=w;v!==0&&I<this.length;I++){var U=0|this.words[I];v=(U+=v)>>>26,U&=67108863,this.words[I]=U}return v!==0&&(this.words[I]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(h){var d,w=h<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;if(this.strip(),this.length>1)d=1;else{w&&(h=-h),n(h<=67108863,"Number is too big");var m=0|this.words[0];d=m===h?0:m<h?-1:1}return this.negative!==0?0|-d:d},s.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var d=this.ucmp(h);return this.negative!==0?0|-d:d},s.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var d=0,w=this.length-1;w>=0;w--){var m=0|this.words[w],v=0|h.words[w];if(m!==v){m<v?d=-1:m>v&&(d=1);break}}return d},s.prototype.gtn=function(h){return this.cmpn(h)===1},s.prototype.gt=function(h){return this.cmp(h)===1},s.prototype.gten=function(h){return this.cmpn(h)>=0},s.prototype.gte=function(h){return this.cmp(h)>=0},s.prototype.ltn=function(h){return this.cmpn(h)===-1},s.prototype.lt=function(h){return this.cmp(h)===-1},s.prototype.lten=function(h){return this.cmpn(h)<=0},s.prototype.lte=function(h){return this.cmp(h)<=0},s.prototype.eqn=function(h){return this.cmpn(h)===0},s.prototype.eq=function(h){return this.cmp(h)===0},s.red=function(h){return new g(h)},s.prototype.toRed=function(h){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(h){return this.red=h,this},s.prototype.forceRed=function(h){return n(!this.red,"Already a number in reduction context"),this._forceRed(h)},s.prototype.redAdd=function(h){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},s.prototype.redIAdd=function(h){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},s.prototype.redSub=function(h){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},s.prototype.redISub=function(h){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},s.prototype.redShl=function(h){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},s.prototype.redMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},s.prototype.redIMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(h){return n(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var E={k256:null,p224:null,p192:null,p25519:null};function D(h,d){this.name=h,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function q(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function z(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function L(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function g(h){if(typeof h=="string"){var d=s._prime(h);this.m=d.p,this.prime=d}else n(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}function T(h){g.call(this,h),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}D.prototype._tmp=function(){var h=new s(null);return h.words=Array(Math.ceil(this.n/13)),h},D.prototype.ireduce=function(h){var d,w=h;do this.split(w,this.tmp),d=(w=(w=this.imulK(w)).iadd(this.tmp)).bitLength();while(d>this.n);var m=d<this.n?-1:w.ucmp(this.p);return m===0?(w.words[0]=0,w.length=1):m>0?w.isub(this.p):w.strip(),w},D.prototype.split=function(h,d){h.iushrn(this.n,0,d)},D.prototype.imulK=function(h){return h.imul(this.k)},i(q,D),q.prototype.split=function(h,d){for(var w=4194303,m=Math.min(h.length,9),v=0;v<m;v++)d.words[v]=h.words[v];if(d.length=m,h.length<=9)return h.words[0]=0,void(h.length=1);var I=h.words[9];for(d.words[d.length++]=I&w,v=10;v<h.length;v++){var U=0|h.words[v];h.words[v-10]=(U&w)<<4|I>>>22,I=U}I>>>=22,h.words[v-10]=I,I===0&&h.length>10?h.length-=10:h.length-=9},q.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var d=0,w=0;w<h.length;w++){var m=0|h.words[w];d+=977*m,h.words[w]=67108863&d,d=64*m+(d/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h},i(z,D),i(O,D),i(L,D),L.prototype.imulK=function(h){for(var d=0,w=0;w<h.length;w++){var m=19*(0|h.words[w])+d,v=67108863&m;m>>>=26,h.words[w]=v,d=m}return d!==0&&(h.words[h.length++]=d),h},s._prime=function(h){if(E[h])return E[h];var d;if(h==="k256")d=new q;else if(h==="p224")d=new z;else if(h==="p192")d=new O;else{if(h!=="p25519")throw Error("Unknown prime "+h);d=new L}return E[h]=d,d},g.prototype._verify1=function(h){n(h.negative===0,"red works only with positives"),n(h.red,"red works only with red numbers")},g.prototype._verify2=function(h,d){n((h.negative|d.negative)==0,"red works only with positives"),n(h.red&&h.red===d.red,"red works only with red numbers")},g.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},g.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},g.prototype.add=function(h,d){this._verify2(h,d);var w=h.add(d);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},g.prototype.iadd=function(h,d){this._verify2(h,d);var w=h.iadd(d);return w.cmp(this.m)>=0&&w.isub(this.m),w},g.prototype.sub=function(h,d){this._verify2(h,d);var w=h.sub(d);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},g.prototype.isub=function(h,d){this._verify2(h,d);var w=h.isub(d);return w.cmpn(0)<0&&w.iadd(this.m),w},g.prototype.shl=function(h,d){return this._verify1(h),this.imod(h.ushln(d))},g.prototype.imul=function(h,d){return this._verify2(h,d),this.imod(h.imul(d))},g.prototype.mul=function(h,d){return this._verify2(h,d),this.imod(h.mul(d))},g.prototype.isqr=function(h){return this.imul(h,h.clone())},g.prototype.sqr=function(h){return this.mul(h,h)},g.prototype.sqrt=function(h){if(h.isZero())return h.clone();var d=this.m.andln(3);if(n(d%2==1),d===3){var w=this.m.add(new s(1)).iushrn(2);return this.pow(h,w)}for(var m=this.m.subn(1),v=0;!m.isZero()&&m.andln(1)===0;)v++,m.iushrn(1);n(!m.isZero());var I=new s(1).toRed(this),U=I.redNeg(),$=this.m.subn(1).iushrn(1),nt=this.m.bitLength();for(nt=new s(2*nt*nt).toRed(this);this.pow(nt,$).cmp(U)!==0;)nt.redIAdd(U);for(var b=this.pow(nt,m),C=this.pow(h,m.addn(1).iushrn(1)),V=this.pow(h,m),Z=v;V.cmp(I)!==0;){for(var it=V,lt=0;it.cmp(I)!==0;lt++)it=it.redSqr();n(lt<Z);var dt=this.pow(b,new s(1).iushln(Z-lt-1));C=C.redMul(dt),b=dt.redSqr(),V=V.redMul(b),Z=lt}return C},g.prototype.invm=function(h){var d=h._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},g.prototype.pow=function(h,d){if(d.isZero())return new s(1).toRed(this);if(d.cmpn(1)===0)return h.clone();var w=Array(16);w[0]=new s(1).toRed(this),w[1]=h;for(var m=2;m<w.length;m++)w[m]=this.mul(w[m-1],h);var v=w[0],I=0,U=0,$=d.bitLength()%26;for($===0&&($=26),m=d.length-1;m>=0;m--){for(var nt=d.words[m],b=$-1;b>=0;b--){var C=nt>>b&1;v!==w[0]&&(v=this.sqr(v)),C!==0||I!==0?(I<<=1,I|=C,(++U==4||m===0&&b===0)&&(v=this.mul(v,w[I]),U=0,I=0)):U=0}$=26}return v},g.prototype.convertTo=function(h){var d=h.umod(this.m);return d===h?d.clone():d},g.prototype.convertFrom=function(h){var d=h.clone();return d.red=null,d},s.mont=function(h){return new T(h)},i(T,g),T.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},T.prototype.convertFrom=function(h){var d=this.imod(h.mul(this.rinv));return d.red=null,d},T.prototype.imul=function(h,d){if(h.isZero()||d.isZero())return h.words[0]=0,h.length=1,h;var w=h.imul(d),m=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=w.isub(m).iushrn(this.shift),I=v;return v.cmp(this.m)>=0?I=v.isub(this.m):v.cmpn(0)<0&&(I=v.iadd(this.m)),I._forceRed(this)},T.prototype.mul=function(h,d){if(h.isZero()||d.isZero())return new s(0)._forceRed(this);var w=h.mul(d),m=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=w.isub(m).iushrn(this.shift),I=v;return v.cmp(this.m)>=0?I=v.isub(this.m):v.cmpn(0)<0&&(I=v.iadd(this.m)),I._forceRed(this)},T.prototype.invm=function(h){return this.imod(h._invmp(this.m).mul(this.r2))._forceRed(this)}})(t,Fl)}),sa=Object.freeze({__proto__:null,default:Ut,__moduleExports:Ut});class aa{constructor(e){if(e===void 0)throw Error("Invalid BigInteger input");this.value=new Ut(e)}clone(){const e=new aa(null);return this.value.copy(e.value),e}iinc(){return this.value.iadd(new Ut(1)),this}inc(){return this.clone().iinc()}idec(){return this.value.isub(new Ut(1)),this}dec(){return this.clone().idec()}iadd(e){return this.value.iadd(e.value),this}add(e){return this.clone().iadd(e)}isub(e){return this.value.isub(e.value),this}sub(e){return this.clone().isub(e)}imul(e){return this.value.imul(e.value),this}mul(e){return this.clone().imul(e)}imod(e){return this.value=this.value.umod(e.value),this}mod(e){return this.clone().imod(e)}modExp(e,r){const n=r.isEven()?Ut.red(r.value):Ut.mont(r.value),i=this.clone();return i.value=i.value.toRed(n).redPow(e.value).fromRed(),i}modInv(e){if(!this.gcd(e).isOne())throw Error("Inverse does not exist");return new aa(this.value.invm(e.value))}gcd(e){return new aa(this.value.gcd(e.value))}ileftShift(e){return this.value.ishln(e.value.toNumber()),this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value.ishrn(e.value.toNumber()),this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value.eq(e.value)}lt(e){return this.value.lt(e.value)}lte(e){return this.value.lte(e.value)}gt(e){return this.value.gt(e.value)}gte(e){return this.value.gte(e.value)}isZero(){return this.value.isZero()}isOne(){return this.value.eq(new Ut(1))}isNegative(){return this.value.isNeg()}isEven(){return this.value.isEven()}abs(){const e=this.clone();return e.value=e.value.abs(),e}toString(){return this.value.toString()}toNumber(){return this.value.toNumber()}getBit(e){return this.value.testn(e)?1:0}bitLength(){return this.value.bitLength()}byteLength(){return this.value.byteLength()}toUint8Array(e="be",r){return this.value.toArrayLike(Uint8Array,e,r)}}var K0,p3=Object.freeze({__proto__:null,default:aa}),Kr=Wr(function(t,e){var r=e;function n(s){return s.length===1?"0"+s:s}function i(s){for(var a="",o=0;o<s.length;o++)a+=n(s[o].toString(16));return a}r.toArray=function(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var o=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)o[u]=0|s[u];return o}if(a==="hex")for((s=s.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(s="0"+s),u=0;u<s.length;u+=2)o.push(parseInt(s[u]+s[u+1],16));else for(u=0;u<s.length;u++){var c=s.charCodeAt(u),f=c>>8,l=255&c;f?o.push(f,l):o.push(l)}return o},r.zero2=n,r.toHex=i,r.encode=function(s,a){return a==="hex"?i(s):s}}),fe=Wr(function(t,e){var r=e;r.assert=Un,r.toArray=Kr.toArray,r.zero2=Kr.zero2,r.toHex=Kr.toHex,r.encode=Kr.encode,r.getNAF=function(n,i){for(var s=[],a=1<<i+1,o=n.clone();o.cmpn(1)>=0;){var u;if(o.isOdd()){var c=o.andln(a-1);u=c>(a>>1)-1?(a>>1)-c:c,o.isubn(u)}else u=0;s.push(u);for(var f=o.cmpn(0)!==0&&o.andln(a-1)===0?i+1:1,l=1;l<f;l++)s.push(0);o.iushrn(f)}return s},r.getJSF=function(n,i){var s=[[],[]];n=n.clone(),i=i.clone();for(var a=0,o=0;n.cmpn(-a)>0||i.cmpn(-o)>0;){var u,c,f,l=n.andln(3)+a&3,y=i.andln(3)+o&3;l===3&&(l=-1),y===3&&(y=-1),(1&l)==0?u=0:u=(f=n.andln(7)+a&7)!=3&&f!==5||y!==2?l:-l,s[0].push(u),(1&y)==0?c=0:c=(f=i.andln(7)+o&7)!=3&&f!==5||l!==2?y:-y,s[1].push(c),2*a===u+1&&(a=1-a),2*o===c+1&&(o=1-o),n.iushrn(1),i.iushrn(1)}return s},r.cachedProperty=function(n,i,s){var a="_"+i;n.prototype[i]=function(){return this[a]!==void 0?this[a]:this[a]=s.call(this)}},r.parseBytes=function(n){return typeof n=="string"?r.toArray(n,"hex"):n},r.intFromLE=function(n){return new Ut(n,"hex","le")}}),Fo=function(t){return K0||(K0=new Xn(null)),K0.generate(t)};function Xn(t){this.rand=t}var y3=Xn;if(Xn.prototype.generate=function(t){return this._rand(t)},Xn.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},typeof self=="object")self.crypto&&self.crypto.getRandomValues?Xn.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?Xn.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:typeof window=="object"&&(Xn.prototype._rand=function(){throw Error("Not implemented yet")});else try{if(typeof(void 0).randomBytes!="function")throw Error("Not supported");Xn.prototype._rand=function(t){return(void 0).randomBytes(t)}}catch{}Fo.Rand=y3;var Lo=fe.getNAF,m3=fe.getJSF,jo=fe.assert;function Qn(t,e){this.type=t,this.p=new Ut(e.p,16),this.red=e.prime?Ut.red(e.prime):Ut.mont(this.p),this.zero=new Ut(0).toRed(this.red),this.one=new Ut(1).toRed(this.red),this.two=new Ut(2).toRed(this.red),this.n=e.n&&new Ut(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,];var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Je=Qn;function Ar(t,e){this.curve=t,this.type=e,this.precomputed=null}Qn.prototype.point=function(){throw Error("Not implemented")},Qn.prototype.validate=function(){throw Error("Not implemented")},Qn.prototype._fixedNafMul=function(t,e){jo(t.precomputed);var r=t._getDoubles(),n=Lo(e,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var s=[],a=0;a<n.length;a+=r.step){var o=0;for(e=a+r.step-1;e>=a;e--)o=(o<<1)+n[e];s.push(o)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),f=i;f>0;f--){for(a=0;a<s.length;a++)(o=s[a])===f?c=c.mixedAdd(r.points[a]):o===-f&&(c=c.mixedAdd(r.points[a].neg()));u=u.add(c)}return u.toP()},Qn.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=Lo(e,r),a=this.jpoint(null,null,null),o=s.length-1;o>=0;o--){for(e=0;o>=0&&s[o]===0;o--)e++;if(o>=0&&e++,a=a.dblp(e),o<0)break;var u=s[o];jo(u!==0),a=t.type==="affine"?u>0?a.mixedAdd(i[u-1>>1]):a.mixedAdd(i[-u-1>>1].neg()):u>0?a.add(i[u-1>>1]):a.add(i[-u-1>>1].neg())}return t.type==="affine"?a.toP():a},Qn.prototype._wnafMulAdd=function(t,e,r,n,i){for(var s=this._wnafT1,a=this._wnafT2,o=this._wnafT3,u=0,c=0;c<n;c++){var f=(T=e[c])._getNAFPoints(t);s[c]=f.wnd,a[c]=f.points}for(c=n-1;c>=1;c-=2){var l=c-1,y=c;if(s[l]===1&&s[y]===1){var p=[e[l],null,null,e[y]];e[l].y.cmp(e[y].y)===0?(p[1]=e[l].add(e[y]),p[2]=e[l].toJ().mixedAdd(e[y].neg())):e[l].y.cmp(e[y].y.redNeg())===0?(p[1]=e[l].toJ().mixedAdd(e[y]),p[2]=e[l].add(e[y].neg())):(p[1]=e[l].toJ().mixedAdd(e[y]),p[2]=e[l].toJ().mixedAdd(e[y].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],x=m3(r[l],r[y]);u=Math.max(x[0].length,u),o[l]=Array(u),o[y]=Array(u);for(var E=0;E<u;E++){var D=0|x[0][E],q=0|x[1][E];o[l][E]=k[3*(D+1)+(q+1)],o[y][E]=0,a[l]=p}}else o[l]=Lo(r[l],s[l]),o[y]=Lo(r[y],s[y]),u=Math.max(o[l].length,u),u=Math.max(o[y].length,u)}var z=this.jpoint(null,null,null),O=this._wnafT4;for(c=u;c>=0;c--){for(var L=0;c>=0;){var g=!0;for(E=0;E<n;E++)O[E]=0|o[E][c],O[E]!==0&&(g=!1);if(!g)break;L++,c--}if(c>=0&&L++,z=z.dblp(L),c<0)break;for(E=0;E<n;E++){var T,h=O[E];h!==0&&(h>0?T=a[E][h-1>>1]:h<0&&(T=a[E][-h-1>>1].neg()),z=T.type==="affine"?z.mixedAdd(T):z.add(T))}}for(c=0;c<n;c++)a[c]=null;return i?z:z.toP()},Qn.BasePoint=Ar,Ar.prototype.eq=function(){throw Error("Not implemented")},Ar.prototype.validate=function(){return this.curve.validate(this)},Qn.prototype.decodePoint=function(t,e){t=fe.toArray(t,e);var r=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1==2*r)return t[0]===6?jo(t[t.length-1]%2==0):t[0]===7&&jo(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((t[0]===2||t[0]===3)&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),t[0]===3);throw Error("Unknown point format")},Ar.prototype.encodeCompressed=function(t){return this.encode(t,!0)},Ar.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},Ar.prototype.encode=function(t,e){return fe.encode(this._encode(e),t)},Ar.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},Ar.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},Ar.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},Ar.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=r===1?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},Ar.prototype._getBeta=function(){return null},Ar.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var g3=fe.assert;function kr(t){Je.call(this,"short",t),this.a=new Ut(t.a,16).toRed(this.red),this.b=new Ut(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}Bn(kr,Je);var b3=kr;function xe(t,e,r,n){Je.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ut(e,16),this.y=new Ut(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Be(t,e,r,n){Je.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ut(0)):(this.x=new Ut(e,16),this.y=new Ut(r,16),this.z=new Ut(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}function Ji(t){Je.call(this,"mont",t),this.a=new Ut(t.a,16).toRed(this.red),this.b=new Ut(t.b,16).toRed(this.red),this.i4=new Ut(4).toRed(this.red).redInvm(),this.two=new Ut(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}kr.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var e,r;if(t.beta)e=new Ut(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new Ut(t.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))===0?r=i[0]:(r=i[1],g3(this.g.mul(r).x.cmp(this.g.x.redMul(e))===0))}return{beta:e,lambda:r,basis:t.basis?t.basis.map(function(s){return{a:new Ut(s.a,16),b:new Ut(s.b,16)}}):this._getEndoBasis(r)}}},kr.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Ut.mont(t),r=new Ut(2).toRed(e).redInvm(),n=r.redNeg(),i=new Ut(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},kr.prototype._getEndoBasis=function(t){for(var e,r,n,i,s,a,o,u,c,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=t,y=this.n.clone(),p=new Ut(1),k=new Ut(0),x=new Ut(0),E=new Ut(1),D=0;l.cmpn(0)!==0;){var q=y.div(l);u=y.sub(q.mul(l)),c=x.sub(q.mul(p));var z=E.sub(q.mul(k));if(!n&&u.cmp(f)<0)e=o.neg(),r=p,n=u.neg(),i=c;else if(n&&++D==2)break;o=u,y=l,l=u,x=p,p=c,E=k,k=z}s=u.neg(),a=c;var O=n.sqr().add(i.sqr());return s.sqr().add(a.sqr()).cmp(O)>=0&&(s=e,a=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:i},{a:s,b:a}]},kr.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),a=i.mul(r.a),o=s.mul(n.a),u=i.mul(r.b),c=s.mul(n.b);return{k1:t.sub(a).sub(o),k2:u.add(c).neg()}},kr.prototype.pointFromX=function(t,e){(t=new Ut(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(n.redSqr().redSub(r).cmp(this.zero)!==0)throw Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},kr.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return r.redSqr().redISub(i).cmpn(0)===0},kr.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var a=this._endoSplit(e[s]),o=t[s],u=o._getBeta();a.k1.negative&&(a.k1.ineg(),o=o.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),n[2*s]=o,n[2*s+1]=u,i[2*s]=a.k1,i[2*s+1]=a.k2}for(var c=this._wnafMulAdd(1,n,i,2*s,r),f=0;f<2*s;f++)n[f]=null,i[f]=null;return c},Bn(xe,Je.BasePoint),kr.prototype.point=function(t,e,r){return new xe(this,t,e,r)},kr.prototype.pointFromJSON=function(t,e){return xe.fromJSON(this,t,e)},xe.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(i){return r.point(i.x.redMul(r.endo.beta),i.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},xe.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},xe.fromJSON=function(t,e,r){typeof e=="string"&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(a){return t.point(a[0],a[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},xe.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},xe.prototype.isInfinity=function(){return this.inf},xe.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var e=this.y.redSub(t.y);e.cmpn(0)!==0&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},xe.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)},xe.prototype.getX=function(){return this.x.fromRed()},xe.prototype.getY=function(){return this.y.fromRed()},xe.prototype.mul=function(t){return t=new Ut(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},xe.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},xe.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},xe.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)},xe.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(i){return i.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},xe.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Bn(Be,Je.BasePoint),kr.prototype.jpoint=function(t,e,r){return new Be(this,t,e,r)},Be.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},Be.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Be.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(r.redMul(this.z)),o=n.redSub(i),u=s.redSub(a);if(o.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),f=c.redMul(o),l=n.redMul(c),y=u.redSqr().redIAdd(f).redISub(l).redISub(l),p=u.redMul(l.redISub(y)).redISub(s.redMul(f)),k=this.z.redMul(t.z).redMul(o);return this.curve.jpoint(y,p,k)},Be.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),a=r.redSub(n),o=i.redSub(s);if(a.cmpn(0)===0)return o.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),f=r.redMul(u),l=o.redSqr().redIAdd(c).redISub(f).redISub(f),y=o.redMul(f.redISub(l)).redISub(i.redMul(c)),p=this.z.redMul(a);return this.curve.jpoint(l,y,p)},Be.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}var n=this.curve.a,i=this.curve.tinv,s=this.x,a=this.y,o=this.z,u=o.redSqr().redSqr(),c=a.redAdd(a);for(r=0;r<t;r++){var f=s.redSqr(),l=c.redSqr(),y=l.redSqr(),p=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),k=s.redMul(l),x=p.redSqr().redISub(k.redAdd(k)),E=k.redISub(x),D=p.redMul(E);D=D.redIAdd(D).redISub(y);var q=c.redMul(o);r+1<t&&(u=u.redMul(y)),s=x,o=q,c=D}return this.curve.jpoint(s,c.redMul(i),o)},Be.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Be.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(s);a=a.redIAdd(a);var o=n.redAdd(n).redIAdd(n),u=o.redSqr().redISub(a).redISub(a),c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),t=u,e=o.redMul(a.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),l=this.y.redSqr(),y=l.redSqr(),p=this.x.redAdd(l).redSqr().redISub(f).redISub(y);p=p.redIAdd(p);var k=f.redAdd(f).redIAdd(f),x=k.redSqr(),E=y.redIAdd(y);E=(E=E.redIAdd(E)).redIAdd(E),t=x.redISub(p).redISub(p),e=k.redMul(p.redISub(t)).redISub(E),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},Be.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(s);a=a.redIAdd(a);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=o.redSqr().redISub(a).redISub(a);t=u;var c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),e=o.redMul(a.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),l=this.y.redSqr(),y=this.x.redMul(l),p=this.x.redSub(f).redMul(this.x.redAdd(f));p=p.redAdd(p).redIAdd(p);var k=y.redIAdd(y),x=(k=k.redIAdd(k)).redAdd(k);t=p.redSqr().redISub(x),r=this.y.redAdd(this.z).redSqr().redISub(l).redISub(f);var E=l.redSqr();E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E),e=p.redMul(k.redISub(t)).redISub(E)}return this.curve.jpoint(t,e,r)},Be.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),a=r.redSqr(),o=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),u=e.redAdd(e),c=(u=u.redIAdd(u)).redMul(a),f=o.redSqr().redISub(c.redAdd(c)),l=c.redISub(f),y=a.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y);var p=o.redMul(l).redISub(y),k=r.redAdd(r).redMul(n);return this.curve.jpoint(f,p,k)},Be.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(n),o=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(s)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(a).redSqr().redISub(s).redISub(o).redISub(u),f=e.redMul(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.x.redMul(o).redISub(f);l=(l=l.redIAdd(l)).redIAdd(l);var y=this.y.redMul(c.redMul(u.redISub(c)).redISub(a.redMul(o)));y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y);var p=this.z.redAdd(a).redSqr().redISub(r).redISub(o);return this.curve.jpoint(l,y,p)},Be.prototype.mul=function(t,e){return t=new Ut(t,e),this.curve._wnafMul(this,t)},Be.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0)!==0)return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)===0},Be.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}},Be.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Be.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Bn(Ji,Je);var v3=Ji;function Me(t,e,r){Je.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Ut(e,16),this.z=new Ut(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Ji.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return n.redSqrt().redSqr().cmp(n)===0},Bn(Me,Je.BasePoint),Ji.prototype.decodePoint=function(t,e){if((t=fe.toArray(t,e)).length===33&&t[0]===64&&(t=t.slice(1,33).reverse()),t.length!==32)throw Error("Unknown point compression format");return this.point(t,1)},Ji.prototype.point=function(t,e){return new Me(this,t,e)},Ji.prototype.pointFromJSON=function(t){return Me.fromJSON(this,t)},Me.prototype.precompute=function(){},Me.prototype._encode=function(t){var e=this.curve.p.byteLength();return t?[64].concat(this.getX().toArray("le",e)):this.getX().toArray("be",e)},Me.fromJSON=function(t,e){return new Me(t,e[0],e[1]||t.one)},Me.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Me.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Me.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},Me.prototype.add=function(){throw Error("Not supported on Montgomery curve")},Me.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),s=t.x.redSub(t.z).redMul(r),a=i.redMul(n),o=e.z.redMul(s.redAdd(a).redSqr()),u=e.x.redMul(s.redISub(a).redSqr());return this.curve.point(o,u)},Me.prototype.mul=function(t){for(var e=(t=new Ut(t,16)).clone(),r=this,n=this.curve.point(null,null),i=[];e.cmpn(0)!==0;e.iushrn(1))i.push(e.andln(1));for(var s=i.length-1;s>=0;s--)i[s]===0?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},Me.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},Me.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},Me.prototype.eq=function(t){return this.getX().cmp(t.getX())===0},Me.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Me.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var w3=fe.assert;function hn(t){this.twisted=(0|t.a)!=1,this.mOneA=this.twisted&&(0|t.a)==-1,this.extended=this.mOneA,Je.call(this,"edwards",t),this.a=new Ut(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Ut(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Ut(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),w3(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|t.c)==1}Bn(hn,Je);var _3=hn;function ye(t,e,r,n,i){Je.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Ut(e,16),this.y=new Ut(r,16),this.z=n?new Ut(n,16):this.curve.one,this.t=i&&new Ut(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}hn.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},hn.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},hn.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},hn.prototype.pointFromX=function(t,e){(t=new Ut(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(i.redInvm()),a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw Error("invalid point");var o=a.fromRed().isOdd();return(e&&!o||!e&&o)&&(a=a.redNeg()),this.point(t,a)},hn.prototype.pointFromY=function(t,e){(t=new Ut(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(i.redInvm());if(s.cmp(this.zero)===0){if(e)throw Error("invalid point");return this.point(this.zero,t)}var a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},hn.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return n.cmp(i)===0},Bn(ye,Je.BasePoint),hn.prototype.pointFromJSON=function(t){return ye.fromJSON(this,t)},hn.prototype.point=function(t,e,r,n){return new ye(this,t,e,r,n)},ye.fromJSON=function(t,e){return new ye(t,e[0],e[1],e[2])},ye.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},ye.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},ye.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),s=n.redAdd(e),a=s.redSub(r),o=n.redSub(e),u=i.redMul(a),c=s.redMul(o),f=i.redMul(o),l=a.redMul(s);return this.curve.point(u,c,l,f)},ye.prototype._projDbl=function(){var t,e,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var a=(c=this.curve._mulA(i)).redAdd(s);if(this.zOne)t=n.redSub(i).redSub(s).redMul(a.redSub(this.curve.two)),e=a.redMul(c.redSub(s)),r=a.redSqr().redSub(a).redSub(a);else{var o=this.z.redSqr(),u=a.redSub(o).redISub(o);t=n.redSub(i).redISub(s).redMul(u),e=a.redMul(c.redSub(s)),r=a.redMul(u)}}else{var c=i.redAdd(s);o=this.curve._mulC(this.z).redSqr(),u=c.redSub(o).redSub(o),t=this.curve._mulC(n.redISub(c)).redMul(u),e=this.curve._mulC(c).redMul(i.redISub(s)),r=c.redMul(u)}return this.curve.point(t,e,r)},ye.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},ye.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),s=r.redSub(e),a=i.redSub(n),o=i.redAdd(n),u=r.redAdd(e),c=s.redMul(a),f=o.redMul(u),l=s.redMul(u),y=a.redMul(o);return this.curve.point(c,f,y,l)},ye.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),s=this.x.redMul(t.x),a=this.y.redMul(t.y),o=this.curve.d.redMul(s).redMul(a),u=i.redSub(o),c=i.redAdd(o),f=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(a),l=n.redMul(u).redMul(f);return this.curve.twisted?(e=n.redMul(c).redMul(a.redSub(this.curve._mulA(s))),r=u.redMul(c)):(e=n.redMul(c).redMul(a.redSub(s)),r=this.curve._mulC(u).redMul(c)),this.curve.point(l,e,r)},ye.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},ye.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},ye.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},ye.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},ye.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},ye.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},ye.prototype.getX=function(){return this.normalize(),this.x.fromRed()},ye.prototype.getY=function(){return this.normalize(),this.y.fromRed()},ye.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0},ye.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(e)===0)return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),this.x.cmp(e)===0)return!0}},ye.prototype.toP=ye.prototype.normalize,ye.prototype.mixedAdd=ye.prototype.add;var qo=Wr(function(t,e){var r=e;r.base=Je,r.short=b3,r.mont=v3,r.edwards=_3}),z0=Qt.rotl32,oa=Qt.sum32,A3=Qt.sum32_5,k3=ci.ft_1,$f=Ss.BlockHash,S3=[1518500249,1859775393,2400959708,3395469782];function fn(){if(!(this instanceof fn))return new fn;$f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}Qt.inherits(fn,$f);var E3=fn;fn.blockSize=512,fn.outSize=160,fn.hmacStrength=80,fn.padLength=64,fn.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=z0(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],a=this.h[2],o=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),f=A3(z0(i,5),k3(c,s,a,o),u,r[n],S3[c]);u=o,o=a,a=z0(s,30),s=i,i=f}this.h[0]=oa(this.h[0],i),this.h[1]=oa(this.h[1],s),this.h[2]=oa(this.h[2],a),this.h[3]=oa(this.h[3],o),this.h[4]=oa(this.h[4],u)},fn.prototype._digest=function(t){return t==="hex"?Qt.toHex32(this.h,"big"):Qt.split32(this.h,"big")};var P3={sha1:E3,sha224:Hu,sha256:gc,sha384:Yu,sha512:Es};function Xi(t,e,r){if(!(this instanceof Xi))return new Xi(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Qt.toArray(e,r))}var x3=Xi;Xi.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),Un(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=new this.Hash().update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=new this.Hash().update(t)},Xi.prototype.update=function(t,e){return this.inner.update(t,e),this},Xi.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};var ur=Wr(function(t,e){var r=e;r.utils=Qt,r.common=Ss,r.sha=P3,r.ripemd=wd,r.hmac=x3,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160}),M3={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}},ca=Wr(function(t,e){var r,n=e,i=fe.assert;function s(o){if(o.type==="short")this.curve=new qo.short(o);else if(o.type==="edwards")this.curve=new qo.edwards(o);else{if(o.type!=="mont")throw Error("Unknown curve type.");this.curve=new qo.mont(o)}this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, n*G != O")}function a(o,u){Object.defineProperty(n,o,{configurable:!0,enumerable:!0,get:function(){var c=new s(u);return Object.defineProperty(n,o,{configurable:!0,enumerable:!0,value:c}),c}})}n.PresetCurve=s,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ur.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ur.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ur.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ur.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ur.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:ur.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:ur.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]}),a("brainpoolP256r1",{type:"short",prime:null,p:"A9FB57DB A1EEA9BC 3E660A90 9D838D72 6E3BF623 D5262028 2013481D 1F6E5377",a:"7D5A0975 FC2C3057 EEF67530 417AFFE7 FB8055C1 26DC5C6C E94A4B44 F330B5D9",b:"26DC5C6C E94A4B44 F330B5D9 BBD77CBF 95841629 5CF7E1CE 6BCCDC18 FF8C07B6",n:"A9FB57DB A1EEA9BC 3E660A90 9D838D71 8C397AA3 B561A6F7 901E0E82 974856A7",hash:ur.sha256,gRed:!1,g:["8BD2AEB9CB7E57CB2C4B482FFC81B7AFB9DE27E1E3BD23C23A4453BD9ACE3262","547EF835C3DAC4FD97F8461A14611DC9C27745132DED8E545C1D54C72F046997"]}),a("brainpoolP384r1",{type:"short",prime:null,p:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B4 12B1DA19 7FB71123ACD3A729 901D1A71 87470013 3107EC53",a:"7BC382C6 3D8C150C 3C72080A CE05AFA0 C2BEA28E 4FB22787 139165EF BA91F90F8AA5814A 503AD4EB 04A8C7DD 22CE2826",b:"04A8C7DD 22CE2826 8B39B554 16F0447C 2FB77DE1 07DCD2A6 2E880EA5 3EEB62D57CB43902 95DBC994 3AB78696 FA504C11",n:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B3 1F166E6C AC0425A7CF3AB6AF 6B7FC310 3B883202 E9046565",hash:ur.sha384,gRed:!1,g:["1D1C64F068CF45FFA2A63A81B7C13F6B8847A3E77EF14FE3DB7FCAFE0CBD10E8E826E03436D646AAEF87B2E247D4AF1E","8ABE1D7520F9C2A45CB1EB8E95CFD55262B70B29FEEC5864E19C054FF99129280E4646217791811142820341263C5315"]}),a("brainpoolP512r1",{type:"short",prime:null,p:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 703308717D4D9B00 9BC66842 AECDA12A E6A380E6 2881FF2F 2D82C685 28AA6056 583A48F3",a:"7830A331 8B603B89 E2327145 AC234CC5 94CBDD8D 3DF91610 A83441CA EA9863BC2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A7 2BF2C7B9 E7C1AC4D 77FC94CA",b:"3DF91610 A83441CA EA9863BC 2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A72BF2C7B9 E7C1AC4D 77FC94CA DC083E67 984050B7 5EBAE5DD 2809BD63 8016F723",n:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 70330870553E5C41 4CA92619 41866119 7FAC1047 1DB1D381 085DDADD B5879682 9CA90069",hash:ur.sha512,gRed:!1,g:["81AEE4BDD82ED9645A21322E9C4C6A9385ED9F70B5D916C1B43B62EEF4D0098EFF3B1F78E2D0D48D50D1687B93B97D5F7C6D5047406A5E688B352209BCB9F822","7DDE385D566332ECC0EABFA9CF7822FDF209F70024A57B1AA000C55B881F8111B2DCDE494A5F485E5BCA4BD88A2763AED1CA2B2FA8F0540678CD1E0F3AD80892"]});try{r=M3}catch{r=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ur.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})});function Zn(t){if(!(this instanceof Zn))return new Zn(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Kr.toArray(t.entropy,t.entropyEnc||"hex"),r=Kr.toArray(t.nonce,t.nonceEnc||"hex"),n=Kr.toArray(t.pers,t.persEnc||"hex");Un(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var F0=Zn;Zn.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Zn.prototype._hmac=function(){return new ur.hmac(this.hash,this.K)},Zn.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},Zn.prototype.reseed=function(t,e,r,n){typeof e!="string"&&(n=r,r=e,e=null),t=Kr.toArray(t,e),r=Kr.toArray(r,n),Un(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},Zn.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");typeof e!="string"&&(n=r,r=e,e=null),r&&(r=Kr.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,t);return this._update(r),this._reseed++,Kr.encode(s,e)};var Vf=fe.assert;function We(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var L0=We;We.fromPublic=function(t,e,r){return e instanceof We?e:new We(t,{pub:e,pubEnc:r})},We.fromPrivate=function(t,e,r){return e instanceof We?e:new We(t,{priv:e,privEnc:r})},We.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},We.prototype.getPublic=function(t,e){return this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},We.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv},We.prototype._importPrivate=function(t,e){if(this.priv=new Ut(t,e||16),this.ec.curve.type==="mont"){var r=this.ec.curve.one,n=r.ushln(252).sub(r).ushln(3);this.priv=this.priv.or(r.ushln(254)),this.priv=this.priv.and(n)}else this.priv=this.priv.umod(this.ec.curve.n)},We.prototype._importPublic=function(t,e){if(t.x||t.y)return this.ec.curve.type==="mont"?Vf(t.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||Vf(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},We.prototype.derive=function(t){return t.mul(this.priv).getX()},We.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},We.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},We.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var R3=fe.assert;function Wo(t,e){if(t instanceof Wo)return t;this._importDER(t,e)||(R3(t.r&&t.s,"Signature without r or s"),this.r=new Ut(t.r,16),this.s=new Ut(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Ho=Wo;function C3(){this.place=0}function j0(t,e){var r=t[e.place++];if(!(128&r))return r;for(var n=15&r,i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=t[a];return e.place=a,i}function Yf(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return e===0?t:t.slice(e)}function q0(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}Wo.prototype._importDER=function(t,e){t=fe.toArray(t,e);var r=new C3;if(t[r.place++]!==48||j0(t,r)+r.place!==t.length||t[r.place++]!==2)return!1;var n=j0(t,r),i=t.slice(r.place,n+r.place);if(r.place+=n,t[r.place++]!==2)return!1;var s=j0(t,r);if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);return i[0]===0&&128&i[1]&&(i=i.slice(1)),a[0]===0&&128&a[1]&&(a=a.slice(1)),this.r=new Ut(i),this.s=new Ut(a),this.recoveryParam=null,!0},Wo.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Yf(e),r=Yf(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];q0(n,e.length),(n=n.concat(e)).push(2),q0(n,r.length);var i=n.concat(r),s=[48];return q0(s,i.length),s=s.concat(i),fe.encode(s,t)};var Jf=fe.assert;function sr(t){if(!(this instanceof sr))return new sr(t);typeof t=="string"&&(Jf(ca.hasOwnProperty(t),"Unknown curve "+t),t=ca[t]),t instanceof ca.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var T3=sr;sr.prototype.keyPair=function(t){return new L0(this,t)},sr.prototype.keyFromPrivate=function(t,e){return L0.fromPrivate(this,t,e)},sr.prototype.keyFromPublic=function(t,e){return L0.fromPublic(this,t,e)},sr.prototype.genKeyPair=function(t){t||(t={});var e=new F0({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Fo(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()});if(this.curve.type==="mont"){var r=new Ut(e.generate(32));return this.keyFromPrivate(r)}for(var n=this.n.byteLength(),i=this.n.sub(new Ut(2));;)if(!((r=new Ut(e.generate(n))).cmp(i)>0))return r.iaddn(1),this.keyFromPrivate(r)},sr.prototype._truncateToN=function(t,e,r){var n=(r=r||8*t.byteLength())-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},sr.prototype.truncateMsg=function(t){var e;return t instanceof Uint8Array?(e=8*t.byteLength,t=this._truncateToN(new Ut(t,16),!1,e)):typeof t=="string"?(e=4*t.length,t=this._truncateToN(new Ut(t,16),!1,e)):t=this._truncateToN(new Ut(t,16)),t},sr.prototype.sign=function(t,e,r,n){typeof r=="object"&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this.truncateMsg(t);for(var i=this.n.byteLength(),s=e.getPrivate().toArray("be",i),a=t.toArray("be",i),o=new F0({hash:this.hash,entropy:s,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new Ut(1)),c=0;;c++){var f=n.k?n.k(c):new Ut(o.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(u)>=0)){var l=this.g.mul(f);if(!l.isInfinity()){var y=l.getX(),p=y.umod(this.n);if(p.cmpn(0)!==0){var k=f.invm(this.n).mul(p.mul(e.getPrivate()).iadd(t));if((k=k.umod(this.n)).cmpn(0)!==0){var x=(l.getY().isOdd()?1:0)|(y.cmp(p)!==0?2:0);return n.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),x^=1),new Ho({r:p,s:k,recoveryParam:x})}}}}}},sr.prototype.verify=function(t,e,r,n){return r=this.keyFromPublic(r,n),e=new Ho(e,"hex"),this._verify(this.truncateMsg(t),e,r)||this._verify(this._truncateToN(new Ut(t,16)),e,r)},sr.prototype._verify=function(t,e,r){var n=e.r,i=e.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;var s,a=i.invm(this.n),o=a.mul(t).umod(this.n),u=a.mul(n).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(o,r.getPublic(),u)).isInfinity()&&s.eqXToP(n):!(s=this.g.mulAdd(o,r.getPublic(),u)).isInfinity()&&s.getX().umod(this.n).cmp(n)===0},sr.prototype.recoverPubKey=function(t,e,r,n){Jf((3&r)===r,"The recovery param is more than two bits"),e=new Ho(e,n);var i=this.n,s=new Ut(t),a=e.r,o=e.s,u=1&r,c=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw Error("Unable to find sencond key candinate");a=c?this.curve.pointFromX(a.add(this.curve.n),u):this.curve.pointFromX(a,u);var f=e.r.invm(i),l=i.sub(s).mul(f).umod(i),y=o.mul(f).umod(i);return this.g.mulAdd(l,a,y)},sr.prototype.getKeyRecoveryParam=function(t,e,r,n){if((e=new Ho(e,n)).recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw Error("Unable to find valid recovery factor")};var Xf=fe.assert,Qf=fe.parseBytes,Qi=fe.cachedProperty;function Re(t,e){if(this.eddsa=t,e.hasOwnProperty("secret")&&(this._secret=Qf(e.secret)),t.isPoint(e.pub))this._pub=e.pub;else if(this._pubBytes=Qf(e.pub),this._pubBytes&&this._pubBytes.length===33&&this._pubBytes[0]===64&&(this._pubBytes=this._pubBytes.slice(1,33)),this._pubBytes&&this._pubBytes.length!==32)throw Error("Unknown point compression format")}Re.fromPublic=function(t,e){return e instanceof Re?e:new Re(t,{pub:e})},Re.fromSecret=function(t,e){return e instanceof Re?e:new Re(t,{secret:e})},Re.prototype.secret=function(){return this._secret},Qi(Re,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),Qi(Re,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),Qi(Re,"privBytes",function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),Qi(Re,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),Qi(Re,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),Qi(Re,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),Re.prototype.sign=function(t){return Xf(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},Re.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},Re.prototype.getSecret=function(t){return Xf(this._secret,"KeyPair is public only"),fe.encode(this.secret(),t)},Re.prototype.getPublic=function(t,e){return fe.encode((e?[64]:[]).concat(this.pubBytes()),t)};var W0=Re,I3=fe.assert,Go=fe.cachedProperty,D3=fe.parseBytes;function Si(t,e){this.eddsa=t,typeof e!="object"&&(e=D3(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),I3(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Ut&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Go(Si,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),Go(Si,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),Go(Si,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),Go(Si,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Si.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Si.prototype.toHex=function(){return fe.encode(this.toBytes(),"hex").toUpperCase()};var Zf=Si,U3=fe.assert,tl=fe.parseBytes;function He(t){if(U3(t==="ed25519","only tested with ed25519 so far"),!(this instanceof He))return new He(t);t=ca[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=ur.sha512}var B3=He;He.prototype.sign=function(t,e){t=tl(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),s=this.encodePoint(i),a=this.hashInt(s,r.pubBytes(),t).mul(r.priv()),o=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:o,Rencoded:s})},He.prototype.verify=function(t,e,r){t=tl(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),s=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(s)},He.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return fe.intFromLE(t.digest()).umod(this.curve.n)},He.prototype.keyPair=function(t){return new W0(this,t)},He.prototype.keyFromPublic=function(t){return W0.fromPublic(this,t)},He.prototype.keyFromSecret=function(t){return W0.fromSecret(this,t)},He.prototype.genKeyPair=function(t){t||(t={});var e=new F0({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Fo(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.curve.n.toArray()});return this.keyFromSecret(e.generate(32))},He.prototype.makeSignature=function(t){return t instanceof Zf?t:new Zf(this,t)},He.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},He.prototype.decodePoint=function(t){var e=(t=fe.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=(128&t[e])!=0,i=fe.intFromLE(r);return this.curve.pointFromY(i,n)},He.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},He.prototype.decodeInt=function(t){return fe.intFromLE(t)},He.prototype.isPoint=function(t){return t instanceof this.pointClass};var el=Wr(function(t,e){var r=e;r.utils=fe,r.rand=Fo,r.curve=qo,r.curves=ca,r.ec=T3,r.eddsa=B3}),O3=Object.freeze({__proto__:null,default:el,__moduleExports:el}),rl={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,s){function a(c,f){if(!i[c]){if(!n[c]){var l=typeof wa=="function"&&wa;if(!f&&l)return l(c,!0);if(o)return o(c,!0);var y=new Error("Cannot find module '"+c+"'");throw y.code="MODULE_NOT_FOUND",y}var p=i[c]={exports:{}};n[c][0].call(p.exports,function(k){var x=n[c][1][k];return a(x||k)},p,p.exports,r,n,i,s)}return i[c].exports}for(var o=typeof wa=="function"&&wa,u=0;u<s.length;u++)a(s[u]);return a}({1:[function(r,n,i){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var u=0,c=new a(k),f=s.document.createTextNode("");c.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel!="undefined"){var l=new s.MessageChannel;l.port1.onmessage=k,o=function(){l.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var E=s.document.createElement("script");E.onreadystatechange=function(){k(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},s.document.documentElement.appendChild(E)}:o=function(){setTimeout(k,0)};var y,p=[];function k(){y=!0;for(var E,D,q=p.length;q;){for(D=p,p=[],E=-1;++E<q;)D[E]();q=p.length}y=!1}n.exports=x;function x(E){p.push(E)===1&&!y&&o()}}).call(this,typeof us!="undefined"?us:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(r,n,i){var s=r(1);function a(){}var o={},u=["REJECTED"],c=["FULFILLED"],f=["PENDING"];n.exports=l;function l(L){if(typeof L!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,L!==a&&x(this,L)}l.prototype.catch=function(L){return this.then(null,L)},l.prototype.then=function(L,g){if(typeof L!="function"&&this.state===c||typeof g!="function"&&this.state===u)return this;var T=new this.constructor(a);if(this.state!==f){var h=this.state===c?L:g;p(T,h,this.outcome)}else this.queue.push(new y(T,L,g));return T};function y(L,g,T){this.promise=L,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}y.prototype.callFulfilled=function(L){o.resolve(this.promise,L)},y.prototype.otherCallFulfilled=function(L){p(this.promise,this.onFulfilled,L)},y.prototype.callRejected=function(L){o.reject(this.promise,L)},y.prototype.otherCallRejected=function(L){p(this.promise,this.onRejected,L)};function p(L,g,T){s(function(){var h;try{h=g(T)}catch(d){return o.reject(L,d)}h===L?o.reject(L,new TypeError("Cannot resolve promise with itself")):o.resolve(L,h)})}o.resolve=function(L,g){var T=E(k,g);if(T.status==="error")return o.reject(L,T.value);var h=T.value;if(h)x(L,h);else{L.state=c,L.outcome=g;for(var d=-1,w=L.queue.length;++d<w;)L.queue[d].callFulfilled(g)}return L},o.reject=function(L,g){L.state=u,L.outcome=g;for(var T=-1,h=L.queue.length;++T<h;)L.queue[T].callRejected(g);return L};function k(L){var g=L&&L.then;if(L&&(typeof L=="object"||typeof L=="function")&&typeof g=="function")return function(){g.apply(L,arguments)}}function x(L,g){var T=!1;function h(v){T||(T=!0,o.reject(L,v))}function d(v){T||(T=!0,o.resolve(L,v))}function w(){g(d,h)}var m=E(w);m.status==="error"&&h(m.value)}function E(L,g){var T={};try{T.value=L(g),T.status="success"}catch(h){T.status="error",T.value=h}return T}l.resolve=D;function D(L){return L instanceof this?L:o.resolve(new this(a),L)}l.reject=q;function q(L){var g=new this(a);return o.reject(g,L)}l.all=z;function z(L){var g=this;if(Object.prototype.toString.call(L)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=L.length,h=!1;if(!T)return this.resolve([]);for(var d=new Array(T),w=0,m=-1,v=new this(a);++m<T;)I(L[m],m);return v;function I(U,$){g.resolve(U).then(nt,function(b){h||(h=!0,o.reject(v,b))});function nt(b){d[$]=b,++w===T&&!h&&(h=!0,o.resolve(v,d))}}}l.race=O;function O(L){var g=this;if(Object.prototype.toString.call(L)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=L.length,h=!1;if(!T)return this.resolve([]);for(var d=-1,w=new this(a);++d<T;)m(L[d]);return w;function m(v){g.resolve(v).then(function(I){h||(h=!0,o.resolve(w,I))},function(I){h||(h=!0,o.reject(w,I))})}}},{"1":1}],3:[function(r,n,i){(function(s){typeof s.Promise!="function"&&(s.Promise=r(2))}).call(this,typeof us!="undefined"?us:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(r,n,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X};function a(X,ft){if(!(X instanceof ft))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var u=o();function c(){try{if(!u||!u.open)return!1;var X=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ft=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!X||ft)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function f(X,ft){X=X||[],ft=ft||{};try{return new Blob(X,ft)}catch(yt){if(yt.name!=="TypeError")throw yt;for(var ot=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,mt=new ot,gt=0;gt<X.length;gt+=1)mt.append(X[gt]);return mt.getBlob(ft.type)}}typeof Promise=="undefined"&&r(3);var l=Promise;function y(X,ft){ft&&X.then(function(ot){ft(null,ot)},function(ot){ft(ot)})}function p(X,ft,ot){typeof ft=="function"&&X.then(ft),typeof ot=="function"&&X.catch(ot)}function k(X){return typeof X!="string"&&(console.warn(X+" used as a key, but it is not a string."),X=String(X)),X}function x(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var E="local-forage-detect-blob-support",D=void 0,q={},z=Object.prototype.toString,O="readonly",L="readwrite";function g(X){for(var ft=X.length,ot=new ArrayBuffer(ft),mt=new Uint8Array(ot),gt=0;gt<ft;gt++)mt[gt]=X.charCodeAt(gt);return ot}function T(X){return new l(function(ft){var ot=X.transaction(E,L),mt=f([""]);ot.objectStore(E).put(mt,"key"),ot.onabort=function(gt){gt.preventDefault(),gt.stopPropagation(),ft(!1)},ot.oncomplete=function(){var gt=navigator.userAgent.match(/Chrome\/(\d+)/),yt=navigator.userAgent.match(/Edge\//);ft(yt||!gt||parseInt(gt[1],10)>=43)}}).catch(function(){return!1})}function h(X){return typeof D=="boolean"?l.resolve(D):T(X).then(function(ft){return D=ft,D})}function d(X){var ft=q[X.name],ot={};ot.promise=new l(function(mt,gt){ot.resolve=mt,ot.reject=gt}),ft.deferredOperations.push(ot),ft.dbReady?ft.dbReady=ft.dbReady.then(function(){return ot.promise}):ft.dbReady=ot.promise}function w(X){var ft=q[X.name],ot=ft.deferredOperations.pop();if(ot)return ot.resolve(),ot.promise}function m(X,ft){var ot=q[X.name],mt=ot.deferredOperations.pop();if(mt)return mt.reject(ft),mt.promise}function v(X,ft){return new l(function(ot,mt){if(q[X.name]=q[X.name]||lt(),X.db)if(ft)d(X),X.db.close();else return ot(X.db);var gt=[X.name];ft&&gt.push(X.version);var yt=u.open.apply(u,gt);ft&&(yt.onupgradeneeded=function(kt){var xt=yt.result;try{xt.createObjectStore(X.storeName),kt.oldVersion<=1&&xt.createObjectStore(E)}catch(Mt){if(Mt.name==="ConstraintError")console.warn('The database "'+X.name+'" has been upgraded from version '+kt.oldVersion+" to version "+kt.newVersion+', but the storage "'+X.storeName+'" already exists.');else throw Mt}}),yt.onerror=function(kt){kt.preventDefault(),mt(yt.error)},yt.onsuccess=function(){var kt=yt.result;kt.onversionchange=function(xt){xt.target.close()},ot(kt),w(X)}})}function I(X){return v(X,!1)}function U(X){return v(X,!0)}function $(X,ft){if(!X.db)return!0;var ot=!X.db.objectStoreNames.contains(X.storeName),mt=X.version<X.db.version,gt=X.version>X.db.version;if(mt&&(X.version!==ft&&console.warn('The database "'+X.name+`" can't be downgraded from version `+X.db.version+" to version "+X.version+"."),X.version=X.db.version),gt||ot){if(ot){var yt=X.db.version+1;yt>X.version&&(X.version=yt)}return!0}return!1}function nt(X){return new l(function(ft,ot){var mt=new FileReader;mt.onerror=ot,mt.onloadend=function(gt){var yt=btoa(gt.target.result||"");ft({__local_forage_encoded_blob:!0,data:yt,type:X.type})},mt.readAsBinaryString(X)})}function b(X){var ft=g(atob(X.data));return f([ft],{type:X.type})}function C(X){return X&&X.__local_forage_encoded_blob}function V(X){var ft=this,ot=ft._initReady().then(function(){var mt=q[ft._dbInfo.name];if(mt&&mt.dbReady)return mt.dbReady});return p(ot,X,X),ot}function Z(X){d(X);for(var ft=q[X.name],ot=ft.forages,mt=0;mt<ot.length;mt++){var gt=ot[mt];gt._dbInfo.db&&(gt._dbInfo.db.close(),gt._dbInfo.db=null)}return X.db=null,I(X).then(function(yt){return X.db=yt,$(X)?U(X):yt}).then(function(yt){X.db=ft.db=yt;for(var kt=0;kt<ot.length;kt++)ot[kt]._dbInfo.db=yt}).catch(function(yt){throw m(X,yt),yt})}function it(X,ft,ot,mt){mt===void 0&&(mt=1);try{var gt=X.db.transaction(X.storeName,ft);ot(null,gt)}catch(yt){if(mt>0&&(!X.db||yt.name==="InvalidStateError"||yt.name==="NotFoundError"))return l.resolve().then(function(){if(!X.db||yt.name==="NotFoundError"&&!X.db.objectStoreNames.contains(X.storeName)&&X.version<=X.db.version)return X.db&&(X.version=X.db.version+1),U(X)}).then(function(){return Z(X).then(function(){it(X,ft,ot,mt-1)})}).catch(ot);ot(yt)}}function lt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function dt(X){var ft=this,ot={db:null};if(X)for(var mt in X)ot[mt]=X[mt];var gt=q[ot.name];gt||(gt=lt(),q[ot.name]=gt),gt.forages.push(ft),ft._initReady||(ft._initReady=ft.ready,ft.ready=V);var yt=[];function kt(){return l.resolve()}for(var xt=0;xt<gt.forages.length;xt++){var Mt=gt.forages[xt];Mt!==ft&&yt.push(Mt._initReady().catch(kt))}var Rt=gt.forages.slice(0);return l.all(yt).then(function(){return ot.db=gt.db,I(ot)}).then(function(Ct){return ot.db=Ct,$(ot,ft._defaultConfig.version)?U(ot):Ct}).then(function(Ct){ot.db=gt.db=Ct,ft._dbInfo=ot;for(var Lt=0;Lt<Rt.length;Lt++){var re=Rt[Lt];re!==ft&&(re._dbInfo.db=ot.db,re._dbInfo.version=ot.version)}})}function pt(X,ft){var ot=this;X=k(X);var mt=new l(function(gt,yt){ot.ready().then(function(){it(ot._dbInfo,O,function(kt,xt){if(kt)return yt(kt);try{var Mt=xt.objectStore(ot._dbInfo.storeName),Rt=Mt.get(X);Rt.onsuccess=function(){var Ct=Rt.result;Ct===void 0&&(Ct=null),C(Ct)&&(Ct=b(Ct)),gt(Ct)},Rt.onerror=function(){yt(Rt.error)}}catch(Ct){yt(Ct)}})}).catch(yt)});return y(mt,ft),mt}function G(X,ft){var ot=this,mt=new l(function(gt,yt){ot.ready().then(function(){it(ot._dbInfo,O,function(kt,xt){if(kt)return yt(kt);try{var Mt=xt.objectStore(ot._dbInfo.storeName),Rt=Mt.openCursor(),Ct=1;Rt.onsuccess=function(){var Lt=Rt.result;if(Lt){var re=Lt.value;C(re)&&(re=b(re));var he=X(re,Lt.key,Ct++);he!==void 0?gt(he):Lt.continue()}else gt()},Rt.onerror=function(){yt(Rt.error)}}catch(Lt){yt(Lt)}})}).catch(yt)});return y(mt,ft),mt}function ut(X,ft,ot){var mt=this;X=k(X);var gt=new l(function(yt,kt){var xt;mt.ready().then(function(){return xt=mt._dbInfo,z.call(ft)==="[object Blob]"?h(xt.db).then(function(Mt){return Mt?ft:nt(ft)}):ft}).then(function(Mt){it(mt._dbInfo,L,function(Rt,Ct){if(Rt)return kt(Rt);try{var Lt=Ct.objectStore(mt._dbInfo.storeName);Mt===null&&(Mt=void 0);var re=Lt.put(Mt,X);Ct.oncomplete=function(){Mt===void 0&&(Mt=null),yt(Mt)},Ct.onabort=Ct.onerror=function(){var he=re.error?re.error:re.transaction.error;kt(he)}}catch(he){kt(he)}})}).catch(kt)});return y(gt,ot),gt}function F(X,ft){var ot=this;X=k(X);var mt=new l(function(gt,yt){ot.ready().then(function(){it(ot._dbInfo,L,function(kt,xt){if(kt)return yt(kt);try{var Mt=xt.objectStore(ot._dbInfo.storeName),Rt=Mt.delete(X);xt.oncomplete=function(){gt()},xt.onerror=function(){yt(Rt.error)},xt.onabort=function(){var Ct=Rt.error?Rt.error:Rt.transaction.error;yt(Ct)}}catch(Ct){yt(Ct)}})}).catch(yt)});return y(mt,ft),mt}function S(X){var ft=this,ot=new l(function(mt,gt){ft.ready().then(function(){it(ft._dbInfo,L,function(yt,kt){if(yt)return gt(yt);try{var xt=kt.objectStore(ft._dbInfo.storeName),Mt=xt.clear();kt.oncomplete=function(){mt()},kt.onabort=kt.onerror=function(){var Rt=Mt.error?Mt.error:Mt.transaction.error;gt(Rt)}}catch(Rt){gt(Rt)}})}).catch(gt)});return y(ot,X),ot}function Y(X){var ft=this,ot=new l(function(mt,gt){ft.ready().then(function(){it(ft._dbInfo,O,function(yt,kt){if(yt)return gt(yt);try{var xt=kt.objectStore(ft._dbInfo.storeName),Mt=xt.count();Mt.onsuccess=function(){mt(Mt.result)},Mt.onerror=function(){gt(Mt.error)}}catch(Rt){gt(Rt)}})}).catch(gt)});return y(ot,X),ot}function A(X,ft){var ot=this,mt=new l(function(gt,yt){if(X<0){gt(null);return}ot.ready().then(function(){it(ot._dbInfo,O,function(kt,xt){if(kt)return yt(kt);try{var Mt=xt.objectStore(ot._dbInfo.storeName),Rt=!1,Ct=Mt.openKeyCursor();Ct.onsuccess=function(){var Lt=Ct.result;if(!Lt){gt(null);return}X===0||Rt?gt(Lt.key):(Rt=!0,Lt.advance(X))},Ct.onerror=function(){yt(Ct.error)}}catch(Lt){yt(Lt)}})}).catch(yt)});return y(mt,ft),mt}function R(X){var ft=this,ot=new l(function(mt,gt){ft.ready().then(function(){it(ft._dbInfo,O,function(yt,kt){if(yt)return gt(yt);try{var xt=kt.objectStore(ft._dbInfo.storeName),Mt=xt.openKeyCursor(),Rt=[];Mt.onsuccess=function(){var Ct=Mt.result;if(!Ct){mt(Rt);return}Rt.push(Ct.key),Ct.continue()},Mt.onerror=function(){gt(Mt.error)}}catch(Ct){gt(Ct)}})}).catch(gt)});return y(ot,X),ot}function N(X,ft){ft=x.apply(this,arguments);var ot=this.config();X=typeof X!="function"&&X||{},X.name||(X.name=X.name||ot.name,X.storeName=X.storeName||ot.storeName);var mt=this,gt;if(!X.name)gt=l.reject("Invalid arguments");else{var yt=X.name===ot.name&&mt._dbInfo.db,kt=yt?l.resolve(mt._dbInfo.db):I(X).then(function(xt){var Mt=q[X.name],Rt=Mt.forages;Mt.db=xt;for(var Ct=0;Ct<Rt.length;Ct++)Rt[Ct]._dbInfo.db=xt;return xt});X.storeName?gt=kt.then(function(xt){if(!!xt.objectStoreNames.contains(X.storeName)){var Mt=xt.version+1;d(X);var Rt=q[X.name],Ct=Rt.forages;xt.close();for(var Lt=0;Lt<Ct.length;Lt++){var re=Ct[Lt];re._dbInfo.db=null,re._dbInfo.version=Mt}var he=new l(function(le,Se){var Ae=u.open(X.name,Mt);Ae.onerror=function(gr){var rs=Ae.result;rs.close(),Se(gr)},Ae.onupgradeneeded=function(){var gr=Ae.result;gr.deleteObjectStore(X.storeName)},Ae.onsuccess=function(){var gr=Ae.result;gr.close(),le(gr)}});return he.then(function(le){Rt.db=le;for(var Se=0;Se<Ct.length;Se++){var Ae=Ct[Se];Ae._dbInfo.db=le,w(Ae._dbInfo)}}).catch(function(le){throw(m(X,le)||l.resolve()).catch(function(){}),le})}}):gt=kt.then(function(xt){d(X);var Mt=q[X.name],Rt=Mt.forages;xt.close();for(var Ct=0;Ct<Rt.length;Ct++){var Lt=Rt[Ct];Lt._dbInfo.db=null}var re=new l(function(he,le){var Se=u.deleteDatabase(X.name);Se.onerror=function(){var Ae=Se.result;Ae&&Ae.close(),le(Se.error)},Se.onblocked=function(){console.warn('dropInstance blocked for database "'+X.name+'" until all open connections are closed')},Se.onsuccess=function(){var Ae=Se.result;Ae&&Ae.close(),he(Ae)}});return re.then(function(he){Mt.db=he;for(var le=0;le<Rt.length;le++){var Se=Rt[le];w(Se._dbInfo)}}).catch(function(he){throw(m(X,he)||l.resolve()).catch(function(){}),he})})}return y(gt,ft),gt}var P={_driver:"asyncStorage",_initStorage:dt,_support:c(),iterate:G,getItem:pt,setItem:ut,removeItem:F,clear:S,length:Y,key:A,keys:R,dropInstance:N};function _(){return typeof openDatabase=="function"}var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K="~~local_forage_type~",Q=/^~~local_forage_type~([^~]+)~/,J="__lfsc__:",rt=J.length,bt="arbf",_t="blob",Pt="si08",tt="ui08",et="uic8",ct="si16",st="si32",at="ur16",ht="ui32",W="fl32",j="fl64",Et=rt+bt.length,At=Object.prototype.toString;function Ot(X){var ft=X.length*.75,ot=X.length,mt,gt=0,yt,kt,xt,Mt;X[X.length-1]==="="&&(ft--,X[X.length-2]==="="&&ft--);var Rt=new ArrayBuffer(ft),Ct=new Uint8Array(Rt);for(mt=0;mt<ot;mt+=4)yt=M.indexOf(X[mt]),kt=M.indexOf(X[mt+1]),xt=M.indexOf(X[mt+2]),Mt=M.indexOf(X[mt+3]),Ct[gt++]=yt<<2|kt>>4,Ct[gt++]=(kt&15)<<4|xt>>2,Ct[gt++]=(xt&3)<<6|Mt&63;return Rt}function Zt(X){var ft=new Uint8Array(X),ot="",mt;for(mt=0;mt<ft.length;mt+=3)ot+=M[ft[mt]>>2],ot+=M[(ft[mt]&3)<<4|ft[mt+1]>>4],ot+=M[(ft[mt+1]&15)<<2|ft[mt+2]>>6],ot+=M[ft[mt+2]&63];return ft.length%3==2?ot=ot.substring(0,ot.length-1)+"=":ft.length%3==1&&(ot=ot.substring(0,ot.length-2)+"=="),ot}function jt(X,ft){var ot="";if(X&&(ot=At.call(X)),X&&(ot==="[object ArrayBuffer]"||X.buffer&&At.call(X.buffer)==="[object ArrayBuffer]")){var mt,gt=J;X instanceof ArrayBuffer?(mt=X,gt+=bt):(mt=X.buffer,ot==="[object Int8Array]"?gt+=Pt:ot==="[object Uint8Array]"?gt+=tt:ot==="[object Uint8ClampedArray]"?gt+=et:ot==="[object Int16Array]"?gt+=ct:ot==="[object Uint16Array]"?gt+=at:ot==="[object Int32Array]"?gt+=st:ot==="[object Uint32Array]"?gt+=ht:ot==="[object Float32Array]"?gt+=W:ot==="[object Float64Array]"?gt+=j:ft(new Error("Failed to get type for BinaryArray"))),ft(gt+Zt(mt))}else if(ot==="[object Blob]"){var yt=new FileReader;yt.onload=function(){var kt=K+X.type+"~"+Zt(this.result);ft(J+_t+kt)},yt.readAsArrayBuffer(X)}else try{ft(JSON.stringify(X))}catch(kt){console.error("Couldn't convert value into a JSON string: ",X),ft(null,kt)}}function Ft(X){if(X.substring(0,rt)!==J)return JSON.parse(X);var ft=X.substring(Et),ot=X.substring(rt,Et),mt;if(ot===_t&&Q.test(ft)){var gt=ft.match(Q);mt=gt[1],ft=ft.substring(gt[0].length)}var yt=Ot(ft);switch(ot){case bt:return yt;case _t:return f([yt],{type:mt});case Pt:return new Int8Array(yt);case tt:return new Uint8Array(yt);case et:return new Uint8ClampedArray(yt);case ct:return new Int16Array(yt);case at:return new Uint16Array(yt);case st:return new Int32Array(yt);case ht:return new Uint32Array(yt);case W:return new Float32Array(yt);case j:return new Float64Array(yt);default:throw new Error("Unkown type: "+ot)}}var oe={serialize:jt,deserialize:Ft,stringToBuffer:Ot,bufferToString:Zt};function Yt(X,ft,ot,mt){X.executeSql("CREATE TABLE IF NOT EXISTS "+ft.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],ot,mt)}function Jt(X){var ft=this,ot={db:null};if(X)for(var mt in X)ot[mt]=typeof X[mt]!="string"?X[mt].toString():X[mt];var gt=new l(function(yt,kt){try{ot.db=openDatabase(ot.name,String(ot.version),ot.description,ot.size)}catch(xt){return kt(xt)}ot.db.transaction(function(xt){Yt(xt,ot,function(){ft._dbInfo=ot,yt()},function(Mt,Rt){kt(Rt)})},kt)});return ot.serializer=oe,gt}function ue(X,ft,ot,mt,gt,yt){X.executeSql(ot,mt,gt,function(kt,xt){xt.code===xt.SYNTAX_ERR?kt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ft.storeName],function(Mt,Rt){Rt.rows.length?yt(Mt,xt):Yt(Mt,ft,function(){Mt.executeSql(ot,mt,gt,yt)},yt)},yt):yt(kt,xt)},yt)}function zt(X,ft){var ot=this;X=k(X);var mt=new l(function(gt,yt){ot.ready().then(function(){var kt=ot._dbInfo;kt.db.transaction(function(xt){ue(xt,kt,"SELECT * FROM "+kt.storeName+" WHERE key = ? LIMIT 1",[X],function(Mt,Rt){var Ct=Rt.rows.length?Rt.rows.item(0).value:null;Ct&&(Ct=kt.serializer.deserialize(Ct)),gt(Ct)},function(Mt,Rt){yt(Rt)})})}).catch(yt)});return y(mt,ft),mt}function Wt(X,ft){var ot=this,mt=new l(function(gt,yt){ot.ready().then(function(){var kt=ot._dbInfo;kt.db.transaction(function(xt){ue(xt,kt,"SELECT * FROM "+kt.storeName,[],function(Mt,Rt){for(var Ct=Rt.rows,Lt=Ct.length,re=0;re<Lt;re++){var he=Ct.item(re),le=he.value;if(le&&(le=kt.serializer.deserialize(le)),le=X(le,he.key,re+1),le!==void 0){gt(le);return}}gt()},function(Mt,Rt){yt(Rt)})})}).catch(yt)});return y(mt,ft),mt}function ee(X,ft,ot,mt){var gt=this;X=k(X);var yt=new l(function(kt,xt){gt.ready().then(function(){ft===void 0&&(ft=null);var Mt=ft,Rt=gt._dbInfo;Rt.serializer.serialize(ft,function(Ct,Lt){Lt?xt(Lt):Rt.db.transaction(function(re){ue(re,Rt,"INSERT OR REPLACE INTO "+Rt.storeName+" (key, value) VALUES (?, ?)",[X,Ct],function(){kt(Mt)},function(he,le){xt(le)})},function(re){if(re.code===re.QUOTA_ERR){if(mt>0){kt(ee.apply(gt,[X,Mt,ot,mt-1]));return}xt(re)}})})}).catch(xt)});return y(yt,ot),yt}function Nt(X,ft,ot){return ee.apply(this,[X,ft,ot,1])}function Gt(X,ft){var ot=this;X=k(X);var mt=new l(function(gt,yt){ot.ready().then(function(){var kt=ot._dbInfo;kt.db.transaction(function(xt){ue(xt,kt,"DELETE FROM "+kt.storeName+" WHERE key = ?",[X],function(){gt()},function(Mt,Rt){yt(Rt)})})}).catch(yt)});return y(mt,ft),mt}function ae(X){var ft=this,ot=new l(function(mt,gt){ft.ready().then(function(){var yt=ft._dbInfo;yt.db.transaction(function(kt){ue(kt,yt,"DELETE FROM "+yt.storeName,[],function(){mt()},function(xt,Mt){gt(Mt)})})}).catch(gt)});return y(ot,X),ot}function Ht(X){var ft=this,ot=new l(function(mt,gt){ft.ready().then(function(){var yt=ft._dbInfo;yt.db.transaction(function(kt){ue(kt,yt,"SELECT COUNT(key) as c FROM "+yt.storeName,[],function(xt,Mt){var Rt=Mt.rows.item(0).c;mt(Rt)},function(xt,Mt){gt(Mt)})})}).catch(gt)});return y(ot,X),ot}function vt(X,ft){var ot=this,mt=new l(function(gt,yt){ot.ready().then(function(){var kt=ot._dbInfo;kt.db.transaction(function(xt){ue(xt,kt,"SELECT key FROM "+kt.storeName+" WHERE id = ? LIMIT 1",[X+1],function(Mt,Rt){var Ct=Rt.rows.length?Rt.rows.item(0).key:null;gt(Ct)},function(Mt,Rt){yt(Rt)})})}).catch(yt)});return y(mt,ft),mt}function wt(X){var ft=this,ot=new l(function(mt,gt){ft.ready().then(function(){var yt=ft._dbInfo;yt.db.transaction(function(kt){ue(kt,yt,"SELECT key FROM "+yt.storeName,[],function(xt,Mt){for(var Rt=[],Ct=0;Ct<Mt.rows.length;Ct++)Rt.push(Mt.rows.item(Ct).key);mt(Rt)},function(xt,Mt){gt(Mt)})})}).catch(gt)});return y(ot,X),ot}function St(X){return new l(function(ft,ot){X.transaction(function(mt){mt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(gt,yt){for(var kt=[],xt=0;xt<yt.rows.length;xt++)kt.push(yt.rows.item(xt).name);ft({db:X,storeNames:kt})},function(gt,yt){ot(yt)})},function(mt){ot(mt)})})}function Tt(X,ft){ft=x.apply(this,arguments);var ot=this.config();X=typeof X!="function"&&X||{},X.name||(X.name=X.name||ot.name,X.storeName=X.storeName||ot.storeName);var mt=this,gt;return X.name?gt=new l(function(yt){var kt;X.name===ot.name?kt=mt._dbInfo.db:kt=openDatabase(X.name,"","",0),X.storeName?yt({db:kt,storeNames:[X.storeName]}):yt(St(kt))}).then(function(yt){return new l(function(kt,xt){yt.db.transaction(function(Mt){function Rt(he){return new l(function(le,Se){Mt.executeSql("DROP TABLE IF EXISTS "+he,[],function(){le()},function(Ae,gr){Se(gr)})})}for(var Ct=[],Lt=0,re=yt.storeNames.length;Lt<re;Lt++)Ct.push(Rt(yt.storeNames[Lt]));l.all(Ct).then(function(){kt()}).catch(function(he){xt(he)})},function(Mt){xt(Mt)})})}):gt=l.reject("Invalid arguments"),y(gt,ft),gt}var qt={_driver:"webSQLStorage",_initStorage:Jt,_support:_(),iterate:Wt,getItem:zt,setItem:Nt,removeItem:Gt,clear:ae,length:Ht,key:vt,keys:wt,dropInstance:Tt};function Kt(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Bt(X,ft){var ot=X.name+"/";return X.storeName!==ft.storeName&&(ot+=X.storeName+"/"),ot}function ne(){var X="_localforage_support_test";try{return localStorage.setItem(X,!0),localStorage.removeItem(X),!1}catch{return!0}}function $t(){return!ne()||localStorage.length>0}function se(X){var ft=this,ot={};if(X)for(var mt in X)ot[mt]=X[mt];return ot.keyPrefix=Bt(X,ft._defaultConfig),$t()?(ft._dbInfo=ot,ot.serializer=oe,l.resolve()):l.reject()}function Ce(X){var ft=this,ot=ft.ready().then(function(){for(var mt=ft._dbInfo.keyPrefix,gt=localStorage.length-1;gt>=0;gt--){var yt=localStorage.key(gt);yt.indexOf(mt)===0&&localStorage.removeItem(yt)}});return y(ot,X),ot}function Te(X,ft){var ot=this;X=k(X);var mt=ot.ready().then(function(){var gt=ot._dbInfo,yt=localStorage.getItem(gt.keyPrefix+X);return yt&&(yt=gt.serializer.deserialize(yt)),yt});return y(mt,ft),mt}function Ne(X,ft){var ot=this,mt=ot.ready().then(function(){for(var gt=ot._dbInfo,yt=gt.keyPrefix,kt=yt.length,xt=localStorage.length,Mt=1,Rt=0;Rt<xt;Rt++){var Ct=localStorage.key(Rt);if(Ct.indexOf(yt)===0){var Lt=localStorage.getItem(Ct);if(Lt&&(Lt=gt.serializer.deserialize(Lt)),Lt=X(Lt,Ct.substring(kt),Mt++),Lt!==void 0)return Lt}}});return y(mt,ft),mt}function hr(X,ft){var ot=this,mt=ot.ready().then(function(){var gt=ot._dbInfo,yt;try{yt=localStorage.key(X)}catch{yt=null}return yt&&(yt=yt.substring(gt.keyPrefix.length)),yt});return y(mt,ft),mt}function fr(X){var ft=this,ot=ft.ready().then(function(){for(var mt=ft._dbInfo,gt=localStorage.length,yt=[],kt=0;kt<gt;kt++){var xt=localStorage.key(kt);xt.indexOf(mt.keyPrefix)===0&&yt.push(xt.substring(mt.keyPrefix.length))}return yt});return y(ot,X),ot}function lr(X){var ft=this,ot=ft.keys().then(function(mt){return mt.length});return y(ot,X),ot}function dr(X,ft){var ot=this;X=k(X);var mt=ot.ready().then(function(){var gt=ot._dbInfo;localStorage.removeItem(gt.keyPrefix+X)});return y(mt,ft),mt}function pr(X,ft,ot){var mt=this;X=k(X);var gt=mt.ready().then(function(){ft===void 0&&(ft=null);var yt=ft;return new l(function(kt,xt){var Mt=mt._dbInfo;Mt.serializer.serialize(ft,function(Rt,Ct){if(Ct)xt(Ct);else try{localStorage.setItem(Mt.keyPrefix+X,Rt),kt(yt)}catch(Lt){(Lt.name==="QuotaExceededError"||Lt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&xt(Lt),xt(Lt)}})})});return y(gt,ot),gt}function yr(X,ft){if(ft=x.apply(this,arguments),X=typeof X!="function"&&X||{},!X.name){var ot=this.config();X.name=X.name||ot.name,X.storeName=X.storeName||ot.storeName}var mt=this,gt;return X.name?gt=new l(function(yt){X.storeName?yt(Bt(X,mt._defaultConfig)):yt(X.name+"/")}).then(function(yt){for(var kt=localStorage.length-1;kt>=0;kt--){var xt=localStorage.key(kt);xt.indexOf(yt)===0&&localStorage.removeItem(xt)}}):gt=l.reject("Invalid arguments"),y(gt,ft),gt}var mr={_driver:"localStorageWrapper",_initStorage:se,_support:Kt(),iterate:Ne,getItem:Te,setItem:pr,removeItem:dr,clear:Ce,length:lr,key:hr,keys:fr,dropInstance:yr},Sr=function(ft,ot){return ft===ot||typeof ft=="number"&&typeof ot=="number"&&isNaN(ft)&&isNaN(ot)},Er=function(ft,ot){for(var mt=ft.length,gt=0;gt<mt;){if(Sr(ft[gt],ot))return!0;gt++}return!1},Pr=Array.isArray||function(X){return Object.prototype.toString.call(X)==="[object Array]"},Xe={},xr={},Ge={INDEXEDDB:P,WEBSQL:qt,LOCALSTORAGE:mr},zr=[Ge.INDEXEDDB._driver,Ge.WEBSQL._driver,Ge.LOCALSTORAGE._driver],ar=["dropInstance"],Mr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ar),Zi={description:"",driver:zr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ts(X,ft){X[ft]=function(){var ot=arguments;return X.ready().then(function(){return X[ft].apply(X,ot)})}}function ti(){for(var X=1;X<arguments.length;X++){var ft=arguments[X];if(ft)for(var ot in ft)ft.hasOwnProperty(ot)&&(Pr(ft[ot])?arguments[0][ot]=ft[ot].slice():arguments[0][ot]=ft[ot])}return arguments[0]}var es=function(){function X(ft){a(this,X);for(var ot in Ge)if(Ge.hasOwnProperty(ot)){var mt=Ge[ot],gt=mt._driver;this[ot]=gt,Xe[gt]||this.defineDriver(mt)}this._defaultConfig=ti({},Zi),this._config=ti({},this._defaultConfig,ft),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return X.prototype.config=function(ot){if((typeof ot=="undefined"?"undefined":s(ot))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var mt in ot){if(mt==="storeName"&&(ot[mt]=ot[mt].replace(/\W/g,"_")),mt==="version"&&typeof ot[mt]!="number")return new Error("Database version must be a number.");this._config[mt]=ot[mt]}return"driver"in ot&&ot.driver?this.setDriver(this._config.driver):!0}else return typeof ot=="string"?this._config[ot]:this._config},X.prototype.defineDriver=function(ot,mt,gt){var yt=new l(function(kt,xt){try{var Mt=ot._driver,Rt=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!ot._driver){xt(Rt);return}for(var Ct=Mr.concat("_initStorage"),Lt=0,re=Ct.length;Lt<re;Lt++){var he=Ct[Lt],le=!Er(ar,he);if((le||ot[he])&&typeof ot[he]!="function"){xt(Rt);return}}var Se=function(){for(var rs=function(cl){return function(){var ul=new Error("Method "+cl+" is not implemented by the current driver"),G0=l.reject(ul);return y(G0,arguments[arguments.length-1]),G0}},Vo=0,ol=ar.length;Vo<ol;Vo++){var Yo=ar[Vo];ot[Yo]||(ot[Yo]=rs(Yo))}};Se();var Ae=function(rs){Xe[Mt]&&console.info("Redefining LocalForage driver: "+Mt),Xe[Mt]=ot,xr[Mt]=rs,kt()};"_support"in ot?ot._support&&typeof ot._support=="function"?ot._support().then(Ae,xt):Ae(!!ot._support):Ae(!0)}catch(gr){xt(gr)}});return p(yt,mt,gt),yt},X.prototype.driver=function(){return this._driver||null},X.prototype.getDriver=function(ot,mt,gt){var yt=Xe[ot]?l.resolve(Xe[ot]):l.reject(new Error("Driver not found."));return p(yt,mt,gt),yt},X.prototype.getSerializer=function(ot){var mt=l.resolve(oe);return p(mt,ot),mt},X.prototype.ready=function(ot){var mt=this,gt=mt._driverSet.then(function(){return mt._ready===null&&(mt._ready=mt._initDriver()),mt._ready});return p(gt,ot,ot),gt},X.prototype.setDriver=function(ot,mt,gt){var yt=this;Pr(ot)||(ot=[ot]);var kt=this._getSupportedDrivers(ot);function xt(){yt._config.driver=yt.driver()}function Mt(Lt){return yt._extend(Lt),xt(),yt._ready=yt._initStorage(yt._config),yt._ready}function Rt(Lt){return function(){var re=0;function he(){for(;re<Lt.length;){var le=Lt[re];return re++,yt._dbInfo=null,yt._ready=null,yt.getDriver(le).then(Mt).catch(he)}xt();var Se=new Error("No available storage method found.");return yt._driverSet=l.reject(Se),yt._driverSet}return he()}}var Ct=this._driverSet!==null?this._driverSet.catch(function(){return l.resolve()}):l.resolve();return this._driverSet=Ct.then(function(){var Lt=kt[0];return yt._dbInfo=null,yt._ready=null,yt.getDriver(Lt).then(function(re){yt._driver=re._driver,xt(),yt._wrapLibraryMethodsWithReady(),yt._initDriver=Rt(kt)})}).catch(function(){xt();var Lt=new Error("No available storage method found.");return yt._driverSet=l.reject(Lt),yt._driverSet}),p(this._driverSet,mt,gt),this._driverSet},X.prototype.supports=function(ot){return!!xr[ot]},X.prototype._extend=function(ot){ti(this,ot)},X.prototype._getSupportedDrivers=function(ot){for(var mt=[],gt=0,yt=ot.length;gt<yt;gt++){var kt=ot[gt];this.supports(kt)&&mt.push(kt)}return mt},X.prototype._wrapLibraryMethodsWithReady=function(){for(var ot=0,mt=Mr.length;ot<mt;ot++)ts(this,Mr[ot])},X.prototype.createInstance=function(ot){return new X(ot)},X}(),ua=new es;n.exports=ua},{"3":3}]},{},[4])(4)})})(rl);var P5=rl.exports,nl={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function s(u,c,f,l,y){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new i(f,l||u,y),k=r?r+c:c;return u._events[k]?u._events[k].fn?u._events[k]=[u._events[k],p]:u._events[k].push(p):(u._events[k]=p,u._eventsCount++),u}function a(u,c){--u._eventsCount==0?u._events=new n:delete u._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],f,l;if(this._eventsCount===0)return c;for(l in f=this._events)e.call(f,l)&&c.push(r?l.slice(1):l);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},o.prototype.listeners=function(c){var f=r?r+c:c,l=this._events[f];if(!l)return[];if(l.fn)return[l.fn];for(var y=0,p=l.length,k=new Array(p);y<p;y++)k[y]=l[y].fn;return k},o.prototype.listenerCount=function(c){var f=r?r+c:c,l=this._events[f];return l?l.fn?1:l.length:0},o.prototype.emit=function(c,f,l,y,p,k){var x=r?r+c:c;if(!this._events[x])return!1;var E=this._events[x],D=arguments.length,q,z;if(E.fn){switch(E.once&&this.removeListener(c,E.fn,void 0,!0),D){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,f),!0;case 3:return E.fn.call(E.context,f,l),!0;case 4:return E.fn.call(E.context,f,l,y),!0;case 5:return E.fn.call(E.context,f,l,y,p),!0;case 6:return E.fn.call(E.context,f,l,y,p,k),!0}for(z=1,q=new Array(D-1);z<D;z++)q[z-1]=arguments[z];E.fn.apply(E.context,q)}else{var O=E.length,L;for(z=0;z<O;z++)switch(E[z].once&&this.removeListener(c,E[z].fn,void 0,!0),D){case 1:E[z].fn.call(E[z].context);break;case 2:E[z].fn.call(E[z].context,f);break;case 3:E[z].fn.call(E[z].context,f,l);break;case 4:E[z].fn.call(E[z].context,f,l,y);break;default:if(!q)for(L=1,q=new Array(D-1);L<D;L++)q[L-1]=arguments[L];E[z].fn.apply(E[z].context,q)}}return!0},o.prototype.on=function(c,f,l){return s(this,c,f,l,!1)},o.prototype.once=function(c,f,l){return s(this,c,f,l,!0)},o.prototype.removeListener=function(c,f,l,y){var p=r?r+c:c;if(!this._events[p])return this;if(!f)return a(this,p),this;var k=this._events[p];if(k.fn)k.fn===f&&(!y||k.once)&&(!l||k.context===l)&&a(this,p);else{for(var x=0,E=[],D=k.length;x<D;x++)(k[x].fn!==f||y&&!k[x].once||l&&k[x].context!==l)&&E.push(k[x]);E.length?this._events[p]=E.length===1?E[0]:E:a(this,p)}return this},o.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&a(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(nl);var x5=nl.exports;function M5(t,e,r=!1){const n=e.length,i=t.length;return i>n?!1:N3(r!==!0?t.toLowerCase():t,i,r!==!0?e.toLowerCase():e,n)}function N3(t,e,r,n){let i=0,s=0;t:for(;i<e;){const a=t.charAt(i++);for(;s<n;)if(r.charAt(s++)===a)continue t;return!1}return!0}var $o,K3=new Uint8Array(16);function z3(){if(!$o&&($o=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!$o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $o(K3)}var F3=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function L3(t){return typeof t=="string"&&F3.test(t)}var Oe=[];for(var H0=0;H0<256;++H0)Oe.push((H0+256).toString(16).substr(1));function j3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Oe[t[e+0]]+Oe[t[e+1]]+Oe[t[e+2]]+Oe[t[e+3]]+"-"+Oe[t[e+4]]+Oe[t[e+5]]+"-"+Oe[t[e+6]]+Oe[t[e+7]]+"-"+Oe[t[e+8]]+Oe[t[e+9]]+"-"+Oe[t[e+10]]+Oe[t[e+11]]+Oe[t[e+12]]+Oe[t[e+13]]+Oe[t[e+14]]+Oe[t[e+15]]).toLowerCase();if(!L3(r))throw TypeError("Stringified UUID is invalid");return r}function R5(t,e,r){t=t||{};var n=t.random||(t.rng||z3)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return j3(n)}function il(t){let e,r;return{c(){e=ns("title"),r=ya(t[0])},l(n){e=ma(n,"title",{});var i=is(e);r=iu(i,t[0]),i.forEach(ln)},m(n,i){pa(n,e,i),Xo(e,r)},p(n,i){i&1&&Sl(r,n[0])},d(n){n&&ln(e)}}}function q3(t){let e,r,n,i=t[0]&&il(t);const s=t[3].default,a=pl(s,t,t[2],null);return{c(){e=ns("svg"),i&&i.c(),r=eu(),a&&a.c(),this.h()},l(o){e=ma(o,"svg",{xmlns:!0,viewBox:!0,class:!0});var u=is(e);i&&i.l(u),r=eu(),a&&a.l(u),u.forEach(ln),this.h()},h(){Pi(e,"xmlns","http://www.w3.org/2000/svg"),Pi(e,"viewBox",t[1]),Pi(e,"class","svelte-c8tyih")},m(o,u){pa(o,e,u),i&&i.m(e,null),Xo(e,r),a&&a.m(e,null),n=!0},p(o,[u]){o[0]?i?i.p(o,u):(i=il(o),i.c(),i.m(e,r)):i&&(i.d(1),i=null),a&&a.p&&(!n||u&4)&&ml(a,s,o,o[2],n?yl(s,o[2],u,null):gl(o[2]),null),(!n||u&2)&&Pi(e,"viewBox",o[1])},i(o){n||(cs(a,o),n=!0)},o(o){nc(a,o),n=!1},d(o){o&&ln(e),i&&i.d(),a&&a.d(o)}}}function W3(t,e,r){let{$$slots:n={},$$scope:i}=e,{title:s=null}=e,{viewBox:a}=e;return t.$$set=o=>{"title"in o&&r(0,s=o.title),"viewBox"in o&&r(1,a=o.viewBox),"$$scope"in o&&r(2,i=o.$$scope)},[s,a,i,n]}class sl extends oc{constructor(e){super();ac(this,e,W3,q3,fa,{title:0,viewBox:1})}}function H3(t){let e;return{c(){e=ns("path"),this.h()},l(r){e=ma(r,"path",{d:!0}),is(e).forEach(ln),this.h()},h(){Pi(e,"d","M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z")},m(r,n){pa(r,e,n)},d(r){r&&ln(e)}}}function G3(t){let e,r;const n=[{viewBox:"0 0 576 512"},t[0]];let i={$$slots:{default:[H3]},$$scope:{ctx:t}};for(let s=0;s<n.length;s+=1)i=ri(i,n[s]);return e=new sl({props:i}),{c(){uu(e.$$.fragment)},l(s){hu(e.$$.fragment,s)},m(s,a){ic(e,s,a),r=!0},p(s,[a]){const o=a&1?ou(n,[n[0],cu(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),e.$set(o)},i(s){r||(cs(e.$$.fragment,s),r=!0)},o(s){nc(e.$$.fragment,s),r=!1},d(s){sc(e,s)}}}function $3(t,e,r){return t.$$set=n=>{r(0,e=ri(ri({},e),la(n)))},e=la(e),[e]}class C5 extends oc{constructor(e){super();ac(this,e,$3,G3,fa,{})}}function V3(t){let e;return{c(){e=ns("path"),this.h()},l(r){e=ma(r,"path",{d:!0}),is(e).forEach(ln),this.h()},h(){Pi(e,"d","M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z")},m(r,n){pa(r,e,n)},d(r){r&&ln(e)}}}function Y3(t){let e,r;const n=[{viewBox:"0 0 640 512"},t[0]];let i={$$slots:{default:[V3]},$$scope:{ctx:t}};for(let s=0;s<n.length;s+=1)i=ri(i,n[s]);return e=new sl({props:i}),{c(){uu(e.$$.fragment)},l(s){hu(e.$$.fragment,s)},m(s,a){ic(e,s,a),r=!0},p(s,[a]){const o=a&1?ou(n,[n[0],cu(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),e.$set(o)},i(s){r||(cs(e.$$.fragment,s),r=!0)},o(s){nc(e.$$.fragment,s),r=!1},d(s){sc(e,s)}}}function J3(t,e,r){return t.$$set=n=>{r(0,e=ri(ri({},e),la(n)))},e=la(e),[e]}class T5 extends oc{constructor(e){super();ac(this,e,J3,Y3,fa,{})}}const al=()=>{};function I5(t,e=0,r={}){let n=null,i=!1;const s=r.before||al,a=r.after||al;return function(...u){i||(i=!0,s()),n!=null&&(clearTimeout(n),n=null),!!r.isImmediate&&n==null?(i=!1,t.apply(this,u),a()):n=setTimeout(()=>{i=!1,n=null,t.apply(this,u),a()},e)}}export{_5 as $,u5 as A,ri as B,Cl as C,pl as D,c5 as E,Xo as F,ml as G,gl as H,yl as I,xn as J,t5 as K,o5 as L,n5 as M,ns as N,ma as O,m5 as P,y5 as Q,v5 as R,oc as S,x5 as T,P5 as U,w5 as V,Z3 as W,b5 as X,E5 as Y,A5 as Z,S5 as _,is as a,k5 as a0,R5 as a1,a5 as a2,Ei as a3,I5 as a4,T5 as a5,C5 as a6,su as a7,g5 as a8,e5 as a9,l5 as aa,M5 as ab,Z0 as ac,Pi as b,i5 as c,ln as d,Al as e,pa as f,iu as g,Sl as h,ac as i,uu as j,r5 as k,eu as l,hu as m,s5 as n,ic as o,ou as p,cu as q,d5 as r,fa as s,ya as t,nc as u,sc as v,p5 as w,cs as x,f5 as y,h5 as z};
