import{R as Y,S as x,i as V,s as D,e as v,c as y,a as g,d,b as u,f as $,F as _,J as b,A as Z,C,k,t as A,n as K,g as ee,L as I,M as te,N as j,O as P,h as se,P as ae,K as re,Q as ne,D as le,j as z,m as B,o as N,G as ie,H as oe,I as ce,x as S,u as M,v as O,T as ue,U as w,$ as W,V as q,W as F}from"./vendor-cf18c955.js";import{_ as fe}from"./preload-helper-04e99934.js";const E=new Y;E.access.claim("*","rw");E.caching.enable("/");E.setApiKeys({dropbox:"v21wdidfxjapm8b",googledrive:"399181883347-3dfijgbemptplmueu01bsfga9jpkks6j.apps.googleusercontent.com"});function de(a){let e,t;return{c(){e=v("div"),t=v("div"),this.h()},l(n){e=y(n,"DIV",{class:!0});var r=g(e);t=y(r,"DIV",{id:!0}),g(t).forEach(d),r.forEach(d),this.h()},h(){u(t,"id","remote-storage-widget"),u(e,"class","absolute left-0 bottom-0")},m(n,r){$(n,e,r),_(e,t)},p:b,i:b,o:b,d(n){n&&d(e)}}}function he(a){return Z(()=>{fe(()=>import("./widget-3e963cc8.js").then(function(e){return e.w}),[]).then(({default:e})=>{new e(E).attach("remote-storage-widget")})}),[]}class me extends x{constructor(e){super();V(this,e,he,de,D,{})}}var G;(function(a){a.Success="success",a.Error="error",a.Info="info",a.Warning="warning"})(G||(G={}));const H=C([]),ge=H;function _e(a){H.update(e=>{const t=e.findIndex(n=>n.id===a);return t===-1||e.splice(t,1),e})}function J(a,e,t){const n=a.slice();return n[2]=e[t],n}function Q(a){let e,t,n,r;return{c(){e=v("div"),t=j("svg"),n=j("path"),r=j("path"),this.h()},l(o){e=y(o,"DIV",{class:!0});var s=g(e);t=P(s,"svg",{width:!0,height:!0,viewBox:!0,class:!0,fill:!0,xmlns:!0});var i=g(t);n=P(i,"path",{"fill-rule":!0,d:!0}),g(n).forEach(d),r=P(i,"path",{"fill-rule":!0,d:!0}),g(r).forEach(d),i.forEach(d),s.forEach(d),this.h()},h(){u(n,"fill-rule","evenodd"),u(n,"d","M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"),u(r,"fill-rule","evenodd"),u(r,"d","M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"),u(t,"width","1.8em"),u(t,"height","1.8em"),u(t,"viewBox","0 0 16 16"),u(t,"class","bi bi-x"),u(t,"fill","currentColor"),u(t,"xmlns","http://www.w3.org/2000/svg"),u(e,"class","text-red-500 rounded-full bg-white mr-3")},m(o,s){$(o,e,s),_(e,t),_(t,n),_(t,r)},d(o){o&&d(e)}}}function U(a,e){let t,n,r,o=e[2].message+"",s,i,c,f,l=e[2].type==="error"&&Q();function h(){return e[1](e[2])}return{key:a,first:null,c(){t=v("div"),l&&l.c(),n=k(),r=v("div"),s=A(o),i=k(),this.h()},l(p){t=y(p,"DIV",{class:!0});var m=g(t);l&&l.l(m),n=K(m),r=y(m,"DIV",{class:!0});var R=g(r);s=ee(R,o),R.forEach(d),i=K(m),m.forEach(d),this.h()},h(){u(r,"class","text-white max-w-xs "),u(t,"class","flex items-center rounded py-2 px-3 shadow-md mb-2 cursor-pointer"),I(t,"bg-green-500",e[2].type==="success"),I(t,"bg-red-500",e[2].type==="error"),this.first=t},m(p,m){$(p,t,m),l&&l.m(t,null),_(t,n),_(t,r),_(r,s),_(t,i),c||(f=te(t,"click",h),c=!0)},p(p,m){e=p,e[2].type==="error"?l||(l=Q(),l.c(),l.m(t,n)):l&&(l.d(1),l=null),m&1&&o!==(o=e[2].message+"")&&se(s,o),m&1&&I(t,"bg-green-500",e[2].type==="success"),m&1&&I(t,"bg-red-500",e[2].type==="error")},d(p){p&&d(t),l&&l.d(),c=!1,f()}}}function pe(a){let e,t=[],n=new Map,r=a[0];const o=s=>s[2].id.toString();for(let s=0;s<r.length;s+=1){let i=J(a,r,s),c=o(i);n.set(c,t[s]=U(c,i))}return{c(){e=v("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=y(s,"DIV",{class:!0});var i=g(e);for(let c=0;c<t.length;c+=1)t[c].l(i);i.forEach(d),this.h()},h(){u(e,"class","p-2 absolute bottom-0 w-full")},m(s,i){$(s,e,i);for(let c=0;c<t.length;c+=1)t[c].m(e,null)},p(s,[i]){i&1&&(r=s[0],t=ae(t,i,o,1,s,r,n,e,ne,U,null,J))},i:b,o:b,d(s){s&&d(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function ve(a,e,t){let n;return re(a,ge,o=>t(0,n=o)),[n,o=>_e(o.id)]}class ye extends x{constructor(e){super();V(this,e,ve,pe,D,{})}}function we(a){let e,t,n,r,o,s,i;const c=a[1].default,f=le(c,a,a[0],null);return r=new me({}),s=new ye({}),{c(){e=v("div"),t=v("div"),f&&f.c(),n=k(),z(r.$$.fragment),o=k(),z(s.$$.fragment),this.h()},l(l){e=y(l,"DIV",{class:!0});var h=g(e);t=y(h,"DIV",{class:!0});var p=g(t);f&&f.l(p),p.forEach(d),n=K(h),B(r.$$.fragment,h),o=K(h),B(s.$$.fragment,h),h.forEach(d),this.h()},h(){u(t,"class","container mx-auto h-full my-8"),u(e,"class","h-screen w-screen bg-gray-50 flex flex-col overflow-auto")},m(l,h){$(l,e,h),_(e,t),f&&f.m(t,null),_(e,n),N(r,e,null),_(e,o),N(s,e,null),i=!0},p(l,[h]){f&&f.p&&(!i||h&1)&&ie(f,c,l,l[0],i?ce(c,l[0],h,null):oe(l[0]),null)},i(l){i||(S(f,l),S(r.$$.fragment,l),S(s.$$.fragment,l),i=!0)},o(l){M(f,l),M(r.$$.fragment,l),M(s.$$.fragment,l),i=!1},d(l){l&&d(e),f&&f.d(l),O(r),O(s)}}}function $e(a,e,t){let{$$slots:n={},$$scope:r}=e;return a.$$set=o=>{"$$scope"in o&&t(0,r=o.$$scope)},[r,n]}class Ie extends x{constructor(e){super();V(this,e,$e,we,D,{})}}const L=C({loaded:!1,generating:!1}),T=new ue.EventEmitter,X=L;async function be(a,e,t=!0){const n=[W({armoredKey:a}),q({armoredKey:e})];t&&n.push(w.setItem("privateKey",a),w.setItem("publicKey",e));const[r,o]=await Promise.all([W({armoredKey:a}),q({armoredKey:e}),w.setItem("privateKey",a),w.setItem("publicKey",e)]);L.update(s=>(s.privateKey=r,s.publicKey=o,s)),T.emit("ready")}function Ee(){const a=F(X);return!a.loaded||a.generating?new Promise(e=>{T.once("ready",()=>{const t=F(X);e([t.privateKey,t.publicKey])})}):Promise.resolve([a.privateKey,a.publicKey])}Promise.all([w.getItem("privateKey"),w.getItem("publicKey")]).then(async([a,e])=>{try{await be(a,e,!1)}finally{L.update(t=>(t.loaded=!0,t))}});export{Ie as L,Ee as g,X as k,E as r,be as s};
