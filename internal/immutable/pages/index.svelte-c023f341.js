var e3=Object.defineProperty,r3=Object.defineProperties;var n3=Object.getOwnPropertyDescriptors;var Ya=Object.getOwnPropertySymbols;var S1=Object.prototype.hasOwnProperty,E1=Object.prototype.propertyIsEnumerable;var A1=(e,t,r)=>t in e?e3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Oe=(e,t)=>{for(var r in t||(t={}))S1.call(t,r)&&A1(e,r,t[r]);if(Ya)for(var r of Ya(t))E1.call(t,r)&&A1(e,r,t[r]);return e},ss=(e,t)=>r3(e,n3(t));var Ks=(e,t)=>{var r={};for(var n in e)S1.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ya)for(var n of Ya(e))t.indexOf(n)<0&&E1.call(e,n)&&(r[n]=e[n]);return r};import{N as i3,S as Ee,i as ke,s as Yn,I as b0,e as At,c as St,a as Pt,d as ft,g as Et,O as s3,J as g0,K as v0,L as w0,H as Pi,q as Mt,o as Tt,D as a3,C as Re,w as Vt,x as Yt,y as Jt,z as ts,A as es,B as Xt,P as mr,Q as jn,R as qn,b as dt,E as Pe,T as tr,k as Lt,m as jt,U as Ur,M as kt,V as re,n as kr,p as Pr,G as Nr,W as Ue,t as me,h as ye,j as Ea,X as o3,Y as Hh,Z as Dr,l as Le,_ as Gh,$ as Io,a0 as Vh,a1 as mn,a2 as yn,a3 as vc,a4 as _0,a5 as bs,a6 as c3,v as u3}from"../chunks/index-b32f51c6.js";import{c as ka,I as rs,a as k1,b as Yh,f as l3,s as Jh,L as h3}from"../chunks/Layout-81174ec1.js";import{d as Ka,w as wc}from"../chunks/index-ffc9c32f.js";import{_ as f3}from"../chunks/preload-helper-91b3b7b7.js";var Ja,d3=new Uint8Array(16);function p3(){if(!Ja&&(Ja=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ja))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ja(d3)}var m3=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function y3(e){return typeof e=="string"&&m3.test(e)}var qe=[];for(var Qc=0;Qc<256;++Qc)qe.push((Qc+256).toString(16).substr(1));function b3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(qe[e[t+0]]+qe[e[t+1]]+qe[e[t+2]]+qe[e[t+3]]+"-"+qe[e[t+4]]+qe[e[t+5]]+"-"+qe[e[t+6]]+qe[e[t+7]]+"-"+qe[e[t+8]]+qe[e[t+9]]+"-"+qe[e[t+10]]+qe[e[t+11]]+qe[e[t+12]]+qe[e[t+13]]+qe[e[t+14]]+qe[e[t+15]]).toLowerCase();if(!y3(r))throw TypeError("Stringified UUID is invalid");return r}function g3(e,t,r){e=e||{};var n=e.random||(e.rng||p3)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return b3(n)}const v3="v21wdidfxjapm8b",w3="399181883347-3dfijgbemptplmueu01bsfga9jpkks6j.apps.googleusercontent.com";var _3=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function A3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xh={exports:{}};/*! remotestorage.js 2.0.0-beta.3, https://remotestorage.io, MIT licensed */(function(e,t){(function(r,n){e.exports=n()})(_3,function(){return function(r){var n={};function i(s){if(n[s])return n[s].exports;var a=n[s]={i:s,l:!1,exports:{}};return r[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{enumerable:!0,get:o})},i.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,a){if(1&a&&(s=i(s)),8&a||4&a&&typeof s=="object"&&s&&s.__esModule)return s;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:s}),2&a&&typeof s!="string")for(var c in s)i.d(o,c,function(u){return s[u]}.bind(null,c));return o},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=17)}([function(r,n,i){(function(s,a){Object.defineProperty(n,"__esModule",{value:!0}),n.applyMixins=n.toBase64=n.getTextFromArrayBuffer=n.shouldBeTreatedAsBinary=n.getJSONFromLocalStorage=n.localStorageAvailable=n.pathsFromRoot=n.deepClone=n.equal=n.bindAll=n.cleanPath=n.baseName=n.isDocument=n.isFolder=n.containingFolder=n.extend=n.getGlobalContext=n.globalContext=n.logError=void 0,n.logError=o=>{typeof o=="string"?console.error(o):console.error(o.message,o.stack)},n.globalContext=typeof window!="undefined"?window:typeof self=="object"?self:s,n.getGlobalContext=()=>typeof window!="undefined"?window:typeof self=="object"?self:s,n.extend=(...o)=>{const c=o[0];return Array.prototype.slice.call(o,1).forEach(function(u){for(const h in u)c[h]=u[h]}),c},n.containingFolder=o=>{if(o==="")return"/";if(!o)throw"Path not given!";return o.replace(/\/+/g,"/").replace(/[^\/]+\/?$/,"")},n.isFolder=o=>o.substr(-1)==="/",n.isDocument=o=>!n.isFolder(o),n.baseName=o=>{const c=o.split("/");return n.isFolder(o)?c[c.length-2]+"/":c[c.length-1]},n.cleanPath=o=>o.replace(/\/+/g,"/").split("/").map(encodeURIComponent).join("/").replace(/'/g,"%27"),n.bindAll=o=>{for(const c in this)typeof o[c]=="function"&&(o[c]=o[c].bind(o))},n.equal=(o,c,u=[])=>{let h;if(typeof o!=typeof c)return!1;if(typeof o=="number"||typeof o=="boolean"||typeof o=="string")return o===c;if(typeof o=="function")return o.toString()===c.toString();if(o instanceof ArrayBuffer&&c instanceof ArrayBuffer&&(o=new Uint8Array(o),c=new Uint8Array(c)),o instanceof Array){if(o.length!==c.length)return!1;for(let f=0,p=o.length;f<p;f++)if(!n.equal(o[f],c[f],u))return!1}else{for(h in o)if(o.hasOwnProperty(h)&&!(h in c))return!1;for(h in c){if(!c.hasOwnProperty(h))continue;if(!(h in o))return!1;let f;if(typeof c[h]=="object"){if(u.indexOf(c[h])>=0)continue;f=u.slice(),f.push(c[h])}if(!n.equal(o[h],c[h],f))return!1}}return!0},n.deepClone=o=>{if(o!==void 0){const c=JSON.parse(JSON.stringify(o));return function u(h,f){if(typeof h=="object"&&!Array.isArray(h)&&h!==null){for(const p in h)if(typeof h[p]=="object"&&h[p]!==null)if(h[p].toString()==="[object ArrayBuffer]"){f[p]=new ArrayBuffer(h[p].byteLength);const d=new Int8Array(h[p]);new Int8Array(f[p]).set(d)}else u(h[p],f[p])}}(o,c),c}},n.pathsFromRoot=o=>{const c=[o],u=o.replace(/\/$/,"").split("/");for(;u.length>1;)u.pop(),c.push(u.join("/")+"/");return c},n.localStorageAvailable=()=>{const o=n.getGlobalContext();if(!("localStorage"in o))return!1;try{return o.localStorage.setItem("rs-check","1"),o.localStorage.removeItem("rs-check"),!0}catch{return!1}},n.getJSONFromLocalStorage=o=>{const c=n.getGlobalContext();try{return JSON.parse(c.localStorage.getItem(o))}catch{}},n.shouldBeTreatedAsBinary=(o,c)=>!!(c&&c.match(/charset=binary/)||/[\x00-\x08\x0E-\x1F\uFFFD]/.test(o)),n.getTextFromArrayBuffer=(o,c)=>new Promise(u=>{if(typeof Blob=="undefined"){const h=new a(new Uint8Array(o));u(h.toString(c))}else{let h;const f=n.globalContext;if(f.BlobBuilder=f.BlobBuilder||f.WebKitBlobBuilder,f.BlobBuilder!==void 0){const d=new f.BlobBuilder;d.append(o),h=d.getBlob()}else h=new Blob([o]);const p=new FileReader;typeof p.addEventListener=="function"?p.addEventListener("loadend",function(d){u(d.target.result)}):p.onloadend=function(d){u(d.target.result)},p.readAsText(h,c)}}),n.toBase64=o=>{const c=n.getGlobalContext();return"btoa"in c?c.btoa(o):a.from(o).toString("base64")},n.applyMixins=function(o,c){c.forEach(u=>{Object.getOwnPropertyNames(u.prototype).forEach(h=>{Object.defineProperty(o.prototype,h,Object.getOwnPropertyDescriptor(u.prototype,h))})})}}).call(this,i(5),i(19).Buffer)},function(r,n,i){const s=(this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}})(i(3));r.exports=function(...a){s.default.logging&&console.log(...a)}},function(r,n,i){const s=(this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}})(i(1));r.exports=class{addEvents(a){a.forEach(o=>this._addEvent(o))}addEventListener(a,o){if(typeof a!="string")throw new Error("Argument eventName should be a string");if(typeof o!="function")throw new Error("Argument handler should be a function");s.default("[EventHandling] Adding event listener",a),this._validateEvent(a),this._handlers[a].push(o)}on(a,o){return this.addEventListener(a,o)}removeEventListener(a,o){this._validateEvent(a);const c=this._handlers[a].length;for(let u=0;u<c;u++)if(this._handlers[a][u]===o)return void this._handlers[a].splice(u,1)}_emit(a,...o){this._validateEvent(a),this._handlers[a].slice().forEach(c=>{c.apply(this,o)})}_validateEvent(a){if(!(a in this._handlers))throw new Error("Unknown event: "+a)}_delegateEvent(a,o){o.on(a,c=>{this._emit(a,c)})}_addEvent(a){this._handlers===void 0&&(this._handlers={}),this._handlers[a]=[]}}},function(r,n,i){const s={cache:!0,changeEvents:{local:!0,window:!1,remote:!0,conflict:!0},cordovaRedirectUri:void 0,logging:!1,modules:[],backgroundSyncInterval:6e4,disableFeatures:[],discoveryTimeout:1e4,isBackground:!1,requestTimeout:3e4,syncInterval:1e4};r.exports=s},function(r,n,i){class s extends Error{constructor(o,c={}){super(),this.name="Unauthorized",this.message=o===void 0?"App authorization expired or revoked.":o,c.code!==void 0&&(this.code=c.code),this.stack=new Error().stack}}r.exports=s},function(r,n){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}r.exports=i},function(r,n,i){var s=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};const a=s(i(1)),o=i(0),c=s(i(4));let u;function h(p){const d=p||f.getLocation().href,v=d.indexOf("#");if(v===-1)return;const A=d.substring(v+1);return A.includes("=")?A.split("&").reduce(function(S,C){const B=C.split("=");if(B[0]==="state"&&B[1].match(/rsDiscovery/)){let U=decodeURIComponent(B[1]);const O=U.substr(U.indexOf("rsDiscovery=")).split("&")[0].split("=")[1];S.rsDiscovery=JSON.parse(atob(O)),U=U.replace(new RegExp("&?rsDiscovery="+O),""),U.length>0&&(S.state=U)}else S[decodeURIComponent(B[0])]=decodeURIComponent(B[1]);return S},{}):void 0}class f{static authorize(d,{authURL:v,scope:A,redirectUri:S,clientId:C}){if(a.default("[Authorize] authURL = ",v,"scope = ",A,"redirectUri = ",S,"clientId = ",C),!o.localStorageAvailable()&&d.backend==="remotestorage"){S+=S.indexOf("#")>0?"&":"#";const U={userAddress:d.remote.userAddress,href:d.remote.href,storageApi:d.remote.storageApi,properties:d.remote.properties};S+="rsDiscovery="+o.toBase64(JSON.stringify(U))}const B=function(U,O,q,g){const R=O.indexOf("#");let l=U;return l+=U.indexOf("?")>0?"&":"?",l+="redirect_uri="+encodeURIComponent(O.replace(/#.*$/,"")),l+="&scope="+encodeURIComponent(q),l+="&client_id="+encodeURIComponent(g),R!==-1&&R+1!==O.length&&(l+="&state="+encodeURIComponent(O.substring(R+1))),l+="&response_type=token",l}(v,S,A,C);o.globalContext.cordova?f.openWindow(B,S,"location=yes,clearsessioncache=yes,clearcache=yes").then(U=>{d.remote.configure({token:U.access_token})}):f.setLocation(B)}static setLocation(d){if(typeof d=="string")document.location.href=d;else{if(typeof d!="object")throw"Invalid location "+d;document.location=d}}static _rs_supported(){return typeof document!="undefined"}static _rs_cleanup(d){d.removeEventListener("features-loaded",u)}}f.IMPLIED_FAKE_TOKEN=!1,f.getLocation=function(){return document.location},f.openWindow=function(p,d,v){return new Promise((A,S)=>{const C=open(p,"_blank",v);if(!C||C.closed)return S("Authorization popup was blocked");function B(){return S("Authorization was canceled")}C.addEventListener("loadstart",function(U){if(U.url.indexOf(d)!==0)return;C.removeEventListener("exit",B),C.close();const O=h(U.url);return O?A(O):S("Authorization error")}),C.addEventListener("exit",B)})},f._rs_init=function(p){const d=h();let v;d&&(v=f.getLocation(),v.hash=""),u=function(){let A=!1;if(d){if(d.error)throw d.error==="access_denied"?new c.default("Authorization failed: access denied",{code:"access_denied"}):new c.default("Authorization failed: "+d.error);d.rsDiscovery&&p.remote.configure(d.rsDiscovery),d.access_token&&(p.remote.configure({token:d.access_token}),A=!0),d.remotestorage&&(p.connect(d.remotestorage),A=!0),d.state&&(v=f.getLocation(),f.setLocation(v.href.split("#")[0]+"#"+d.state)),A||p.remote.stopWaitingForToken()}else p.remote.stopWaitingForToken()},p.on("features-loaded",u)},r.exports=f},function(r,n,i){var s=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};const a=s(i(23)),o=s(i(24)),c=s(i(25)),u=s(i(2)),h=s(i(3)),f=i(0);class p{constructor(v,A){if(this.schemas={configurable:!0,get:function(){return p.Types.inScope(this.moduleName)}},A[A.length-1]!=="/")throw"Not a folder: "+A;A==="/"&&(this.makePath=C=>(C[0]==="/"?"":"/")+C),this.storage=v,this.base=A;const S=this.base.split("/");S.length>2?this.moduleName=S[1]:this.moduleName="root",this.addEvents(["change"]),this.on=this.on.bind(this),v.onChange(this.base,this._fireChange.bind(this))}scope(v){return new p(this.storage,this.makePath(v))}getListing(v,A){if(typeof v!="string")v="";else if(v.length>0&&v[v.length-1]!=="/")return Promise.reject("Not a folder: "+v);return this.storage.get(this.makePath(v),A).then(function(S){return S.statusCode===404?{}:S.body})}getAll(v,A){if(typeof v!="string")v="";else if(v.length>0&&v[v.length-1]!=="/")return Promise.reject("Not a folder: "+v);return this.storage.get(this.makePath(v),A).then(S=>{if(S.statusCode===404)return{};if(typeof S.body=="object"){const C=Object.keys(S.body);if(C.length===0)return{};const B=C.map(U=>this.storage.get(this.makePath(v+U),A).then(function(O){if(typeof O.body=="string")try{O.body=JSON.parse(O.body)}catch{}typeof O.body=="object"&&(S.body[U]=O.body)}));return Promise.all(B).then(function(){return S.body})}})}getFile(v,A){return typeof v!="string"?Promise.reject("Argument 'path' of baseClient.getFile must be a string"):this.storage.get(this.makePath(v),A).then(function(S){return{data:S.body,contentType:S.contentType,revision:S.revision}})}storeFile(v,A,S){return typeof v!="string"?Promise.reject("Argument 'mimeType' of baseClient.storeFile must be a string"):typeof A!="string"?Promise.reject("Argument 'path' of baseClient.storeFile must be a string"):typeof S!="string"&&typeof S!="object"?Promise.reject("Argument 'body' of baseClient.storeFile must be a string, ArrayBuffer, or ArrayBufferView"):(this.storage.access.checkPathPermission(this.makePath(A),"rw")||console.warn("WARNING: Editing a document to which only read access ('r') was claimed"),this.storage.put(this.makePath(A),S,v).then(C=>C.statusCode===200||C.statusCode===201?C.revision:Promise.reject("Request (PUT "+this.makePath(A)+") failed with status: "+C.statusCode)))}getObject(v,A){return typeof v!="string"?Promise.reject("Argument 'path' of baseClient.getObject must be a string"):this.storage.get(this.makePath(v),A).then(S=>{if(typeof S.body=="object")return S.body;if(typeof S.body=="string")try{return JSON.parse(S.body)}catch{throw new Error("Not valid JSON: "+this.makePath(v))}else if(S.body!==void 0&&S.statusCode===200)return Promise.reject("Not an object: "+this.makePath(v))})}storeObject(v,A,S){if(typeof v!="string")return Promise.reject("Argument 'typeAlias' of baseClient.storeObject must be a string");if(typeof A!="string")return Promise.reject("Argument 'path' of baseClient.storeObject must be a string");if(typeof S!="object")return Promise.reject("Argument 'object' of baseClient.storeObject must be an object");this._attachType(S,v);try{const C=this.validate(S);if(!C.valid)return Promise.reject(C)}catch(C){return Promise.reject(C)}return this.storage.put(this.makePath(A),JSON.stringify(S),"application/json; charset=UTF-8").then(C=>C.statusCode===200||C.statusCode===201?C.revision:Promise.reject("Request (PUT "+this.makePath(A)+") failed with status: "+C.statusCode))}remove(v){return typeof v!="string"?Promise.reject("Argument 'path' of baseClient.remove must be a string"):(this.storage.access.checkPathPermission(this.makePath(v),"rw")||console.warn("WARNING: Removing a document to which only read access ('r') was claimed"),this.storage.delete(this.makePath(v)))}getItemURL(v){if(typeof v!="string")throw"Argument 'path' of baseClient.getItemURL must be a string";return this.storage.connected?(v=f.cleanPath(this.makePath(v)),this.storage.remote.href+v):void 0}cache(v,A="ALL"){if(typeof v!="string")throw"Argument 'path' of baseClient.cache must be a string";if(typeof A!="string")throw"Argument 'strategy' of baseClient.cache must be a string or undefined";if(A!=="FLUSH"&&A!=="SEEN"&&A!=="ALL")throw`Argument 'strategy' of baseclient.cache must be one of ["FLUSH", "SEEN", "ALL"]`;return this.storage.caching.set(this.makePath(v),A),this}flush(v){return this.storage.local.flush(v)}declareType(v,A,S){let C;S?C=A:(S=A,C=this._defaultTypeURI(v)),p.Types.declare(this.moduleName,v,C,S)}validate(v){const A=p.Types.getSchema(v["@context"]);if(A)return a.default.validateResult(v,A);throw new c.default(v["@context"])}_defaultTypeURI(v){return"http://remotestorage.io/spec/modules/"+encodeURIComponent(this.moduleName)+"/"+encodeURIComponent(v)}_attachType(v,A){v["@context"]=p.Types.resolveAlias(this.moduleName+"/"+A)||this._defaultTypeURI(A)}makePath(v){return this.base+(v||"")}_fireChange(v){h.default.changeEvents[v.origin]&&(["new","old","lastCommon"].forEach(function(A){if((!v[A+"ContentType"]||/^application\/(.*)json(.*)/.exec(v[A+"ContentType"]))&&typeof v[A+"Value"]=="string")try{v[A+"Value"]=JSON.parse(v[A+"Value"])}catch{}}),this._emit("change",v))}static _rs_init(){}}p.Types=o.default,f.applyMixins(p,[u.default]),r.exports=p},function(r,n,i){(function(s){var a=this&&this.__awaiter||function(q,g,R,l){return new(R||(R=Promise))(function(m,y){function b(N){try{D(l.next(N))}catch(W){y(W)}}function _(N){try{D(l.throw(N))}catch(W){y(W)}}function D(N){var W;N.done?m(N.value):(W=N.value,W instanceof R?W:new R(function(tt){tt(W)})).then(b,_)}D((l=l.apply(q,g||[])).next())})},o=this&&this.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};const c=o(i(6)),u=o(i(2)),h=o(i(4)),f=o(i(3)),p=o(i(1)),d=i(0);let v;const A="remotestorage:wireclient",S={"draft-dejong-remotestorage-00":2,"draft-dejong-remotestorage-01":3,"draft-dejong-remotestorage-02":4,"https://www.w3.org/community/rww/wiki/read-write-web-00#simple":1};let C;if(typeof(s||window).ArrayBufferView=="function")C=function(q){return q&&q instanceof(s||window).ArrayBufferView};else{const q=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];C=function(g){for(let R=0;R<8;R++)if(g instanceof q[R])return!0;return!1}}function B(q){return typeof q!="string"?q:q==="*"?"*":'"'+q+'"'}function U(q){return typeof q!="string"?q:q.replace(/^["']|["']$/g,"")}class O{constructor(g){if(this._revisionCache={},v=d.localStorageAvailable(),this.rs=g,this.connected=!1,this.addEvents(["connected","not-connected"]),v){const R=function(){const l=d.getJSONFromLocalStorage(A)||{},{userAddress:m,href:y,storageApi:b,token:_,properties:D}=l;return{userAddress:m,href:y,storageApi:b,token:_,properties:D}}();R&&setTimeout(()=>{this.configure(R)},0)}this.connected&&setTimeout(this._emit.bind(this),0,"connected")}get storageType(){if(this.storageApi){const g=this.storageApi.match(/draft-dejong-(remotestorage-\d\d)/);return g?g[1]:"2012.04"}}_request(g,R,l,m,y,b,_){return a(this,void 0,void 0,function*(){if(function(N,W){return(N==="PUT"||N==="DELETE")&&d.isFolder(W)}(g,R))return Promise.reject(`Don't use ${g} on directories!`);let D;return l!==c.default.IMPLIED_FAKE_TOKEN&&(m.Authorization="Bearer "+l),this.rs._emit("wire-busy",{method:g,isFolder:d.isFolder(R)}),O.request(g,R,{body:y,headers:m,responseType:"arraybuffer"}).then(N=>{if(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:g,isFolder:d.isFolder(R),success:!0}),W=N.status,[401,403,404,412].indexOf(W)>=0)return p.default("[WireClient] Error response status",N.status),D=b?U(N.getResponseHeader("ETag")):void 0,N.status===401&&this.rs._emit("error",new h.default),Promise.resolve({statusCode:N.status,revision:D});if(function(tt){return[201,204,304].indexOf(tt)>=0}(N.status)||N.status===200&&g!=="GET")return D=U(N.getResponseHeader("ETag")),p.default("[WireClient] Successful request",D),Promise.resolve({statusCode:N.status,revision:D});{const tt=N.getResponseHeader("Content-Type");D=b?U(N.getResponseHeader("ETag")):N.status===200?_:void 0;const w=function(I){let J,Q="UTF-8";return I&&(J=I.match(/charset=(.+)$/),J&&(Q=J[1])),Q}(tt);return d.shouldBeTreatedAsBinary(N.response,tt)?(p.default("[WireClient] Successful request with unknown or binary mime-type",D),Promise.resolve({statusCode:N.status,body:N.response,contentType:tt,revision:D})):d.getTextFromArrayBuffer(N.response,w).then(I=>(p.default("[WireClient] Successful request",D),Promise.resolve({statusCode:N.status,body:I,contentType:tt,revision:D})))}var W},N=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:g,isFolder:d.isFolder(R),success:!1}),Promise.reject(N)))})}configure(g){if(typeof g!="object")throw new Error("WireClient configure settings parameter should be an object");if(g.userAddress!==void 0&&(this.userAddress=g.userAddress),g.href!==void 0&&(this.href=g.href),g.storageApi!==void 0&&(this.storageApi=g.storageApi),g.token!==void 0&&(this.token=g.token),g.properties!==void 0&&(this.properties=g.properties),typeof this.storageApi=="string"){const R=S[this.storageApi]||5;this.supportsRevs=R>=2}this.href&&this.token?(this.connected=!0,this.online=!0,this._emit("connected")):this.connected=!1,v&&(localStorage[A]=JSON.stringify({userAddress:this.userAddress,href:this.href,storageApi:this.storageApi,token:this.token,properties:this.properties}))}stopWaitingForToken(){this.connected||this._emit("not-connected")}get(g,R={}){if(!this.connected)return Promise.reject("not connected (path: "+g+")");const l={};return this.supportsRevs&&R.ifNoneMatch&&(l["If-None-Match"]=B(R.ifNoneMatch)),this._request("GET",this.href+d.cleanPath(g),this.token,l,void 0,this.supportsRevs,this._revisionCache[g]).then(m=>{if(!d.isFolder(g))return Promise.resolve(m);let y={};if(m.body!==void 0)try{m.body=JSON.parse(m.body)}catch{return Promise.reject("Folder description at "+this.href+d.cleanPath(g)+" is not JSON")}if(m.statusCode===200&&typeof m.body=="object"){if(Object.keys(m.body).length===0)m.statusCode=404;else if((b=m.body)["@context"]==="http://remotestorage.io/spec/folder-description"&&typeof b.items=="object"){for(const _ in m.body.items)this._revisionCache[g+_]=m.body.items[_].ETag;y=m.body.items}else Object.keys(m.body).forEach(_=>{this._revisionCache[g+_]=m.body[_],y[_]={ETag:m.body[_]}});return m.body=y,Promise.resolve(m)}return Promise.resolve(m);var b})}put(g,R,l,m={}){if(!this.connected)return Promise.reject("not connected (path: "+g+")");!l.match(/charset=/)&&(R instanceof ArrayBuffer||C(R))&&(l+="; charset=binary");const y={"Content-Type":l};return this.supportsRevs&&(m.ifMatch&&(y["If-Match"]=B(m.ifMatch)),m.ifNoneMatch&&(y["If-None-Match"]=B(m.ifNoneMatch))),this._request("PUT",this.href+d.cleanPath(g),this.token,y,R,this.supportsRevs)}delete(g,R={}){if(!this.connected)throw new Error("not connected (path: "+g+")");R||(R={});const l={};return this.supportsRevs&&R.ifMatch&&(l["If-Match"]=B(R.ifMatch)),this._request("DELETE",this.href+d.cleanPath(g),this.token,l,void 0,this.supportsRevs)}static request(g,R,l){return a(this,void 0,void 0,function*(){return typeof fetch=="function"?O._fetchRequest(g,R,l):typeof XMLHttpRequest=="function"?O._xhrRequest(g,R,l):(p.default("[WireClient] You need to add a polyfill for fetch or XMLHttpRequest"),Promise.reject("[WireClient] You need to add a polyfill for fetch or XMLHttpRequest"))})}static _fetchRequest(g,R,l){let m;const y={};let b;typeof AbortController=="function"&&(b=new AbortController);const _=fetch(R,{method:g,headers:l.headers,body:l.body,signal:b?b.signal:void 0}).then(N=>{switch(p.default("[WireClient fetch]",N),N.headers.forEach((W,tt)=>{y[tt.toUpperCase()]=W}),m={readyState:4,status:N.status,statusText:N.statusText,response:void 0,getResponseHeader:W=>y[W.toUpperCase()]||null,responseType:l.responseType,responseURL:R},l.responseType){case"arraybuffer":return N.arrayBuffer();case"blob":return N.blob();case"json":return N.json();case void 0:case"":case"text":return N.text();default:throw new Error("responseType 'document' is not currently supported using fetch")}}).then(N=>(m.response=N,l.responseType&&l.responseType!=="text"||(m.responseText=N),m)),D=new Promise((N,W)=>{setTimeout(()=>{W("timeout"),b&&b.abort()},f.default.requestTimeout)});return Promise.race([_,D])}static _xhrRequest(g,R,l){return new Promise((m,y)=>{p.default("[WireClient]",g,R);let b=!1;const _=setTimeout(()=>{b=!0,y("timeout")},f.default.requestTimeout),D=new XMLHttpRequest;if(D.open(g,R,!0),l.responseType&&(D.responseType=l.responseType),l.headers)for(const W in l.headers)D.setRequestHeader(W,l.headers[W]);D.onload=()=>{b||(clearTimeout(_),m(D))},D.onerror=W=>{b||(clearTimeout(_),y(W))};let N=l.body;typeof N=="object"&&!C(N)&&N instanceof ArrayBuffer&&(N=new Uint8Array(N)),D.send(N)})}static _rs_init(g){g.remote=new O(g),g.remote.online=!0}static _rs_supported(){return typeof fetch=="function"||typeof XMLHttpRequest=="function"}static _rs_cleanup(){v&&delete localStorage[A]}}O.isArrayBufferView=C,d.applyMixins(O,[u.default]),r.exports=O}).call(this,i(5))},function(r,n,i){class s extends Error{constructor(o){super(),this.name="SyncError",this.message="Sync failed: ",typeof o=="string"?this.message+=o:(this.message+=o.message,this.stack=o.stack,this.originalError=o)}}r.exports=s},function(r,n,i){var s=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};const a=s(i(2)),o=s(i(3)),c=s(i(1)),u=i(0);class h{constructor(){this._updateNodesRunning=!1,this._updateNodesQueued=[]}get(S,C,B){return typeof C=="number"?this.getNodes(u.pathsFromRoot(S)).then(U=>{const O=f(U[S]);return p(U,C)?B(S):O?{statusCode:200,body:O.body||O.itemsMap,contentType:O.contentType}:{statusCode:404}}):this.getNodes([S]).then(U=>{const O=f(U[S]);if(O){if(u.isFolder(S))for(const q in O.itemsMap)O.itemsMap.hasOwnProperty(q)&&O.itemsMap[q]===!1&&delete O.itemsMap[q];return{statusCode:200,body:O.body||O.itemsMap,contentType:O.contentType}}return{statusCode:404}})}put(S,C,B){const U=u.pathsFromRoot(S);return this._updateNodes(U,function(O,q){try{for(let g=0,R=O.length;g<R;g++){const l=O[g];let m,y=q[l];y||(q[l]=y=d(l)),g===0?(m=f(y),y.local={body:C,contentType:B,previousBody:m?m.body:void 0,previousContentType:m?m.contentType:void 0}):y=v(y,O[g-1].substring(l.length))}return q}catch(g){throw c.default("[Cachinglayer] Error during PUT",q,g),g}})}delete(S){const C=u.pathsFromRoot(S);return this._updateNodes(C,function(B,U){for(let O=0,q=B.length;O<q;O++){const g=B[O],R=U[g];let l;if(R)if(O===0)l=f(R),R.local={body:!1,previousBody:l?l.body:void 0,previousContentType:l?l.contentType:void 0};else{R.local||(R.local=u.deepClone(R.common));const m=B[O-1].substring(g.length);if(delete R.local.itemsMap[m],Object.getOwnPropertyNames(R.local.itemsMap).length>0)break}else console.error("Cannot delete non-existing node "+g)}return U})}flush(S){return this._getAllDescendentPaths(S).then(C=>this.getNodes(C)).then(C=>{for(const B in C){const U=C[B];U&&U.common&&U.local&&this._emitChange({path:U.path,origin:"local",oldValue:U.local.body===!1?void 0:U.local.body,newValue:U.common.body===!1?void 0:U.common.body}),C[B]=void 0}return this.setNodes(C)})}_emitChange(S){o.default.changeEvents[S.origin]&&this._emit("change",S)}fireInitial(){o.default.changeEvents.local&&this.forAllNodes(S=>{if(u.isDocument(S.path)){const C=f(S);C&&this._emitChange({path:S.path,origin:"local",oldValue:void 0,oldContentType:void 0,newValue:C.body,newContentType:C.contentType})}}).then(()=>{this._emit("local-events-done")})}onDiff(S){this.diffHandler=S}migrate(S){return typeof S!="object"||S.common||(S.common={},typeof S.path=="string"?S.path.substr(-1)==="/"&&typeof S.body=="object"&&(S.common.itemsMap=S.body):(S.local||(S.local={}),S.local.body=S.body,S.local.contentType=S.contentType)),S}_updateNodes(S,C){return new Promise((B,U)=>{this._doUpdateNodes(S,C,{resolve:B,reject:U})})}_doUpdateNodes(S,C,B){this._updateNodesRunning?this._updateNodesQueued.push({paths:S,cb:C,promise:B}):(this._updateNodesRunning=!0,this.getNodes(S).then(U=>{const O=u.deepClone(U),q=[];U=C(S,U);for(const g in U){const R=U[g];u.equal(R,O[g])?delete U[g]:u.isDocument(g)&&(u.equal(R.local.body,R.local.previousBody)&&R.local.contentType===R.local.previousContentType||q.push({path:g,origin:"window",oldValue:R.local.previousBody,newValue:R.local.body===!1?void 0:R.local.body,oldContentType:R.local.previousContentType,newContentType:R.local.contentType}),delete R.local.previousBody,delete R.local.previousContentType)}this.setNodes(U).then(()=>{this._emitChangeEvents(q),B.resolve({statusCode:200})})}).then(()=>Promise.resolve(),U=>{B.reject(U)}).then(()=>{this._updateNodesRunning=!1;const U=this._updateNodesQueued.shift();U&&this._doUpdateNodes(U.paths,U.cb,U.promise)}))}_emitChangeEvents(S){for(let C=0,B=S.length;C<B;C++)this._emitChange(S[C]),this.diffHandler&&this.diffHandler(S[C].path)}_getAllDescendentPaths(S){return u.isFolder(S)?this.getNodes([S]).then(C=>{const B=[S],U=f(C[S]),O=Object.keys(U.itemsMap).map(q=>this._getAllDescendentPaths(S+q).then(g=>{for(let R=0,l=g.length;R<l;R++)B.push(g[R])}));return Promise.all(O).then(()=>B)}):Promise.resolve([S])}_getInternals(){return{getLatest:f,makeNode:d,isOutdated:p}}}function f(A){if(typeof A=="object"&&typeof A.path=="string")if(u.isFolder(A.path)){if(A.local&&A.local.itemsMap)return A.local;if(A.common&&A.common.itemsMap)return A.common}else{if(A.local){if(A.local.body&&A.local.contentType)return A.local;if(A.local.body===!1)return}if(A.common&&A.common.body&&A.common.contentType)return A.common;if(A.body&&A.contentType)return{body:A.body,contentType:A.contentType}}}function p(A,S){for(const C in A){if(A[C]&&A[C].remote)return!0;const B=f(A[C]);if(B&&B.timestamp&&new Date().getTime()-B.timestamp<=S)return!1;if(!B)return!0}return!0}function d(A){const S={path:A,common:{}};return u.isFolder(A)&&(S.common.itemsMap={}),S}function v(A,S){return A.common||(A.common={itemsMap:{}}),A.common.itemsMap||(A.common.itemsMap={}),A.local||(A.local=u.deepClone(A.common)),A.local.itemsMap||(A.local.itemsMap=A.common.itemsMap),A.local.itemsMap[S]=!0,A}u.applyMixins(h,[a.default]),r.exports=h},function(r,n,i){r.exports=class{constructor(){this.reset()}static _rs_init(){}get scopes(){return Object.keys(this.scopeModeMap).map(s=>({name:s,mode:this.scopeModeMap[s]}))}get scopeParameter(){return this.scopes.map(s=>`${this._scopeNameForParameter(s)}:${s.mode}`).join(" ")}claim(s,a){if(typeof s!="string"||s.indexOf("/")!==-1||s.length===0)throw new Error("Scope should be a non-empty string without forward slashes");if(!a.match(/^rw?$/))throw new Error("Mode should be either 'r' or 'rw'");this._adjustRootPaths(s),this.scopeModeMap[s]=a}get(s){return this.scopeModeMap[s]}remove(s){const a={};for(const o in this.scopeModeMap)a[o]=this.scopeModeMap[o];this.reset(),delete a[s];for(const o in a)this.claim(o,a[o])}checkPermission(s,a){const o=this.get(s);return o&&(a==="r"||o==="rw")}checkPathPermission(s,a){if(this.checkPermission("*",a))return!0;const o=this._getModuleName(s);return!!this.checkPermission(o,a)}reset(){this.rootPaths=[],this.scopeModeMap={}}_getModuleName(s){if(s[0]!=="/")throw new Error("Path should start with a slash");const a=s.replace(/^\/public/,"").match(/^\/([^/]*)\//);return a?a[1]:"*"}_adjustRootPaths(s){"*"in this.scopeModeMap||s==="*"?this.rootPaths=["/"]:s in this.scopeModeMap||(this.rootPaths.push("/"+s+"/"),this.rootPaths.push("/public/"+s+"/"))}_scopeNameForParameter(s){if(s.name==="*"&&this.storageType){if(this.storageType==="2012.04")return"";if(this.storageType.match(/remotestorage-0[01]/))return"root"}return s.name}setStorageType(s){this.storageType=s}}},function(r,n,i){var s=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};const a=i(0),o=s(i(1));r.exports=class{constructor(){this.pendingActivations=[],this.reset()}set(c,u){if(typeof c!="string")throw new Error("path should be a string");if(!a.isFolder(c))throw new Error("path should be a folder");if(!u.match(/^(FLUSH|SEEN|ALL)$/))throw new Error("strategy should be 'FLUSH', 'SEEN', or 'ALL'");this._rootPaths[c]=u,u==="ALL"&&(this.activateHandler?this.activateHandler(c):this.pendingActivations.push(c))}enable(c){this.set(c,"ALL")}disable(c){this.set(c,"FLUSH")}onActivate(c){o.default("[Caching] Setting activate handler",c,this.pendingActivations),this.activateHandler=c;for(let u=0;u<this.pendingActivations.length;u++)c(this.pendingActivations[u]);this.pendingActivations=[]}checkPath(c){return this._rootPaths[c]!==void 0?this._rootPaths[c]:c==="/"?"SEEN":this.checkPath(a.containingFolder(c))}reset(){this._rootPaths={}}static _rs_init(){}}},function(r,n,i){var s=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};const a=s(i(7)),o=s(i(8)),c=s(i(2)),u=i(0),h="https://www.googleapis.com",f="remotestorage:googledrive";let p;function d(O){return O.substr(-1)==="/"&&(O=O.substr(0,O.length-1)),decodeURIComponent(O)}function v(O){return O.replace(/[^\/]+\/?$/,"")}function A(O){const q=O.split("/");return O.substr(-1)==="/"?q[q.length-2]+"/":q[q.length-1]}function S(O){return u.cleanPath("/remotestorage/"+O)}function C(O){return O.replace(/^["'](.*)["']$/,"$1")}class B{constructor(q){this._items={},this.maxAge=q,this._items={}}get(q){const g=this._items[q],R=new Date().getTime();return g&&g.t>=R-this.maxAge?g.v:void 0}set(q,g){this._items[q]={v:g,t:new Date().getTime()}}}class U{constructor(q,g){if(this.connected=!1,this.online=!0,this.addEvents(["connected","not-connected"]),this.rs=q,this.clientId=g,this._fileIdCache=new B(300),p=u.localStorageAvailable(),p){const R=u.getJSONFromLocalStorage(f);R&&this.configure(R)}}configure(q){q.userAddress!==void 0&&(this.userAddress=q.userAddress),q.token!==void 0&&(this.token=q.token);const g=function(){p&&localStorage.setItem(f,JSON.stringify({userAddress:this.userAddress,token:this.token}))},R=function(){this.connected=!1,delete this.token,p&&localStorage.removeItem(f)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),g.apply(this)):this.info().then(l=>{this.userAddress=l.user.emailAddress,this._emit("connected"),g.apply(this)}).catch(()=>{R.apply(this),this.rs._emit("error",new Error("Could not fetch user info."))})):R.apply(this)}connect(){this.rs.setBackend("googledrive"),this.rs.authorize({authURL:"https://accounts.google.com/o/oauth2/auth",scope:"https://www.googleapis.com/auth/drive",clientId:this.clientId})}stopWaitingForToken(){this.connected||this._emit("not-connected")}get(q,g){return u.isFolder(q)?this._getFolder(S(q)):this._getFile(S(q),g)}put(q,g,R,l){const m=S(q);function y(b){if(b.status>=200&&b.status<300){const _=JSON.parse(b.responseText),D=C(_.etag);return Promise.resolve({statusCode:200,contentType:_.mimeType,revision:D})}return b.status===412?Promise.resolve({statusCode:412,revision:"conflict"}):Promise.reject("PUT failed with status "+b.status+" ("+b.responseText+")")}return this._getFileId(m).then(b=>b?l&&l.ifNoneMatch==="*"?y({status:412}):this._updateFile(b,m,g,R,l).then(y):this._createFile(m,g,R).then(y))}delete(q,g){const R=S(q);return this._getFileId(R).then(l=>l?this._getMeta(l).then(m=>{let y;return typeof m=="object"&&typeof m.etag=="string"&&(y=C(m.etag)),g&&g.ifMatch&&g.ifMatch!==y?{statusCode:412,revision:y}:this._request("DELETE",h+"/drive/v2/files/"+l,{}).then(b=>b.status===200||b.status===204?{statusCode:200}:Promise.reject("Delete failed: "+b.status+" ("+b.responseText+")"))}):Promise.resolve({statusCode:200}))}info(){return this._request("GET","https://www.googleapis.com/drive/v2/about?fields=user",{}).then(function(q){try{const g=JSON.parse(q.responseText);return Promise.resolve(g)}catch(g){return Promise.reject(g)}})}_updateFile(q,g,R,l,m){const y={mimeType:l},b={"Content-Type":"application/json; charset=UTF-8"};return m&&m.ifMatch&&(b["If-Match"]='"'+m.ifMatch+'"'),this._request("PUT",h+"/upload/drive/v2/files/"+q+"?uploadType=resumable",{body:JSON.stringify(y),headers:b}).then(_=>_.status===412?_:this._request("PUT",_.getResponseHeader("Location"),{body:l.match(/^application\/json/)?JSON.stringify(R):R}))}_createFile(q,g,R){return this._getParentId(q).then(l=>{const m={title:d(A(q)),mimeType:R,parents:[{kind:"drive#fileLink",id:l}]};return this._request("POST",h+"/upload/drive/v2/files?uploadType=resumable",{body:JSON.stringify(m),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(y=>this._request("POST",y.getResponseHeader("Location"),{body:R.match(/^application\/json/)?JSON.stringify(g):g}))})}_getFile(q,g){return this._getFileId(q).then(R=>this._getMeta(R).then(l=>{let m;if(typeof l=="object"&&typeof l.etag=="string"&&(m=C(l.etag)),g&&g.ifNoneMatch&&m===g.ifNoneMatch)return Promise.resolve({statusCode:304});if(!l.downloadUrl){if(!l.exportLinks||!l.exportLinks["text/html"])return Promise.resolve({statusCode:200,body:"",contentType:l.mimeType,revision:m});l.mimeType+=";export=text/html",l.downloadUrl=l.exportLinks["text/html"]}return this._request("GET",l.downloadUrl,{responseType:"arraybuffer"}).then(y=>u.getTextFromArrayBuffer(y.response,"UTF-8").then(function(b){let _=b;if(l.mimeType.match(/^application\/json/))try{_=JSON.parse(_)}catch{}else u.shouldBeTreatedAsBinary(b,l.mimeType)&&(_=y.response);return{statusCode:200,body:_,contentType:l.mimeType,revision:m}}))}))}_getFolder(q){return this._getFileId(q).then(g=>{let R,l,m;if(!g)return Promise.resolve({statusCode:404});const y="'"+g+"' in parents";return this._request("GET",h+"/drive/v2/files?q="+encodeURIComponent(y)+"&fields="+encodeURIComponent("items(downloadUrl,etag,fileSize,id,mimeType,title,labels)")+"&maxResults=1000&trashed=false",{}).then(b=>{var _;if(b.status!==200)return Promise.reject("request failed or something: "+b.status);try{R=JSON.parse(b.responseText)}catch{return Promise.reject("non-JSON response from GoogleDrive")}m={};for(const D of R.items)!((_=D.labels)===null||_===void 0)&&_.trashed||(l=C(D.etag),D.mimeType==="application/vnd.google-apps.folder"?(this._fileIdCache.set(q+u.cleanPath(D.title)+"/",D.id),m[D.title+"/"]={ETag:l}):(this._fileIdCache.set(q+u.cleanPath(D.title),D.id),m[D.title]={ETag:l,"Content-Type":D.mimeType,"Content-Length":D.fileSize}));return Promise.resolve({statusCode:200,body:m,contentType:"application/json; charset=UTF-8",revision:void 0})})})}_getParentId(q){const g=v(q);return this._getFileId(g).then(R=>R?Promise.resolve(R):this._createFolder(g))}_createFolder(q){return this._getParentId(q).then(g=>this._request("POST",h+"/drive/v2/files",{body:JSON.stringify({title:d(A(q)),mimeType:"application/vnd.google-apps.folder",parents:[{id:g}]}),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(R=>{const l=JSON.parse(R.responseText);return Promise.resolve(l.id)}))}_getFileId(q){let g;return q==="/"?Promise.resolve("root"):(g=this._fileIdCache.get(q))?Promise.resolve(g):this._getFolder(v(q)).then(()=>(g=this._fileIdCache.get(q),g?Promise.resolve(g):q.substr(-1)==="/"?this._createFolder(q).then(()=>this._getFileId(q)):Promise.resolve()))}_getMeta(q){return this._request("GET",h+"/drive/v2/files/"+q,{}).then(function(g){return g.status===200?Promise.resolve(JSON.parse(g.responseText)):Promise.reject("request (getting metadata for "+q+") failed with status: "+g.status)})}_request(q,g,R){return R.headers||(R.headers={}),R.headers.Authorization="Bearer "+this.token,this.rs._emit("wire-busy",{method:q,isFolder:u.isFolder(g)}),o.default.request.call(this,q,g,R).then(l=>l&&l.status===401?void this.connect():(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:q,isFolder:u.isFolder(g),success:!0}),Promise.resolve(l)),l=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:q,isFolder:u.isFolder(g),success:!1}),Promise.reject(l)))}static _rs_init(q){const g=q.apiKeys.googledrive;var R;g&&(q.googledrive=new U(q,g.clientId),q.backend==="googledrive"&&(q._origRemote=q.remote,q.remote=q.googledrive,(R=q)._origBaseClientGetItemURL||(R._origBaseClientGetItemURL=a.default.prototype.getItemURL,a.default.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Google Drive yet")})))}static _rs_supported(){return!0}static _rs_cleanup(q){var g;q.setBackend(void 0),q._origRemote&&(q.remote=q._origRemote,delete q._origRemote),(g=q)._origBaseClientGetItemURL&&(a.default.prototype.getItemURL=g._origBaseClientGetItemURL,delete g._origBaseClientGetItemURL)}}u.applyMixins(U,[c.default]),r.exports=U},function(r,n,i){var s=this&&this.__awaiter||function(R,l,m,y){return new(m||(m=Promise))(function(b,_){function D(tt){try{W(y.next(tt))}catch(w){_(w)}}function N(tt){try{W(y.throw(tt))}catch(w){_(w)}}function W(tt){var w;tt.done?b(tt.value):(w=tt.value,w instanceof m?w:new m(function(I){I(w)})).then(D,N)}W((y=y.apply(R,l||[])).next())})},a=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};const o=a(i(2)),c=a(i(8)),u=a(i(7)),h=a(i(26)),f=a(i(9)),p=a(i(4)),d=i(0);let v;const A="remotestorage:dropbox";function S(R){return d.cleanPath("/remotestorage/"+R).replace(/\/$/,"")}function C(R,l){return new RegExp("^"+l.join("\\/")+"(\\/|$)").test(R.error_summary)}function B(R){return R instanceof ArrayBuffer||c.default.isArrayBufferView(R)}class U{constructor(l){if(this.rs=l,this.connected=!1,this.online=!0,this._initialFetchDone=!1,this.addEvents(["connected","not-connected"]),this.clientId=l.apiKeys.dropbox.appKey,this._revCache=new h.default("rev"),this._fetchDeltaCursor=null,this._fetchDeltaPromise=null,this._itemRefs={},v=d.localStorageAvailable(),v){const m=d.getJSONFromLocalStorage(A);m&&this.configure(m),this._itemRefs=d.getJSONFromLocalStorage(A+":shares")||{}}this.connected&&setTimeout(this._emit.bind(this),0,"connected")}connect(){this.rs.setBackend("dropbox"),this.token?g(this.rs):this.rs.authorize({authURL:"https://www.dropbox.com/oauth2/authorize",scope:"",clientId:this.clientId})}configure(l){l.userAddress!==void 0&&(this.userAddress=l.userAddress),l.token!==void 0&&(this.token=l.token);const m=function(){v&&localStorage.setItem(A,JSON.stringify({userAddress:this.userAddress,token:this.token}))},y=function(){this.connected=!1,v&&localStorage.removeItem(A)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),m.apply(this)):this.info().then(function(b){this.userAddress=b.email,this._emit("connected"),m.apply(this)}.bind(this)).catch(function(){y.apply(this),this.rs._emit("error",new Error("Could not fetch user info."))}.bind(this))):y.apply(this)}stopWaitingForToken(){this.connected||this._emit("not-connected")}_getFolder(l){const m=this._revCache,y=_=>{let D;if(_.status!==200&&_.status!==409)return Promise.reject("Unexpected response status: "+_.status);try{D=JSON.parse(_.responseText)}catch(W){return Promise.reject(W)}if(_.status===409)return C(D,["path","not_found"])?Promise.resolve({}):Promise.reject(new Error("API returned an error: "+D.error_summary));const N=D.entries.reduce((W,tt)=>{const w=tt[".tag"]==="folder",I=tt.path_lower.split("/").slice(-1)[0]+(w?"/":"");return w?W[I]={ETag:m.get(l+I)}:(W[I]={ETag:tt.rev},this._revCache.set(l+I,tt.rev)),W},{});return D.has_more?b(D.cursor).then(function(W){return Object.assign(N,W)}):Promise.resolve(N)},b=_=>{const D={body:{cursor:_}};return this._request("POST","https://api.dropboxapi.com/2/files/list_folder/continue",D).then(y)};return this._request("POST","https://api.dropboxapi.com/2/files/list_folder",{body:{path:S(l)}}).then(y).then(function(_){return Promise.resolve({statusCode:200,body:_,contentType:"application/json; charset=UTF-8",revision:m.get(l)})})}get(l,m){if(!this.connected)return Promise.reject("not connected (path: "+l+")");const y=this._revCache.get(l);if(y===null)return Promise.resolve({statusCode:404});if(m&&m.ifNoneMatch){if(!this._initialFetchDone)return this.fetchDelta().then(()=>this.get(l,m));if(y&&y===m.ifNoneMatch)return Promise.resolve({statusCode:304})}if(l.substr(-1)==="/")return this._getFolder(l);const b={headers:{"Dropbox-API-Arg":JSON.stringify({path:S(l)})},responseType:"arraybuffer"};return m&&m.ifNoneMatch&&(b.headers["If-None-Match"]=m.ifNoneMatch),this._request("GET","https://content.dropboxapi.com/2/files/download",b).then(_=>{const D=_.status;let N,W,tt,w;return D!==200&&D!==409?Promise.resolve({statusCode:D}):(N=_.getResponseHeader("Dropbox-API-Result"),d.getTextFromArrayBuffer(_.response,"UTF-8").then(I=>{W=I,D===409&&(N=W);try{N=JSON.parse(N)}catch(J){return Promise.reject(J)}if(D===409)return C(N,["path","not_found"])?{statusCode:404}:Promise.reject(new Error('API error while downloading file ("'+l+'"): '+N.error_summary));if(tt=_.getResponseHeader("Content-Type"),w=N.rev,this._revCache.set(l,w),this._shareIfNeeded(l),d.shouldBeTreatedAsBinary(I,tt))W=_.response;else try{W=JSON.parse(W),tt="application/json; charset=UTF-8"}catch{}return{statusCode:D,body:W,contentType:tt,revision:w}}))})}put(l,m,y,b){if(!this.connected)throw new Error("not connected (path: "+l+")");const _=this._revCache.get(l);if(b&&b.ifMatch&&_&&_!==b.ifMatch)return Promise.resolve({statusCode:412,revision:_});if(b&&b.ifNoneMatch==="*"&&_&&_!=="rev")return Promise.resolve({statusCode:412,revision:_});if(!y.match(/charset=/)&&B(m)&&(y+="; charset=binary"),m.length>157286400)return Promise.reject(new Error("Cannot upload file larger than 150MB"));let D;const N=b&&(b.ifMatch||b.ifNoneMatch==="*"),W={body:m,contentType:y,path:l};return D=N?this._getMetadata(l).then(tt=>b&&b.ifNoneMatch==="*"&&tt||b&&b.ifMatch&&tt&&tt.rev!==b.ifMatch?Promise.resolve({statusCode:412,revision:tt.rev}):this._uploadSimple(W)):this._uploadSimple(W),D.then(tt=>(this._shareIfNeeded(l),tt))}delete(l,m){if(!this.connected)throw new Error("not connected (path: "+l+")");const y=this._revCache.get(l);return m&&m.ifMatch&&y&&m.ifMatch!==y?Promise.resolve({statusCode:412,revision:y}):m&&m.ifMatch?this._getMetadata(l).then(b=>m&&m.ifMatch&&b&&b.rev!==m.ifMatch?Promise.resolve({statusCode:412,revision:b.rev}):this._deleteSimple(l)):this._deleteSimple(l)}_shareIfNeeded(l){l.match(/^\/public\/.*[^/]$/)&&this._itemRefs[l]===void 0&&this.share(l)}share(l){const m={body:{path:S(l)}};return this._request("POST","https://api.dropboxapi.com/2/sharing/create_shared_link_with_settings",m).then(y=>{if(y.status!==200&&y.status!==409)return Promise.reject(new Error("Invalid response status:"+y.status));let b;try{b=JSON.parse(y.responseText)}catch{return Promise.reject(new Error("Invalid response body: "+y.responseText))}return y.status===409?C(b,["shared_link_already_exists"])?this._getSharedLink(l):Promise.reject(new Error("API error: "+b.error_summary)):Promise.resolve(b.url)}).then(y=>(this._itemRefs[l]=y,v&&localStorage.setItem(A+":shares",JSON.stringify(this._itemRefs)),Promise.resolve(y)),y=>(y.message='Sharing Dropbox file or folder ("'+l+'") failed: '+y.message,Promise.reject(y)))}info(){return this._request("POST","https://api.dropboxapi.com/2/users/get_current_account",{}).then(function(l){let m=l.responseText;try{m=JSON.parse(m)}catch{return Promise.reject(new Error("Could not query current account info: Invalid API response: "+m))}return Promise.resolve({email:m.email})})}_request(l,m,y){return y.headers||(y.headers={}),y.headers.Authorization="Bearer "+this.token,typeof y.body!="object"||B(y.body)||(y.body=JSON.stringify(y.body),y.headers["Content-Type"]="application/json; charset=UTF-8"),this.rs._emit("wire-busy",{method:l,isFolder:d.isFolder(m)}),c.default.request.call(this,l,m,y).then(b=>b&&b.status===503?(this.online&&(this.online=!1,this.rs._emit("network-offline")),setTimeout(this._request(l,m,y),3210)):(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:l,isFolder:d.isFolder(m),success:!0}),Promise.resolve(b)),b=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:l,isFolder:d.isFolder(m),success:!1}),Promise.reject(b)))}fetchDelta(...l){if(this._fetchDeltaPromise)return this._fetchDeltaPromise;const m=y=>{let b,_="https://api.dropboxapi.com/2/files/list_folder";return typeof y=="string"?(_+="/continue",b={cursor:y}):b={path:"/remotestorage",recursive:!0,include_deleted:!0},this._request("POST",_,{body:b}).then(D=>{if(D.status===401)return this.rs._emit("error",new p.default),Promise.resolve(l);if(D.status!==200&&D.status!==409)return Promise.reject(new Error("Invalid response status: "+D.status));let N;try{N=JSON.parse(D.responseText)}catch{return Promise.reject(new Error("Invalid response body: "+D.responseText))}if(D.status===409){if(!C(N,["path","not_found"]))return Promise.reject(new Error("API returned an error: "+N.error_summary));N={cursor:null,entries:[],has_more:!1}}if(y||this._revCache.deactivatePropagation(),N.entries.forEach(W=>{const tt=W.path_lower.substr(14);W[".tag"]==="deleted"?(this._revCache.delete(tt),this._revCache.delete(tt+"/")):W[".tag"]==="file"&&this._revCache.set(tt,W.rev)}),this._fetchDeltaCursor=N.cursor,N.has_more)return m(N.cursor);this._revCache.activatePropagation(),this._initialFetchDone=!0}).catch(D=>D==="timeout"||D instanceof ProgressEvent?Promise.resolve():Promise.reject(D))};return this._fetchDeltaPromise=m(this._fetchDeltaCursor).catch(y=>(typeof y=="object"&&"message"in y?y.message="Dropbox: fetchDelta: "+y.message:y="Dropbox: fetchDelta: "+y,this._fetchDeltaPromise=null,Promise.reject(y))).then(()=>(this._fetchDeltaPromise=null,Promise.resolve(l))),this._fetchDeltaPromise}_getMetadata(l){const m={path:S(l)};return this._request("POST","https://api.dropboxapi.com/2/files/get_metadata",{body:m}).then(y=>{if(y.status!==200&&y.status!==409)return Promise.reject(new Error("Invalid response status:"+y.status));let b;try{b=JSON.parse(y.responseText)}catch{return Promise.reject(new Error("Invalid response body: "+y.responseText))}return y.status===409?C(b,["path","not_found"])?Promise.resolve():Promise.reject(new Error("API error: "+b.error_summary)):Promise.resolve(b)}).then(void 0,y=>(y.message='Could not load metadata for file or folder ("'+l+'"): '+y.message,Promise.reject(y)))}_uploadSimple(l){const m={path:S(l.path),mode:{".tag":"overwrite",update:void 0},mute:!0};return l.ifMatch&&(m.mode={".tag":"update",update:l.ifMatch}),this._request("POST","https://content.dropboxapi.com/2/files/upload",{body:l.body,headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":JSON.stringify(m)}}).then(y=>{if(y.status!==200&&y.status!==409)return Promise.resolve({statusCode:y.status});let b=y.responseText;try{b=JSON.parse(b)}catch{return Promise.reject(new Error("Invalid API result: "+b))}return y.status===409?C(b,["path","conflict"])?this._getMetadata(l.path).then(function(_){return Promise.resolve({statusCode:412,revision:_.rev})}):Promise.reject(new Error("API error: "+b.error_summary)):(this._revCache.set(l.path,b.rev),Promise.resolve({statusCode:y.status,revision:b.rev}))})}_deleteSimple(l){const m={path:S(l)};return this._request("POST","https://api.dropboxapi.com/2/files/delete",{body:m}).then(y=>{if(y.status!==200&&y.status!==409)return Promise.resolve({statusCode:y.status});let b=y.responseText;try{b=JSON.parse(b)}catch{return Promise.reject(new Error("Invalid response body: "+b))}return y.status===409?C(b,["path_lookup","not_found"])?Promise.resolve({statusCode:404}):Promise.reject(new Error("API error: "+b.error_summary)):Promise.resolve({statusCode:200})}).then(y=>(y.statusCode!==200&&y.statusCode!==404||(this._revCache.delete(l),delete this._itemRefs[l]),Promise.resolve(y)),y=>(y.message='Could not delete Dropbox file or folder ("'+l+'"): '+y.message,Promise.reject(y)))}_getSharedLink(l){return s(this,void 0,void 0,function*(){const m={body:{path:S(l),direct_only:!0}};return this._request("POST","https://api.dropbox.com/2/sharing/list_shared_links",m).then(y=>{if(y.status!==200&&y.status!==409)return Promise.reject(new Error("Invalid response status: "+y.status));let b;try{b=JSON.parse(y.responseText)}catch{return Promise.reject(new Error("Invalid response body: "+y.responseText))}return y.status===409?Promise.reject(new Error("API error: "+y.error_summary)):b.links.length?Promise.resolve(b.links[0].url):Promise.reject(new Error("No links returned"))},y=>(y.message='Could not get link to a shared file or folder ("'+l+'"): '+y.message,Promise.reject(y)))})}static _rs_init(l){v=d.localStorageAvailable(),l.apiKeys.dropbox&&(l.dropbox=new U(l)),l.backend==="dropbox"&&g(l)}static _rs_supported(){return!0}static _rs_cleanup(l){(function(m){(function(y){y._origRemote&&(y.remote=y._origRemote,delete y._origRemote)})(m),function(y){!y._dropboxOrigSync||(y.sync.sync=y._dropboxOrigSync,delete y._dropboxOrigSync)}(m),function(y){!y._origBaseClientGetItemURL||(u.default.prototype.getItemURL=y._origBaseClientGetItemURL,delete y._origBaseClientGetItemURL)}(m),q(m)})(l),v&&localStorage.removeItem(A),l.setBackend(void 0)}}function O(R,...l){R._dropboxOrigSync||(R._dropboxOrigSync=R.sync.sync.bind(R.sync),R.sync.sync=function(){return this.dropbox.fetchDelta(R,...l).then(R._dropboxOrigSync,function(m){R._emit("error",new f.default(m)),R._emit("sync-done")})}.bind(R))}function q(R){R._dropboxOrigSyncCycle&&(R.syncCycle=R._dropboxOrigSyncCycle,delete R._dropboxOrigSyncCycle)}function g(R){(function(l){l._origRemote||(l._origRemote=l.remote,l.remote=l.dropbox)})(R),R.sync?O(R):function(l,...m){l._dropboxOrigSyncCycle||(l._dropboxOrigSyncCycle=l.syncCycle,l.syncCycle=()=>{if(!l.sync)throw new Error("expected sync to be initialized by now");O(l),l._dropboxOrigSyncCycle(l,...m),q(l)})}(R),function(l){l._origBaseClientGetItemURL||(l._origBaseClientGetItemURL=u.default.prototype.getItemURL,u.default.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Dropbox yet")})}(R)}d.applyMixins(U,[o.default]),r.exports=U},function(r,n,i){var s=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};const a=s(i(27)),o=s(i(1)),c=i(0);let u,h,f={};const p=function(d){return new Promise((v,A)=>d in f?v(f[d]):new a.default({tls_only:!1,uri_fallback:!0,request_timeout:5e3}).lookup(d,function(S,C){if(S)return A(S);if(typeof C.idx.links.remotestorage!="object"||typeof C.idx.links.remotestorage.length!="number"||C.idx.links.remotestorage.length<=0)return o.default("[Discover] WebFinger record for "+d+" does not have remotestorage defined in the links section ",JSON.stringify(C.json)),A("WebFinger record for "+d+" does not have remotestorage defined in the links section.");const B=C.idx.links.remotestorage[0],U=B.properties["http://tools.ietf.org/html/rfc6749#section-4.2"]||B.properties["auth-endpoint"],O=B.properties["http://remotestorage.io/spec/version"]||B.type;return f[d]={href:B.href,storageApi:O,authURL:U,properties:B.properties},h&&(localStorage["remotestorage:discover"]=JSON.stringify({cache:f})),v(f[d])}))};(p.DiscoveryError=function(d){this.name="DiscoveryError",this.message=d,this.stack=new Error().stack}).prototype=Object.create(Error.prototype),p.DiscoveryError.prototype.constructor=p.DiscoveryError,p._rs_init=function(){if(h=c.localStorageAvailable(),h)try{f=JSON.parse(localStorage["remotestorage:discover"]).cache}catch{}},p._rs_supported=function(){return u=Object.prototype.hasOwnProperty.call(c.globalContext,"XMLHttpRequest"),u},p._rs_cleanup=function(){h&&delete localStorage["remotestorage:discover"]},r.exports=p},function(r,n,i){const s=(this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}})(i(2)),a=i(0);class o{constructor(){this.addEvents(["background","foreground"]),this.mode=typeof window!="undefined"?"browser":"node",this.mode==="browser"&&(this.setBrowserPrefixedNames(),document.addEventListener(this.visibilityChangeEvent,this.setVisibility.bind(this),!1),this.setVisibility())}setBrowserPrefixedNames(){this.mode==="browser"&&(document.hidden!==void 0?(this.hiddenProperty="hidden",this.visibilityChangeEvent="visibilitychange"):document.mozHidden!==void 0?(this.hiddenProperty="mozHidden",this.visibilityChangeEvent="mozvisibilitychange"):document.msHidden!==void 0?(this.hiddenProperty="msHidden",this.visibilityChangeEvent="msvisibilitychange"):document.webkitHidden!==void 0&&(this.hiddenProperty="webkitHidden",this.visibilityChangeEvent="webkitvisibilitychange"))}setVisibility(){document[this.hiddenProperty]?this.goBackground():this.goForeground()}isBrowser(){return this.mode==="browser"}isNode(){return this.mode==="node"}goBackground(){this._emit("background")}goForeground(){this._emit("foreground")}static _rs_init(){}static _rs_cleanup(){}}a.applyMixins(o,[s.default]),r.exports=o},function(r,n,i){r.exports=i(18)},function(r,n,i){var s=this&&this.__createBinding||(Object.create?function(N,W,tt,w){w===void 0&&(w=tt),Object.defineProperty(N,w,{enumerable:!0,get:function(){return W[tt]}})}:function(N,W,tt,w){w===void 0&&(w=tt),N[w]=W[tt]}),a=this&&this.__setModuleDefault||(Object.create?function(N,W){Object.defineProperty(N,"default",{enumerable:!0,value:W})}:function(N,W){N.default=W}),o=this&&this.__importStar||function(N){if(N&&N.__esModule)return N;var W={};if(N!=null)for(var tt in N)tt!=="default"&&Object.hasOwnProperty.call(N,tt)&&s(W,N,tt);return a(W,N),W},c=this&&this.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};const u=c(i(3)),h=c(i(1)),f=i(0),p=c(i(11)),d=c(i(6)),v=c(i(7)),A=c(i(12)),S=c(i(2)),C=c(i(13)),B=c(i(14)),U=c(i(15)),O=c(i(9)),q=c(i(4)),g=c(i(29)),R=o(i(0)),l=f.getGlobalContext();let m;function y(N){return N.statusCode!==403&&N.statusCode!==401||this._emit("error",new q.default),Promise.resolve(N)}function b(N){return typeof N=="number"&&N>=2e3&&N<=36e5}class _{constructor(W){this._pending=[],this._cleanups=[],this._pathHandlers={change:{}},this.apiKeys={},this._init=g.default.loadFeatures,this.features=g.default.features,this.loadFeature=g.default.loadFeature,this.featureSupported=g.default.featureSupported,this.featureDone=g.default.featureDone,this.featuresDone=g.default.featuresDone,this.featuresLoaded=g.default.featuresLoaded,this.featureInitialized=g.default.featureInitialized,this.featureFailed=g.default.featureFailed,this.hasFeature=g.default.hasFeature,this._setCachingModule=g.default._setCachingModule,this._collectCleanupFunctions=g.default._collectCleanupFunctions,this._fireReady=g.default._fireReady,this.initFeature=g.default.initFeature,typeof W=="object"&&f.extend(u.default,W),this.addEvents(["ready","authing","connecting","connected","disconnected","not-connected","conflict","error","features-loaded","sync-interval-change","sync-req-done","sync-done","wire-busy","wire-done","network-offline","network-online"]),this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")}),m=f.localStorageAvailable(),m&&(this.apiKeys=f.getJSONFromLocalStorage("remotestorage:api-keys")||{},this.setBackend(localStorage.getItem("remotestorage:backend")||"remotestorage"));const tt=this.on;this.on=function(w,I){if(this._allLoaded)switch(w){case"features-loaded":setTimeout(I,0);break;case"ready":this.remote&&setTimeout(I,0);break;case"connected":this.remote&&this.remote.connected&&setTimeout(I,0);break;case"not-connected":this.remote&&!this.remote.connected&&setTimeout(I,0)}return tt.call(this,w,I)},this._init(),this.fireInitial=function(){this.local&&setTimeout(this.local.fireInitial.bind(this.local),0)}.bind(this),this.on("ready",this.fireInitial.bind(this)),this.loadModules()}get connected(){return this.remote.connected}loadModules(){u.default.modules.forEach(this.addModule.bind(this))}authorize(W){if(this.access.setStorageType(this.remote.storageApi),W.scope===void 0&&(W.scope=this.access.scopeParameter),l.cordova)W.redirectUri=u.default.cordovaRedirectUri;else{const tt=d.default.getLocation();let w=tt.origin;tt.pathname!=="/"&&(w+=tt.pathname),W.redirectUri=w}W.clientId===void 0&&(W.clientId=W.redirectUri.match(/^(https?:\/\/[^/]+)/)[0]),d.default.authorize(this,W)}impliedauth(W,tt){W=W||this.remote.storageApi,tt=tt||String(document.location),h.default("ImpliedAuth proceeding due to absent authURL; storageApi = "+W+" redirectUri = "+tt),this.remote.configure({token:d.default.IMPLIED_FAKE_TOKEN}),document.location.href=tt}connect(W,tt){if(this.setBackend("remotestorage"),W.indexOf("@")<0&&!W.match(/^(https?:\/\/)?[^\s\/$\.?#]+\.[^\s]*$/))return void this._emit("error",new _.DiscoveryError("Not a valid user address or URL."));if(W.indexOf("@")<0&&!W.match(/^https?:\/\//)&&(W="https://"+W),l.cordova){if(typeof u.default.cordovaRedirectUri!="string")return void this._emit("error",new _.DiscoveryError("Please supply a custom HTTPS redirect URI for your Cordova app"));if(!l.cordova.InAppBrowser)return void this._emit("error",new _.DiscoveryError("Please include the InAppBrowser Cordova plugin to enable OAuth"))}this.remote.configure({userAddress:W}),this._emit("connecting");const w=setTimeout(()=>{this._emit("error",new _.DiscoveryError("No storage information found for this user address."))},u.default.discoveryTimeout);U.default(W).then(I=>{if(clearTimeout(w),this._emit("authing"),I.userAddress=W,this.remote.configure(I),!this.remote.connected)if(I.authURL)if(tt===void 0)this.authorize({authURL:I.authURL});else{if(typeof tt!="string")throw new Error("Supplied bearer token must be a string");h.default("Skipping authorization sequence and connecting with known token"),this.remote.configure({token:tt})}else this.impliedauth()},()=>{clearTimeout(w),this._emit("error",new _.DiscoveryError("No storage information found for this user address."))})}reconnect(){this.remote.configure({token:null}),this.backend==="remotestorage"?this.connect(this.remote.userAddress):this.remote.connect()}disconnect(){this.remote&&this.remote.configure({userAddress:null,href:null,storageApi:null,token:null,properties:null}),this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")});const W=this._cleanups.length;let tt=0;const w=()=>{tt++,tt>=W&&(this._init(),this._emit("disconnected"))};W>0?this._cleanups.forEach(I=>{const J=I(this);typeof J=="object"&&typeof J.then=="function"?J.then(w):w()}):w()}setBackend(W){this.backend=W,m&&(W?localStorage.setItem("remotestorage:backend",W):localStorage.removeItem("remotestorage:backend"))}onChange(W,tt){this._pathHandlers.change[W]||(this._pathHandlers.change[W]=[]),this._pathHandlers.change[W].push(tt)}enableLog(){u.default.logging=!0}disableLog(){u.default.logging=!1}log(...W){h.default.apply(_,W)}setApiKeys(W){const tt=[D.GOOGLE,D.DROPBOX];if(typeof W!="object"||!Object.keys(W).every(w=>tt.includes(w)))return console.error("setApiKeys() was called with invalid arguments"),!1;Object.keys(W).forEach(w=>{const I=W[w];if(I){switch(w){case D.DROPBOX:this.apiKeys[D.DROPBOX]={appKey:I},this.dropbox!==void 0&&this.dropbox.clientId===I||B.default._rs_init(this);break;case D.GOOGLE:this.apiKeys[D.GOOGLE]={clientId:I},this.googledrive!==void 0&&this.googledrive.clientId===I||C.default._rs_init(this)}return!0}delete this.apiKeys[w]}),m&&localStorage.setItem("remotestorage:api-keys",JSON.stringify(this.apiKeys))}setCordovaRedirectUri(W){if(typeof W!="string"||!W.match(/http(s)?:\/\//))throw new Error("Cordova redirect URI must be a URI string");u.default.cordovaRedirectUri=W}_setGPD(W,tt){function w(I){return function(...J){return I.apply(tt,J).then(y.bind(this))}}this.get=w(W.get),this.put=w(W.put),this.delete=w(W.delete)}_pendingGPD(W){return(...tt)=>{const w=Array.prototype.slice.call(tt);return new Promise((I,J)=>{this._pending.push({method:W,args:w,promise:{resolve:I,reject:J}})})}}_processPending(){this._pending.forEach(W=>{try{this[W.method](...W.args).then(W.promise.resolve,W.promise.reject)}catch(tt){W.promise.reject(tt)}}),this._pending=[]}_bindChange(W){W.on("change",this._dispatchEvent.bind(this,"change"))}_dispatchEvent(W,tt){Object.keys(this._pathHandlers[W]).forEach(w=>{const I=w.length;tt.path.substr(0,I)===w&&this._pathHandlers[W][w].forEach(J=>{const Q={};for(const nt in tt)Q[nt]=tt[nt];Q.relativePath=tt.path.replace(new RegExp("^"+w),"");try{J(Q)}catch(nt){console.error("'change' handler failed: ",nt,nt.stack),this._emit("error",nt)}})})}scope(W){if(typeof W!="string")throw"Argument 'path' of baseClient.scope must be a string";return this.access.checkPathPermission(W,"r")||console.warn("WARNING: Please use remoteStorage.access.claim() to ask for access permissions first: https://remotestoragejs.readthedocs.io/en/latest/js-api/access.html#claim"),new v.default(this,W)}getSyncInterval(){return u.default.syncInterval}setSyncInterval(W){if(!b(W))throw W+" is not a valid sync interval";const tt=u.default.syncInterval;u.default.syncInterval=W,this._emit("sync-interval-change",{oldValue:tt,newValue:W})}getBackgroundSyncInterval(){return u.default.backgroundSyncInterval}setBackgroundSyncInterval(W){if(!b(W))throw W+" is not a valid sync interval";const tt=u.default.backgroundSyncInterval;u.default.backgroundSyncInterval=W,this._emit("sync-interval-change",{oldValue:tt,newValue:W})}getCurrentSyncInterval(){return u.default.isBackground?u.default.backgroundSyncInterval:u.default.syncInterval}getRequestTimeout(){return u.default.requestTimeout}setRequestTimeout(W){if(typeof W!="number")throw W+" is not a valid request timeout";u.default.requestTimeout=W}syncCycle(){this.sync&&!this.sync.stopped&&(this.on("sync-done",()=>{this.sync&&!this.sync.stopped&&(this._syncTimer&&(clearTimeout(this._syncTimer),this._syncTimer=void 0),this._syncTimer=setTimeout(this.sync.sync.bind(this.sync),this.getCurrentSyncInterval()))}),this.sync.sync())}startSync(){return u.default.cache?(this.sync.stopped=!1,this.syncStopped=!1,this.sync.sync()):(console.warn("Nothing to sync, because caching is disabled."),Promise.resolve())}stopSync(){clearTimeout(this._syncTimer),this._syncTimer=void 0,this.sync?this.sync.stopped=!0:this.syncStopped=!0}addModule(W){const tt=W.name,w=W.builder;if(Object.defineProperty(this,tt,{configurable:!0,get:function(){const I=this._loadModule(tt,w);return Object.defineProperty(this,tt,{value:I}),I}}),tt.indexOf("-")!==-1){const I=tt.replace(/\-[a-z]/g,function(J){return J[1].toUpperCase()});Object.defineProperty(this,I,{get:function(){return this[tt]}})}}_loadModule(W,tt){if(tt)return tt(new v.default(this,"/"+W+"/"),new v.default(this,"/public/"+W+"/")).exports;throw"Unknown module: "+W}}var D;_.Authorize=d.default,_.SyncError=O.default,_.Unauthorized=q.default,_.DiscoveryError=U.default.DiscoveryError,_.util=R,Object.defineProperty(_.prototype,"access",{get:function(){const N=new p.default;return Object.defineProperty(this,"access",{value:N}),N},configurable:!0}),Object.defineProperty(_.prototype,"caching",{configurable:!0,get:function(){const N=new A.default;return Object.defineProperty(this,"caching",{value:N}),N}}),f.applyMixins(_,[S.default]),function(N){N.GOOGLE="googledrive",N.DROPBOX="dropbox"}(D||(D={})),r.exports=_},function(r,n,i){(function(s){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var a=i(20),o=i(21),c=i(22);function u(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(k,T){if(u()<T)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(k=new Uint8Array(T)).__proto__=f.prototype:(k===null&&(k=new f(T)),k.length=T),k}function f(k,T,K){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(k,T,K);if(typeof k=="number"){if(typeof T=="string")throw new Error("If encoding is specified then the first argument must be a string");return v(this,k)}return p(this,k,T,K)}function p(k,T,K,x){if(typeof T=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&T instanceof ArrayBuffer?function(E,M,L,Z){if(M.byteLength,L<0||M.byteLength<L)throw new RangeError("'offset' is out of bounds");if(M.byteLength<L+(Z||0))throw new RangeError("'length' is out of bounds");return M=L===void 0&&Z===void 0?new Uint8Array(M):Z===void 0?new Uint8Array(M,L):new Uint8Array(M,L,Z),f.TYPED_ARRAY_SUPPORT?(E=M).__proto__=f.prototype:E=A(E,M),E}(k,T,K,x):typeof T=="string"?function(E,M,L){if(typeof L=="string"&&L!==""||(L="utf8"),!f.isEncoding(L))throw new TypeError('"encoding" must be a valid string encoding');var Z=0|C(M,L),X=(E=h(E,Z)).write(M,L);return X!==Z&&(E=E.slice(0,X)),E}(k,T,K):function(E,M){if(f.isBuffer(M)){var L=0|S(M.length);return(E=h(E,L)).length===0||M.copy(E,0,0,L),E}if(M){if(typeof ArrayBuffer!="undefined"&&M.buffer instanceof ArrayBuffer||"length"in M)return typeof M.length!="number"||(Z=M.length)!=Z?h(E,0):A(E,M);if(M.type==="Buffer"&&c(M.data))return A(E,M.data)}var Z;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(k,T)}function d(k){if(typeof k!="number")throw new TypeError('"size" argument must be a number');if(k<0)throw new RangeError('"size" argument must not be negative')}function v(k,T){if(d(T),k=h(k,T<0?0:0|S(T)),!f.TYPED_ARRAY_SUPPORT)for(var K=0;K<T;++K)k[K]=0;return k}function A(k,T){var K=T.length<0?0:0|S(T.length);k=h(k,K);for(var x=0;x<K;x+=1)k[x]=255&T[x];return k}function S(k){if(k>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|k}function C(k,T){if(f.isBuffer(k))return k.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(k)||k instanceof ArrayBuffer))return k.byteLength;typeof k!="string"&&(k=""+k);var K=k.length;if(K===0)return 0;for(var x=!1;;)switch(T){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":case void 0:return F(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*K;case"hex":return K>>>1;case"base64":return P(k).length;default:if(x)return F(k).length;T=(""+T).toLowerCase(),x=!0}}function B(k,T,K){var x=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0)<=(T>>>=0))return"";for(k||(k="utf8");;)switch(k){case"hex":return tt(this,T,K);case"utf8":case"utf-8":return D(this,T,K);case"ascii":return N(this,T,K);case"latin1":case"binary":return W(this,T,K);case"base64":return _(this,T,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,T,K);default:if(x)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),x=!0}}function U(k,T,K){var x=k[T];k[T]=k[K],k[K]=x}function O(k,T,K,x,E){if(k.length===0)return-1;if(typeof K=="string"?(x=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),K=+K,isNaN(K)&&(K=E?0:k.length-1),K<0&&(K=k.length+K),K>=k.length){if(E)return-1;K=k.length-1}else if(K<0){if(!E)return-1;K=0}if(typeof T=="string"&&(T=f.from(T,x)),f.isBuffer(T))return T.length===0?-1:q(k,T,K,x,E);if(typeof T=="number")return T&=255,f.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?E?Uint8Array.prototype.indexOf.call(k,T,K):Uint8Array.prototype.lastIndexOf.call(k,T,K):q(k,[T],K,x,E);throw new TypeError("val must be string, number or Buffer")}function q(k,T,K,x,E){var M,L=1,Z=k.length,X=T.length;if(x!==void 0&&((x=String(x).toLowerCase())==="ucs2"||x==="ucs-2"||x==="utf16le"||x==="utf-16le")){if(k.length<2||T.length<2)return-1;L=2,Z/=2,X/=2,K/=2}function it(et,rt){return L===1?et[rt]:et.readUInt16BE(rt*L)}if(E){var pt=-1;for(M=K;M<Z;M++)if(it(k,M)===it(T,pt===-1?0:M-pt)){if(pt===-1&&(pt=M),M-pt+1===X)return pt*L}else pt!==-1&&(M-=M-pt),pt=-1}else for(K+X>Z&&(K=Z-X),M=K;M>=0;M--){for(var bt=!0,_t=0;_t<X;_t++)if(it(k,M+_t)!==it(T,_t)){bt=!1;break}if(bt)return M}return-1}function g(k,T,K,x){K=Number(K)||0;var E=k.length-K;x?(x=Number(x))>E&&(x=E):x=E;var M=T.length;if(M%2!=0)throw new TypeError("Invalid hex string");x>M/2&&(x=M/2);for(var L=0;L<x;++L){var Z=parseInt(T.substr(2*L,2),16);if(isNaN(Z))return L;k[K+L]=Z}return L}function R(k,T,K,x){return G(F(T,k.length-K),k,K,x)}function l(k,T,K,x){return G(function(E){for(var M=[],L=0;L<E.length;++L)M.push(255&E.charCodeAt(L));return M}(T),k,K,x)}function m(k,T,K,x){return l(k,T,K,x)}function y(k,T,K,x){return G(P(T),k,K,x)}function b(k,T,K,x){return G(function(E,M){for(var L,Z,X,it=[],pt=0;pt<E.length&&!((M-=2)<0);++pt)L=E.charCodeAt(pt),Z=L>>8,X=L%256,it.push(X),it.push(Z);return it}(T,k.length-K),k,K,x)}function _(k,T,K){return T===0&&K===k.length?a.fromByteArray(k):a.fromByteArray(k.slice(T,K))}function D(k,T,K){K=Math.min(k.length,K);for(var x=[],E=T;E<K;){var M,L,Z,X,it=k[E],pt=null,bt=it>239?4:it>223?3:it>191?2:1;if(E+bt<=K)switch(bt){case 1:it<128&&(pt=it);break;case 2:(192&(M=k[E+1]))==128&&(X=(31&it)<<6|63&M)>127&&(pt=X);break;case 3:M=k[E+1],L=k[E+2],(192&M)==128&&(192&L)==128&&(X=(15&it)<<12|(63&M)<<6|63&L)>2047&&(X<55296||X>57343)&&(pt=X);break;case 4:M=k[E+1],L=k[E+2],Z=k[E+3],(192&M)==128&&(192&L)==128&&(192&Z)==128&&(X=(15&it)<<18|(63&M)<<12|(63&L)<<6|63&Z)>65535&&X<1114112&&(pt=X)}pt===null?(pt=65533,bt=1):pt>65535&&(pt-=65536,x.push(pt>>>10&1023|55296),pt=56320|1023&pt),x.push(pt),E+=bt}return function(_t){var et=_t.length;if(et<=4096)return String.fromCharCode.apply(String,_t);for(var rt="",ot=0;ot<et;)rt+=String.fromCharCode.apply(String,_t.slice(ot,ot+=4096));return rt}(x)}n.Buffer=f,n.SlowBuffer=function(k){return+k!=k&&(k=0),f.alloc(+k)},n.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=s.TYPED_ARRAY_SUPPORT!==void 0?s.TYPED_ARRAY_SUPPORT:function(){try{var k=new Uint8Array(1);return k.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},k.foo()===42&&typeof k.subarray=="function"&&k.subarray(1,1).byteLength===0}catch{return!1}}(),n.kMaxLength=u(),f.poolSize=8192,f._augment=function(k){return k.__proto__=f.prototype,k},f.from=function(k,T,K){return p(null,k,T,K)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(k,T,K){return function(x,E,M,L){return d(E),E<=0?h(x,E):M!==void 0?typeof L=="string"?h(x,E).fill(M,L):h(x,E).fill(M):h(x,E)}(null,k,T,K)},f.allocUnsafe=function(k){return v(null,k)},f.allocUnsafeSlow=function(k){return v(null,k)},f.isBuffer=function(k){return!(k==null||!k._isBuffer)},f.compare=function(k,T){if(!f.isBuffer(k)||!f.isBuffer(T))throw new TypeError("Arguments must be Buffers");if(k===T)return 0;for(var K=k.length,x=T.length,E=0,M=Math.min(K,x);E<M;++E)if(k[E]!==T[E]){K=k[E],x=T[E];break}return K<x?-1:x<K?1:0},f.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(k,T){if(!c(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return f.alloc(0);var K;if(T===void 0)for(T=0,K=0;K<k.length;++K)T+=k[K].length;var x=f.allocUnsafe(T),E=0;for(K=0;K<k.length;++K){var M=k[K];if(!f.isBuffer(M))throw new TypeError('"list" argument must be an Array of Buffers');M.copy(x,E),E+=M.length}return x},f.byteLength=C,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var T=0;T<k;T+=2)U(this,T,T+1);return this},f.prototype.swap32=function(){var k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var T=0;T<k;T+=4)U(this,T,T+3),U(this,T+1,T+2);return this},f.prototype.swap64=function(){var k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var T=0;T<k;T+=8)U(this,T,T+7),U(this,T+1,T+6),U(this,T+2,T+5),U(this,T+3,T+4);return this},f.prototype.toString=function(){var k=0|this.length;return k===0?"":arguments.length===0?D(this,0,k):B.apply(this,arguments)},f.prototype.equals=function(k){if(!f.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k||f.compare(this,k)===0},f.prototype.inspect=function(){var k="",T=n.INSPECT_MAX_BYTES;return this.length>0&&(k=this.toString("hex",0,T).match(/.{2}/g).join(" "),this.length>T&&(k+=" ... ")),"<Buffer "+k+">"},f.prototype.compare=function(k,T,K,x,E){if(!f.isBuffer(k))throw new TypeError("Argument must be a Buffer");if(T===void 0&&(T=0),K===void 0&&(K=k?k.length:0),x===void 0&&(x=0),E===void 0&&(E=this.length),T<0||K>k.length||x<0||E>this.length)throw new RangeError("out of range index");if(x>=E&&T>=K)return 0;if(x>=E)return-1;if(T>=K)return 1;if(this===k)return 0;for(var M=(E>>>=0)-(x>>>=0),L=(K>>>=0)-(T>>>=0),Z=Math.min(M,L),X=this.slice(x,E),it=k.slice(T,K),pt=0;pt<Z;++pt)if(X[pt]!==it[pt]){M=X[pt],L=it[pt];break}return M<L?-1:L<M?1:0},f.prototype.includes=function(k,T,K){return this.indexOf(k,T,K)!==-1},f.prototype.indexOf=function(k,T,K){return O(this,k,T,K,!0)},f.prototype.lastIndexOf=function(k,T,K){return O(this,k,T,K,!1)},f.prototype.write=function(k,T,K,x){if(T===void 0)x="utf8",K=this.length,T=0;else if(K===void 0&&typeof T=="string")x=T,K=this.length,T=0;else{if(!isFinite(T))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");T|=0,isFinite(K)?(K|=0,x===void 0&&(x="utf8")):(x=K,K=void 0)}var E=this.length-T;if((K===void 0||K>E)&&(K=E),k.length>0&&(K<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");x||(x="utf8");for(var M=!1;;)switch(x){case"hex":return g(this,k,T,K);case"utf8":case"utf-8":return R(this,k,T,K);case"ascii":return l(this,k,T,K);case"latin1":case"binary":return m(this,k,T,K);case"base64":return y(this,k,T,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,k,T,K);default:if(M)throw new TypeError("Unknown encoding: "+x);x=(""+x).toLowerCase(),M=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(k,T,K){var x="";K=Math.min(k.length,K);for(var E=T;E<K;++E)x+=String.fromCharCode(127&k[E]);return x}function W(k,T,K){var x="";K=Math.min(k.length,K);for(var E=T;E<K;++E)x+=String.fromCharCode(k[E]);return x}function tt(k,T,K){var x=k.length;(!T||T<0)&&(T=0),(!K||K<0||K>x)&&(K=x);for(var E="",M=T;M<K;++M)E+=H(k[M]);return E}function w(k,T,K){for(var x=k.slice(T,K),E="",M=0;M<x.length;M+=2)E+=String.fromCharCode(x[M]+256*x[M+1]);return E}function I(k,T,K){if(k%1!=0||k<0)throw new RangeError("offset is not uint");if(k+T>K)throw new RangeError("Trying to access beyond buffer length")}function J(k,T,K,x,E,M){if(!f.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>E||T<M)throw new RangeError('"value" argument is out of bounds');if(K+x>k.length)throw new RangeError("Index out of range")}function Q(k,T,K,x){T<0&&(T=65535+T+1);for(var E=0,M=Math.min(k.length-K,2);E<M;++E)k[K+E]=(T&255<<8*(x?E:1-E))>>>8*(x?E:1-E)}function nt(k,T,K,x){T<0&&(T=4294967295+T+1);for(var E=0,M=Math.min(k.length-K,4);E<M;++E)k[K+E]=T>>>8*(x?E:3-E)&255}function ht(k,T,K,x,E,M){if(K+x>k.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function lt(k,T,K,x,E){return E||ht(k,0,K,4),o.write(k,T,K,x,23,4),K+4}function ut(k,T,K,x,E){return E||ht(k,0,K,8),o.write(k,T,K,x,52,8),K+8}f.prototype.slice=function(k,T){var K,x=this.length;if((k=~~k)<0?(k+=x)<0&&(k=0):k>x&&(k=x),(T=T===void 0?x:~~T)<0?(T+=x)<0&&(T=0):T>x&&(T=x),T<k&&(T=k),f.TYPED_ARRAY_SUPPORT)(K=this.subarray(k,T)).__proto__=f.prototype;else{var E=T-k;K=new f(E,void 0);for(var M=0;M<E;++M)K[M]=this[M+k]}return K},f.prototype.readUIntLE=function(k,T,K){k|=0,T|=0,K||I(k,T,this.length);for(var x=this[k],E=1,M=0;++M<T&&(E*=256);)x+=this[k+M]*E;return x},f.prototype.readUIntBE=function(k,T,K){k|=0,T|=0,K||I(k,T,this.length);for(var x=this[k+--T],E=1;T>0&&(E*=256);)x+=this[k+--T]*E;return x},f.prototype.readUInt8=function(k,T){return T||I(k,1,this.length),this[k]},f.prototype.readUInt16LE=function(k,T){return T||I(k,2,this.length),this[k]|this[k+1]<<8},f.prototype.readUInt16BE=function(k,T){return T||I(k,2,this.length),this[k]<<8|this[k+1]},f.prototype.readUInt32LE=function(k,T){return T||I(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+16777216*this[k+3]},f.prototype.readUInt32BE=function(k,T){return T||I(k,4,this.length),16777216*this[k]+(this[k+1]<<16|this[k+2]<<8|this[k+3])},f.prototype.readIntLE=function(k,T,K){k|=0,T|=0,K||I(k,T,this.length);for(var x=this[k],E=1,M=0;++M<T&&(E*=256);)x+=this[k+M]*E;return x>=(E*=128)&&(x-=Math.pow(2,8*T)),x},f.prototype.readIntBE=function(k,T,K){k|=0,T|=0,K||I(k,T,this.length);for(var x=T,E=1,M=this[k+--x];x>0&&(E*=256);)M+=this[k+--x]*E;return M>=(E*=128)&&(M-=Math.pow(2,8*T)),M},f.prototype.readInt8=function(k,T){return T||I(k,1,this.length),128&this[k]?-1*(255-this[k]+1):this[k]},f.prototype.readInt16LE=function(k,T){T||I(k,2,this.length);var K=this[k]|this[k+1]<<8;return 32768&K?4294901760|K:K},f.prototype.readInt16BE=function(k,T){T||I(k,2,this.length);var K=this[k+1]|this[k]<<8;return 32768&K?4294901760|K:K},f.prototype.readInt32LE=function(k,T){return T||I(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},f.prototype.readInt32BE=function(k,T){return T||I(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},f.prototype.readFloatLE=function(k,T){return T||I(k,4,this.length),o.read(this,k,!0,23,4)},f.prototype.readFloatBE=function(k,T){return T||I(k,4,this.length),o.read(this,k,!1,23,4)},f.prototype.readDoubleLE=function(k,T){return T||I(k,8,this.length),o.read(this,k,!0,52,8)},f.prototype.readDoubleBE=function(k,T){return T||I(k,8,this.length),o.read(this,k,!1,52,8)},f.prototype.writeUIntLE=function(k,T,K,x){k=+k,T|=0,K|=0,x||J(this,k,T,K,Math.pow(2,8*K)-1,0);var E=1,M=0;for(this[T]=255&k;++M<K&&(E*=256);)this[T+M]=k/E&255;return T+K},f.prototype.writeUIntBE=function(k,T,K,x){k=+k,T|=0,K|=0,x||J(this,k,T,K,Math.pow(2,8*K)-1,0);var E=K-1,M=1;for(this[T+E]=255&k;--E>=0&&(M*=256);)this[T+E]=k/M&255;return T+K},f.prototype.writeUInt8=function(k,T,K){return k=+k,T|=0,K||J(this,k,T,1,255,0),f.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),this[T]=255&k,T+1},f.prototype.writeUInt16LE=function(k,T,K){return k=+k,T|=0,K||J(this,k,T,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[T]=255&k,this[T+1]=k>>>8):Q(this,k,T,!0),T+2},f.prototype.writeUInt16BE=function(k,T,K){return k=+k,T|=0,K||J(this,k,T,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[T]=k>>>8,this[T+1]=255&k):Q(this,k,T,!1),T+2},f.prototype.writeUInt32LE=function(k,T,K){return k=+k,T|=0,K||J(this,k,T,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[T+3]=k>>>24,this[T+2]=k>>>16,this[T+1]=k>>>8,this[T]=255&k):nt(this,k,T,!0),T+4},f.prototype.writeUInt32BE=function(k,T,K){return k=+k,T|=0,K||J(this,k,T,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[T]=k>>>24,this[T+1]=k>>>16,this[T+2]=k>>>8,this[T+3]=255&k):nt(this,k,T,!1),T+4},f.prototype.writeIntLE=function(k,T,K,x){if(k=+k,T|=0,!x){var E=Math.pow(2,8*K-1);J(this,k,T,K,E-1,-E)}var M=0,L=1,Z=0;for(this[T]=255&k;++M<K&&(L*=256);)k<0&&Z===0&&this[T+M-1]!==0&&(Z=1),this[T+M]=(k/L>>0)-Z&255;return T+K},f.prototype.writeIntBE=function(k,T,K,x){if(k=+k,T|=0,!x){var E=Math.pow(2,8*K-1);J(this,k,T,K,E-1,-E)}var M=K-1,L=1,Z=0;for(this[T+M]=255&k;--M>=0&&(L*=256);)k<0&&Z===0&&this[T+M+1]!==0&&(Z=1),this[T+M]=(k/L>>0)-Z&255;return T+K},f.prototype.writeInt8=function(k,T,K){return k=+k,T|=0,K||J(this,k,T,1,127,-128),f.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),k<0&&(k=255+k+1),this[T]=255&k,T+1},f.prototype.writeInt16LE=function(k,T,K){return k=+k,T|=0,K||J(this,k,T,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[T]=255&k,this[T+1]=k>>>8):Q(this,k,T,!0),T+2},f.prototype.writeInt16BE=function(k,T,K){return k=+k,T|=0,K||J(this,k,T,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[T]=k>>>8,this[T+1]=255&k):Q(this,k,T,!1),T+2},f.prototype.writeInt32LE=function(k,T,K){return k=+k,T|=0,K||J(this,k,T,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[T]=255&k,this[T+1]=k>>>8,this[T+2]=k>>>16,this[T+3]=k>>>24):nt(this,k,T,!0),T+4},f.prototype.writeInt32BE=function(k,T,K){return k=+k,T|=0,K||J(this,k,T,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),f.TYPED_ARRAY_SUPPORT?(this[T]=k>>>24,this[T+1]=k>>>16,this[T+2]=k>>>8,this[T+3]=255&k):nt(this,k,T,!1),T+4},f.prototype.writeFloatLE=function(k,T,K){return lt(this,k,T,!0,K)},f.prototype.writeFloatBE=function(k,T,K){return lt(this,k,T,!1,K)},f.prototype.writeDoubleLE=function(k,T,K){return ut(this,k,T,!0,K)},f.prototype.writeDoubleBE=function(k,T,K){return ut(this,k,T,!1,K)},f.prototype.copy=function(k,T,K,x){if(K||(K=0),x||x===0||(x=this.length),T>=k.length&&(T=k.length),T||(T=0),x>0&&x<K&&(x=K),x===K||k.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("sourceStart out of bounds");if(x<0)throw new RangeError("sourceEnd out of bounds");x>this.length&&(x=this.length),k.length-T<x-K&&(x=k.length-T+K);var E,M=x-K;if(this===k&&K<T&&T<x)for(E=M-1;E>=0;--E)k[E+T]=this[E+K];else if(M<1e3||!f.TYPED_ARRAY_SUPPORT)for(E=0;E<M;++E)k[E+T]=this[E+K];else Uint8Array.prototype.set.call(k,this.subarray(K,K+M),T);return M},f.prototype.fill=function(k,T,K,x){if(typeof k=="string"){if(typeof T=="string"?(x=T,T=0,K=this.length):typeof K=="string"&&(x=K,K=this.length),k.length===1){var E=k.charCodeAt(0);E<256&&(k=E)}if(x!==void 0&&typeof x!="string")throw new TypeError("encoding must be a string");if(typeof x=="string"&&!f.isEncoding(x))throw new TypeError("Unknown encoding: "+x)}else typeof k=="number"&&(k&=255);if(T<0||this.length<T||this.length<K)throw new RangeError("Out of range index");if(K<=T)return this;var M;if(T>>>=0,K=K===void 0?this.length:K>>>0,k||(k=0),typeof k=="number")for(M=T;M<K;++M)this[M]=k;else{var L=f.isBuffer(k)?k:F(new f(k,x).toString()),Z=L.length;for(M=0;M<K-T;++M)this[M+T]=L[M%Z]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function H(k){return k<16?"0"+k.toString(16):k.toString(16)}function F(k,T){var K;T=T||1/0;for(var x=k.length,E=null,M=[],L=0;L<x;++L){if((K=k.charCodeAt(L))>55295&&K<57344){if(!E){if(K>56319){(T-=3)>-1&&M.push(239,191,189);continue}if(L+1===x){(T-=3)>-1&&M.push(239,191,189);continue}E=K;continue}if(K<56320){(T-=3)>-1&&M.push(239,191,189),E=K;continue}K=65536+(E-55296<<10|K-56320)}else E&&(T-=3)>-1&&M.push(239,191,189);if(E=null,K<128){if((T-=1)<0)break;M.push(K)}else if(K<2048){if((T-=2)<0)break;M.push(K>>6|192,63&K|128)}else if(K<65536){if((T-=3)<0)break;M.push(K>>12|224,K>>6&63|128,63&K|128)}else{if(!(K<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;M.push(K>>18|240,K>>12&63|128,K>>6&63|128,63&K|128)}}return M}function P(k){return a.toByteArray(function(T){if((T=function(K){return K.trim?K.trim():K.replace(/^\s+|\s+$/g,"")}(T).replace(z,"")).length<2)return"";for(;T.length%4!=0;)T+="=";return T}(k))}function G(k,T,K,x){for(var E=0;E<x&&!(E+K>=T.length||E>=k.length);++E)T[E+K]=k[E];return E}}).call(this,i(5))},function(r,n,i){n.byteLength=function(d){var v=f(d),A=v[0],S=v[1];return 3*(A+S)/4-S},n.toByteArray=function(d){var v,A,S=f(d),C=S[0],B=S[1],U=new o(function(g,R,l){return 3*(R+l)/4-l}(0,C,B)),O=0,q=B>0?C-4:C;for(A=0;A<q;A+=4)v=a[d.charCodeAt(A)]<<18|a[d.charCodeAt(A+1)]<<12|a[d.charCodeAt(A+2)]<<6|a[d.charCodeAt(A+3)],U[O++]=v>>16&255,U[O++]=v>>8&255,U[O++]=255&v;return B===2&&(v=a[d.charCodeAt(A)]<<2|a[d.charCodeAt(A+1)]>>4,U[O++]=255&v),B===1&&(v=a[d.charCodeAt(A)]<<10|a[d.charCodeAt(A+1)]<<4|a[d.charCodeAt(A+2)]>>2,U[O++]=v>>8&255,U[O++]=255&v),U},n.fromByteArray=function(d){for(var v,A=d.length,S=A%3,C=[],B=0,U=A-S;B<U;B+=16383)C.push(p(d,B,B+16383>U?U:B+16383));return S===1?(v=d[A-1],C.push(s[v>>2]+s[v<<4&63]+"==")):S===2&&(v=(d[A-2]<<8)+d[A-1],C.push(s[v>>10]+s[v>>4&63]+s[v<<2&63]+"=")),C.join("")};for(var s=[],a=[],o=typeof Uint8Array!="undefined"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,h=c.length;u<h;++u)s[u]=c[u],a[c.charCodeAt(u)]=u;function f(d){var v=d.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var A=d.indexOf("=");return A===-1&&(A=v),[A,A===v?0:4-A%4]}function p(d,v,A){for(var S,C,B=[],U=v;U<A;U+=3)S=(d[U]<<16&16711680)+(d[U+1]<<8&65280)+(255&d[U+2]),B.push(s[(C=S)>>18&63]+s[C>>12&63]+s[C>>6&63]+s[63&C]);return B.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(r,n){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */n.read=function(i,s,a,o,c){var u,h,f=8*c-o-1,p=(1<<f)-1,d=p>>1,v=-7,A=a?c-1:0,S=a?-1:1,C=i[s+A];for(A+=S,u=C&(1<<-v)-1,C>>=-v,v+=f;v>0;u=256*u+i[s+A],A+=S,v-=8);for(h=u&(1<<-v)-1,u>>=-v,v+=o;v>0;h=256*h+i[s+A],A+=S,v-=8);if(u===0)u=1-d;else{if(u===p)return h?NaN:1/0*(C?-1:1);h+=Math.pow(2,o),u-=d}return(C?-1:1)*h*Math.pow(2,u-o)},n.write=function(i,s,a,o,c,u){var h,f,p,d=8*u-c-1,v=(1<<d)-1,A=v>>1,S=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=o?0:u-1,B=o?1:-1,U=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(f=isNaN(s)?1:0,h=v):(h=Math.floor(Math.log(s)/Math.LN2),s*(p=Math.pow(2,-h))<1&&(h--,p*=2),(s+=h+A>=1?S/p:S*Math.pow(2,1-A))*p>=2&&(h++,p/=2),h+A>=v?(f=0,h=v):h+A>=1?(f=(s*p-1)*Math.pow(2,c),h+=A):(f=s*Math.pow(2,A-1)*Math.pow(2,c),h=0));c>=8;i[a+C]=255&f,C+=B,f/=256,c-=8);for(h=h<<c|f,d+=c;d>0;i[a+C]=255&h,C+=B,h/=256,d-=8);i[a+C-B]|=128*U}},function(r,n){var i={}.toString;r.exports=Array.isArray||function(s){return i.call(s)=="[object Array]"}},function(r,n,i){var s,a,o;a=[],(o=typeof(s=function(){var c,u,h,f;Object.keys||(Object.keys=(c=Object.prototype.hasOwnProperty,u=!{toString:null}.propertyIsEnumerable("toString"),f=(h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(w){if(typeof w!="object"&&typeof w!="function"||w===null)throw new TypeError("Object.keys called on non-object");var I=[];for(var J in w)c.call(w,J)&&I.push(J);if(u)for(var Q=0;Q<f;Q++)c.call(w,h[Q])&&I.push(h[Q]);return I})),Object.create||(Object.create=function(){function w(){}return function(I){if(arguments.length!==1)throw new Error("Object.create implementation only accepts one parameter.");return w.prototype=I,new w}}()),Array.isArray||(Array.isArray=function(w){return Object.prototype.toString.call(w)==="[object Array]"}),Array.prototype.indexOf||(Array.prototype.indexOf=function(w){if(this===null)throw new TypeError;var I=Object(this),J=I.length>>>0;if(J===0)return-1;var Q=0;if(arguments.length>1&&((Q=Number(arguments[1]))!=Q?Q=0:Q!==0&&Q!==1/0&&Q!==-1/0&&(Q=(Q>0||-1)*Math.floor(Math.abs(Q)))),Q>=J)return-1;for(var nt=Q>=0?Q:Math.max(J-Math.abs(Q),0);nt<J;nt++)if(nt in I&&I[nt]===w)return nt;return-1}),Object.isFrozen||(Object.isFrozen=function(w){for(var I="tv4_test_frozen_key";w.hasOwnProperty(I);)I+=Math.random();try{return w[I]=!0,delete w[I],!1}catch{return!0}});var p={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},d={"*":!0};function v(w){return encodeURI(w).replace(/%25[0-9][0-9]/g,function(I){return"%"+I.substring(3)})}function A(w){var I="";p[w.charAt(0)]&&(I=w.charAt(0),w=w.substring(1));var J="",Q="",nt=!0,ht=!1,lt=!1;I==="+"?nt=!1:I==="."?(Q=".",J="."):I==="/"?(Q="/",J="/"):I==="#"?(Q="#",nt=!1):I===";"?(Q=";",J=";",ht=!0,lt=!0):I==="?"?(Q="?",J="&",ht=!0):I==="&"&&(Q="&",J="&",ht=!0);for(var ut=[],z=w.split(","),H=[],F={},P=0;P<z.length;P++){var G=z[P],k=null;if(G.indexOf(":")!==-1){var T=G.split(":");G=T[0],k=parseInt(T[1],10)}for(var K={};d[G.charAt(G.length-1)];)K[G.charAt(G.length-1)]=!0,G=G.substring(0,G.length-1);var x={truncate:k,name:G,suffices:K};H.push(x),F[G]=x,ut.push(G)}var E=function(M){for(var L="",Z=0,X=0;X<H.length;X++){var it=H[X],pt=M(it.name);if(pt==null||Array.isArray(pt)&&pt.length===0||typeof pt=="object"&&Object.keys(pt).length===0)Z++;else if(L+=X===Z?Q:J||",",Array.isArray(pt)){ht&&(L+=it.name+"=");for(var bt=0;bt<pt.length;bt++)bt>0&&(L+=it.suffices["*"]&&J||",",it.suffices["*"]&&ht&&(L+=it.name+"=")),L+=nt?encodeURIComponent(pt[bt]).replace(/!/g,"%21"):v(pt[bt])}else if(typeof pt=="object"){ht&&!it.suffices["*"]&&(L+=it.name+"=");var _t=!0;for(var et in pt)_t||(L+=it.suffices["*"]&&J||","),_t=!1,L+=nt?encodeURIComponent(et).replace(/!/g,"%21"):v(et),L+=it.suffices["*"]?"=":",",L+=nt?encodeURIComponent(pt[et]).replace(/!/g,"%21"):v(pt[et])}else ht&&(L+=it.name,lt&&pt===""||(L+="=")),it.truncate!=null&&(pt=pt.substring(0,it.truncate)),L+=nt?encodeURIComponent(pt).replace(/!/g,"%21"):v(pt)}return L};return E.varNames=ut,{prefix:Q,substitution:E}}function S(w){if(!(this instanceof S))return new S(w);for(var I=w.split("{"),J=[I.shift()],Q=[],nt=[],ht=[];I.length>0;){var lt=I.shift(),ut=lt.split("}")[0],z=lt.substring(ut.length+1),H=A(ut);nt.push(H.substitution),Q.push(H.prefix),J.push(z),ht=ht.concat(H.substitution.varNames)}this.fill=function(F){for(var P=J[0],G=0;G<nt.length;G++)P+=(0,nt[G])(F),P+=J[G+1];return P},this.varNames=ht,this.template=w}S.prototype={toString:function(){return this.template},fillFromObject:function(w){return this.fill(function(I){return w[I]})}};var C=function(w,I,J,Q,nt){if(this.missing=[],this.missingMap={},this.formatValidators=w?Object.create(w.formatValidators):{},this.schemas=w?Object.create(w.schemas):{},this.collectMultiple=I,this.errors=[],this.handleError=I?this.collectError:this.returnError,Q&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),nt&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorReporter=J||m("en"),typeof this.errorReporter=="string")throw new Error("debug");if(this.definedKeywords={},w)for(var ht in w.definedKeywords)this.definedKeywords[ht]=w.definedKeywords[ht].slice(0)};function B(w,I){if(w===I)return!0;if(w&&I&&typeof w=="object"&&typeof I=="object"){if(Array.isArray(w)!==Array.isArray(I))return!1;if(Array.isArray(w)){if(w.length!==I.length)return!1;for(var J=0;J<w.length;J++)if(!B(w[J],I[J]))return!1}else{var Q;for(Q in w)if(I[Q]===void 0&&w[Q]!==void 0)return!1;for(Q in I)if(w[Q]===void 0&&I[Q]!==void 0)return!1;for(Q in w)if(!B(w[Q],I[Q]))return!1}return!0}return!1}C.prototype.defineKeyword=function(w,I){this.definedKeywords[w]=this.definedKeywords[w]||[],this.definedKeywords[w].push(I)},C.prototype.createError=function(w,I,J,Q,nt,ht,lt){var ut=new N(w,I,J,Q,nt);return ut.message=this.errorReporter(ut,ht,lt),ut},C.prototype.returnError=function(w){return w},C.prototype.collectError=function(w){return w&&this.errors.push(w),null},C.prototype.prefixErrors=function(w,I,J){for(var Q=w;Q<this.errors.length;Q++)this.errors[Q]=this.errors[Q].prefixWith(I,J);return this},C.prototype.banUnknownProperties=function(w,I){for(var J in this.unknownPropertyPaths){var Q=this.createError(y.UNKNOWN_PROPERTY,{path:J},J,"",null,w,I),nt=this.handleError(Q);if(nt)return nt}return null},C.prototype.addFormat=function(w,I){if(typeof w=="object"){for(var J in w)this.addFormat(J,w[J]);return this}this.formatValidators[w]=I},C.prototype.resolveRefs=function(w,I){if(w.$ref!==void 0){if((I=I||{})[w.$ref])return this.createError(y.CIRCULAR_REFERENCE,{urls:Object.keys(I).join(", ")},"","",null,void 0,w);I[w.$ref]=!0,w=this.getSchema(w.$ref,I)}return w},C.prototype.getSchema=function(w,I){var J;if(this.schemas[w]!==void 0)return J=this.schemas[w],this.resolveRefs(J,I);var Q=w,nt="";if(w.indexOf("#")!==-1&&(nt=w.substring(w.indexOf("#")+1),Q=w.substring(0,w.indexOf("#"))),typeof this.schemas[Q]=="object"){J=this.schemas[Q];var ht=decodeURIComponent(nt);if(ht==="")return this.resolveRefs(J,I);if(ht.charAt(0)!=="/")return;for(var lt=ht.split("/").slice(1),ut=0;ut<lt.length;ut++){var z=lt[ut].replace(/~1/g,"/").replace(/~0/g,"~");if(J[z]===void 0){J=void 0;break}J=J[z]}if(J!==void 0)return this.resolveRefs(J,I)}this.missing[Q]===void 0&&(this.missing.push(Q),this.missing[Q]=Q,this.missingMap[Q]=Q)},C.prototype.searchSchemas=function(w,I){if(Array.isArray(w))for(var J=0;J<w.length;J++)this.searchSchemas(w[J],I);else if(w&&typeof w=="object"){for(var Q in typeof w.id=="string"&&function(ht,lt){if(lt.substring(0,ht.length)===ht){var ut=lt.substring(ht.length);if(lt.length>0&&lt.charAt(ht.length-1)==="/"||ut.charAt(0)==="#"||ut.charAt(0)==="?")return!0}return!1}(I,w.id)&&this.schemas[w.id]===void 0&&(this.schemas[w.id]=w),w)if(Q!=="enum"){if(typeof w[Q]=="object")this.searchSchemas(w[Q],I);else if(Q==="$ref"){var nt=R(w[Q]);nt&&this.schemas[nt]===void 0&&this.missingMap[nt]===void 0&&(this.missingMap[nt]=nt)}}}},C.prototype.addSchema=function(w,I){if(typeof w!="string"||I===void 0){if(typeof w!="object"||typeof w.id!="string")return;w=(I=w).id}w===R(w)+"#"&&(w=R(w)),this.schemas[w]=I,delete this.missingMap[w],l(I,w),this.searchSchemas(I,w)},C.prototype.getSchemaMap=function(){var w={};for(var I in this.schemas)w[I]=this.schemas[I];return w},C.prototype.getSchemaUris=function(w){var I=[];for(var J in this.schemas)w&&!w.test(J)||I.push(J);return I},C.prototype.getMissingUris=function(w){var I=[];for(var J in this.missingMap)w&&!w.test(J)||I.push(J);return I},C.prototype.dropSchemas=function(){this.schemas={},this.reset()},C.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},C.prototype.validateAll=function(w,I,J,Q,nt){var ht;if(!(I=this.resolveRefs(I)))return null;if(I instanceof N)return this.errors.push(I),I;var lt,ut=this.errors.length,z=null,H=null;if(this.checkRecursive&&w&&typeof w=="object"){if(ht=!this.scanned.length,w[this.validatedSchemasKey]){var F=w[this.validatedSchemasKey].indexOf(I);if(F!==-1)return this.errors=this.errors.concat(w[this.validationErrorsKey][F]),null}if(Object.isFrozen(w)&&(lt=this.scannedFrozen.indexOf(w))!==-1){var P=this.scannedFrozenSchemas[lt].indexOf(I);if(P!==-1)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[lt][P]),null}if(this.scanned.push(w),Object.isFrozen(w))lt===-1&&(lt=this.scannedFrozen.length,this.scannedFrozen.push(w),this.scannedFrozenSchemas.push([])),z=this.scannedFrozenSchemas[lt].length,this.scannedFrozenSchemas[lt][z]=I,this.scannedFrozenValidationErrors[lt][z]=[];else{if(!w[this.validatedSchemasKey])try{Object.defineProperty(w,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(w,this.validationErrorsKey,{value:[],configurable:!0})}catch{w[this.validatedSchemasKey]=[],w[this.validationErrorsKey]=[]}H=w[this.validatedSchemasKey].length,w[this.validatedSchemasKey][H]=I,w[this.validationErrorsKey][H]=[]}}var G=this.errors.length,k=this.validateBasic(w,I,nt)||this.validateNumeric(w,I,nt)||this.validateString(w,I,nt)||this.validateArray(w,I,nt)||this.validateObject(w,I,nt)||this.validateCombinations(w,I,nt)||this.validateHypermedia(w,I,nt)||this.validateFormat(w,I,nt)||this.validateDefinedKeywords(w,I,nt)||null;if(ht){for(;this.scanned.length;)delete this.scanned.pop()[this.validatedSchemasKey];this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(k||G!==this.errors.length)for(;J&&J.length||Q&&Q.length;){var T=J&&J.length?""+J.pop():null,K=Q&&Q.length?""+Q.pop():null;k&&(k=k.prefixWith(T,K)),this.prefixErrors(G,T,K)}return z!==null?this.scannedFrozenValidationErrors[lt][z]=this.errors.slice(ut):H!==null&&(w[this.validationErrorsKey][H]=this.errors.slice(ut)),this.handleError(k)},C.prototype.validateFormat=function(w,I){if(typeof I.format!="string"||!this.formatValidators[I.format])return null;var J=this.formatValidators[I.format].call(null,w,I);return typeof J=="string"||typeof J=="number"?this.createError(y.FORMAT_CUSTOM,{message:J},"","/format",null,w,I):J&&typeof J=="object"?this.createError(y.FORMAT_CUSTOM,{message:J.message||"?"},J.dataPath||"",J.schemaPath||"/format",null,w,I):null},C.prototype.validateDefinedKeywords=function(w,I,J){for(var Q in this.definedKeywords)if(I[Q]!==void 0)for(var nt=this.definedKeywords[Q],ht=0;ht<nt.length;ht++){var lt=(0,nt[ht])(w,I[Q],I,J);if(typeof lt=="string"||typeof lt=="number")return this.createError(y.KEYWORD_CUSTOM,{key:Q,message:lt},"","",null,w,I).prefixWith(null,Q);if(lt&&typeof lt=="object"){var ut=lt.code;if(typeof ut=="string"){if(!y[ut])throw new Error("Undefined error code (use defineError): "+ut);ut=y[ut]}else typeof ut!="number"&&(ut=y.KEYWORD_CUSTOM);var z=typeof lt.message=="object"?lt.message:{key:Q,message:lt.message||"?"},H=lt.schemaPath||"/"+Q.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(ut,z,lt.dataPath||null,H,null,w,I)}}return null},C.prototype.validateBasic=function(w,I,J){var Q;return(Q=this.validateType(w,I,J))||(Q=this.validateEnum(w,I,J))?Q.prefixWith(null,"type"):null},C.prototype.validateType=function(w,I){if(I.type===void 0)return null;var J=typeof w;w===null?J="null":Array.isArray(w)&&(J="array");var Q=I.type;Array.isArray(Q)||(Q=[Q]);for(var nt=0;nt<Q.length;nt++){var ht=Q[nt];if(ht===J||ht==="integer"&&J==="number"&&w%1==0)return null}return this.createError(y.INVALID_TYPE,{type:J,expected:Q.join("/")},"","",null,w,I)},C.prototype.validateEnum=function(w,I){if(I.enum===void 0)return null;for(var J=0;J<I.enum.length;J++)if(B(w,I.enum[J]))return null;return this.createError(y.ENUM_MISMATCH,{value:typeof JSON!="undefined"?JSON.stringify(w):w},"","",null,w,I)},C.prototype.validateNumeric=function(w,I,J){return this.validateMultipleOf(w,I,J)||this.validateMinMax(w,I,J)||this.validateNaN(w,I,J)||null};var U=Math.pow(2,-51),O=1-U;function q(w){var I=String(w).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return I?{href:I[0]||"",protocol:I[1]||"",authority:I[2]||"",host:I[3]||"",hostname:I[4]||"",port:I[5]||"",pathname:I[6]||"",search:I[7]||"",hash:I[8]||""}:null}function g(w,I){return I=q(I||""),w=q(w||""),I&&w?(I.protocol||w.protocol)+(I.protocol||I.authority?I.authority:w.authority)+(J=I.protocol||I.authority||I.pathname.charAt(0)==="/"?I.pathname:I.pathname?(w.authority&&!w.pathname?"/":"")+w.pathname.slice(0,w.pathname.lastIndexOf("/")+1)+I.pathname:w.pathname,Q=[],J.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(nt){nt==="/.."?Q.pop():Q.push(nt)}),Q.join("").replace(/^\//,J.charAt(0)==="/"?"/":""))+(I.protocol||I.authority||I.pathname?I.search:I.search||w.search)+I.hash:null;var J,Q}function R(w){return w.split("#")[0]}function l(w,I){if(w&&typeof w=="object")if(I===void 0?I=w.id:typeof w.id=="string"&&(I=g(I,w.id),w.id=I),Array.isArray(w))for(var J=0;J<w.length;J++)l(w[J],I);else for(var Q in typeof w.$ref=="string"&&(w.$ref=g(I,w.$ref)),w)Q!=="enum"&&l(w[Q],I)}function m(w){var I=W[w=w||"en"];return function(J){var Q=I[J.code]||D[J.code];if(typeof Q!="string")return"Unknown error code "+J.code+": "+JSON.stringify(J.messageParams);var nt=J.params;return Q.replace(/\{([^{}]*)\}/g,function(ht,lt){var ut=nt[lt];return typeof ut=="string"||typeof ut=="number"?ut:ht})}}C.prototype.validateMultipleOf=function(w,I){var J=I.multipleOf||I.divisibleBy;if(J===void 0)return null;if(typeof w=="number"){var Q=w/J%1;if(Q>=U&&Q<O)return this.createError(y.NUMBER_MULTIPLE_OF,{value:w,multipleOf:J},"","",null,w,I)}return null},C.prototype.validateMinMax=function(w,I){if(typeof w!="number")return null;if(I.minimum!==void 0){if(w<I.minimum)return this.createError(y.NUMBER_MINIMUM,{value:w,minimum:I.minimum},"","/minimum",null,w,I);if(I.exclusiveMinimum&&w===I.minimum)return this.createError(y.NUMBER_MINIMUM_EXCLUSIVE,{value:w,minimum:I.minimum},"","/exclusiveMinimum",null,w,I)}if(I.maximum!==void 0){if(w>I.maximum)return this.createError(y.NUMBER_MAXIMUM,{value:w,maximum:I.maximum},"","/maximum",null,w,I);if(I.exclusiveMaximum&&w===I.maximum)return this.createError(y.NUMBER_MAXIMUM_EXCLUSIVE,{value:w,maximum:I.maximum},"","/exclusiveMaximum",null,w,I)}return null},C.prototype.validateNaN=function(w,I){return typeof w!="number"?null:isNaN(w)===!0||w===1/0||w===-1/0?this.createError(y.NUMBER_NOT_A_NUMBER,{value:w},"","/type",null,w,I):null},C.prototype.validateString=function(w,I,J){return this.validateStringLength(w,I,J)||this.validateStringPattern(w,I,J)||null},C.prototype.validateStringLength=function(w,I){return typeof w!="string"?null:I.minLength!==void 0&&w.length<I.minLength?this.createError(y.STRING_LENGTH_SHORT,{length:w.length,minimum:I.minLength},"","/minLength",null,w,I):I.maxLength!==void 0&&w.length>I.maxLength?this.createError(y.STRING_LENGTH_LONG,{length:w.length,maximum:I.maxLength},"","/maxLength",null,w,I):null},C.prototype.validateStringPattern=function(w,I){if(typeof w!="string"||typeof I.pattern!="string"&&!(I.pattern instanceof RegExp))return null;var J;if(I.pattern instanceof RegExp)J=I.pattern;else{var Q,nt="",ht=I.pattern.match(/^\/(.+)\/([img]*)$/);ht?(Q=ht[1],nt=ht[2]):Q=I.pattern,J=new RegExp(Q,nt)}return J.test(w)?null:this.createError(y.STRING_PATTERN,{pattern:I.pattern},"","/pattern",null,w,I)},C.prototype.validateArray=function(w,I,J){return Array.isArray(w)&&(this.validateArrayLength(w,I,J)||this.validateArrayUniqueItems(w,I,J)||this.validateArrayItems(w,I,J))||null},C.prototype.validateArrayLength=function(w,I){var J;return I.minItems!==void 0&&w.length<I.minItems&&(J=this.createError(y.ARRAY_LENGTH_SHORT,{length:w.length,minimum:I.minItems},"","/minItems",null,w,I),this.handleError(J))||I.maxItems!==void 0&&w.length>I.maxItems&&(J=this.createError(y.ARRAY_LENGTH_LONG,{length:w.length,maximum:I.maxItems},"","/maxItems",null,w,I),this.handleError(J))?J:null},C.prototype.validateArrayUniqueItems=function(w,I){if(I.uniqueItems){for(var J=0;J<w.length;J++)for(var Q=J+1;Q<w.length;Q++)if(B(w[J],w[Q])){var nt=this.createError(y.ARRAY_UNIQUE,{match1:J,match2:Q},"","/uniqueItems",null,w,I);if(this.handleError(nt))return nt}}return null},C.prototype.validateArrayItems=function(w,I,J){if(I.items===void 0)return null;var Q,nt;if(Array.isArray(I.items)){for(nt=0;nt<w.length;nt++)if(nt<I.items.length){if(Q=this.validateAll(w[nt],I.items[nt],[nt],["items",nt],J+"/"+nt))return Q}else if(I.additionalItems!==void 0){if(typeof I.additionalItems=="boolean"){if(!I.additionalItems&&(Q=this.createError(y.ARRAY_ADDITIONAL_ITEMS,{},"/"+nt,"/additionalItems",null,w,I),this.handleError(Q)))return Q}else if(Q=this.validateAll(w[nt],I.additionalItems,[nt],["additionalItems"],J+"/"+nt))return Q}}else for(nt=0;nt<w.length;nt++)if(Q=this.validateAll(w[nt],I.items,[nt],["items"],J+"/"+nt))return Q;return null},C.prototype.validateObject=function(w,I,J){return typeof w!="object"||w===null||Array.isArray(w)?null:this.validateObjectMinMaxProperties(w,I,J)||this.validateObjectRequiredProperties(w,I,J)||this.validateObjectProperties(w,I,J)||this.validateObjectDependencies(w,I,J)||null},C.prototype.validateObjectMinMaxProperties=function(w,I){var J,Q=Object.keys(w);return I.minProperties!==void 0&&Q.length<I.minProperties&&(J=this.createError(y.OBJECT_PROPERTIES_MINIMUM,{propertyCount:Q.length,minimum:I.minProperties},"","/minProperties",null,w,I),this.handleError(J))||I.maxProperties!==void 0&&Q.length>I.maxProperties&&(J=this.createError(y.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:Q.length,maximum:I.maxProperties},"","/maxProperties",null,w,I),this.handleError(J))?J:null},C.prototype.validateObjectRequiredProperties=function(w,I){if(I.required!==void 0)for(var J=0;J<I.required.length;J++){var Q=I.required[J];if(w[Q]===void 0){var nt=this.createError(y.OBJECT_REQUIRED,{key:Q},"","/required/"+J,null,w,I);if(this.handleError(nt))return nt}}return null},C.prototype.validateObjectProperties=function(w,I,J){var Q;for(var nt in w){var ht=J+"/"+nt.replace(/~/g,"~0").replace(/\//g,"~1"),lt=!1;if(I.properties!==void 0&&I.properties[nt]!==void 0&&(lt=!0,Q=this.validateAll(w[nt],I.properties[nt],[nt],["properties",nt],ht)))return Q;if(I.patternProperties!==void 0){for(var ut in I.patternProperties)if(new RegExp(ut).test(nt)&&(lt=!0,Q=this.validateAll(w[nt],I.patternProperties[ut],[nt],["patternProperties",ut],ht)))return Q}if(lt)this.trackUnknownProperties&&(this.knownPropertyPaths[ht]=!0,delete this.unknownPropertyPaths[ht]);else if(I.additionalProperties!==void 0){if(this.trackUnknownProperties&&(this.knownPropertyPaths[ht]=!0,delete this.unknownPropertyPaths[ht]),typeof I.additionalProperties=="boolean"){if(!I.additionalProperties&&(Q=this.createError(y.OBJECT_ADDITIONAL_PROPERTIES,{key:nt},"","/additionalProperties",null,w,I).prefixWith(nt,null),this.handleError(Q)))return Q}else if(Q=this.validateAll(w[nt],I.additionalProperties,[nt],["additionalProperties"],ht))return Q}else this.trackUnknownProperties&&!this.knownPropertyPaths[ht]&&(this.unknownPropertyPaths[ht]=!0)}return null},C.prototype.validateObjectDependencies=function(w,I,J){var Q;if(I.dependencies!==void 0){for(var nt in I.dependencies)if(w[nt]!==void 0){var ht=I.dependencies[nt];if(typeof ht=="string"){if(w[ht]===void 0&&(Q=this.createError(y.OBJECT_DEPENDENCY_KEY,{key:nt,missing:ht},"","",null,w,I).prefixWith(null,nt).prefixWith(null,"dependencies"),this.handleError(Q)))return Q}else if(Array.isArray(ht))for(var lt=0;lt<ht.length;lt++){var ut=ht[lt];if(w[ut]===void 0&&(Q=this.createError(y.OBJECT_DEPENDENCY_KEY,{key:nt,missing:ut},"","/"+lt,null,w,I).prefixWith(null,nt).prefixWith(null,"dependencies"),this.handleError(Q)))return Q}else if(Q=this.validateAll(w,ht,[],["dependencies",nt],J))return Q}}return null},C.prototype.validateCombinations=function(w,I,J){return this.validateAllOf(w,I,J)||this.validateAnyOf(w,I,J)||this.validateOneOf(w,I,J)||this.validateNot(w,I,J)||null},C.prototype.validateAllOf=function(w,I,J){if(I.allOf===void 0)return null;for(var Q,nt=0;nt<I.allOf.length;nt++){var ht=I.allOf[nt];if(Q=this.validateAll(w,ht,[],["allOf",nt],J))return Q}return null},C.prototype.validateAnyOf=function(w,I,J){if(I.anyOf===void 0)return null;var Q,nt,ht=[],lt=this.errors.length;this.trackUnknownProperties&&(Q=this.unknownPropertyPaths,nt=this.knownPropertyPaths);for(var ut=!0,z=0;z<I.anyOf.length;z++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var H=I.anyOf[z],F=this.errors.length,P=this.validateAll(w,H,[],["anyOf",z],J);if(P===null&&F===this.errors.length){if(this.errors=this.errors.slice(0,lt),this.trackUnknownProperties){for(var G in this.knownPropertyPaths)nt[G]=!0,delete Q[G];for(var k in this.unknownPropertyPaths)nt[k]||(Q[k]=!0);ut=!1;continue}return null}P&&ht.push(P.prefixWith(null,""+z).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=Q,this.knownPropertyPaths=nt),ut?(ht=ht.concat(this.errors.slice(lt)),this.errors=this.errors.slice(0,lt),this.createError(y.ANY_OF_MISSING,{},"","/anyOf",ht,w,I)):void 0},C.prototype.validateOneOf=function(w,I,J){if(I.oneOf===void 0)return null;var Q,nt,ht=null,lt=[],ut=this.errors.length;this.trackUnknownProperties&&(Q=this.unknownPropertyPaths,nt=this.knownPropertyPaths);for(var z=0;z<I.oneOf.length;z++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var H=I.oneOf[z],F=this.errors.length,P=this.validateAll(w,H,[],["oneOf",z],J);if(P===null&&F===this.errors.length){if(ht!==null)return this.errors=this.errors.slice(0,ut),this.createError(y.ONE_OF_MULTIPLE,{index1:ht,index2:z},"","/oneOf",null,w,I);if(ht=z,this.trackUnknownProperties){for(var G in this.knownPropertyPaths)nt[G]=!0,delete Q[G];for(var k in this.unknownPropertyPaths)nt[k]||(Q[k]=!0)}}else P&&lt.push(P)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=Q,this.knownPropertyPaths=nt),ht===null?(lt=lt.concat(this.errors.slice(ut)),this.errors=this.errors.slice(0,ut),this.createError(y.ONE_OF_MISSING,{},"","/oneOf",lt,w,I)):(this.errors=this.errors.slice(0,ut),null)},C.prototype.validateNot=function(w,I,J){if(I.not===void 0)return null;var Q,nt,ht=this.errors.length;this.trackUnknownProperties&&(Q=this.unknownPropertyPaths,nt=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var lt=this.validateAll(w,I.not,null,null,J),ut=this.errors.slice(ht);return this.errors=this.errors.slice(0,ht),this.trackUnknownProperties&&(this.unknownPropertyPaths=Q,this.knownPropertyPaths=nt),lt===null&&ut.length===0?this.createError(y.NOT_PASSED,{},"","/not",null,w,I):null},C.prototype.validateHypermedia=function(w,I,J){if(!I.links)return null;for(var Q,nt=0;nt<I.links.length;nt++){var ht=I.links[nt];if(ht.rel==="describedby"){for(var lt=new S(ht.href),ut=!0,z=0;z<lt.varNames.length;z++)if(!(lt.varNames[z]in w)){ut=!1;break}if(ut){var H={$ref:lt.fillFromObject(w)};if(Q=this.validateAll(w,H,[],["links",nt],J))return Q}}}};var y={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},b={};for(var _ in y)b[y[_]]=_;var D={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};function N(w,I,J,Q,nt){if(Error.call(this),w===void 0)throw new Error("No error code supplied: "+Q);this.message="",this.params=I,this.code=w,this.dataPath=J||"",this.schemaPath=Q||"",this.subErrors=nt||null;var ht=new Error(this.message);if(this.stack=ht.stack||ht.stacktrace,!this.stack)try{throw ht}catch(lt){this.stack=lt.stack||lt.stacktrace}}N.prototype=Object.create(Error.prototype),N.prototype.constructor=N,N.prototype.name="ValidationError",N.prototype.prefixWith=function(w,I){if(w!==null&&(w=w.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+w+this.dataPath),I!==null&&(I=I.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+I+this.schemaPath),this.subErrors!==null)for(var J=0;J<this.subErrors.length;J++)this.subErrors[J].prefixWith(w,I);return this};var W={},tt=function w(I){var J,Q,nt=new C,ht={setErrorReporter:function(lt){return typeof lt=="string"?this.language(lt):(Q=lt,!0)},addFormat:function(){nt.addFormat.apply(nt,arguments)},language:function(lt){return lt?(W[lt]||(lt=lt.split("-")[0]),!!W[lt]&&(J=lt,lt)):J},addLanguage:function(lt,ut){var z;for(z in y)ut[z]&&!ut[y[z]]&&(ut[y[z]]=ut[z]);var H=lt.split("-")[0];if(W[H])for(z in W[lt]=Object.create(W[H]),ut)W[H][z]===void 0&&(W[H][z]=ut[z]),W[lt][z]=ut[z];else W[lt]=ut,W[H]=ut;return this},freshApi:function(lt){var ut=w();return lt&&ut.language(lt),ut},validate:function(lt,ut,z,H){var F=m(J),P=new C(nt,!1,Q?function(k,T,K){return Q(k,T,K)||F(k,T,K)}:F,z,H);typeof ut=="string"&&(ut={$ref:ut}),P.addSchema("",ut);var G=P.validateAll(lt,ut,null,null,"");return!G&&H&&(G=P.banUnknownProperties(lt,ut)),this.error=G,this.missing=P.missing,this.valid=G===null,this.valid},validateResult:function(){var lt={toString:function(){return this.valid?"valid":this.error.message}};return this.validate.apply(lt,arguments),lt},validateMultiple:function(lt,ut,z,H){var F=m(J),P=new C(nt,!0,Q?function(k,T,K){return Q(k,T,K)||F(k,T,K)}:F,z,H);typeof ut=="string"&&(ut={$ref:ut}),P.addSchema("",ut),P.validateAll(lt,ut,null,null,""),H&&P.banUnknownProperties(lt,ut);var G={toString:function(){return this.valid?"valid":this.error.message}};return G.errors=P.errors,G.missing=P.missing,G.valid=G.errors.length===0,G},addSchema:function(){return nt.addSchema.apply(nt,arguments)},getSchema:function(){return nt.getSchema.apply(nt,arguments)},getSchemaMap:function(){return nt.getSchemaMap.apply(nt,arguments)},getSchemaUris:function(){return nt.getSchemaUris.apply(nt,arguments)},getMissingUris:function(){return nt.getMissingUris.apply(nt,arguments)},dropSchemas:function(){nt.dropSchemas.apply(nt,arguments)},defineKeyword:function(){nt.defineKeyword.apply(nt,arguments)},defineError:function(lt,ut,z){if(typeof lt!="string"||!/^[A-Z]+(_[A-Z]+)*$/.test(lt))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if(typeof ut!="number"||ut%1!=0||ut<1e4)throw new Error("Code number must be an integer > 10000");if(y[lt]!==void 0)throw new Error("Error already defined: "+lt+" as "+y[lt]);if(b[ut]!==void 0)throw new Error("Error code already used: "+b[ut]+" as "+ut);for(var H in y[lt]=ut,b[ut]=lt,D[lt]=D[ut]=z,W){var F=W[H];F[lt]&&(F[ut]=F[ut]||F[lt])}},reset:function(){nt.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:l,resolveUrl:g,getDocumentUri:R,errorCodes:y};return ht.language(I||"en"),ht}();return tt.addLanguage("en-gb",D),tt.tv4=tt,tt})=="function"?s.apply(n,a):s)===void 0||(r.exports=o)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BaseClientTypes=void 0;class s{constructor(){this.uris={},this.schemas={},this.aliases={}}declare(c,u,h,f){const p=c+"/"+u;if(f.extends){const d=f.extends.split("/"),v=d.length===1?c+"/"+d.shift():d.join("/"),A=this.uris[v];if(!A)throw"Type '"+p+"' tries to extend unknown schema '"+v+"'";f.extends=this.schemas[A]}this.uris[p]=h,this.aliases[h]=p,this.schemas[h]=f}resolveAlias(c){return this.uris[c]}getSchema(c){return this.schemas[c]}inScope(c){const u=c.length,h={};for(const f in this.uris)if(f.substr(0,u+1)===c+"/"){const p=this.uris[f];h[p]=this.schemas[p]}return h}}n.BaseClientTypes=s;const a=new s;n.default=a},function(r,n,i){class s extends Error{constructor(o){super();const c=new Error("Schema not found: "+o);return c.name="SchemaNotFound",c}}r.exports=s},function(r,n,i){r.exports=class{constructor(s){this._itemsRev={},this._storage={},this._canPropagate=!1,this.defaultValue=s,this.activatePropagation()}get(s){s=s.toLowerCase();let a=this._storage[s];return a===void 0&&(a=this.defaultValue,this._storage[s]=a),a}set(s,a){return s=s.toLowerCase(),this._storage[s]===a||(this._storage[s]=a,a||delete this._itemsRev[s],this._updateParentFolderItemRev(s,a),this._canPropagate&&this._propagate(s)),a}delete(s){return this.set(s,null)}deactivatePropagation(){return this._canPropagate=!1,!0}activatePropagation(){return this._canPropagate||(this._generateFolderRev("/"),this._canPropagate=!0),!0}_hashCode(s){let a=0;if(s.length===0)return a;for(let o=0;o<s.length;o++)a=(a<<5)-a+s.charCodeAt(o),a|=0;return a}_generateHash(s){const a=s.sort().join("|");return""+this._hashCode(a)}_updateParentFolderItemRev(s,a){if(s!=="/"){const o=this._getParentFolder(s);this._itemsRev[o]||(this._itemsRev[o]={});const c=this._itemsRev[o];a?c[s]=a:delete c[s],this._updateParentFolderItemRev(o,this.defaultValue)}}_getParentFolder(s){return s.substr(0,s.lastIndexOf("/",s.length-2)+1)}_propagate(s){if(s!=="/"){const a=this._getParentFolder(s),o=this._itemsRev[a],c=[];for(const h in o)c.push(o[h]);const u=this._generateHash(c);this.set(a,u)}}_generateFolderRev(s){const a=this._itemsRev[s];let o=this.defaultValue;if(a){const c=[];for(const u in a){let h;h=u.substr(-1)==="/"?this._generateFolderRev(u):a[u],c.push(h)}c.length>0&&(o=this._generateHash(c))}return this.set(s,o),o}}},function(r,n,i){var s;/*!
 * webfinger.js
 *   version 2.7.0
 *   http://github.com/silverbucket/webfinger.js
 *
 * Developed and Maintained by:
 *   Nick Jennings <nick@silverbucket.net> 2012
 *
 * webfinger.js is released under the AGPL (see LICENSE).
 *
 * You don't have to do anything special to choose one license or the other and you don't
 * have to notify anyone which license you are using.
 * Please see the corresponding license file for details of these licenses.
 * You are free to use, modify and distribute this software, but all copyright
 * information must remain.
 *
 */typeof fetch!="function"&&typeof XMLHttpRequest!="function"&&(XMLHttpRequest=i(28)),function(a){var o={"http://webfist.org/spec/rel":"webfist","http://webfinger.net/rel/avatar":"avatar",remotestorage:"remotestorage","http://tools.ietf.org/id/draft-dejong-remotestorage":"remotestorage",remoteStorage:"remotestorage","http://www.packetizer.com/rel/share":"share","http://webfinger.net/rel/profile-page":"profile",me:"profile",vcard:"vcard",blog:"blog","http://packetizer.com/rel/blog":"blog","http://schemas.google.com/g/2010#updates-from":"updates","https://camlistore.org/rel/server":"camilstore"},c={avatar:[],remotestorage:[],blog:[],vcard:[],updates:[],share:[],profile:[],webfist:[],camlistore:[]},u=["webfinger","host-meta","host-meta.json"];function h(p){return p.toString=function(){return this.message},p}function f(p){typeof p!="object"&&(p={}),this.config={tls_only:p.tls_only===void 0||p.tls_only,webfist_fallback:p.webfist_fallback!==void 0&&p.webfist_fallback,uri_fallback:p.uri_fallback!==void 0&&p.uri_fallback,request_timeout:p.request_timeout!==void 0?p.request_timeout:1e4}}f.prototype.__fetchJRD=function(p,d,v){if(typeof fetch=="function")return this.__fetchJRD_fetch(p,d,v);if(typeof XMLHttpRequest=="function")return this.__fetchJRD_XHR(p,d,v);throw new Error("add a polyfill for fetch or XMLHttpRequest")},f.prototype.__fetchJRD_fetch=function(p,d,v){var A,S=this;typeof AbortController=="function"&&(A=new AbortController);var C=fetch(p,{headers:{Accept:"application/jrd+json, application/json"},signal:A?A.signal:void 0}).then(function(U){if(U.ok)return U.text();throw U.status===404?h({message:"resource not found",url:p,status:U.status}):h({message:"error during request",url:p,status:U.status})},function(U){throw h({message:"error during request",url:p,status:void 0,err:U})}).then(function(U){if(S.__isValidJSON(U))return U;throw h({message:"invalid json",url:p,status:void 0})}),B=new Promise(function(U,O){setTimeout(function(){O(h({message:"request timed out",url:p,status:void 0})),A&&A.abort()},S.config.request_timeout)});Promise.race([C,B]).then(function(U){v(U)}).catch(function(U){d(U)})},f.prototype.__fetchJRD_XHR=function(p,d,v){var A=this,S=!1,C=new XMLHttpRequest;function B(){if(!S){if(S=!0,C.status===200)return A.__isValidJSON(C.responseText)?v(C.responseText):d(h({message:"invalid json",url:p,status:C.status}));if(C.status===404)return d(h({message:"resource not found",url:p,status:C.status}));if(C.status>=301&&C.status<=302){var O=C.getResponseHeader("Location");return function(q){return typeof q=="string"&&q.split("://")[0]==="https"}(O)?U():d(h({message:"no redirect URL found",url:p,status:C.status}))}return d(h({message:"error during request",url:p,status:C.status}))}}function U(){C.onreadystatechange=function(){C.readyState===4&&B()},C.onload=function(){B()},C.ontimeout=function(){return d(h({message:"request timed out",url:p,status:C.status}))},C.open("GET",p,!0),C.timeout=A.config.request_timeout,C.setRequestHeader("Accept","application/jrd+json, application/json"),C.send()}return U()},f.prototype.__isValidJSON=function(p){try{JSON.parse(p)}catch{return!1}return!0},f.prototype.__isLocalhost=function(p){return/^localhost(\.localdomain)?(\:[0-9]+)?$/.test(p)},f.prototype.__processJRD=function(p,d,v,A){var S=JSON.parse(d);if(typeof S!="object"||typeof S.links!="object")return S.error!==void 0?v(h({message:S.error,request:p})):v(h({message:"unknown response from server",request:p}));var C=S.links;Array.isArray(C)||(C=[]);var B={object:S,json:d,idx:{}};B.idx.properties={name:void 0},B.idx.links=JSON.parse(JSON.stringify(c)),C.map(function(q,g){if(o.hasOwnProperty(q.rel)&&B.idx.links[o[q.rel]]){var R={};Object.keys(q).map(function(l,m){R[l]=q[l]}),B.idx.links[o[q.rel]].push(R)}});var U=JSON.parse(d).properties;for(var O in U)U.hasOwnProperty(O)&&O==="http://packetizer.com/ns/name"&&(B.idx.properties.name=U[O]);return A(B)},f.prototype.lookup=function(p,d){if(typeof p!="string")throw new Error("first parameter must be a user address");if(typeof d!="function")throw new Error("second parameter must be a callback");var v=this,A="";A=p.indexOf("://")>-1?p.replace(/ /g,"").split("/")[2]:p.replace(/ /g,"").split("@")[1];var S=0,C="https";function B(){var q="";return p.split("://")[1]||(q="acct:"),C+"://"+A+"/.well-known/"+u[S]+"?resource="+q+p}function U(q){if(v.config.uri_fallback&&A!=="webfist.org"&&S!==u.length-1)return S+=1,O();if(!v.config.tls_only&&C==="https")return S=0,C="http",O();if(!v.config.webfist_fallback||A==="webfist.org")return d(q);S=0,C="http",A="webfist.org";var g=B();v.__fetchJRD(g,d,function(R){v.__processJRD(g,R,d,function(l){typeof l.idx.links.webfist=="object"&&typeof l.idx.links.webfist[0].href=="string"&&v.__fetchJRD(l.idx.links.webfist[0].href,d,function(m){v.__processJRD(g,m,d,function(y){return d(null,d)})})})})}function O(){var q=B();v.__fetchJRD(q,U,function(g){v.__processJRD(q,g,d,function(R){d(null,R)})})}return v.__isLocalhost(A)&&(C="http"),setTimeout(O,0)},f.prototype.lookupLink=function(p,d,v){if(!c.hasOwnProperty(d))return v("unsupported rel "+d);this.lookup(p,function(A,S){var C=S.idx.links[d];return A?v(A):C.length===0?v('no links found with rel="'+d+'"'):v(null,C[0])})},(s=function(){return f}.apply(n,[]))===void 0||(r.exports=s)}()},function(r,n){r.exports=XMLHttpRequest},function(r,n,i){var s=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};const a=s(i(3)),o=s(i(16)),c=s(i(1)),u=i(0),h=s(i(30)),f=s(i(11)),p=s(i(6)),d=s(i(15)),v=s(i(7)),A=s(i(13)),S=s(i(14)),C=s(i(8)),B=s(i(31)),U=s(i(12)),O=s(i(32)),q=s(i(33)),g=s(i(34)),R={features:[],featuresDone:0,readyFired:!1,loadFeatures(){this.features=[],this.featuresDone=0,this.readyFired=!1,this.featureModules={WireClient:C.default,Dropbox:S.default,GoogleDrive:A.default,Access:f.default,Discover:d.default,Authorize:p.default,BaseClient:v.default,Env:o.default},a.default.cache&&u.extend(this.featureModules,{Caching:U.default,IndexedDB:O.default,LocalStorage:q.default,InMemoryStorage:g.default,Sync:B.default}),a.default.disableFeatures.forEach(l=>{this.featureModules[l]&&delete this.featureModules[l]}),this._allLoaded=!1;for(const l in this.featureModules)this.loadFeature(l)},hasFeature(l){for(let m=this.features.length-1;m>=0;m--)if(this.features[m].name===l)return this.features[m].supported;return!1},loadFeature(l){const m=this.featureModules[l],y=!m._rs_supported||m._rs_supported();c.default(`[RemoteStorage] [FEATURE ${l}] initializing ...`),typeof y=="object"?y.then(()=>{this.featureSupported(l,!0),this.initFeature(l)},()=>{this.featureSupported(l,!1)}):typeof y=="boolean"?(this.featureSupported(l,y),y&&this.initFeature(l)):this.featureSupported(l,!1)},initFeature(l){const m=this.featureModules[l];let y;try{y=m._rs_init(this)}catch(b){return void this.featureFailed(l,b)}typeof y=="object"&&typeof y.then=="function"?y.then(()=>{this.featureInitialized(l)},b=>{this.featureFailed(l,b)}):this.featureInitialized(l)},featureFailed(l,m){c.default(`[RemoteStorage] [FEATURE ${l}] initialization failed (${m})`),this.featureDone()},featureSupported(l,m){c.default(`[RemoteStorage] [FEATURE ${l}]${m?"":"not "} supported`),m||this.featureDone()},featureInitialized(l){c.default(`[RemoteStorage] [FEATURE ${l}] initialized`),this.features.push({name:l,init:this.featureModules[l]._rs_init,supported:!0,cleanup:this.featureModules[l]._rs_cleanup}),this.featureDone()},featureDone(){this.featuresDone++,this.featuresDone===Object.keys(this.featureModules).length&&setTimeout(this.featuresLoaded.bind(this),0)},_setCachingModule(){["IndexedDB","LocalStorage","InMemoryStorage"].some(l=>{if(this.features.some(m=>m.name===l))return this.features.local=this.featureModules[l],!0})},_fireReady(){try{this.readyFired||(this._emit("ready"),this.readyFired=!0)}catch(l){console.error("'ready' failed: ",l,l.stack),this._emit("error",l)}},featuresLoaded(){c.default("[RemoteStorage] All features loaded"),this._setCachingModule(),this.local=a.default.cache&&this.features.local&&new this.features.local,this.local&&this.remote?(this._setGPD(h.default,this),this._bindChange(this.local)):this.remote&&this._setGPD(this.remote,this.remote),this.remote&&(this.remote.on("connected",()=>{this._fireReady(),this._emit("connected")}),this.remote.on("not-connected",()=>{this._fireReady(),this._emit("not-connected")}),this.remote.connected&&(this._fireReady(),this._emit("connected")),this.hasFeature("Authorize")||this.remote.stopWaitingForToken()),this._collectCleanupFunctions();try{this._allLoaded=!0,this._emit("features-loaded")}catch(l){u.logError(l),this._emit("error",l)}this._processPending()},_collectCleanupFunctions(){this._cleanups=[];for(let l=0;l<this.features.length;l++){const m=this.features[l].cleanup;typeof m=="function"&&this._cleanups.push(m)}}};r.exports=R},function(r,n,i){var s=this&&this.__awaiter||function(u,h,f,p){return new(f||(f=Promise))(function(d,v){function A(B){try{C(p.next(B))}catch(U){v(U)}}function S(B){try{C(p.throw(B))}catch(U){v(U)}}function C(B){var U;B.done?d(B.value):(U=B.value,U instanceof f?U:new f(function(O){O(U)})).then(A,S)}C((p=p.apply(u,h||[])).next())})};const a=(this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}})(i(1));function o(u){return this.backend==="dropbox"&&!!u.match(/^\/public\/.*[^\/]$/)}const c={get:function(u,h){if(this.local){if(h===void 0)h=typeof(f=this).remote=="object"&&f.remote.connected&&f.remote.online?2*f.getSyncInterval():(a.default("Not setting default maxAge, because remote is offline or not connected"),!1);else if(typeof h!="number"&&h!==!1)return Promise.reject("Argument 'maxAge' must be 'false' or a number");return this.local.get(u,h,this.sync.queueGetRequest.bind(this.sync))}return this.remote.get(u);var f},put:function(u,h,f){return o.bind(this)(u)?c._wrapBusyDone.call(this,this.remote.put(u,h,f)):this.local?this.local.put(u,h,f):c._wrapBusyDone.call(this,this.remote.put(u,h,f))},delete:function(u){return this.local?this.local.delete(u):c._wrapBusyDone.call(this,this.remote.delete(u))},_wrapBusyDone:function(u){return s(this,void 0,void 0,function*(){return this._emit("wire-busy"),u.then(h=>(this._emit("wire-done",{success:!0}),Promise.resolve(h)),h=>(this._emit("wire-done",{success:!1}),Promise.reject(h)))})}};r.exports=c},function(r,n,i){var s=this&&this.__awaiter||function(q,g,R,l){return new(R||(R=Promise))(function(m,y){function b(N){try{D(l.next(N))}catch(W){y(W)}}function _(N){try{D(l.throw(N))}catch(W){y(W)}}function D(N){var W;N.done?m(N.value):(W=N.value,W instanceof R?W:new R(function(tt){tt(W)})).then(b,_)}D((l=l.apply(q,g||[])).next())})},a=this&&this.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};const o=a(i(3)),c=a(i(16)),u=a(i(2)),h=a(i(1)),f=a(i(6)),p=a(i(9)),d=a(i(4)),v=i(0);let A,S;function C(q,g,R){return{action:q,path:g,promise:R}}function B(q,g){return q.common.revision!==g&&(!q.remote||q.remote.revision!==g)}function U(q){return q.common&&q.common.revision}class O{constructor(g){this.rs=g,this._tasks={},this._running={},this._timeStarted={},this.numThreads=10,this.rs.local.onDiff(R=>{this.addTask(R),this.doTasks()}),this.rs.caching.onActivate(R=>{this.addTask(R),this.doTasks()}),this.addEvents(["done","req-done"])}now(){return new Date().getTime()}queueGetRequest(g){return new Promise((R,l)=>{this.rs.remote.connected?this.rs.remote.online?(this.addTask(g,function(){this.rs.local.get(g).then(m=>R(m))}.bind(this)),this.doTasks()):l("cannot fulfill maxAge requirement - remote is not online"):l("cannot fulfill maxAge requirement - remote is not connected")})}corruptServerItemsMap(g,R){if(typeof g!="object"||Array.isArray(g))return!0;for(const l in g){const m=g[l];if(typeof m!="object"||typeof m.ETag!="string")return!0;if(v.isFolder(l)){if(l.substring(0,l.length-1).indexOf("/")!==-1)return!0}else if(l.indexOf("/")!==-1||R&&(typeof m["Content-Type"]!="string"||typeof m["Content-Length"]!="number"))return!0}return!1}corruptItemsMap(g){if(typeof g!="object"||Array.isArray(g))return!0;for(const R in g)if(typeof g[R]!="boolean")return!0;return!1}corruptRevision(g){return typeof g!="object"||Array.isArray(g)||g.revision&&typeof g.revision!="string"||g.body&&typeof g.body!="string"&&typeof g.body!="object"||g.contentType&&typeof g.contentType!="string"||g.contentLength&&typeof g.contentLength!="number"||g.timestamp&&typeof g.timestamp!="number"||g.itemsMap&&this.corruptItemsMap(g.itemsMap)}isCorrupt(g){return typeof g!="object"||Array.isArray(g)||typeof g.path!="string"||this.corruptRevision(g.common)||g.local&&this.corruptRevision(g.local)||g.remote&&this.corruptRevision(g.remote)||g.push&&this.corruptRevision(g.push)}hasTasks(){return Object.getOwnPropertyNames(this._tasks).length>0}collectDiffTasks(){return s(this,void 0,void 0,function*(){let g=0;return this.rs.local.forAllNodes(R=>{g>100||(this.isCorrupt(R)?(h.default("[Sync] WARNING: corrupt node in local cache",R),typeof R=="object"&&R.path&&(this.addTask(R.path),g++)):(this.needsFetch(R)&&this.rs.access.checkPathPermission(R.path,"r")||v.isDocument(R.path)&&this.needsPush(R)&&this.rs.access.checkPathPermission(R.path,"rw"))&&(this.addTask(R.path),g++))}).then(()=>g).catch(R=>{throw R})})}inConflict(g){return g.local&&g.remote&&(g.remote.body!==void 0||g.remote.itemsMap)}needsRefresh(g){return!!g.common&&(!g.common.timestamp||this.now()-g.common.timestamp>o.default.syncInterval)}needsFetch(g){return!!this.inConflict(g)||!(!g.common||g.common.itemsMap!==void 0||g.common.body!==void 0)||!(!g.remote||g.remote.itemsMap!==void 0||g.remote.body!==void 0)}needsPush(g){return!this.inConflict(g)&&(!(!g.local||g.push)||void 0)}needsRemotePut(g){return g.local&&g.local.body}needsRemoteDelete(g){return g.local&&g.local.body===!1}getParentPath(g){const R=g.match(/^(.*\/)([^\/]+\/?)$/);if(R)return R[1];throw new Error('Not a valid path: "'+g+'"')}deleteChildPathsFromTasks(){for(const g in this._tasks){const R=v.pathsFromRoot(g);for(let l=1;l<R.length;l++)this._tasks[R[l]]&&(Array.isArray(this._tasks[g])&&this._tasks[g].length&&Array.prototype.push.apply(this._tasks[R[l]],this._tasks[g]),delete this._tasks[g])}}collectRefreshTasks(){return s(this,void 0,void 0,function*(){return this.rs.local.forAllNodes(g=>{let R;if(this.needsRefresh(g)){try{R=this.getParentPath(g.path)}catch{}R&&this.rs.access.checkPathPermission(R,"r")?this.addTask(R):this.rs.access.checkPathPermission(g.path,"r")&&this.addTask(g.path)}}).then(()=>this.deleteChildPathsFromTasks()).catch(g=>{throw g})})}flush(g){for(const R in g)this.rs.caching.checkPath(R)==="FLUSH"&&g[R]&&!g[R].local&&(h.default("[Sync] Flushing",R),g[R]=void 0);return g}doTask(g){return this.rs.local.getNodes([g]).then(R=>{const l=R[g];return l===void 0||function(m){return m.remote&&m.remote.revision&&!m.remote.itemsMap&&!m.remote.body}(l)?C("get",g,this.rs.remote.get(g)):this.needsRemotePut(l)?(l.push=v.deepClone(l.local),l.push.timestamp=this.now(),this.rs.local.setNodes(this.flush(R)).then(()=>{let m;return m=U(l)?{ifMatch:l.common.revision}:{ifNoneMatch:"*"},C("put",g,this.rs.remote.put(g,l.push.body,l.push.contentType,m))})):this.needsRemoteDelete(l)?(l.push={body:!1,timestamp:this.now()},this.rs.local.setNodes(this.flush(R)).then(()=>U(l)?C("delete",g,this.rs.remote.delete(g,{ifMatch:l.common.revision})):C("get",g,this.rs.remote.get(g)))):U(l)?C("get",g,this.rs.remote.get(g,{ifNoneMatch:l.common.revision})):C("get",g,this.rs.remote.get(g))})}autoMergeFolder(g){if(g.remote.itemsMap&&(g.common=g.remote,delete g.remote,g.common.itemsMap)){for(const R in g.common.itemsMap)g.local.itemsMap[R]||(g.local.itemsMap[R]=!1);v.equal(g.local.itemsMap,g.common.itemsMap)&&delete g.local}return g}autoMergeDocument(g){return function(R){return(!R.remote||!R.remote.revision||R.remote.revision===R.common.revision)&&(R.common.body===void 0&&R.remote.body===!1||R.remote.body===R.common.body&&R.remote.contentType===R.common.contentType)}(g)?delete(g=function(R){return R.remote&&R.remote.body===!1&&R.local&&R.local.body===!1&&delete R.local,R}(g)).remote:g.remote.body!==void 0&&(h.default("[Sync] Emitting keep/revert"),this.rs.local._emitChange({origin:"conflict",path:g.path,oldValue:g.local.body,newValue:g.remote.body,lastCommonValue:g.common.body,oldContentType:g.local.contentType,newContentType:g.remote.contentType,lastCommonContentType:g.common.contentType}),g.remote.body?g.common=g.remote:g.common={},delete g.remote,delete g.local),g}autoMerge(g){if(g.remote){if(g.local)return v.isFolder(g.path)?this.autoMergeFolder(g):this.autoMergeDocument(g);if(v.isFolder(g.path))g.remote.itemsMap!==void 0&&(g.common=g.remote,delete g.remote);else if(g.remote.body!==void 0){const R={origin:"remote",path:g.path,oldValue:g.common.body===!1?void 0:g.common.body,newValue:g.remote.body===!1?void 0:g.remote.body,oldContentType:g.common.contentType,newContentType:g.remote.contentType};if((R.oldValue||R.newValue)&&this.rs.local._emitChange(R),!g.remote.body)return;g.common=g.remote,delete g.remote}return g}g.common.body&&this.rs.local._emitChange({origin:"remote",path:g.path,oldValue:g.common.body,newValue:void 0,oldContentType:g.common.contentType,newContentType:void 0})}updateCommonTimestamp(g,R){return s(this,void 0,void 0,function*(){return this.rs.local.getNodes([g]).then(l=>(l[g]&&l[g].common&&l[g].common.revision===R&&(l[g].common.timestamp=this.now()),this.rs.local.setNodes(this.flush(l))))})}markChildren(g,R,l,m){return s(this,void 0,void 0,function*(){const y=[],b={},_={};for(const D in R)y.push(g+D),b[g+D]=R[D];for(const D in m)y.push(g+D);return this.rs.local.getNodes(y).then(D=>{let N,W;for(const tt in D)if(W=D[tt],b[tt])W&&W.common?B(W,b[tt].ETag)&&(l[tt]=v.deepClone(W),l[tt].remote={revision:b[tt].ETag,timestamp:this.now()},l[tt]=this.autoMerge(l[tt])):(N=this.rs.caching.checkPath(tt),N==="ALL"&&(l[tt]={path:tt,common:{timestamp:this.now()},remote:{revision:b[tt].ETag,timestamp:this.now()}})),l[tt]&&b[tt]["Content-Type"]&&(l[tt].remote.contentType=b[tt]["Content-Type"]),l[tt]&&b[tt]["Content-Length"]&&(l[tt].remote.contentLength=b[tt]["Content-Length"]);else if(m[tt.substring(g.length)]&&W&&W.common){if(W.common.itemsMap)for(const w in W.common.itemsMap)_[tt+w]=!0;if(W.local&&W.local.itemsMap)for(const w in W.local.itemsMap)_[tt+w]=!0;if(W.remote||v.isFolder(tt))l[tt]=void 0;else if(l[tt]=this.autoMerge(W),l[tt]===void 0){const w=this.getParentPath(tt),I=l[w],J=tt.substring(g.length);I&&I.local&&(delete I.local.itemsMap[J],v.equal(I.local.itemsMap,I.common.itemsMap)&&delete I.local)}}return this.deleteRemoteTrees(Object.keys(_),l).then(tt=>this.rs.local.setNodes(this.flush(tt)))})})}deleteRemoteTrees(g,R){return s(this,void 0,void 0,function*(){return g.length===0?Promise.resolve(R):this.rs.local.getNodes(g).then(l=>s(this,void 0,void 0,function*(){const m={};function y(b,_){if(b&&b.itemsMap)for(const D in b.itemsMap)m[_+D]=!0}for(const b in l){const _=l[b];_&&(v.isFolder(b)?(y(_.common,b),y(_.local,b)):_.common&&typeof _.common.body!==void 0&&(R[b]=v.deepClone(_),R[b].remote={body:!1,timestamp:this.now()},R[b]=this.autoMerge(R[b])))}return this.deleteRemoteTrees(Object.keys(m),R).then(b=>this.rs.local.setNodes(this.flush(b)))}))})}completeFetch(g,R,l,m){return s(this,void 0,void 0,function*(){let y,b;const _=v.pathsFromRoot(g);return v.isFolder(g)?y=[g]:(b=_[1],y=[g,b]),this.rs.local.getNodes(y).then(D=>{let N,W,tt=D[g];const w={};function I(J){if(J&&J.itemsMap)for(N in J.itemsMap)R[N]||(w[N]=!0)}if(typeof tt=="object"&&tt.path===g&&typeof tt.common=="object"||(tt={path:g,common:{}},D[g]=tt),tt.remote={revision:m,timestamp:this.now()},v.isFolder(g))for(N in I(tt.common),I(tt.remote),tt.remote.itemsMap={},R)tt.remote.itemsMap[N]=!0;else tt.remote.body=R,tt.remote.contentType=l,W=D[b],W&&W.local&&W.local.itemsMap&&(N=g.substring(b.length),W.local.itemsMap[N]=!0,v.equal(W.local.itemsMap,W.common.itemsMap)&&delete W.local);return D[g]=this.autoMerge(tt),{toBeSaved:D,missingChildren:w}})})}completePush(g,R,l,m){return s(this,void 0,void 0,function*(){return this.rs.local.getNodes([g]).then(y=>{const b=y[g];if(!b.push)throw this.stopped=!0,new Error("completePush called but no push version!");return l?(h.default("[Sync] We have a conflict"),b.remote&&b.remote.revision===m||(b.remote={revision:m||"conflict",timestamp:this.now()},delete b.push),y[g]=this.autoMerge(b)):(b.common={revision:m,timestamp:this.now()},R==="put"?(b.common.body=b.push.body,b.common.contentType=b.push.contentType,v.equal(b.local.body,b.push.body)&&b.local.contentType===b.push.contentType&&delete b.local,delete b.push):R==="delete"&&(b.local.body===!1?y[g]=void 0:delete b.push)),this.rs.local.setNodes(this.flush(y))})})}dealWithFailure(g){return s(this,void 0,void 0,function*(){return this.rs.local.getNodes([g]).then(R=>{if(R[g])return delete R[g].push,this.rs.local.setNodes(this.flush(R))})})}interpretStatus(g){const R={statusCode:g,successful:void 0,conflict:void 0,unAuth:void 0,notFound:void 0,changed:void 0,networkProblems:void 0};if(typeof g=="string"&&(g==="offline"||g==="timeout"))return R.successful=!1,R.networkProblems=!0,R;if(typeof g=="number"){const l=Math.floor(g/100);return R.successful=l===2||g===304||g===412||g===404,R.conflict=g===412,R.unAuth=g===401&&this.rs.remote.token!==f.default.IMPLIED_FAKE_TOKEN||g===402||g===403,R.notFound=g===404,R.changed=g!==304,R}}handleGetResponse(g,R,l,m,y){return s(this,void 0,void 0,function*(){return R.notFound&&(l=!!v.isFolder(g)&&{}),R.changed?this.completeFetch(g,l,m,y).then(b=>v.isFolder(g)?this.corruptServerItemsMap(l)?(h.default("[Sync] WARNING: Discarding corrupt folder description from server for "+g),!1):this.markChildren(g,l,b.toBeSaved,b.missingChildren).then(()=>!0):this.rs.local.setNodes(this.flush(b.toBeSaved)).then(()=>!0)):this.updateCommonTimestamp(g,y).then(()=>!0)})}handleResponse(g,R,l){const m=this.interpretStatus(l.statusCode);if(m.successful){if(R==="get")return this.handleGetResponse(g,m,l.body,l.contentType,l.revision);if(R==="put"||R==="delete")return this.completePush(g,R,m.conflict,l.revision).then(function(){return!0});throw new Error("cannot handle response for unknown action "+R)}{let y;return y=m.unAuth?new d.default:m.networkProblems?new p.default("Network request failed."):new Error("HTTP response code "+m.statusCode+" received."),this.dealWithFailure(g).then(()=>{throw this.rs._emit("error",y),y})}}finishTask(g){if(g.action!==void 0)return g.promise.then(R=>this.handleResponse(g.path,g.action,R),R=>(h.default("[Sync] wireclient rejects its promise!",g.path,g.action,R),this.handleResponse(g.path,g.action,{statusCode:"offline"}))).then(R=>{if(delete this._timeStarted[g.path],delete this._running[g.path],R&&this._tasks[g.path]){for(let l=0;l<this._tasks[g.path].length;l++)this._tasks[g.path][l]();delete this._tasks[g.path]}this.rs._emit("sync-req-done"),this.collectTasks(!1).then(()=>{!this.hasTasks()||this.stopped?(h.default("[Sync] Sync is done! Reschedule?",Object.getOwnPropertyNames(this._tasks).length,this.stopped),this.done||(this.done=!0,this.rs._emit("sync-done"))):setTimeout(()=>{this.doTasks()},10)})},R=>{h.default("[Sync] Error",R),delete this._timeStarted[g.path],delete this._running[g.path],this.rs._emit("sync-req-done"),this.done||(this.done=!0,this.rs._emit("sync-done"))});delete this._running[g.path]}doTasks(){let g,R,l=0;g=this.rs.remote.connected?this.rs.remote.online?this.numThreads:1:0;const m=g-Object.getOwnPropertyNames(this._running).length;if(m<=0)return!0;for(R in this._tasks)if(!this._running[R]&&(this._timeStarted[R]=this.now(),this._running[R]=this.doTask(R),this._running[R].then(this.finishTask.bind(this)),l++,l>=m))return!0;return l>=m}collectTasks(g){return s(this,void 0,void 0,function*(){return this.hasTasks()||this.stopped?Promise.resolve():this.collectDiffTasks().then(R=>R||g===!1?Promise.resolve():this.collectRefreshTasks(),function(R){throw R})})}addTask(g,R){this._tasks[g]||(this._tasks[g]=[]),typeof R=="function"&&this._tasks[g].push(R)}sync(){return this.done=!1,this.doTasks()?Promise.resolve():this.collectTasks().then(()=>{try{this.doTasks()}catch(g){h.default("[Sync] doTasks error",g)}},function(g){throw h.default("[Sync] Sync error",g),new Error("Local cache unavailable")})}static _rs_init(g){A=function(){h.default("[Sync] syncCycleCb calling syncCycle");const R=new c.default;R.isBrowser()&&function(l,m){function y(b){const _=m.getCurrentSyncInterval();o.default.isBackground=!b;const D=m.getCurrentSyncInterval();m._emit("sync-interval-change",{oldValue:_,newValue:D})}l.on("background",()=>y(!1)),l.on("foreground",()=>y(!0))}(R,g),g.sync||(g.sync=new O(g),g.syncStopped&&(h.default("[Sync] Instantiating sync stopped"),g.sync.stopped=!0,delete g.syncStopped)),h.default("[Sync] syncCycleCb calling syncCycle"),g.syncCycle()},S=function(){g.removeEventListener("connected",S),g.startSync()},g.on("ready",A),g.on("connected",S)}static _rs_cleanup(g){g.stopSync(),g.removeEventListener("ready",A),g.removeEventListener("connected",S),g.sync=void 0,delete g.sync}}v.applyMixins(O,[u.default]),r.exports=O},function(r,n,i){(function(s){var a=this&&this.__awaiter||function(v,A,S,C){return new(S||(S=Promise))(function(B,U){function O(R){try{g(C.next(R))}catch(l){U(l)}}function q(R){try{g(C.throw(R))}catch(l){U(l)}}function g(R){var l;R.done?B(R.value):(l=R.value,l instanceof S?l:new S(function(m){m(l)})).then(O,q)}g((C=C.apply(v,A||[])).next())})},o=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};const c=o(i(2)),u=o(i(10)),h=o(i(1)),f=i(0);let p;class d extends u.default{constructor(A){super(),this.addEvents(["change","local-events-done"]),this.db=A||p,this.db?(this.getsRunning=0,this.putsRunning=0,this.changesQueued={},this.changesRunning={},this.commitSlownessWarning=null):h.default("[IndexedDB] Failed to open DB")}getNodes(A){return a(this,void 0,void 0,function*(){const S=[],C={};for(let B=0,U=A.length;B<U;B++)this.changesQueued[A[B]]!==void 0?C[A[B]]=f.deepClone(this.changesQueued[A[B]]||void 0):this.changesRunning[A[B]]!==void 0?C[A[B]]=f.deepClone(this.changesRunning[A[B]]||void 0):S.push(A[B]);return S.length>0?this.getNodesFromDb(S).then(function(B){for(const U in C)B[U]=C[U];return B}):Promise.resolve(C)})}setNodes(A){return a(this,void 0,void 0,function*(){for(const S in A)this.changesQueued[S]=A[S]||!1;return this.maybeFlush(),Promise.resolve()})}maybeFlush(){this.putsRunning===0?this.flushChangesQueued():this.commitSlownessWarning||(this.commitSlownessWarning=s.setInterval(function(){console.warn("WARNING: waited more than 10 seconds for previous commit to finish")},1e4))}flushChangesQueued(){this.commitSlownessWarning&&(clearInterval(this.commitSlownessWarning),this.commitSlownessWarning=null),Object.keys(this.changesQueued).length>0&&(this.changesRunning=this.changesQueued,this.changesQueued={},this.setNodesInDb(this.changesRunning).then(this.flushChangesQueued.bind(this)))}getNodesFromDb(A){return new Promise((S,C)=>{const B=this.db.transaction(["nodes"],"readonly"),U=B.objectStore("nodes"),O={};this.getsRunning++,A.map(q=>{U.get(q).onsuccess=g=>{O[q]=g.target.result}}),B.oncomplete=()=>{S(O),this.getsRunning--},B.onerror=B.onabort=()=>{C("get transaction error/abort"),this.getsRunning--}})}setNodesInDb(A){return a(this,void 0,void 0,function*(){return new Promise((S,C)=>{const B=this.db.transaction(["nodes"],"readwrite"),U=B.objectStore("nodes"),O=new Date().getTime();this.putsRunning++,h.default("[IndexedDB] Starting put",A,this.putsRunning);for(const q in A){const g=A[q];if(typeof g=="object")try{U.put(g)}catch(R){throw h.default("[IndexedDB] Error while putting",g,R),R}else try{U.delete(q)}catch(R){throw h.default("[IndexedDB] Error while removing",U,g,R),R}}B.oncomplete=()=>{this.putsRunning--,h.default("[IndexedDB] Finished put",A,this.putsRunning,new Date().getTime()-O+"ms"),S()},B.onerror=()=>{this.putsRunning--,C("transaction error")},B.onabort=()=>{C("transaction abort"),this.putsRunning--}})})}reset(A){const S=this.db.name;this.db.close(),d.clean(this.db.name,()=>{d.open(S,(C,B)=>{C?h.default("[IndexedDB] Error while resetting local storage",C):this.db=B,typeof A=="function"&&A(self)})})}forAllNodes(A){return a(this,void 0,void 0,function*(){return new Promise(S=>{this.db.transaction(["nodes"],"readonly").objectStore("nodes").openCursor().onsuccess=C=>{const B=C.target.result;B?(A(this.migrate(B.value)),B.continue()):S()}})})}closeDB(){this.putsRunning===0?this.db.close():setTimeout(this.closeDB.bind(this),100)}static open(A,S){const C=setTimeout(function(){S("timeout trying to open db")},1e4);try{const B=indexedDB.open(A,2);B.onerror=function(){h.default("[IndexedDB] Opening DB failed",B),clearTimeout(C),S(B.error)},B.onupgradeneeded=function(U){const O=B.result;h.default("[IndexedDB] Upgrade: from ",U.oldVersion," to ",U.newVersion),U.oldVersion!==1&&(h.default("[IndexedDB] Creating object store: nodes"),O.createObjectStore("nodes",{keyPath:"path"})),h.default("[IndexedDB] Creating object store: changes"),O.createObjectStore("changes",{keyPath:"path"})},B.onsuccess=function(){clearTimeout(C);const U=B.result;if(!U.objectStoreNames.contains("nodes")||!U.objectStoreNames.contains("changes"))return h.default("[IndexedDB] Missing object store. Resetting the database."),void d.clean(A,function(){d.open(A,S)});S(null,B.result)}}catch(B){h.default("[IndexedDB] Failed to open database: "+B),h.default("[IndexedDB] Resetting database and trying again."),clearTimeout(C),d.clean(A,function(){d.open(A,S)})}}static clean(A,S){const C=indexedDB.deleteDatabase(A);C.onsuccess=function(){h.default("[IndexedDB] Done removing DB"),S()},C.onerror=C.onabort=function(B){console.error('Failed to remove database "'+A+'"',B)}}static _rs_init(A){return new Promise((S,C)=>{d.open("remotestorage",function(B,U){B?C(B):(p=U,U.onerror=()=>{A._emit("error",B)},S())})})}static _rs_supported(){return new Promise((A,S)=>{const C=f.getGlobalContext();let B=!1;if(typeof navigator!="undefined"&&navigator.userAgent.match(/Android (2|3|4\.[0-3])/)&&(navigator.userAgent.match(/Chrome|Firefox/)||(B=!0)),"indexedDB"in C&&!B)try{const U=indexedDB.open("rs-check");U.onerror=function(){S()},U.onsuccess=function(){U.result.close(),indexedDB.deleteDatabase("rs-check"),A()}}catch{S()}else S()})}static _rs_cleanup(A){return new Promise(S=>{A.local&&A.local.closeDB(),d.clean("remotestorage",S)})}diffHandler(){}}f.applyMixins(d,[c.default]),r.exports=d}).call(this,i(5))},function(r,n,i){var s=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};const a=s(i(10)),o=s(i(2)),c=s(i(1)),u=i(0),h="remotestorage:cache:nodes:";function f(d){return d.substr(0,h.length)===h||d.substr(0,28)==="remotestorage:cache:changes:"}class p extends a.default{constructor(){super(),this.addEvents(["change","local-events-done"])}diffHandler(...v){}getNodes(v){const A={};for(let S=0,C=v.length;S<C;S++)try{A[v[S]]=JSON.parse(localStorage[h+v[S]])}catch{A[v[S]]=void 0}return Promise.resolve(A)}setNodes(v){for(const A in v)localStorage[h+A]=JSON.stringify(v[A]);return Promise.resolve()}forAllNodes(v){let A;for(let S=0,C=localStorage.length;S<C;S++)if(localStorage.key(S).substr(0,h.length)===h){try{A=this.migrate(JSON.parse(localStorage[localStorage.key(S)]))}catch{A=void 0}A&&v(A)}return Promise.resolve()}static _rs_init(){}static _rs_supported(){return u.localStorageAvailable()}static _rs_cleanup(){const v=[];for(let A=0,S=localStorage.length;A<S;A++){const C=localStorage.key(A);f(C)&&v.push(C)}v.forEach(A=>{c.default("[LocalStorage] Removing",A),delete localStorage[A]})}}u.applyMixins(p,[o.default]),r.exports=p},function(r,n,i){var s=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};const a=s(i(2)),o=s(i(10)),c=i(0);class u extends o.default{constructor(){super(),this._storage={},this.addEvents(["change","local-events-done"])}getNodes(f){const p={};for(let d=0,v=f.length;d<v;d++)p[f[d]]=this._storage[f[d]];return Promise.resolve(p)}setNodes(f){for(const p in f)f[p]===void 0?delete this._storage[p]:this._storage[p]=f[p];return Promise.resolve()}forAllNodes(f){for(const p in this._storage)f(this.migrate(this._storage[p]));return Promise.resolve()}diffHandler(){}static _rs_init(){}static _rs_supported(){return!0}static _rs_cleanup(){}}c.applyMixins(u,[a.default]),r.exports=u}])})})(Xh);var S3=A3(Xh.exports);const Pn=new S3;Pn.setApiKeys({dropbox:v3,googledrive:w3});/*! OpenPGP.js v5.3.0 - 2022-06-08 - this is LGPL licensed code, see LICENSE/our website https://openpgpjs.org/ for more information. */const Ar=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},hs=Symbol("doneWritingPromise"),Zh=Symbol("doneWritingResolve"),Qh=Symbol("doneWritingReject"),Fs=Symbol("readingIndex");class fn extends Array{constructor(){super(),this[hs]=new Promise((t,r)=>{this[Zh]=t,this[Qh]=r}),this[hs].catch(()=>{})}}function xe(e){return e&&e.getReader&&Array.isArray(e)}function Vs(e){if(!xe(e)){const t=e.getWriter(),r=t.releaseLock;return t.releaseLock=()=>{t.closed.catch(function(){}),r.call(t)},t}this.stream=e}fn.prototype.getReader=function(){return this[Fs]===void 0&&(this[Fs]=0),{read:async()=>(await this[hs],this[Fs]===this.length?{value:void 0,done:!0}:{value:this[this[Fs]++],done:!1})}},fn.prototype.readToEnd=async function(e){await this[hs];const t=e(this.slice(this[Fs]));return this.length=0,t},fn.prototype.clone=function(){const e=new fn;return e[hs]=this[hs].then(()=>{e.push(...this)}),e},Vs.prototype.write=async function(e){this.stream.push(e)},Vs.prototype.close=async function(){this.stream[Zh]()},Vs.prototype.abort=async function(e){return this.stream[Qh](e),e},Vs.prototype.releaseLock=function(){};const _c=typeof Ar.process=="object"&&typeof Ar.process.versions=="object",P1=_c&&void 0;function yr(e){return xe(e)?"array":Ar.ReadableStream&&Ar.ReadableStream.prototype.isPrototypeOf(e)?"web":$n&&$n.prototype.isPrototypeOf(e)?"ponyfill":P1&&P1.prototype.isPrototypeOf(e)?"node":!(!e||!e.getReader)&&"web-like"}function Ac(e){return Uint8Array.prototype.isPrototypeOf(e)}function tf(e){if(e.length===1)return e[0];let t=0;for(let i=0;i<e.length;i++){if(!Ac(e[i]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");t+=e[i].length}const r=new Uint8Array(t);let n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}const E3=_c&&void 0,x1=_c&&void 0;let Sc,A0;if(x1){Sc=function(t){let r=!1;return new $n({start(n){t.pause(),t.on("data",i=>{r||(E3.isBuffer(i)&&(i=new Uint8Array(i.buffer,i.byteOffset,i.byteLength)),n.enqueue(i),t.pause())}),t.on("end",()=>{r||n.close()}),t.on("error",i=>n.error(i))},pull(){t.resume()},cancel(n){r=!0,t.destroy(n)}})};class e extends x1{constructor(r,n){super(n),this._reader=xn(r)}async _read(r){try{for(;;){const{done:n,value:i}=await this._reader.read();if(n){this.push(null);break}if(!this.push(i)||this._cancelling){this._reading=!1;break}}}catch(n){this.emit("error",n)}}_destroy(r){this._reader.cancel(r)}}A0=function(t,r){return new e(t,r)}}const M1=new WeakSet,ge=Symbol("externalBuffer");function rn(e){if(this.stream=e,e[ge]&&(this[ge]=e[ge].slice()),xe(e)){const n=e.getReader();return this._read=n.read.bind(n),this._releaseLock=()=>{},void(this._cancel=()=>{})}let t=yr(e);if(t==="node"&&(e=Sc(e)),t){const n=e.getReader();return this._read=n.read.bind(n),this._releaseLock=()=>{n.closed.catch(function(){}),n.releaseLock()},void(this._cancel=n.cancel.bind(n))}let r=!1;this._read=async()=>r||M1.has(e)?{value:void 0,done:!0}:(r=!0,{value:e,done:!1}),this._releaseLock=()=>{if(r)try{M1.add(e)}catch{}}}rn.prototype.read=async function(){return this[ge]&&this[ge].length?{done:!1,value:this[ge].shift()}:this._read()},rn.prototype.releaseLock=function(){this[ge]&&(this.stream[ge]=this[ge]),this._releaseLock()},rn.prototype.cancel=function(e){return this._cancel(e)},rn.prototype.readLine=async function(){let e,t=[];for(;!e;){let{done:r,value:n}=await this.read();if(n+="",r)return t.length?pr(t):void 0;const i=n.indexOf(`
`)+1;i&&(e=pr(t.concat(n.substr(0,i))),t=[]),i!==n.length&&t.push(n.substr(i))}return this.unshift(...t),e},rn.prototype.readByte=async function(){const{done:e,value:t}=await this.read();if(e)return;const r=t[0];return this.unshift(He(t,1)),r},rn.prototype.readBytes=async function(e){const t=[];let r=0;for(;;){const{done:n,value:i}=await this.read();if(n)return t.length?pr(t):void 0;if(t.push(i),r+=i.length,r>=e){const s=pr(t);return this.unshift(He(s,e)),He(s,0,e)}}},rn.prototype.peekBytes=async function(e){const t=await this.readBytes(e);return this.unshift(t),t},rn.prototype.unshift=function(...e){this[ge]||(this[ge]=[]),e.length===1&&Ac(e[0])&&this[ge].length&&e[0].length&&this[ge][0].byteOffset>=e[0].length?this[ge][0]=new Uint8Array(this[ge][0].buffer,this[ge][0].byteOffset-e[0].length,this[ge][0].byteLength+e[0].length):this[ge].unshift(...e.filter(t=>t&&t.length))},rn.prototype.readToEnd=async function(e=pr){const t=[];for(;;){const{done:r,value:n}=await this.read();if(r)break;t.push(n)}return e(t)};let Bu,ef,{ReadableStream:$n,WritableStream:rf,TransformStream:Ss}=Ar;async function nf(){if(Ss)return;const[e,t]=await Promise.all([Promise.resolve().then(function(){return r6}),Promise.resolve().then(function(){return o6})]);({ReadableStream:$n,WritableStream:rf,TransformStream:Ss}=e);const{createReadableStreamWrapper:r}=t;Ar.ReadableStream&&$n!==Ar.ReadableStream&&(Bu=r($n),ef=r(Ar.ReadableStream))}const la=_c&&void 0;function Fa(e){let t=yr(e);return t==="node"?Sc(e):t==="web"&&Bu?Bu(e):t?e:new $n({start(r){r.enqueue(e),r.close()}})}function sf(e){if(yr(e))return e;const t=new fn;return(async()=>{const r=br(t);await r.write(e),await r.close()})(),t}function pr(e){return e.some(t=>yr(t)&&!xe(t))?function(t){t=t.map(Fa);const r=of(async function(s){await Promise.all(i.map(a=>zu(a,s)))});let n=Promise.resolve();const i=t.map((s,a)=>Wn(s,(o,c)=>(n=n.then(()=>Ai(o,r.writable,{preventClose:a!==t.length-1})),n)));return r.readable}(e):e.some(t=>xe(t))?function(t){const r=new fn;let n=Promise.resolve();return t.forEach((i,s)=>(n=n.then(()=>Ai(i,r,{preventClose:s!==t.length-1})),n)),r}(e):typeof e[0]=="string"?e.join(""):la&&la.isBuffer(e[0])?la.concat(e):tf(e)}function xn(e){return new rn(e)}function br(e){return new Vs(e)}async function Ai(e,t,{preventClose:r=!1,preventAbort:n=!1,preventCancel:i=!1}={}){if(yr(e)&&!xe(e)){e=Fa(e);try{if(e[ge]){const o=br(t);for(let c=0;c<e[ge].length;c++)await o.ready,await o.write(e[ge][c]);o.releaseLock()}await e.pipeTo(t,{preventClose:r,preventAbort:n,preventCancel:i})}catch{}return}const s=xn(e=sf(e)),a=br(t);try{for(;;){await a.ready;const{done:o,value:c}=await s.read();if(o){r||await a.close();break}await a.write(c)}}catch(o){n||await a.abort(o)}finally{s.releaseLock(),a.releaseLock()}}function af(e,t){const r=new Ss(t);return Ai(e,r.writable),r.readable}function of(e){let t,r,n=!1;return{readable:new $n({start(i){r=i},pull(){t?t():n=!0},cancel:e},{highWaterMark:0}),writable:new rf({write:async function(i){r.enqueue(i),n?n=!1:(await new Promise(s=>{t=s}),t=null)},close:r.close.bind(r),abort:r.error.bind(r)})}}function Se(e,t=()=>{},r=()=>{}){if(xe(e)){const s=new fn;return(async()=>{const a=await Ce(e),o=t(a),c=r();let u;u=o!==void 0&&c!==void 0?pr([o,c]):o!==void 0?o:c;const h=br(s);await h.write(u),await h.close()})(),s}if(yr(e))return af(e,{async transform(s,a){try{const o=await t(s);o!==void 0&&a.enqueue(o)}catch(o){a.error(o)}},async flush(s){try{const a=await r();a!==void 0&&s.enqueue(a)}catch(a){s.error(a)}}});const n=t(e),i=r();return n!==void 0&&i!==void 0?pr([n,i]):n!==void 0?n:i}function Wn(e,t){if(yr(e)&&!xe(e)){let n;const i=new Ss({start(o){n=o}}),s=Ai(e,i.writable),a=of(async function(o){n.error(o),await s,await new Promise(setTimeout)});return t(i.readable,a.writable),a.readable}e=sf(e);const r=new fn;return t(e,r),r}function Ec(e,t){let r;const n=Wn(e,(i,s)=>{const a=xn(i);a.remainder=()=>(a.releaseLock(),Ai(i,s),n),r=t(a)});return r}function Vi(e){if(xe(e))return e.clone();if(yr(e)){const t=function(r){if(xe(r))throw Error("ArrayStream cannot be tee()d, use clone() instead");if(yr(r)){const n=Fa(r).tee();return n[0][ge]=n[1][ge]=r[ge],n}return[He(r),He(r)]}(e);return cf(e,t[0]),t[1]}return He(e)}function gs(e){return xe(e)?Vi(e):yr(e)?new $n({start(t){const r=Wn(e,async(n,i)=>{const s=xn(n),a=br(i);try{for(;;){await a.ready;const{done:o,value:c}=await s.read();if(o){try{t.close()}catch{}return void await a.close()}try{t.enqueue(c)}catch{}await a.write(c)}}catch(o){t.error(o),await a.abort(o)}});cf(e,r)}}):He(e)}function cf(e,t){Object.entries(Object.getOwnPropertyDescriptors(e.constructor.prototype)).forEach(([r,n])=>{r!=="constructor"&&(n.value?n.value=n.value.bind(t):n.get=n.get.bind(t),Object.defineProperty(e,r,n))})}function He(e,t=0,r=1/0){if(xe(e))throw Error("Not implemented");if(yr(e)){if(t>=0&&r>=0){let n=0;return af(e,{transform(i,s){n<r?(n+i.length>=t&&s.enqueue(He(i,Math.max(t-n,0),r-n)),n+=i.length):s.terminate()}})}if(t<0&&(r<0||r===1/0)){let n=[];return Se(e,i=>{i.length>=-t?n=[i]:n.push(i)},()=>He(pr(n),t,r))}if(t===0&&r<0){let n;return Se(e,i=>{const s=n?pr([n,i]):i;if(s.length>=-r)return n=He(s,r),He(s,t,r);n=s})}return console.warn(`stream.slice(input, ${t}, ${r}) not implemented efficiently.`),xi(async()=>He(await Ce(e),t,r))}return e[ge]&&(e=pr(e[ge].concat([e]))),!Ac(e)||la&&la.isBuffer(e)?e.slice(t,r):(r===1/0&&(r=e.length),e.subarray(t,r))}async function Ce(e,t=pr){return xe(e)?e.readToEnd(t):yr(e)?xn(e).readToEnd(t):e}async function zu(e,t){if(yr(e)){if(e.cancel)return e.cancel(t);if(e.destroy)return e.destroy(t),await new Promise(setTimeout),t}}function xi(e){const t=new fn;return(async()=>{const r=br(t);try{await r.write(await e()),await r.close()}catch(n){await r.abort(n)}})(),t}class nr{constructor(t){if(t===void 0)throw Error("Invalid BigInteger input");if(t instanceof Uint8Array){const r=t,n=Array(r.length);for(let i=0;i<r.length;i++){const s=r[i].toString(16);n[i]=r[i]<=15?"0"+s:s}this.value=BigInt("0x0"+n.join(""))}else this.value=BigInt(t)}clone(){return new nr(this.value)}iinc(){return this.value++,this}inc(){return this.clone().iinc()}idec(){return this.value--,this}dec(){return this.clone().idec()}iadd(t){return this.value+=t.value,this}add(t){return this.clone().iadd(t)}isub(t){return this.value-=t.value,this}sub(t){return this.clone().isub(t)}imul(t){return this.value*=t.value,this}mul(t){return this.clone().imul(t)}imod(t){return this.value%=t.value,this.isNegative()&&this.iadd(t),this}mod(t){return this.clone().imod(t)}modExp(t,r){if(r.isZero())throw Error("Modulo cannot be zero");if(r.isOne())return new nr(0);if(t.isNegative())throw Error("Unsopported negative exponent");let n=t.value,i=this.value;i%=r.value;let s=BigInt(1);for(;n>BigInt(0);){const a=n&BigInt(1);n>>=BigInt(1);const o=s*i%r.value;s=a?o:s,i=i*i%r.value}return new nr(s)}modInv(t){const{gcd:r,x:n}=this._egcd(t);if(!r.isOne())throw Error("Inverse does not exist");return n.add(t).mod(t)}_egcd(t){let r=BigInt(0),n=BigInt(1),i=BigInt(1),s=BigInt(0),a=this.value;for(t=t.value;t!==BigInt(0);){const o=a/t;let c=r;r=i-o*r,i=c,c=n,n=s-o*n,s=c,c=t,t=a%t,a=c}return{x:new nr(i),y:new nr(s),gcd:new nr(a)}}gcd(t){let r=this.value;for(t=t.value;t!==BigInt(0);){const n=t;t=r%t,r=n}return new nr(r)}ileftShift(t){return this.value<<=t.value,this}leftShift(t){return this.clone().ileftShift(t)}irightShift(t){return this.value>>=t.value,this}rightShift(t){return this.clone().irightShift(t)}equal(t){return this.value===t.value}lt(t){return this.value<t.value}lte(t){return this.value<=t.value}gt(t){return this.value>t.value}gte(t){return this.value>=t.value}isZero(){return this.value===BigInt(0)}isOne(){return this.value===BigInt(1)}isNegative(){return this.value<BigInt(0)}isEven(){return!(this.value&BigInt(1))}abs(){const t=this.clone();return this.isNegative()&&(t.value=-t.value),t}toString(){return this.value.toString()}toNumber(){const t=Number(this.value);if(t>Number.MAX_SAFE_INTEGER)throw Error("Number can only safely store up to 53 bits");return t}getBit(t){return(this.value>>BigInt(t)&BigInt(1))===BigInt(0)?0:1}bitLength(){const t=new nr(0),r=new nr(1),n=new nr(-1),i=this.isNegative()?n:t;let s=1;const a=this.clone();for(;!a.irightShift(r).equal(i);)s++;return s}byteLength(){const t=new nr(0),r=new nr(-1),n=this.isNegative()?r:t,i=new nr(8);let s=1;const a=this.clone();for(;!a.irightShift(i).equal(n);)s++;return s}toUint8Array(t="be",r){let n=this.value.toString(16);n.length%2==1&&(n="0"+n);const i=n.length/2,s=new Uint8Array(r||i),a=r?r-i:0;let o=0;for(;o<i;)s[o+a]=parseInt(n.slice(2*o,2*o+2),16),o++;return t!=="be"&&s.reverse(),s}}const T1=(()=>{try{return!1}catch{}return!1})(),V={isString:function(e){return typeof e=="string"||String.prototype.isPrototypeOf(e)},isArray:function(e){return Array.prototype.isPrototypeOf(e)},isUint8Array:Ac,isStream:yr,readNumber:function(e){let t=0;for(let r=0;r<e.length;r++)t+=256**r*e[e.length-1-r];return t},writeNumber:function(e,t){const r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e>>8*(t-n-1)&255;return r},readDate:function(e){const t=V.readNumber(e);return new Date(1e3*t)},writeDate:function(e){const t=Math.floor(e.getTime()/1e3);return V.writeNumber(t,4)},normalizeDate:function(e=Date.now()){return e===null||e===1/0?e:new Date(1e3*Math.floor(+e/1e3))},readMPI:function(e){const t=(e[0]<<8|e[1])+7>>>3;return e.subarray(2,2+t)},leftPad(e,t){const r=new Uint8Array(t),n=t-e.length;return r.set(e,n),r},uint8ArrayToMPI:function(e){const t=V.uint8ArrayBitLength(e);if(t===0)throw Error("Zero MPI");const r=e.subarray(e.length-Math.ceil(t/8)),n=new Uint8Array([(65280&t)>>8,255&t]);return V.concatUint8Array([n,r])},uint8ArrayBitLength:function(e){let t;for(t=0;t<e.length&&e[t]===0;t++);if(t===e.length)return 0;const r=e.subarray(t);return 8*(r.length-1)+V.nbits(r[0])},hexToUint8Array:function(e){const t=new Uint8Array(e.length>>1);for(let r=0;r<e.length>>1;r++)t[r]=parseInt(e.substr(r<<1,2),16);return t},uint8ArrayToHex:function(e){const t=[],r=e.length;let n,i=0;for(;i<r;){for(n=e[i++].toString(16);n.length<2;)n="0"+n;t.push(""+n)}return t.join("")},stringToUint8Array:function(e){return Se(e,t=>{if(!V.isString(t))throw Error("stringToUint8Array: Data must be in the form of a string");const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r})},uint8ArrayToString:function(e){const t=[],n=(e=new Uint8Array(e)).length;for(let i=0;i<n;i+=16384)t.push(String.fromCharCode.apply(String,e.subarray(i,i+16384<n?i+16384:n)));return t.join("")},encodeUTF8:function(e){const t=new TextEncoder("utf-8");function r(n,i=!1){return t.encode(n,{stream:!i})}return Se(e,r,()=>r("",!0))},decodeUTF8:function(e){const t=new TextDecoder("utf-8");function r(n,i=!1){return t.decode(n,{stream:!i})}return Se(e,r,()=>r(new Uint8Array,!0))},concat:pr,concatUint8Array:tf,equalsUint8Array:function(e,t){if(!V.isUint8Array(e)||!V.isUint8Array(t))throw Error("Data must be in the form of a Uint8Array");if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},writeChecksum:function(e){let t=0;for(let r=0;r<e.length;r++)t=t+e[r]&65535;return V.writeNumber(t,2)},printDebug:function(e){T1&&console.log(e)},printDebugError:function(e){T1&&console.error(e)},nbits:function(e){let t=1,r=e>>>16;return r!==0&&(e=r,t+=16),r=e>>8,r!==0&&(e=r,t+=8),r=e>>4,r!==0&&(e=r,t+=4),r=e>>2,r!==0&&(e=r,t+=2),r=e>>1,r!==0&&(e=r,t+=1),t},double:function(e){const t=new Uint8Array(e.length),r=e.length-1;for(let n=0;n<r;n++)t[n]=e[n]<<1^e[n+1]>>7;return t[r]=e[r]<<1^135*(e[0]>>7),t},shiftRight:function(e,t){if(t)for(let r=e.length-1;r>=0;r--)e[r]>>=t,r>0&&(e[r]|=e[r-1]<<8-t);return e},getWebCrypto:function(){return Ar!==void 0&&Ar.crypto&&Ar.crypto.subtle},detectBigInt:()=>typeof BigInt!="undefined",getBigInteger:async function(){if(V.detectBigInt())return nr;{const{default:e}=await Promise.resolve().then(function(){return c6});return e}},getNodeCrypto:function(){},getNodeZlib:function(){},getNodeBuffer:function(){return{}.Buffer},getHardwareConcurrency:function(){return typeof navigator!="undefined"?navigator.hardwareConcurrency||1:(void 0).cpus().length},isEmailAddress:function(e){return V.isString(e)?/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}|xn--[a-zA-Z\-0-9]+)))$/.test(e):!1},canonicalizeEOL:function(e){let t=!1;return Se(e,r=>{let n;t&&(r=V.concatUint8Array([new Uint8Array([13]),r])),r[r.length-1]===13?(t=!0,r=r.subarray(0,-1)):t=!1;const i=[];for(let o=0;n=r.indexOf(10,o)+1,n;o=n)r[n-2]!==13&&i.push(n);if(!i.length)return r;const s=new Uint8Array(r.length+i.length);let a=0;for(let o=0;o<i.length;o++){const c=r.subarray(i[o-1]||0,i[o]);s.set(c,a),a+=c.length,s[a-1]=13,s[a]=10,a++}return s.set(r.subarray(i[i.length-1]||0),a),s},()=>t?new Uint8Array([13]):void 0)},nativeEOL:function(e){let t=!1;return Se(e,r=>{let n;(r=t&&r[0]!==10?V.concatUint8Array([new Uint8Array([13]),r]):new Uint8Array(r))[r.length-1]===13?(t=!0,r=r.subarray(0,-1)):t=!1;let i=0;for(let s=0;s!==r.length;s=n){n=r.indexOf(13,s)+1,n||(n=r.length);const a=n-(r[n]===10?1:0);s&&r.copyWithin(i,s,a),i+=a-s}return r.subarray(0,i)},()=>t?new Uint8Array([13]):void 0)},removeTrailingSpaces:function(e){return e.split(`
`).map(t=>{let r=t.length-1;for(;r>=0&&(t[r]===" "||t[r]==="	");r--);return t.substr(0,r+1)}).join(`
`)},wrapError:function(e,t){if(!t)return Error(e);try{t.message=e+": "+t.message}catch{}return t},constructAllowedPackets:function(e){const t={};return e.forEach(r=>{if(!r.tag)throw Error("Invalid input: expected a packet class");t[r.tag]=r}),t},anyPromise:function(e){return new Promise(async(t,r)=>{let n;await Promise.all(e.map(async i=>{try{t(await i)}catch(s){n=s}})),r(n)})},selectUint8Array:function(e,t,r){const n=Math.max(t.length,r.length),i=new Uint8Array(n);let s=0;for(let a=0;a<i.length;a++)i[a]=t[a]&256-e|r[a]&255+e,s+=e&a<t.length|1-e&a<r.length;return i.subarray(0,s)},selectUint8:function(e,t,r){return t&256-e|r&255+e}},tu=V.getNodeBuffer();let Uo,Do;function Un(e){let t=new Uint8Array;return Se(e,r=>{t=V.concatUint8Array([t,r]);const n=[],i=Math.floor(t.length/45),s=45*i,a=Uo(t.subarray(0,s));for(let o=0;o<i;o++)n.push(a.substr(60*o,60)),n.push(`
`);return t=t.subarray(s),n.join("")},()=>t.length?Uo(t)+`
`:"")}function uf(e){let t="";return Se(e,r=>{t+=r;let n=0;const i=[" ","	","\r",`
`];for(let o=0;o<i.length;o++){const c=i[o];for(let u=t.indexOf(c);u!==-1;u=t.indexOf(c,u+1))n++}let s=t.length;for(;s>0&&(s-n)%4!=0;s--)i.includes(t[s])&&n--;const a=Do(t.substr(0,s));return t=t.substr(s),a},()=>Do(t))}function On(e){return uf(e.replace(/-/g,"+").replace(/_/g,"/"))}function wr(e,t){let r=Un(e).replace(/[\r\n]/g,"");return t&&(r=r.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")),r}tu?(Uo=e=>tu.from(e).toString("base64"),Do=e=>{const t=tu.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}):(Uo=e=>btoa(V.uint8ArrayToString(e)),Do=e=>V.stringToUint8Array(atob(e)));const Ls=Symbol("byValue");var Y={curve:{p256:"p256","P-256":"p256",secp256r1:"p256",prime256v1:"p256","1.2.840.10045.3.1.7":"p256","2a8648ce3d030107":"p256","2A8648CE3D030107":"p256",p384:"p384","P-384":"p384",secp384r1:"p384","1.3.132.0.34":"p384","2b81040022":"p384","2B81040022":"p384",p521:"p521","P-521":"p521",secp521r1:"p521","1.3.132.0.35":"p521","2b81040023":"p521","2B81040023":"p521",secp256k1:"secp256k1","1.3.132.0.10":"secp256k1","2b8104000a":"secp256k1","2B8104000A":"secp256k1",ED25519:"ed25519",ed25519:"ed25519",Ed25519:"ed25519","1.3.6.1.4.1.11591.15.1":"ed25519","2b06010401da470f01":"ed25519","2B06010401DA470F01":"ed25519",X25519:"curve25519",cv25519:"curve25519",curve25519:"curve25519",Curve25519:"curve25519","1.3.6.1.4.1.3029.1.5.1":"curve25519","2b060104019755010501":"curve25519","2B060104019755010501":"curve25519",brainpoolP256r1:"brainpoolP256r1","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1","2b2403030208010107":"brainpoolP256r1","2B2403030208010107":"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1","2b240303020801010b":"brainpoolP384r1","2B240303020801010B":"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1","2b240303020801010d":"brainpoolP512r1","2B240303020801010D":"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsa:22,aedh:23,aedsa:24},symmetric:{plaintext:0,idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20},literal:{binary:98,text:116,utf8:117,mime:109},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuer:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4},write:function(e,t){if(typeof t=="number"&&(t=this.read(e,t)),e[t]!==void 0)return e[t];throw Error("Invalid enum value.")},read:function(e,t){if(e[Ls]||(e[Ls]=[],Object.entries(e).forEach(([r,n])=>{e[Ls][n]=r})),e[Ls][t]!==void 0)return e[Ls][t];throw Error("Invalid enum value.")}},$t={preferredHashAlgorithm:Y.hash.sha256,preferredSymmetricAlgorithm:Y.symmetric.aes256,preferredCompressionAlgorithm:Y.compression.uncompressed,deflateLevel:6,aeadProtect:!1,preferredAEADAlgorithm:Y.aead.eax,aeadChunkSizeByte:12,v5Keys:!1,s2kIterationCountByte:224,allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,checksumRequired:!1,minRSABits:2047,passwordCollisionCheck:!1,revocationsExpire:!1,allowInsecureDecryptionWithSigningKeys:!1,allowInsecureVerificationWithReformattedKeys:!1,constantTimePKCS1Decryption:!1,constantTimePKCS1DecryptionSupportedSymmetricAlgorithms:new Set([Y.symmetric.aes128,Y.symmetric.aes192,Y.symmetric.aes256]),minBytesForWebCrypto:1e3,ignoreUnsupportedPackets:!0,ignoreMalformedPackets:!1,showVersion:!1,showComment:!1,versionString:"OpenPGP.js 5.3.0",commentString:"https://openpgpjs.org",maxUserIDLength:5120,knownNotations:["preferred-email-encoding@pgp.com","pka-address@gnupg.org"],useIndutnyElliptic:!0,rejectHashAlgorithms:new Set([Y.hash.md5,Y.hash.ripemd]),rejectMessageHashAlgorithms:new Set([Y.hash.md5,Y.hash.ripemd,Y.hash.sha1]),rejectPublicKeyAlgorithms:new Set([Y.publicKey.elgamal,Y.publicKey.dsa]),rejectCurves:new Set([Y.curve.brainpoolP256r1,Y.curve.brainpoolP384r1,Y.curve.brainpoolP512r1,Y.curve.secp256k1])};function k3(e){const t=e.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!t)throw Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(t[1])?Y.armor.multipartSection:/MESSAGE, PART \d+/.test(t[1])?Y.armor.multipartLast:/SIGNED MESSAGE/.test(t[1])?Y.armor.signed:/MESSAGE/.test(t[1])?Y.armor.message:/PUBLIC KEY BLOCK/.test(t[1])?Y.armor.publicKey:/PRIVATE KEY BLOCK/.test(t[1])?Y.armor.privateKey:/SIGNATURE/.test(t[1])?Y.armor.signature:void 0}function Ui(e,t){let r="";return t.showVersion&&(r+="Version: "+t.versionString+`
`),t.showComment&&(r+="Comment: "+t.commentString+`
`),e&&(r+="Comment: "+e+`
`),r+=`
`,r}function ii(e){return Un(function(t){let r=13501623;return Se(t,n=>{const i=P3?Math.floor(n.length/4):0,s=new Uint32Array(n.buffer,n.byteOffset,i);for(let a=0;a<i;a++)r^=s[a],r=Fe[0][r>>24&255]^Fe[1][r>>16&255]^Fe[2][r>>8&255]^Fe[3][r>>0&255];for(let a=4*i;a<n.length;a++)r=r>>8^Fe[0][255&r^n[a]]},()=>new Uint8Array([r,r>>8,r>>16]))}(e))}const Fe=[Array(255),Array(255),Array(255),Array(255)];for(let e=0;e<=255;e++){let t=e<<16;for(let r=0;r<8;r++)t=t<<1^((8388608&t)!=0?8801531:0);Fe[0][e]=(16711680&t)>>16|65280&t|(255&t)<<16}for(let e=0;e<=255;e++)Fe[1][e]=Fe[0][e]>>8^Fe[0][255&Fe[0][e]];for(let e=0;e<=255;e++)Fe[2][e]=Fe[1][e]>>8^Fe[0][255&Fe[1][e]];for(let e=0;e<=255;e++)Fe[3][e]=Fe[2][e]>>8^Fe[0][255&Fe[2][e]];const P3=function(){const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,255,!0),new Int16Array(e)[0]===255}();function C1(e){for(let t=0;t<e.length;t++){if(!/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(e[t]))throw Error("Improperly formatted armor header: "+e[t]);/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(e[t])||V.printDebugError(Error("Unknown header: "+e[t]))}}function x3(e){let t=e,r="";const n=e.lastIndexOf("=");return n>=0&&n!==e.length-1&&(t=e.slice(0,n),r=e.slice(n+1).substr(0,4)),{body:t,checksum:r}}function lf(e,t=$t){return new Promise(async(r,n)=>{try{const i=/^-----[^-]+-----$/m,s=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/;let a;const o=[];let c,u,h,f=o,p=[],d=uf(Wn(e,async(v,A)=>{const S=xn(v);try{for(;;){let B=await S.readLine();if(B===void 0)throw Error("Misformed armored text");if(B=V.removeTrailingSpaces(B.replace(/[\r\n]/g,"")),a)if(c)u||a!==2||(i.test(B)?(p=p.join(`\r
`),u=!0,C1(f),f=[],c=!1):p.push(B.replace(/^- /,"")));else if(i.test(B)&&n(Error("Mandatory blank line missing between armor headers and armor data")),s.test(B)){if(C1(f),c=!0,u||a!==2){r({text:p,data:d,headers:o,type:a});break}}else f.push(B);else i.test(B)&&(a=k3(B))}}catch(B){return void n(B)}const C=br(A);try{for(;;){await C.ready;const{done:B,value:U}=await S.read();if(B)throw Error("Misformed armored text");const O=U+"";if(O.indexOf("=")!==-1||O.indexOf("-")!==-1){let q=await S.readToEnd();q.length||(q=""),q=O+q,q=V.removeTrailingSpaces(q.replace(/\r/g,""));const g=q.split(i);if(g.length===1)throw Error("Misformed armored text");const R=x3(g[0].slice(0,-1));h=R.checksum,await C.write(R.body);break}await C.write(O)}await C.ready,await C.close()}catch(B){await C.abort(B)}}));d=Wn(d,async(v,A)=>{const S=Ce(ii(gs(v)));S.catch(()=>{}),await Ai(v,A,{preventClose:!0});const C=br(A);try{const B=(await S).replace(`
`,"");if(h!==B&&(h||t.checksumRequired))throw Error("Ascii armor integrity check failed");await C.ready,await C.close()}catch(B){await C.abort(B)}})}catch(i){n(i)}}).then(async r=>(xe(r.data)&&(r.data=await Ce(r.data)),r))}function hf(e,t,r,n,i,s=$t){let a,o;e===Y.armor.signed&&(a=t.text,o=t.hash,t=t.data);const c=gs(t),u=[];switch(e){case Y.armor.multipartSection:u.push("-----BEGIN PGP MESSAGE, PART "+r+"/"+n+`-----
`),u.push(Ui(i,s)),u.push(Un(t)),u.push("=",ii(c)),u.push("-----END PGP MESSAGE, PART "+r+"/"+n+`-----
`);break;case Y.armor.multipartLast:u.push("-----BEGIN PGP MESSAGE, PART "+r+`-----
`),u.push(Ui(i,s)),u.push(Un(t)),u.push("=",ii(c)),u.push("-----END PGP MESSAGE, PART "+r+`-----
`);break;case Y.armor.signed:u.push(`
-----BEGIN PGP SIGNED MESSAGE-----
`),u.push("Hash: "+o+`

`),u.push(a.replace(/^-/gm,"- -")),u.push(`
-----BEGIN PGP SIGNATURE-----
`),u.push(Ui(i,s)),u.push(Un(t)),u.push("=",ii(c)),u.push(`-----END PGP SIGNATURE-----
`);break;case Y.armor.message:u.push(`-----BEGIN PGP MESSAGE-----
`),u.push(Ui(i,s)),u.push(Un(t)),u.push("=",ii(c)),u.push(`-----END PGP MESSAGE-----
`);break;case Y.armor.publicKey:u.push(`-----BEGIN PGP PUBLIC KEY BLOCK-----
`),u.push(Ui(i,s)),u.push(Un(t)),u.push("=",ii(c)),u.push(`-----END PGP PUBLIC KEY BLOCK-----
`);break;case Y.armor.privateKey:u.push(`-----BEGIN PGP PRIVATE KEY BLOCK-----
`),u.push(Ui(i,s)),u.push(Un(t)),u.push("=",ii(c)),u.push(`-----END PGP PRIVATE KEY BLOCK-----
`);break;case Y.armor.signature:u.push(`-----BEGIN PGP SIGNATURE-----
`),u.push(Ui(i,s)),u.push(Un(t)),u.push("=",ii(c)),u.push(`-----END PGP SIGNATURE-----
`)}return V.concat(u)}class Si{constructor(){this.bytes=""}read(t){this.bytes=V.uint8ArrayToString(t.subarray(0,8))}write(){return V.stringToUint8Array(this.bytes)}toHex(){return V.uint8ArrayToHex(V.stringToUint8Array(this.bytes))}equals(t,r=!1){return r&&(t.isWildcard()||this.isWildcard())||this.bytes===t.bytes}isNull(){return this.bytes===""}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(t){return t.toHex()}static fromID(t){const r=new Si;return r.read(V.hexToUint8Array(t)),r}static wildcard(){const t=new Si;return t.read(new Uint8Array(8)),t}}var ne=function(){var e,t,r=!1;function n(f,p){var d=e[(t[f]+t[p])%255];return f!==0&&p!==0||(d=0),d}var i,s,a,o,c=!1;function u(){function f(A){var S,C,B;for(C=B=function(U){var O=e[255-t[U]];return U===0&&(O=0),O}(A),S=0;S<4;S++)B^=C=255&(C<<1|C>>>7);return B^=99}r||function(){e=[],t=[];var A,S,C=1;for(A=0;A<255;A++)e[A]=C,S=128&C,C<<=1,C&=255,S===128&&(C^=27),C^=e[A],t[e[A]]=A;e[255]=e[0],t[0]=0,r=!0}(),i=[],s=[],a=[[],[],[],[]],o=[[],[],[],[]];for(var p=0;p<256;p++){var d=f(p);i[p]=d,s[d]=p,a[0][p]=n(2,d)<<24|d<<16|d<<8|n(3,d),o[0][d]=n(14,p)<<24|n(9,p)<<16|n(13,p)<<8|n(11,p);for(var v=1;v<4;v++)a[v][p]=a[v-1][p]>>>8|a[v-1][p]<<24,o[v][d]=o[v-1][d]>>>8|o[v-1][d]<<24}c=!0}var h=function(f,p){c||u();var d=new Uint32Array(p);d.set(i,512),d.set(s,768);for(var v=0;v<4;v++)d.set(a[v],4096+1024*v>>2),d.set(o[v],8192+1024*v>>2);var A=function(S,C,B){var U=0,O=0,q=0,g=0,R=0,l=0,m=0,y=0,b=0,_=0,D=0,N=0,W=0,tt=0,w=0,I=0,J=0,Q=0,nt=0,ht=0,lt=0,ut=new S.Uint32Array(B),z=new S.Uint8Array(B);function H($,j,wt,gt,Dt,ie,zt,Bt){$=$|0,j=j|0,wt=wt|0,gt=gt|0,Dt=Dt|0,ie=ie|0,zt=zt|0,Bt=Bt|0;var pe=0,Zt=0,ee=0,Te=0,Nt=0,Ft=0,se=0,Ut=0;for(pe=wt|1024,Zt=wt|2048,ee=wt|3072,Dt=Dt^ut[($|0)>>2],ie=ie^ut[($|4)>>2],zt=zt^ut[($|8)>>2],Bt=Bt^ut[($|12)>>2],Ut=16;(Ut|0)<=gt<<4;Ut=Ut+16|0)Te=ut[(wt|Dt>>22&1020)>>2]^ut[(pe|ie>>14&1020)>>2]^ut[(Zt|zt>>6&1020)>>2]^ut[(ee|Bt<<2&1020)>>2]^ut[($|Ut|0)>>2],Nt=ut[(wt|ie>>22&1020)>>2]^ut[(pe|zt>>14&1020)>>2]^ut[(Zt|Bt>>6&1020)>>2]^ut[(ee|Dt<<2&1020)>>2]^ut[($|Ut|4)>>2],Ft=ut[(wt|zt>>22&1020)>>2]^ut[(pe|Bt>>14&1020)>>2]^ut[(Zt|Dt>>6&1020)>>2]^ut[(ee|ie<<2&1020)>>2]^ut[($|Ut|8)>>2],se=ut[(wt|Bt>>22&1020)>>2]^ut[(pe|Dt>>14&1020)>>2]^ut[(Zt|ie>>6&1020)>>2]^ut[(ee|zt<<2&1020)>>2]^ut[($|Ut|12)>>2],Dt=Te,ie=Nt,zt=Ft,Bt=se;U=ut[(j|Dt>>22&1020)>>2]<<24^ut[(j|ie>>14&1020)>>2]<<16^ut[(j|zt>>6&1020)>>2]<<8^ut[(j|Bt<<2&1020)>>2]^ut[($|Ut|0)>>2],O=ut[(j|ie>>22&1020)>>2]<<24^ut[(j|zt>>14&1020)>>2]<<16^ut[(j|Bt>>6&1020)>>2]<<8^ut[(j|Dt<<2&1020)>>2]^ut[($|Ut|4)>>2],q=ut[(j|zt>>22&1020)>>2]<<24^ut[(j|Bt>>14&1020)>>2]<<16^ut[(j|Dt>>6&1020)>>2]<<8^ut[(j|ie<<2&1020)>>2]^ut[($|Ut|8)>>2],g=ut[(j|Bt>>22&1020)>>2]<<24^ut[(j|Dt>>14&1020)>>2]<<16^ut[(j|ie>>6&1020)>>2]<<8^ut[(j|zt<<2&1020)>>2]^ut[($|Ut|12)>>2]}function F($,j,wt,gt){$=$|0,j=j|0,wt=wt|0,gt=gt|0,H(0,2048,4096,lt,$,j,wt,gt)}function P($,j,wt,gt){$=$|0,j=j|0,wt=wt|0,gt=gt|0;var Dt=0;H(1024,3072,8192,lt,$,gt,wt,j),Dt=O,O=g,g=Dt}function G($,j,wt,gt){$=$|0,j=j|0,wt=wt|0,gt=gt|0,H(0,2048,4096,lt,R^$,l^j,m^wt,y^gt),R=U,l=O,m=q,y=g}function k($,j,wt,gt){$=$|0,j=j|0,wt=wt|0,gt=gt|0;var Dt=0;H(1024,3072,8192,lt,$,gt,wt,j),Dt=O,O=g,g=Dt,U=U^R,O=O^l,q=q^m,g=g^y,R=$,l=j,m=wt,y=gt}function T($,j,wt,gt){$=$|0,j=j|0,wt=wt|0,gt=gt|0,H(0,2048,4096,lt,R,l,m,y),R=U=U^$,l=O=O^j,m=q=q^wt,y=g=g^gt}function K($,j,wt,gt){$=$|0,j=j|0,wt=wt|0,gt=gt|0,H(0,2048,4096,lt,R,l,m,y),U=U^$,O=O^j,q=q^wt,g=g^gt,R=$,l=j,m=wt,y=gt}function x($,j,wt,gt){$=$|0,j=j|0,wt=wt|0,gt=gt|0,H(0,2048,4096,lt,R,l,m,y),R=U,l=O,m=q,y=g,U=U^$,O=O^j,q=q^wt,g=g^gt}function E($,j,wt,gt){$=$|0,j=j|0,wt=wt|0,gt=gt|0,H(0,2048,4096,lt,b,_,D,N),N=~I&N|I&N+1,D=~w&D|w&D+((N|0)==0),_=~tt&_|tt&_+((D|0)==0),b=~W&b|W&b+((_|0)==0),U=U^$,O=O^j,q=q^wt,g=g^gt}function M($,j,wt,gt){$=$|0,j=j|0,wt=wt|0,gt=gt|0;var Dt=0,ie=0,zt=0,Bt=0,pe=0,Zt=0,ee=0,Te=0,Nt=0,Ft=0;for($=$^R,j=j^l,wt=wt^m,gt=gt^y,Dt=J|0,ie=Q|0,zt=nt|0,Bt=ht|0;(Nt|0)<128;Nt=Nt+1|0)Dt>>>31&&(pe=pe^$,Zt=Zt^j,ee=ee^wt,Te=Te^gt),Dt=Dt<<1|ie>>>31,ie=ie<<1|zt>>>31,zt=zt<<1|Bt>>>31,Bt=Bt<<1,Ft=gt&1,gt=gt>>>1|wt<<31,wt=wt>>>1|j<<31,j=j>>>1|$<<31,$=$>>>1,Ft&&($=$^3774873600);R=pe,l=Zt,m=ee,y=Te}function L($){$=$|0,lt=$}function Z($,j,wt,gt){$=$|0,j=j|0,wt=wt|0,gt=gt|0,U=$,O=j,q=wt,g=gt}function X($,j,wt,gt){$=$|0,j=j|0,wt=wt|0,gt=gt|0,R=$,l=j,m=wt,y=gt}function it($,j,wt,gt){$=$|0,j=j|0,wt=wt|0,gt=gt|0,b=$,_=j,D=wt,N=gt}function pt($,j,wt,gt){$=$|0,j=j|0,wt=wt|0,gt=gt|0,W=$,tt=j,w=wt,I=gt}function bt($,j,wt,gt){$=$|0,j=j|0,wt=wt|0,gt=gt|0,N=~I&N|I&gt,D=~w&D|w&wt,_=~tt&_|tt&j,b=~W&b|W&$}function _t($){return $=$|0,$&15?-1:(z[$|0]=U>>>24,z[$|1]=U>>>16&255,z[$|2]=U>>>8&255,z[$|3]=U&255,z[$|4]=O>>>24,z[$|5]=O>>>16&255,z[$|6]=O>>>8&255,z[$|7]=O&255,z[$|8]=q>>>24,z[$|9]=q>>>16&255,z[$|10]=q>>>8&255,z[$|11]=q&255,z[$|12]=g>>>24,z[$|13]=g>>>16&255,z[$|14]=g>>>8&255,z[$|15]=g&255,16)}function et($){return $=$|0,$&15?-1:(z[$|0]=R>>>24,z[$|1]=R>>>16&255,z[$|2]=R>>>8&255,z[$|3]=R&255,z[$|4]=l>>>24,z[$|5]=l>>>16&255,z[$|6]=l>>>8&255,z[$|7]=l&255,z[$|8]=m>>>24,z[$|9]=m>>>16&255,z[$|10]=m>>>8&255,z[$|11]=m&255,z[$|12]=y>>>24,z[$|13]=y>>>16&255,z[$|14]=y>>>8&255,z[$|15]=y&255,16)}function rt(){F(0,0,0,0),J=U,Q=O,nt=q,ht=g}function ot($,j,wt){$=$|0,j=j|0,wt=wt|0;var gt=0;if(j&15)return-1;for(;(wt|0)>=16;)at[$&7](z[j|0]<<24|z[j|1]<<16|z[j|2]<<8|z[j|3],z[j|4]<<24|z[j|5]<<16|z[j|6]<<8|z[j|7],z[j|8]<<24|z[j|9]<<16|z[j|10]<<8|z[j|11],z[j|12]<<24|z[j|13]<<16|z[j|14]<<8|z[j|15]),z[j|0]=U>>>24,z[j|1]=U>>>16&255,z[j|2]=U>>>8&255,z[j|3]=U&255,z[j|4]=O>>>24,z[j|5]=O>>>16&255,z[j|6]=O>>>8&255,z[j|7]=O&255,z[j|8]=q>>>24,z[j|9]=q>>>16&255,z[j|10]=q>>>8&255,z[j|11]=q&255,z[j|12]=g>>>24,z[j|13]=g>>>16&255,z[j|14]=g>>>8&255,z[j|15]=g&255,gt=gt+16|0,j=j+16|0,wt=wt-16|0;return gt|0}function st($,j,wt){$=$|0,j=j|0,wt=wt|0;var gt=0;if(j&15)return-1;for(;(wt|0)>=16;)ct[$&1](z[j|0]<<24|z[j|1]<<16|z[j|2]<<8|z[j|3],z[j|4]<<24|z[j|5]<<16|z[j|6]<<8|z[j|7],z[j|8]<<24|z[j|9]<<16|z[j|10]<<8|z[j|11],z[j|12]<<24|z[j|13]<<16|z[j|14]<<8|z[j|15]),gt=gt+16|0,j=j+16|0,wt=wt-16|0;return gt|0}var at=[F,P,G,k,T,K,x,E],ct=[G,M];return{set_rounds:L,set_state:Z,set_iv:X,set_nonce:it,set_mask:pt,set_counter:bt,get_state:_t,get_iv:et,gcm_init:rt,cipher:ot,mac:st}}({Uint8Array,Uint32Array},f,p);return A.set_key=function(S,C,B,U,O,q,g,R,l){var m=d.subarray(0,60),y=d.subarray(256,316);m.set([C,B,U,O,q,g,R,l]);for(var b=S,_=1;b<4*S+28;b++){var D=m[b-1];(b%S==0||S===8&&b%S==4)&&(D=i[D>>>24]<<24^i[D>>>16&255]<<16^i[D>>>8&255]<<8^i[255&D]),b%S==0&&(D=D<<8^D>>>24^_<<24,_=_<<1^(128&_?27:0)),m[b]=m[b-S]^D}for(var N=0;N<b;N+=4)for(var W=0;W<4;W++)D=m[b-(4+N)+(4-W)%4],y[N+W]=N<4||N>=b-4?D:o[0][i[D>>>24]]^o[1][i[D>>>16&255]]^o[2][i[D>>>8&255]]^o[3][i[255&D]];A.set_rounds(S+5)},A};return h.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},h.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},h.MAC={CBC:0,GCM:1},h.HEAP_DATA=16384,h}();function R1(e){return e instanceof Uint8Array}function S0(e,t){const r=e?e.byteLength:t||65536;if(4095&r||r<=0)throw Error("heap size must be a positive integer and a multiple of 4096");return e=e||new Uint8Array(new ArrayBuffer(r))}function Li(e,t,r,n,i){const s=e.length-t,a=s<i?s:i;return e.set(r.subarray(n,n+a),t),a}function Ei(...e){const t=e.reduce((i,s)=>i+s.length,0),r=new Uint8Array(t);let n=0;for(let i=0;i<e.length;i++)r.set(e[i],n),n+=e[i].length;return r}class Ku extends Error{constructor(...t){super(...t)}}class zn extends Error{constructor(...t){super(...t)}}class Fu extends Error{constructor(...t){super(...t)}}const I1=[],U1=[];class La{constructor(t,r,n=!0,i,s,a){this.pos=0,this.len=0,this.mode=i,this.pos=0,this.len=0,this.key=t,this.iv=r,this.padding=n,this.acquire_asm(s,a)}acquire_asm(t,r){return this.heap!==void 0&&this.asm!==void 0||(this.heap=t||I1.pop()||S0().subarray(ne.HEAP_DATA),this.asm=r||U1.pop()||new ne(null,this.heap.buffer),this.reset(this.key,this.iv)),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(I1.push(this.heap),U1.push(this.asm)),this.heap=void 0,this.asm=void 0}reset(t,r){const{asm:n}=this.acquire_asm(),i=t.length;if(i!==16&&i!==24&&i!==32)throw new zn("illegal key size");const s=new DataView(t.buffer,t.byteOffset,t.byteLength);if(n.set_key(i>>2,s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12),i>16?s.getUint32(16):0,i>16?s.getUint32(20):0,i>24?s.getUint32(24):0,i>24?s.getUint32(28):0),r!==void 0){if(r.length!==16)throw new zn("illegal iv size");let a=new DataView(r.buffer,r.byteOffset,r.byteLength);n.set_iv(a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12))}else n.set_iv(0,0,0,0)}AES_Encrypt_process(t){if(!R1(t))throw new TypeError("data isn't of expected type");let{heap:r,asm:n}=this.acquire_asm(),i=ne.ENC[this.mode],s=ne.HEAP_DATA,a=this.pos,o=this.len,c=0,u=t.length||0,h=0,f=0,p=new Uint8Array(o+u&-16);for(;u>0;)f=Li(r,a+o,t,c,u),o+=f,c+=f,u-=f,f=n.cipher(i,s+a,o),f&&p.set(r.subarray(a,a+f),h),h+=f,f<o?(a+=f,o-=f):(a=0,o=0);return this.pos=a,this.len=o,p}AES_Encrypt_finish(){let{heap:t,asm:r}=this.acquire_asm(),n=ne.ENC[this.mode],i=ne.HEAP_DATA,s=this.pos,a=this.len,o=16-a%16,c=a;if(this.hasOwnProperty("padding")){if(this.padding){for(let h=0;h<o;++h)t[s+a+h]=o;a+=o,c=a}else if(a%16)throw new zn("data length must be a multiple of the block size")}else a+=o;const u=new Uint8Array(c);return a&&r.cipher(n,i+s,a),c&&u.set(t.subarray(s,s+c)),this.pos=0,this.len=0,this.release_asm(),u}AES_Decrypt_process(t){if(!R1(t))throw new TypeError("data isn't of expected type");let{heap:r,asm:n}=this.acquire_asm(),i=ne.DEC[this.mode],s=ne.HEAP_DATA,a=this.pos,o=this.len,c=0,u=t.length||0,h=0,f=o+u&-16,p=0,d=0;this.padding&&(p=o+u-f||16,f-=p);const v=new Uint8Array(f);for(;u>0;)d=Li(r,a+o,t,c,u),o+=d,c+=d,u-=d,d=n.cipher(i,s+a,o-(u?0:p)),d&&v.set(r.subarray(a,a+d),h),h+=d,d<o?(a+=d,o-=d):(a=0,o=0);return this.pos=a,this.len=o,v}AES_Decrypt_finish(){let{heap:t,asm:r}=this.acquire_asm(),n=ne.DEC[this.mode],i=ne.HEAP_DATA,s=this.pos,a=this.len,o=a;if(a>0){if(a%16){if(this.hasOwnProperty("padding"))throw new zn("data length must be a multiple of the block size");a+=16-a%16}if(r.cipher(n,i+s,a),this.hasOwnProperty("padding")&&this.padding){let u=t[s+o-1];if(u<1||u>16||u>o)throw new Fu("bad padding");let h=0;for(let f=u;f>1;f--)h|=u^t[s+o-f];if(h)throw new Fu("bad padding");o-=u}}const c=new Uint8Array(o);return o>0&&c.set(t.subarray(s,s+o)),this.pos=0,this.len=0,this.release_asm(),c}}class Oo{static encrypt(t,r,n=!1){return new Oo(r,n).encrypt(t)}static decrypt(t,r,n=!1){return new Oo(r,n).decrypt(t)}constructor(t,r=!1,n){this.aes=n||new La(t,void 0,r,"ECB")}encrypt(t){return Ei(this.aes.AES_Encrypt_process(t),this.aes.AES_Encrypt_finish())}decrypt(t){return Ei(this.aes.AES_Decrypt_process(t),this.aes.AES_Decrypt_finish())}}function E0(e){const t=function(r){const n=new Oo(r);this.encrypt=function(i){return n.encrypt(i)},this.decrypt=function(i){return n.decrypt(i)}};return t.blockSize=t.prototype.blockSize=16,t.keySize=t.prototype.keySize=e/8,t}function ha(e,t,r,n,i,s){const a=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],h=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],f=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],p=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],d=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];let v,A,S,C,B,U,O,q,g,R,l,m,y,b,_=0,D=t.length;const N=e.length===32?3:9;q=N===3?r?[0,32,2]:[30,-2,-2]:r?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],r&&(D=(t=function(w,I){const J=8-w.length%8;let Q;if(I===2&&J<8)Q=32;else if(I===1)Q=J;else{if(I||!(J<8)){if(J===8)return w;throw Error("des: invalid padding")}Q=0}const nt=new Uint8Array(w.length+J);for(let ht=0;ht<w.length;ht++)nt[ht]=w[ht];for(let ht=0;ht<J;ht++)nt[w.length+ht]=Q;return nt}(t,s)).length);let W=new Uint8Array(D),tt=0;for(n===1&&(g=i[_++]<<24|i[_++]<<16|i[_++]<<8|i[_++],l=i[_++]<<24|i[_++]<<16|i[_++]<<8|i[_++],_=0);_<D;){for(U=t[_++]<<24|t[_++]<<16|t[_++]<<8|t[_++],O=t[_++]<<24|t[_++]<<16|t[_++]<<8|t[_++],n===1&&(r?(U^=g,O^=l):(R=g,m=l,g=U,l=O)),S=252645135&(U>>>4^O),O^=S,U^=S<<4,S=65535&(U>>>16^O),O^=S,U^=S<<16,S=858993459&(O>>>2^U),U^=S,O^=S<<2,S=16711935&(O>>>8^U),U^=S,O^=S<<8,S=1431655765&(U>>>1^O),O^=S,U^=S<<1,U=U<<1|U>>>31,O=O<<1|O>>>31,A=0;A<N;A+=3){for(y=q[A+1],b=q[A+2],v=q[A];v!==y;v+=b)C=O^e[v],B=(O>>>4|O<<28)^e[v+1],S=U,U=O,O=S^(o[C>>>24&63]|u[C>>>16&63]|f[C>>>8&63]|d[63&C]|a[B>>>24&63]|c[B>>>16&63]|h[B>>>8&63]|p[63&B]);S=U,U=O,O=S}U=U>>>1|U<<31,O=O>>>1|O<<31,S=1431655765&(U>>>1^O),O^=S,U^=S<<1,S=16711935&(O>>>8^U),U^=S,O^=S<<8,S=858993459&(O>>>2^U),U^=S,O^=S<<2,S=65535&(U>>>16^O),O^=S,U^=S<<16,S=252645135&(U>>>4^O),O^=S,U^=S<<4,n===1&&(r?(g=U,l=O):(U^=R,O^=m)),W[tt++]=U>>>24,W[tt++]=U>>>16&255,W[tt++]=U>>>8&255,W[tt++]=255&U,W[tt++]=O>>>24,W[tt++]=O>>>16&255,W[tt++]=O>>>8&255,W[tt++]=255&O}return r||(W=function(w,I){let J,Q=null;if(I===2)J=32;else if(I===1)Q=w[w.length-1];else{if(I)throw Error("des: invalid padding");J=0}if(!Q){for(Q=1;w[w.length-Q]===J;)Q++;Q--}return w.subarray(0,w.length-Q)}(W,s)),W}function fa(e){const t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],h=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],f=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],v=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],A=e.length>8?3:1,S=Array(32*A),C=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0];let B,U,O,q=0,g=0;for(let R=0;R<A;R++){let l=e[q++]<<24|e[q++]<<16|e[q++]<<8|e[q++],m=e[q++]<<24|e[q++]<<16|e[q++]<<8|e[q++];O=252645135&(l>>>4^m),m^=O,l^=O<<4,O=65535&(m>>>-16^l),l^=O,m^=O<<-16,O=858993459&(l>>>2^m),m^=O,l^=O<<2,O=65535&(m>>>-16^l),l^=O,m^=O<<-16,O=1431655765&(l>>>1^m),m^=O,l^=O<<1,O=16711935&(m>>>8^l),l^=O,m^=O<<8,O=1431655765&(l>>>1^m),m^=O,l^=O<<1,O=l<<8|m>>>20&240,l=m<<24|m<<8&16711680|m>>>8&65280|m>>>24&240,m=O;for(let y=0;y<16;y++)C[y]?(l=l<<2|l>>>26,m=m<<2|m>>>26):(l=l<<1|l>>>27,m=m<<1|m>>>27),l&=-15,m&=-15,B=t[l>>>28]|r[l>>>24&15]|n[l>>>20&15]|i[l>>>16&15]|s[l>>>12&15]|a[l>>>8&15]|o[l>>>4&15],U=c[m>>>28]|u[m>>>24&15]|h[m>>>20&15]|f[m>>>16&15]|p[m>>>12&15]|d[m>>>8&15]|v[m>>>4&15],O=65535&(U>>>16^B),S[g++]=B^O,S[g++]=U^O<<16}return S}function Ys(e){this.key=[];for(let t=0;t<3;t++)this.key.push(new Uint8Array(e.subarray(8*t,8*t+8)));this.encrypt=function(t){return ha(fa(this.key[2]),ha(fa(this.key[1]),ha(fa(this.key[0]),t,!0,0,null,null),!1,0,null,null),!0,0,null,null)}}function M3(){this.BlockSize=8,this.KeySize=16,this.setKey=function(a){if(this.masking=Array(16),this.rotate=Array(16),this.reset(),a.length!==this.KeySize)throw Error("CAST-128: keys must be 16 bytes");return this.keySchedule(a),!0},this.reset=function(){for(let a=0;a<16;a++)this.masking[a]=0,this.rotate[a]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(a){const o=Array(a.length);for(let c=0;c<a.length;c+=8){let u,h=a[c]<<24|a[c+1]<<16|a[c+2]<<8|a[c+3],f=a[c+4]<<24|a[c+5]<<16|a[c+6]<<8|a[c+7];u=f,f=h^r(f,this.masking[0],this.rotate[0]),h=u,u=f,f=h^n(f,this.masking[1],this.rotate[1]),h=u,u=f,f=h^i(f,this.masking[2],this.rotate[2]),h=u,u=f,f=h^r(f,this.masking[3],this.rotate[3]),h=u,u=f,f=h^n(f,this.masking[4],this.rotate[4]),h=u,u=f,f=h^i(f,this.masking[5],this.rotate[5]),h=u,u=f,f=h^r(f,this.masking[6],this.rotate[6]),h=u,u=f,f=h^n(f,this.masking[7],this.rotate[7]),h=u,u=f,f=h^i(f,this.masking[8],this.rotate[8]),h=u,u=f,f=h^r(f,this.masking[9],this.rotate[9]),h=u,u=f,f=h^n(f,this.masking[10],this.rotate[10]),h=u,u=f,f=h^i(f,this.masking[11],this.rotate[11]),h=u,u=f,f=h^r(f,this.masking[12],this.rotate[12]),h=u,u=f,f=h^n(f,this.masking[13],this.rotate[13]),h=u,u=f,f=h^i(f,this.masking[14],this.rotate[14]),h=u,u=f,f=h^r(f,this.masking[15],this.rotate[15]),h=u,o[c]=f>>>24&255,o[c+1]=f>>>16&255,o[c+2]=f>>>8&255,o[c+3]=255&f,o[c+4]=h>>>24&255,o[c+5]=h>>>16&255,o[c+6]=h>>>8&255,o[c+7]=255&h}return o},this.decrypt=function(a){const o=Array(a.length);for(let c=0;c<a.length;c+=8){let u,h=a[c]<<24|a[c+1]<<16|a[c+2]<<8|a[c+3],f=a[c+4]<<24|a[c+5]<<16|a[c+6]<<8|a[c+7];u=f,f=h^r(f,this.masking[15],this.rotate[15]),h=u,u=f,f=h^i(f,this.masking[14],this.rotate[14]),h=u,u=f,f=h^n(f,this.masking[13],this.rotate[13]),h=u,u=f,f=h^r(f,this.masking[12],this.rotate[12]),h=u,u=f,f=h^i(f,this.masking[11],this.rotate[11]),h=u,u=f,f=h^n(f,this.masking[10],this.rotate[10]),h=u,u=f,f=h^r(f,this.masking[9],this.rotate[9]),h=u,u=f,f=h^i(f,this.masking[8],this.rotate[8]),h=u,u=f,f=h^n(f,this.masking[7],this.rotate[7]),h=u,u=f,f=h^r(f,this.masking[6],this.rotate[6]),h=u,u=f,f=h^i(f,this.masking[5],this.rotate[5]),h=u,u=f,f=h^n(f,this.masking[4],this.rotate[4]),h=u,u=f,f=h^r(f,this.masking[3],this.rotate[3]),h=u,u=f,f=h^i(f,this.masking[2],this.rotate[2]),h=u,u=f,f=h^n(f,this.masking[1],this.rotate[1]),h=u,u=f,f=h^r(f,this.masking[0],this.rotate[0]),h=u,o[c]=f>>>24&255,o[c+1]=f>>>16&255,o[c+2]=f>>>8&255,o[c+3]=255&f,o[c+4]=h>>>24&255,o[c+5]=h>>16&255,o[c+6]=h>>8&255,o[c+7]=255&h}return o};const e=[,,,,];e[0]=[,,,,],e[0][0]=[4,0,13,15,12,14,8],e[0][1]=[5,2,16,18,17,19,10],e[0][2]=[6,3,23,22,21,20,9],e[0][3]=[7,1,26,25,27,24,11],e[1]=[,,,,],e[1][0]=[0,6,21,23,20,22,16],e[1][1]=[1,4,0,2,1,3,18],e[1][2]=[2,5,7,6,5,4,17],e[1][3]=[3,7,10,9,11,8,19],e[2]=[,,,,],e[2][0]=[4,0,13,15,12,14,8],e[2][1]=[5,2,16,18,17,19,10],e[2][2]=[6,3,23,22,21,20,9],e[2][3]=[7,1,26,25,27,24,11],e[3]=[,,,,],e[3][0]=[0,6,21,23,20,22,16],e[3][1]=[1,4,0,2,1,3,18],e[3][2]=[2,5,7,6,5,4,17],e[3][3]=[3,7,10,9,11,8,19];const t=[,,,,];function r(a,o,c){const u=o+a,h=u<<c|u>>>32-c;return(s[0][h>>>24]^s[1][h>>>16&255])-s[2][h>>>8&255]+s[3][255&h]}function n(a,o,c){const u=o^a,h=u<<c|u>>>32-c;return s[0][h>>>24]-s[1][h>>>16&255]+s[2][h>>>8&255]^s[3][255&h]}function i(a,o,c){const u=o-a,h=u<<c|u>>>32-c;return(s[0][h>>>24]+s[1][h>>>16&255]^s[2][h>>>8&255])-s[3][255&h]}t[0]=[,,,,],t[0][0]=[24,25,23,22,18],t[0][1]=[26,27,21,20,22],t[0][2]=[28,29,19,18,25],t[0][3]=[30,31,17,16,28],t[1]=[,,,,],t[1][0]=[3,2,12,13,8],t[1][1]=[1,0,14,15,13],t[1][2]=[7,6,8,9,3],t[1][3]=[5,4,10,11,7],t[2]=[,,,,],t[2][0]=[19,18,28,29,25],t[2][1]=[17,16,30,31,28],t[2][2]=[23,22,24,25,18],t[2][3]=[21,20,26,27,22],t[3]=[,,,,],t[3][0]=[8,9,7,6,3],t[3][1]=[10,11,5,4,7],t[3][2]=[12,13,3,2,8],t[3][3]=[14,15,1,0,13],this.keySchedule=function(a){const o=[,,,,,,,,],c=Array(32);let u;for(let d=0;d<4;d++)u=4*d,o[d]=a[u]<<24|a[u+1]<<16|a[u+2]<<8|a[u+3];const h=[6,7,4,5];let f,p=0;for(let d=0;d<2;d++)for(let v=0;v<4;v++){for(u=0;u<4;u++){const A=e[v][u];f=o[A[1]],f^=s[4][o[A[2]>>>2]>>>24-8*(3&A[2])&255],f^=s[5][o[A[3]>>>2]>>>24-8*(3&A[3])&255],f^=s[6][o[A[4]>>>2]>>>24-8*(3&A[4])&255],f^=s[7][o[A[5]>>>2]>>>24-8*(3&A[5])&255],f^=s[h[u]][o[A[6]>>>2]>>>24-8*(3&A[6])&255],o[A[0]]=f}for(u=0;u<4;u++){const A=t[v][u];f=s[4][o[A[0]>>>2]>>>24-8*(3&A[0])&255],f^=s[5][o[A[1]>>>2]>>>24-8*(3&A[1])&255],f^=s[6][o[A[2]>>>2]>>>24-8*(3&A[2])&255],f^=s[7][o[A[3]>>>2]>>>24-8*(3&A[3])&255],f^=s[4+u][o[A[4]>>>2]>>>24-8*(3&A[4])&255],c[p]=f,p++}}for(let d=0;d<16;d++)this.masking[d]=c[d],this.rotate[d]=31&c[16+d]};const s=[,,,,,,,,];s[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],s[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],s[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],s[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],s[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],s[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],s[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],s[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function Js(e){this.cast5=new M3,this.cast5.setKey(e),this.encrypt=function(t){return this.cast5.encrypt(t)}}Ys.keySize=Ys.prototype.keySize=24,Ys.blockSize=Ys.prototype.blockSize=8,Js.blockSize=Js.prototype.blockSize=8,Js.keySize=Js.prototype.keySize=16;const Tr=4294967295;function Qr(e,t){return(e<<t|e>>>32-t)&Tr}function Rn(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function ri(e,t,r){e.splice(t,4,255&r,r>>>8&255,r>>>16&255,r>>>24&255)}function Qt(e,t){return e>>>8*t&255}function Xs(e){this.tf=function(){let t=null,r=null,n=-1,i=[],s=[[],[],[],[]];function a(h){return s[0][Qt(h,0)]^s[1][Qt(h,1)]^s[2][Qt(h,2)]^s[3][Qt(h,3)]}function o(h){return s[0][Qt(h,3)]^s[1][Qt(h,0)]^s[2][Qt(h,1)]^s[3][Qt(h,2)]}function c(h,f){let p=a(f[0]),d=o(f[1]);f[2]=Qr(f[2]^p+d+i[4*h+8]&Tr,31),f[3]=Qr(f[3],1)^p+2*d+i[4*h+9]&Tr,p=a(f[2]),d=o(f[3]),f[0]=Qr(f[0]^p+d+i[4*h+10]&Tr,31),f[1]=Qr(f[1],1)^p+2*d+i[4*h+11]&Tr}function u(h,f){let p=a(f[0]),d=o(f[1]);f[2]=Qr(f[2],1)^p+d+i[4*h+10]&Tr,f[3]=Qr(f[3]^p+2*d+i[4*h+11]&Tr,31),p=a(f[2]),d=o(f[3]),f[0]=Qr(f[0],1)^p+d+i[4*h+8]&Tr,f[1]=Qr(f[1]^p+2*d+i[4*h+9]&Tr,31)}return{name:"twofish",blocksize:16,open:function(h){let f,p,d,v,A;t=h;const S=[],C=[],B=[];let U;const O=[];let q,g,R;const l=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],m=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],y=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],b=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],_=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],D=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],N=[[],[]],W=[[],[],[],[]];function tt(nt){return nt^nt>>2^[0,90,180,238][3&nt]}function w(nt){return nt^nt>>1^nt>>2^[0,238,180,90][3&nt]}function I(nt,ht){let lt,ut,z;for(lt=0;lt<8;lt++)ut=ht>>>24,ht=ht<<8&Tr|nt>>>24,nt=nt<<8&Tr,z=ut<<1,128&ut&&(z^=333),ht^=ut^z<<16,z^=ut>>>1,1&ut&&(z^=166),ht^=z<<24|z<<8;return ht}function J(nt,ht){const lt=ht>>4,ut=15&ht,z=l[nt][lt^ut],H=m[nt][_[ut]^D[lt]];return b[nt][_[H]^D[z]]<<4|y[nt][z^H]}function Q(nt,ht){let lt=Qt(nt,0),ut=Qt(nt,1),z=Qt(nt,2),H=Qt(nt,3);switch(U){case 4:lt=N[1][lt]^Qt(ht[3],0),ut=N[0][ut]^Qt(ht[3],1),z=N[0][z]^Qt(ht[3],2),H=N[1][H]^Qt(ht[3],3);case 3:lt=N[1][lt]^Qt(ht[2],0),ut=N[1][ut]^Qt(ht[2],1),z=N[0][z]^Qt(ht[2],2),H=N[0][H]^Qt(ht[2],3);case 2:lt=N[0][N[0][lt]^Qt(ht[1],0)]^Qt(ht[0],0),ut=N[0][N[1][ut]^Qt(ht[1],1)]^Qt(ht[0],1),z=N[1][N[0][z]^Qt(ht[1],2)]^Qt(ht[0],2),H=N[1][N[1][H]^Qt(ht[1],3)]^Qt(ht[0],3)}return W[0][lt]^W[1][ut]^W[2][z]^W[3][H]}for(t=t.slice(0,32),f=t.length;f!==16&&f!==24&&f!==32;)t[f++]=0;for(f=0;f<t.length;f+=4)B[f>>2]=Rn(t,f);for(f=0;f<256;f++)N[0][f]=J(0,f),N[1][f]=J(1,f);for(f=0;f<256;f++)q=N[1][f],g=tt(q),R=w(q),W[0][f]=q+(g<<8)+(R<<16)+(R<<24),W[2][f]=g+(R<<8)+(q<<16)+(R<<24),q=N[0][f],g=tt(q),R=w(q),W[1][f]=R+(R<<8)+(g<<16)+(q<<24),W[3][f]=g+(q<<8)+(R<<16)+(g<<24);for(U=B.length/2,f=0;f<U;f++)p=B[f+f],S[f]=p,d=B[f+f+1],C[f]=d,O[U-f-1]=I(p,d);for(f=0;f<40;f+=2)p=16843009*f,d=p+16843009,p=Q(p,S),d=Qr(Q(d,C),8),i[f]=p+d&Tr,i[f+1]=Qr(p+2*d,9);for(f=0;f<256;f++)switch(p=d=v=A=f,U){case 4:p=N[1][p]^Qt(O[3],0),d=N[0][d]^Qt(O[3],1),v=N[0][v]^Qt(O[3],2),A=N[1][A]^Qt(O[3],3);case 3:p=N[1][p]^Qt(O[2],0),d=N[1][d]^Qt(O[2],1),v=N[0][v]^Qt(O[2],2),A=N[0][A]^Qt(O[2],3);case 2:s[0][f]=W[0][N[0][N[0][p]^Qt(O[1],0)]^Qt(O[0],0)],s[1][f]=W[1][N[0][N[1][d]^Qt(O[1],1)]^Qt(O[0],1)],s[2][f]=W[2][N[1][N[0][v]^Qt(O[1],2)]^Qt(O[0],2)],s[3][f]=W[3][N[1][N[1][A]^Qt(O[1],3)]^Qt(O[0],3)]}},close:function(){i=[],s=[[],[],[],[]]},encrypt:function(h,f){r=h,n=f;const p=[Rn(r,n)^i[0],Rn(r,n+4)^i[1],Rn(r,n+8)^i[2],Rn(r,n+12)^i[3]];for(let d=0;d<8;d++)c(d,p);return ri(r,n,p[2]^i[4]),ri(r,n+4,p[3]^i[5]),ri(r,n+8,p[0]^i[6]),ri(r,n+12,p[1]^i[7]),n+=16,r},decrypt:function(h,f){r=h,n=f;const p=[Rn(r,n)^i[4],Rn(r,n+4)^i[5],Rn(r,n+8)^i[6],Rn(r,n+12)^i[7]];for(let d=7;d>=0;d--)u(d,p);ri(r,n,p[2]^i[0]),ri(r,n+4,p[3]^i[1]),ri(r,n+8,p[0]^i[2]),ri(r,n+12,p[1]^i[3]),n+=16},finalize:function(){return r}}}(),this.tf.open(Array.from(e),0),this.encrypt=function(t){return this.tf.encrypt(Array.from(t),0)}}function zr(){}function Zs(e){this.bf=new zr,this.bf.init(e),this.encrypt=function(t){return this.bf.encryptBlock(t)}}Xs.keySize=Xs.prototype.keySize=32,Xs.blockSize=Xs.prototype.blockSize=16,zr.prototype.BLOCKSIZE=8,zr.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],zr.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],zr.prototype.NN=16,zr.prototype._clean=function(e){return e<0&&(e=(2147483647&e)+2147483648),e},zr.prototype._F=function(e){let t;const r=255&e,n=255&(e>>>=8),i=255&(e>>>=8),s=255&(e>>>=8);return t=this.sboxes[0][s]+this.sboxes[1][i],t^=this.sboxes[2][n],t+=this.sboxes[3][r],t},zr.prototype._encryptBlock=function(e){let t,r=e[0],n=e[1];for(t=0;t<this.NN;++t){r^=this.parray[t],n=this._F(r)^n;const i=r;r=n,n=i}r^=this.parray[this.NN+0],n^=this.parray[this.NN+1],e[0]=this._clean(n),e[1]=this._clean(r)},zr.prototype.encryptBlock=function(e){let t;const r=[0,0],n=this.BLOCKSIZE/2;for(t=0;t<this.BLOCKSIZE/2;++t)r[0]=r[0]<<8|255&e[t+0],r[1]=r[1]<<8|255&e[t+n];this._encryptBlock(r);const i=[];for(t=0;t<this.BLOCKSIZE/2;++t)i[t+0]=r[0]>>>24-8*t&255,i[t+n]=r[1]>>>24-8*t&255;return i},zr.prototype._decryptBlock=function(e){let t,r=e[0],n=e[1];for(t=this.NN+1;t>1;--t){r^=this.parray[t],n=this._F(r)^n;const i=r;r=n,n=i}r^=this.parray[1],n^=this.parray[0],e[0]=this._clean(n),e[1]=this._clean(r)},zr.prototype.init=function(e){let t,r=0;for(this.parray=[],t=0;t<this.NN+2;++t){let i=0;for(let s=0;s<4;++s)i=i<<8|255&e[r],++r>=e.length&&(r=0);this.parray[t]=this.PARRAY[t]^i}for(this.sboxes=[],t=0;t<4;++t)for(this.sboxes[t]=[],r=0;r<256;++r)this.sboxes[t][r]=this.SBOXES[t][r];const n=[0,0];for(t=0;t<this.NN+2;t+=2)this._encryptBlock(n),this.parray[t+0]=n[0],this.parray[t+1]=n[1];for(t=0;t<4;++t)for(r=0;r<256;r+=2)this._encryptBlock(n),this.sboxes[t][r+0]=n[0],this.sboxes[t][r+1]=n[1]},Zs.keySize=Zs.prototype.keySize=16,Zs.blockSize=Zs.prototype.blockSize=8;const T3=E0(128),C3=E0(192),R3=E0(256);var Yi=Object.freeze({__proto__:null,aes128:T3,aes192:C3,aes256:R3,des:function(e){this.key=e,this.encrypt=function(t,r){return ha(fa(this.key),t,!0,0,null,r)},this.decrypt=function(t,r){return ha(fa(this.key),t,!1,0,null,r)}},tripledes:Ys,cast5:Js,twofish:Xs,blowfish:Zs,idea:function(){throw Error("IDEA symmetric-key algorithm not implemented")}}),ff=function(e,t,r){var n=0,i=0,s=0,a=0,o=0,c=0,u=0,h=0,f=0,p=0,d=0,v=0,A=0,S=0,C=0,B=0,U=0,O=new e.Uint8Array(r);function q(w,I,J,Q,nt,ht,lt,ut,z,H,F,P,G,k,T,K){w=w|0,I=I|0,J=J|0,Q=Q|0,nt=nt|0,ht=ht|0,lt=lt|0,ut=ut|0,z=z|0,H=H|0,F=F|0,P=P|0,G=G|0,k=k|0,T=T|0,K=K|0;var x=0,E=0,M=0,L=0,Z=0,X=0,it=0,pt=0,bt=0,_t=0,et=0,rt=0,ot=0,st=0,at=0,ct=0,$=0,j=0,wt=0,gt=0,Dt=0,ie=0,zt=0,Bt=0,pe=0,Zt=0,ee=0,Te=0,Nt=0,Ft=0,se=0,Ut=0,Ht=0,fe=0,qt=0,mt=0,yt=0,vt=0,xt=0,Kt=0,Ot=0,It=0,ce=0,Gt=0,le=0,er=0,rr=0,lr=0,Hr=0,Gr=0,Vr=0,Yr=0,Jr=0,Xr=0,Zr=0,Tn=0,Cn=0,Jn=0,Xn=0,Zn=0,Qn=0,ti=0,ei=0,Ii=0,Yc=0,Jc=0,Xc=0,Zc=0,v1=0,w1=0,_1=0;x=n,E=i,M=s,L=a,Z=o,it=w+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,it=I+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,it=J+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,it=Q+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,it=nt+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,it=ht+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,it=lt+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,it=ut+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,it=z+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,it=H+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,it=F+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,it=P+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,it=G+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,it=k+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,it=T+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,it=K+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=k^z^J^w,pt=X<<1|X>>>31,it=pt+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=T^H^Q^I,bt=X<<1|X>>>31,it=bt+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=K^F^nt^J,_t=X<<1|X>>>31,it=_t+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=pt^P^ht^Q,et=X<<1|X>>>31,it=et+(x<<5|x>>>27)+Z+(E&M|~E&L)+1518500249|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=bt^G^lt^nt,rt=X<<1|X>>>31,it=rt+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=_t^k^ut^ht,ot=X<<1|X>>>31,it=ot+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=et^T^z^lt,st=X<<1|X>>>31,it=st+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=rt^K^H^ut,at=X<<1|X>>>31,it=at+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=ot^pt^F^z,ct=X<<1|X>>>31,it=ct+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=st^bt^P^H,$=X<<1|X>>>31,it=$+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=at^_t^G^F,j=X<<1|X>>>31,it=j+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=ct^et^k^P,wt=X<<1|X>>>31,it=wt+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=$^rt^T^G,gt=X<<1|X>>>31,it=gt+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=j^ot^K^k,Dt=X<<1|X>>>31,it=Dt+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=wt^st^pt^T,ie=X<<1|X>>>31,it=ie+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=gt^at^bt^K,zt=X<<1|X>>>31,it=zt+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Dt^ct^_t^pt,Bt=X<<1|X>>>31,it=Bt+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=ie^$^et^bt,pe=X<<1|X>>>31,it=pe+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=zt^j^rt^_t,Zt=X<<1|X>>>31,it=Zt+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Bt^wt^ot^et,ee=X<<1|X>>>31,it=ee+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=pe^gt^st^rt,Te=X<<1|X>>>31,it=Te+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Zt^Dt^at^ot,Nt=X<<1|X>>>31,it=Nt+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=ee^ie^ct^st,Ft=X<<1|X>>>31,it=Ft+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Te^zt^$^at,se=X<<1|X>>>31,it=se+(x<<5|x>>>27)+Z+(E^M^L)+1859775393|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Nt^Bt^j^ct,Ut=X<<1|X>>>31,it=Ut+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Ft^pe^wt^$,Ht=X<<1|X>>>31,it=Ht+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=se^Zt^gt^j,fe=X<<1|X>>>31,it=fe+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Ut^ee^Dt^wt,qt=X<<1|X>>>31,it=qt+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Ht^Te^ie^gt,mt=X<<1|X>>>31,it=mt+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=fe^Nt^zt^Dt,yt=X<<1|X>>>31,it=yt+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=qt^Ft^Bt^ie,vt=X<<1|X>>>31,it=vt+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=mt^se^pe^zt,xt=X<<1|X>>>31,it=xt+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=yt^Ut^Zt^Bt,Kt=X<<1|X>>>31,it=Kt+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=vt^Ht^ee^pe,Ot=X<<1|X>>>31,it=Ot+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=xt^fe^Te^Zt,It=X<<1|X>>>31,it=It+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Kt^qt^Nt^ee,ce=X<<1|X>>>31,it=ce+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Ot^mt^Ft^Te,Gt=X<<1|X>>>31,it=Gt+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=It^yt^se^Nt,le=X<<1|X>>>31,it=le+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=ce^vt^Ut^Ft,er=X<<1|X>>>31,it=er+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Gt^xt^Ht^se,rr=X<<1|X>>>31,it=rr+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=le^Kt^fe^Ut,lr=X<<1|X>>>31,it=lr+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=er^Ot^qt^Ht,Hr=X<<1|X>>>31,it=Hr+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=rr^It^mt^fe,Gr=X<<1|X>>>31,it=Gr+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=lr^ce^yt^qt,Vr=X<<1|X>>>31,it=Vr+(x<<5|x>>>27)+Z+(E&M|E&L|M&L)-1894007588|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Hr^Gt^vt^mt,Yr=X<<1|X>>>31,it=Yr+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Gr^le^xt^yt,Jr=X<<1|X>>>31,it=Jr+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Vr^er^Kt^vt,Xr=X<<1|X>>>31,it=Xr+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Yr^rr^Ot^xt,Zr=X<<1|X>>>31,it=Zr+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Jr^lr^It^Kt,Tn=X<<1|X>>>31,it=Tn+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Xr^Hr^ce^Ot,Cn=X<<1|X>>>31,it=Cn+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Zr^Gr^Gt^It,Jn=X<<1|X>>>31,it=Jn+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Tn^Vr^le^ce,Xn=X<<1|X>>>31,it=Xn+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Cn^Yr^er^Gt,Zn=X<<1|X>>>31,it=Zn+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Jn^Jr^rr^le,Qn=X<<1|X>>>31,it=Qn+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Xn^Xr^lr^er,ti=X<<1|X>>>31,it=ti+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Zn^Zr^Hr^rr,ei=X<<1|X>>>31,it=ei+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Qn^Tn^Gr^lr,Ii=X<<1|X>>>31,it=Ii+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=ti^Cn^Vr^Hr,Yc=X<<1|X>>>31,it=Yc+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=ei^Jn^Yr^Gr,Jc=X<<1|X>>>31,it=Jc+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Ii^Xn^Jr^Vr,Xc=X<<1|X>>>31,it=Xc+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Yc^Zn^Xr^Yr,Zc=X<<1|X>>>31,it=Zc+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Jc^Qn^Zr^Jr,v1=X<<1|X>>>31,it=v1+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Xc^ti^Tn^Xr,w1=X<<1|X>>>31,it=w1+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,X=Zc^ei^Cn^Zr,_1=X<<1|X>>>31,it=_1+(x<<5|x>>>27)+Z+(E^M^L)-899497514|0,Z=L,L=M,M=E<<30|E>>>2,E=x,x=it,n=n+x|0,i=i+E|0,s=s+M|0,a=a+L|0,o=o+Z|0}function g(w){w=w|0,q(O[w|0]<<24|O[w|1]<<16|O[w|2]<<8|O[w|3],O[w|4]<<24|O[w|5]<<16|O[w|6]<<8|O[w|7],O[w|8]<<24|O[w|9]<<16|O[w|10]<<8|O[w|11],O[w|12]<<24|O[w|13]<<16|O[w|14]<<8|O[w|15],O[w|16]<<24|O[w|17]<<16|O[w|18]<<8|O[w|19],O[w|20]<<24|O[w|21]<<16|O[w|22]<<8|O[w|23],O[w|24]<<24|O[w|25]<<16|O[w|26]<<8|O[w|27],O[w|28]<<24|O[w|29]<<16|O[w|30]<<8|O[w|31],O[w|32]<<24|O[w|33]<<16|O[w|34]<<8|O[w|35],O[w|36]<<24|O[w|37]<<16|O[w|38]<<8|O[w|39],O[w|40]<<24|O[w|41]<<16|O[w|42]<<8|O[w|43],O[w|44]<<24|O[w|45]<<16|O[w|46]<<8|O[w|47],O[w|48]<<24|O[w|49]<<16|O[w|50]<<8|O[w|51],O[w|52]<<24|O[w|53]<<16|O[w|54]<<8|O[w|55],O[w|56]<<24|O[w|57]<<16|O[w|58]<<8|O[w|59],O[w|60]<<24|O[w|61]<<16|O[w|62]<<8|O[w|63])}function R(w){w=w|0,O[w|0]=n>>>24,O[w|1]=n>>>16&255,O[w|2]=n>>>8&255,O[w|3]=n&255,O[w|4]=i>>>24,O[w|5]=i>>>16&255,O[w|6]=i>>>8&255,O[w|7]=i&255,O[w|8]=s>>>24,O[w|9]=s>>>16&255,O[w|10]=s>>>8&255,O[w|11]=s&255,O[w|12]=a>>>24,O[w|13]=a>>>16&255,O[w|14]=a>>>8&255,O[w|15]=a&255,O[w|16]=o>>>24,O[w|17]=o>>>16&255,O[w|18]=o>>>8&255,O[w|19]=o&255}function l(){n=1732584193,i=4023233417,s=2562383102,a=271733878,o=3285377520,c=u=0}function m(w,I,J,Q,nt,ht,lt){w=w|0,I=I|0,J=J|0,Q=Q|0,nt=nt|0,ht=ht|0,lt=lt|0,n=w,i=I,s=J,a=Q,o=nt,c=ht,u=lt}function y(w,I){w=w|0,I=I|0;var J=0;if(w&63)return-1;for(;(I|0)>=64;)g(w),w=w+64|0,I=I-64|0,J=J+64|0;return c=c+J|0,c>>>0<J>>>0&&(u=u+1|0),J|0}function b(w,I,J){w=w|0,I=I|0,J=J|0;var Q=0,nt=0;if(w&63||~J&&J&31)return-1;if((I|0)>=64){if(Q=y(w,I)|0,(Q|0)==-1)return-1;w=w+Q|0,I=I-Q|0}if(Q=Q+I|0,c=c+I|0,c>>>0<I>>>0&&(u=u+1|0),O[w|I]=128,(I|0)>=56){for(nt=I+1|0;(nt|0)<64;nt=nt+1|0)O[w|nt]=0;g(w),I=0,O[w|0]=0}for(nt=I+1|0;(nt|0)<59;nt=nt+1|0)O[w|nt]=0;return O[w|56]=u>>>21&255,O[w|57]=u>>>13&255,O[w|58]=u>>>5&255,O[w|59]=u<<3&255|c>>>29,O[w|60]=c>>>21&255,O[w|61]=c>>>13&255,O[w|62]=c>>>5&255,O[w|63]=c<<3&255,g(w),~J&&R(J),Q|0}function _(){n=h,i=f,s=p,a=d,o=v,c=64,u=0}function D(){n=A,i=S,s=C,a=B,o=U,c=64,u=0}function N(w,I,J,Q,nt,ht,lt,ut,z,H,F,P,G,k,T,K){w=w|0,I=I|0,J=J|0,Q=Q|0,nt=nt|0,ht=ht|0,lt=lt|0,ut=ut|0,z=z|0,H=H|0,F=F|0,P=P|0,G=G|0,k=k|0,T=T|0,K=K|0,l(),q(w^1549556828,I^1549556828,J^1549556828,Q^1549556828,nt^1549556828,ht^1549556828,lt^1549556828,ut^1549556828,z^1549556828,H^1549556828,F^1549556828,P^1549556828,G^1549556828,k^1549556828,T^1549556828,K^1549556828),A=n,S=i,C=s,B=a,U=o,l(),q(w^909522486,I^909522486,J^909522486,Q^909522486,nt^909522486,ht^909522486,lt^909522486,ut^909522486,z^909522486,H^909522486,F^909522486,P^909522486,G^909522486,k^909522486,T^909522486,K^909522486),h=n,f=i,p=s,d=a,v=o,c=64,u=0}function W(w,I,J){w=w|0,I=I|0,J=J|0;var Q=0,nt=0,ht=0,lt=0,ut=0,z=0;return w&63||~J&&J&31?-1:(z=b(w,I,-1)|0,Q=n,nt=i,ht=s,lt=a,ut=o,D(),q(Q,nt,ht,lt,ut,2147483648,0,0,0,0,0,0,0,0,0,672),~J&&R(J),z|0)}function tt(w,I,J,Q,nt){w=w|0,I=I|0,J=J|0,Q=Q|0,nt=nt|0;var ht=0,lt=0,ut=0,z=0,H=0,F=0,P=0,G=0,k=0,T=0;if(w&63||~nt&&nt&31)return-1;for(O[w+I|0]=J>>>24,O[w+I+1|0]=J>>>16&255,O[w+I+2|0]=J>>>8&255,O[w+I+3|0]=J&255,W(w,I+4|0,-1)|0,ht=F=n,lt=P=i,ut=G=s,z=k=a,H=T=o,Q=Q-1|0;(Q|0)>0;)_(),q(F,P,G,k,T,2147483648,0,0,0,0,0,0,0,0,0,672),F=n,P=i,G=s,k=a,T=o,D(),q(F,P,G,k,T,2147483648,0,0,0,0,0,0,0,0,0,672),F=n,P=i,G=s,k=a,T=o,ht=ht^n,lt=lt^i,ut=ut^s,z=z^a,H=H^o,Q=Q-1|0;return n=ht,i=lt,s=ut,a=z,o=H,~nt&&R(nt),0}return{reset:l,init:m,process:y,finish:b,hmac_reset:_,hmac_init:N,hmac_finish:W,pbkdf2_generate_block:tt}};class df{constructor(){this.pos=0,this.len=0}reset(){const{asm:t}=this.acquire_asm();return this.result=null,this.pos=0,this.len=0,t.reset(),this}process(t){if(this.result!==null)throw new Ku("state must be reset before processing new data");const{asm:r,heap:n}=this.acquire_asm();let i=this.pos,s=this.len,a=0,o=t.length,c=0;for(;o>0;)c=Li(n,i+s,t,a,o),s+=c,a+=c,o-=c,c=r.process(i,s),i+=c,s-=c,s||(i=0);return this.pos=i,this.len=s,this}finish(){if(this.result!==null)throw new Ku("state must be reset before processing new data");const{asm:t,heap:r}=this.acquire_asm();return t.finish(this.pos,this.len,0),this.result=new Uint8Array(this.HASH_SIZE),this.result.set(r.subarray(0,this.HASH_SIZE)),this.pos=0,this.len=0,this.release_asm(),this}}const D1=[],O1=[];class ji extends df{constructor(){super(),this.NAME="sha1",this.BLOCK_SIZE=64,this.HASH_SIZE=20,this.acquire_asm()}acquire_asm(){return this.heap!==void 0&&this.asm!==void 0||(this.heap=D1.pop()||S0(),this.asm=O1.pop()||ff({Uint8Array},null,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(D1.push(this.heap),O1.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(t){return new ji().process(t).finish().result}}ji.NAME="sha1",ji.heap_pool=[],ji.asm_pool=[],ji.asm_function=ff;const N1=[],B1=[];class kc extends df{constructor(){super(),this.NAME="sha256",this.BLOCK_SIZE=64,this.HASH_SIZE=32,this.acquire_asm()}acquire_asm(){return this.heap!==void 0&&this.asm!==void 0||(this.heap=N1.pop()||S0(),this.asm=B1.pop()||function(t,r,n){var i=0,s=0,a=0,o=0,c=0,u=0,h=0,f=0,p=0,d=0,v=0,A=0,S=0,C=0,B=0,U=0,O=0,q=0,g=0,R=0,l=0,m=0,y=0,b=0,_=0,D=0,N=new t.Uint8Array(n);function W(F,P,G,k,T,K,x,E,M,L,Z,X,it,pt,bt,_t){F=F|0,P=P|0,G=G|0,k=k|0,T=T|0,K=K|0,x=x|0,E=E|0,M=M|0,L=L|0,Z=Z|0,X=X|0,it=it|0,pt=pt|0,bt=bt|0,_t=_t|0;var et=0,rt=0,ot=0,st=0,at=0,ct=0,$=0,j=0;et=i,rt=s,ot=a,st=o,at=c,ct=u,$=h,j=f,j=F+j+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+($^at&(ct^$))+1116352408|0,st=st+j|0,j=j+(et&rt^ot&(et^rt))+(et>>>2^et>>>13^et>>>22^et<<30^et<<19^et<<10)|0,$=P+$+(st>>>6^st>>>11^st>>>25^st<<26^st<<21^st<<7)+(ct^st&(at^ct))+1899447441|0,ot=ot+$|0,$=$+(j&et^rt&(j^et))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,ct=G+ct+(ot>>>6^ot>>>11^ot>>>25^ot<<26^ot<<21^ot<<7)+(at^ot&(st^at))+3049323471|0,rt=rt+ct|0,ct=ct+($&j^et&($^j))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,at=k+at+(rt>>>6^rt>>>11^rt>>>25^rt<<26^rt<<21^rt<<7)+(st^rt&(ot^st))+3921009573|0,et=et+at|0,at=at+(ct&$^j&(ct^$))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,st=T+st+(et>>>6^et>>>11^et>>>25^et<<26^et<<21^et<<7)+(ot^et&(rt^ot))+961987163|0,j=j+st|0,st=st+(at&ct^$&(at^ct))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,ot=K+ot+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(rt^j&(et^rt))+1508970993|0,$=$+ot|0,ot=ot+(st&at^ct&(st^at))+(st>>>2^st>>>13^st>>>22^st<<30^st<<19^st<<10)|0,rt=x+rt+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(et^$&(j^et))+2453635748|0,ct=ct+rt|0,rt=rt+(ot&st^at&(ot^st))+(ot>>>2^ot>>>13^ot>>>22^ot<<30^ot<<19^ot<<10)|0,et=E+et+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(j^ct&($^j))+2870763221|0,at=at+et|0,et=et+(rt&ot^st&(rt^ot))+(rt>>>2^rt>>>13^rt>>>22^rt<<30^rt<<19^rt<<10)|0,j=M+j+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+($^at&(ct^$))+3624381080|0,st=st+j|0,j=j+(et&rt^ot&(et^rt))+(et>>>2^et>>>13^et>>>22^et<<30^et<<19^et<<10)|0,$=L+$+(st>>>6^st>>>11^st>>>25^st<<26^st<<21^st<<7)+(ct^st&(at^ct))+310598401|0,ot=ot+$|0,$=$+(j&et^rt&(j^et))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,ct=Z+ct+(ot>>>6^ot>>>11^ot>>>25^ot<<26^ot<<21^ot<<7)+(at^ot&(st^at))+607225278|0,rt=rt+ct|0,ct=ct+($&j^et&($^j))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,at=X+at+(rt>>>6^rt>>>11^rt>>>25^rt<<26^rt<<21^rt<<7)+(st^rt&(ot^st))+1426881987|0,et=et+at|0,at=at+(ct&$^j&(ct^$))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,st=it+st+(et>>>6^et>>>11^et>>>25^et<<26^et<<21^et<<7)+(ot^et&(rt^ot))+1925078388|0,j=j+st|0,st=st+(at&ct^$&(at^ct))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,ot=pt+ot+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(rt^j&(et^rt))+2162078206|0,$=$+ot|0,ot=ot+(st&at^ct&(st^at))+(st>>>2^st>>>13^st>>>22^st<<30^st<<19^st<<10)|0,rt=bt+rt+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(et^$&(j^et))+2614888103|0,ct=ct+rt|0,rt=rt+(ot&st^at&(ot^st))+(ot>>>2^ot>>>13^ot>>>22^ot<<30^ot<<19^ot<<10)|0,et=_t+et+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(j^ct&($^j))+3248222580|0,at=at+et|0,et=et+(rt&ot^st&(rt^ot))+(rt>>>2^rt>>>13^rt>>>22^rt<<30^rt<<19^rt<<10)|0,F=(P>>>7^P>>>18^P>>>3^P<<25^P<<14)+(bt>>>17^bt>>>19^bt>>>10^bt<<15^bt<<13)+F+L|0,j=F+j+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+($^at&(ct^$))+3835390401|0,st=st+j|0,j=j+(et&rt^ot&(et^rt))+(et>>>2^et>>>13^et>>>22^et<<30^et<<19^et<<10)|0,P=(G>>>7^G>>>18^G>>>3^G<<25^G<<14)+(_t>>>17^_t>>>19^_t>>>10^_t<<15^_t<<13)+P+Z|0,$=P+$+(st>>>6^st>>>11^st>>>25^st<<26^st<<21^st<<7)+(ct^st&(at^ct))+4022224774|0,ot=ot+$|0,$=$+(j&et^rt&(j^et))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,G=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(F>>>17^F>>>19^F>>>10^F<<15^F<<13)+G+X|0,ct=G+ct+(ot>>>6^ot>>>11^ot>>>25^ot<<26^ot<<21^ot<<7)+(at^ot&(st^at))+264347078|0,rt=rt+ct|0,ct=ct+($&j^et&($^j))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,k=(T>>>7^T>>>18^T>>>3^T<<25^T<<14)+(P>>>17^P>>>19^P>>>10^P<<15^P<<13)+k+it|0,at=k+at+(rt>>>6^rt>>>11^rt>>>25^rt<<26^rt<<21^rt<<7)+(st^rt&(ot^st))+604807628|0,et=et+at|0,at=at+(ct&$^j&(ct^$))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,T=(K>>>7^K>>>18^K>>>3^K<<25^K<<14)+(G>>>17^G>>>19^G>>>10^G<<15^G<<13)+T+pt|0,st=T+st+(et>>>6^et>>>11^et>>>25^et<<26^et<<21^et<<7)+(ot^et&(rt^ot))+770255983|0,j=j+st|0,st=st+(at&ct^$&(at^ct))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,K=(x>>>7^x>>>18^x>>>3^x<<25^x<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+K+bt|0,ot=K+ot+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(rt^j&(et^rt))+1249150122|0,$=$+ot|0,ot=ot+(st&at^ct&(st^at))+(st>>>2^st>>>13^st>>>22^st<<30^st<<19^st<<10)|0,x=(E>>>7^E>>>18^E>>>3^E<<25^E<<14)+(T>>>17^T>>>19^T>>>10^T<<15^T<<13)+x+_t|0,rt=x+rt+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(et^$&(j^et))+1555081692|0,ct=ct+rt|0,rt=rt+(ot&st^at&(ot^st))+(ot>>>2^ot>>>13^ot>>>22^ot<<30^ot<<19^ot<<10)|0,E=(M>>>7^M>>>18^M>>>3^M<<25^M<<14)+(K>>>17^K>>>19^K>>>10^K<<15^K<<13)+E+F|0,et=E+et+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(j^ct&($^j))+1996064986|0,at=at+et|0,et=et+(rt&ot^st&(rt^ot))+(rt>>>2^rt>>>13^rt>>>22^rt<<30^rt<<19^rt<<10)|0,M=(L>>>7^L>>>18^L>>>3^L<<25^L<<14)+(x>>>17^x>>>19^x>>>10^x<<15^x<<13)+M+P|0,j=M+j+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+($^at&(ct^$))+2554220882|0,st=st+j|0,j=j+(et&rt^ot&(et^rt))+(et>>>2^et>>>13^et>>>22^et<<30^et<<19^et<<10)|0,L=(Z>>>7^Z>>>18^Z>>>3^Z<<25^Z<<14)+(E>>>17^E>>>19^E>>>10^E<<15^E<<13)+L+G|0,$=L+$+(st>>>6^st>>>11^st>>>25^st<<26^st<<21^st<<7)+(ct^st&(at^ct))+2821834349|0,ot=ot+$|0,$=$+(j&et^rt&(j^et))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,Z=(X>>>7^X>>>18^X>>>3^X<<25^X<<14)+(M>>>17^M>>>19^M>>>10^M<<15^M<<13)+Z+k|0,ct=Z+ct+(ot>>>6^ot>>>11^ot>>>25^ot<<26^ot<<21^ot<<7)+(at^ot&(st^at))+2952996808|0,rt=rt+ct|0,ct=ct+($&j^et&($^j))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,X=(it>>>7^it>>>18^it>>>3^it<<25^it<<14)+(L>>>17^L>>>19^L>>>10^L<<15^L<<13)+X+T|0,at=X+at+(rt>>>6^rt>>>11^rt>>>25^rt<<26^rt<<21^rt<<7)+(st^rt&(ot^st))+3210313671|0,et=et+at|0,at=at+(ct&$^j&(ct^$))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,it=(pt>>>7^pt>>>18^pt>>>3^pt<<25^pt<<14)+(Z>>>17^Z>>>19^Z>>>10^Z<<15^Z<<13)+it+K|0,st=it+st+(et>>>6^et>>>11^et>>>25^et<<26^et<<21^et<<7)+(ot^et&(rt^ot))+3336571891|0,j=j+st|0,st=st+(at&ct^$&(at^ct))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,pt=(bt>>>7^bt>>>18^bt>>>3^bt<<25^bt<<14)+(X>>>17^X>>>19^X>>>10^X<<15^X<<13)+pt+x|0,ot=pt+ot+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(rt^j&(et^rt))+3584528711|0,$=$+ot|0,ot=ot+(st&at^ct&(st^at))+(st>>>2^st>>>13^st>>>22^st<<30^st<<19^st<<10)|0,bt=(_t>>>7^_t>>>18^_t>>>3^_t<<25^_t<<14)+(it>>>17^it>>>19^it>>>10^it<<15^it<<13)+bt+E|0,rt=bt+rt+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(et^$&(j^et))+113926993|0,ct=ct+rt|0,rt=rt+(ot&st^at&(ot^st))+(ot>>>2^ot>>>13^ot>>>22^ot<<30^ot<<19^ot<<10)|0,_t=(F>>>7^F>>>18^F>>>3^F<<25^F<<14)+(pt>>>17^pt>>>19^pt>>>10^pt<<15^pt<<13)+_t+M|0,et=_t+et+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(j^ct&($^j))+338241895|0,at=at+et|0,et=et+(rt&ot^st&(rt^ot))+(rt>>>2^rt>>>13^rt>>>22^rt<<30^rt<<19^rt<<10)|0,F=(P>>>7^P>>>18^P>>>3^P<<25^P<<14)+(bt>>>17^bt>>>19^bt>>>10^bt<<15^bt<<13)+F+L|0,j=F+j+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+($^at&(ct^$))+666307205|0,st=st+j|0,j=j+(et&rt^ot&(et^rt))+(et>>>2^et>>>13^et>>>22^et<<30^et<<19^et<<10)|0,P=(G>>>7^G>>>18^G>>>3^G<<25^G<<14)+(_t>>>17^_t>>>19^_t>>>10^_t<<15^_t<<13)+P+Z|0,$=P+$+(st>>>6^st>>>11^st>>>25^st<<26^st<<21^st<<7)+(ct^st&(at^ct))+773529912|0,ot=ot+$|0,$=$+(j&et^rt&(j^et))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,G=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(F>>>17^F>>>19^F>>>10^F<<15^F<<13)+G+X|0,ct=G+ct+(ot>>>6^ot>>>11^ot>>>25^ot<<26^ot<<21^ot<<7)+(at^ot&(st^at))+1294757372|0,rt=rt+ct|0,ct=ct+($&j^et&($^j))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,k=(T>>>7^T>>>18^T>>>3^T<<25^T<<14)+(P>>>17^P>>>19^P>>>10^P<<15^P<<13)+k+it|0,at=k+at+(rt>>>6^rt>>>11^rt>>>25^rt<<26^rt<<21^rt<<7)+(st^rt&(ot^st))+1396182291|0,et=et+at|0,at=at+(ct&$^j&(ct^$))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,T=(K>>>7^K>>>18^K>>>3^K<<25^K<<14)+(G>>>17^G>>>19^G>>>10^G<<15^G<<13)+T+pt|0,st=T+st+(et>>>6^et>>>11^et>>>25^et<<26^et<<21^et<<7)+(ot^et&(rt^ot))+1695183700|0,j=j+st|0,st=st+(at&ct^$&(at^ct))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,K=(x>>>7^x>>>18^x>>>3^x<<25^x<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+K+bt|0,ot=K+ot+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(rt^j&(et^rt))+1986661051|0,$=$+ot|0,ot=ot+(st&at^ct&(st^at))+(st>>>2^st>>>13^st>>>22^st<<30^st<<19^st<<10)|0,x=(E>>>7^E>>>18^E>>>3^E<<25^E<<14)+(T>>>17^T>>>19^T>>>10^T<<15^T<<13)+x+_t|0,rt=x+rt+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(et^$&(j^et))+2177026350|0,ct=ct+rt|0,rt=rt+(ot&st^at&(ot^st))+(ot>>>2^ot>>>13^ot>>>22^ot<<30^ot<<19^ot<<10)|0,E=(M>>>7^M>>>18^M>>>3^M<<25^M<<14)+(K>>>17^K>>>19^K>>>10^K<<15^K<<13)+E+F|0,et=E+et+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(j^ct&($^j))+2456956037|0,at=at+et|0,et=et+(rt&ot^st&(rt^ot))+(rt>>>2^rt>>>13^rt>>>22^rt<<30^rt<<19^rt<<10)|0,M=(L>>>7^L>>>18^L>>>3^L<<25^L<<14)+(x>>>17^x>>>19^x>>>10^x<<15^x<<13)+M+P|0,j=M+j+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+($^at&(ct^$))+2730485921|0,st=st+j|0,j=j+(et&rt^ot&(et^rt))+(et>>>2^et>>>13^et>>>22^et<<30^et<<19^et<<10)|0,L=(Z>>>7^Z>>>18^Z>>>3^Z<<25^Z<<14)+(E>>>17^E>>>19^E>>>10^E<<15^E<<13)+L+G|0,$=L+$+(st>>>6^st>>>11^st>>>25^st<<26^st<<21^st<<7)+(ct^st&(at^ct))+2820302411|0,ot=ot+$|0,$=$+(j&et^rt&(j^et))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,Z=(X>>>7^X>>>18^X>>>3^X<<25^X<<14)+(M>>>17^M>>>19^M>>>10^M<<15^M<<13)+Z+k|0,ct=Z+ct+(ot>>>6^ot>>>11^ot>>>25^ot<<26^ot<<21^ot<<7)+(at^ot&(st^at))+3259730800|0,rt=rt+ct|0,ct=ct+($&j^et&($^j))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,X=(it>>>7^it>>>18^it>>>3^it<<25^it<<14)+(L>>>17^L>>>19^L>>>10^L<<15^L<<13)+X+T|0,at=X+at+(rt>>>6^rt>>>11^rt>>>25^rt<<26^rt<<21^rt<<7)+(st^rt&(ot^st))+3345764771|0,et=et+at|0,at=at+(ct&$^j&(ct^$))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,it=(pt>>>7^pt>>>18^pt>>>3^pt<<25^pt<<14)+(Z>>>17^Z>>>19^Z>>>10^Z<<15^Z<<13)+it+K|0,st=it+st+(et>>>6^et>>>11^et>>>25^et<<26^et<<21^et<<7)+(ot^et&(rt^ot))+3516065817|0,j=j+st|0,st=st+(at&ct^$&(at^ct))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,pt=(bt>>>7^bt>>>18^bt>>>3^bt<<25^bt<<14)+(X>>>17^X>>>19^X>>>10^X<<15^X<<13)+pt+x|0,ot=pt+ot+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(rt^j&(et^rt))+3600352804|0,$=$+ot|0,ot=ot+(st&at^ct&(st^at))+(st>>>2^st>>>13^st>>>22^st<<30^st<<19^st<<10)|0,bt=(_t>>>7^_t>>>18^_t>>>3^_t<<25^_t<<14)+(it>>>17^it>>>19^it>>>10^it<<15^it<<13)+bt+E|0,rt=bt+rt+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(et^$&(j^et))+4094571909|0,ct=ct+rt|0,rt=rt+(ot&st^at&(ot^st))+(ot>>>2^ot>>>13^ot>>>22^ot<<30^ot<<19^ot<<10)|0,_t=(F>>>7^F>>>18^F>>>3^F<<25^F<<14)+(pt>>>17^pt>>>19^pt>>>10^pt<<15^pt<<13)+_t+M|0,et=_t+et+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(j^ct&($^j))+275423344|0,at=at+et|0,et=et+(rt&ot^st&(rt^ot))+(rt>>>2^rt>>>13^rt>>>22^rt<<30^rt<<19^rt<<10)|0,F=(P>>>7^P>>>18^P>>>3^P<<25^P<<14)+(bt>>>17^bt>>>19^bt>>>10^bt<<15^bt<<13)+F+L|0,j=F+j+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+($^at&(ct^$))+430227734|0,st=st+j|0,j=j+(et&rt^ot&(et^rt))+(et>>>2^et>>>13^et>>>22^et<<30^et<<19^et<<10)|0,P=(G>>>7^G>>>18^G>>>3^G<<25^G<<14)+(_t>>>17^_t>>>19^_t>>>10^_t<<15^_t<<13)+P+Z|0,$=P+$+(st>>>6^st>>>11^st>>>25^st<<26^st<<21^st<<7)+(ct^st&(at^ct))+506948616|0,ot=ot+$|0,$=$+(j&et^rt&(j^et))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,G=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(F>>>17^F>>>19^F>>>10^F<<15^F<<13)+G+X|0,ct=G+ct+(ot>>>6^ot>>>11^ot>>>25^ot<<26^ot<<21^ot<<7)+(at^ot&(st^at))+659060556|0,rt=rt+ct|0,ct=ct+($&j^et&($^j))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,k=(T>>>7^T>>>18^T>>>3^T<<25^T<<14)+(P>>>17^P>>>19^P>>>10^P<<15^P<<13)+k+it|0,at=k+at+(rt>>>6^rt>>>11^rt>>>25^rt<<26^rt<<21^rt<<7)+(st^rt&(ot^st))+883997877|0,et=et+at|0,at=at+(ct&$^j&(ct^$))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,T=(K>>>7^K>>>18^K>>>3^K<<25^K<<14)+(G>>>17^G>>>19^G>>>10^G<<15^G<<13)+T+pt|0,st=T+st+(et>>>6^et>>>11^et>>>25^et<<26^et<<21^et<<7)+(ot^et&(rt^ot))+958139571|0,j=j+st|0,st=st+(at&ct^$&(at^ct))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,K=(x>>>7^x>>>18^x>>>3^x<<25^x<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+K+bt|0,ot=K+ot+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(rt^j&(et^rt))+1322822218|0,$=$+ot|0,ot=ot+(st&at^ct&(st^at))+(st>>>2^st>>>13^st>>>22^st<<30^st<<19^st<<10)|0,x=(E>>>7^E>>>18^E>>>3^E<<25^E<<14)+(T>>>17^T>>>19^T>>>10^T<<15^T<<13)+x+_t|0,rt=x+rt+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(et^$&(j^et))+1537002063|0,ct=ct+rt|0,rt=rt+(ot&st^at&(ot^st))+(ot>>>2^ot>>>13^ot>>>22^ot<<30^ot<<19^ot<<10)|0,E=(M>>>7^M>>>18^M>>>3^M<<25^M<<14)+(K>>>17^K>>>19^K>>>10^K<<15^K<<13)+E+F|0,et=E+et+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(j^ct&($^j))+1747873779|0,at=at+et|0,et=et+(rt&ot^st&(rt^ot))+(rt>>>2^rt>>>13^rt>>>22^rt<<30^rt<<19^rt<<10)|0,M=(L>>>7^L>>>18^L>>>3^L<<25^L<<14)+(x>>>17^x>>>19^x>>>10^x<<15^x<<13)+M+P|0,j=M+j+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+($^at&(ct^$))+1955562222|0,st=st+j|0,j=j+(et&rt^ot&(et^rt))+(et>>>2^et>>>13^et>>>22^et<<30^et<<19^et<<10)|0,L=(Z>>>7^Z>>>18^Z>>>3^Z<<25^Z<<14)+(E>>>17^E>>>19^E>>>10^E<<15^E<<13)+L+G|0,$=L+$+(st>>>6^st>>>11^st>>>25^st<<26^st<<21^st<<7)+(ct^st&(at^ct))+2024104815|0,ot=ot+$|0,$=$+(j&et^rt&(j^et))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,Z=(X>>>7^X>>>18^X>>>3^X<<25^X<<14)+(M>>>17^M>>>19^M>>>10^M<<15^M<<13)+Z+k|0,ct=Z+ct+(ot>>>6^ot>>>11^ot>>>25^ot<<26^ot<<21^ot<<7)+(at^ot&(st^at))+2227730452|0,rt=rt+ct|0,ct=ct+($&j^et&($^j))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,X=(it>>>7^it>>>18^it>>>3^it<<25^it<<14)+(L>>>17^L>>>19^L>>>10^L<<15^L<<13)+X+T|0,at=X+at+(rt>>>6^rt>>>11^rt>>>25^rt<<26^rt<<21^rt<<7)+(st^rt&(ot^st))+2361852424|0,et=et+at|0,at=at+(ct&$^j&(ct^$))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,it=(pt>>>7^pt>>>18^pt>>>3^pt<<25^pt<<14)+(Z>>>17^Z>>>19^Z>>>10^Z<<15^Z<<13)+it+K|0,st=it+st+(et>>>6^et>>>11^et>>>25^et<<26^et<<21^et<<7)+(ot^et&(rt^ot))+2428436474|0,j=j+st|0,st=st+(at&ct^$&(at^ct))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,pt=(bt>>>7^bt>>>18^bt>>>3^bt<<25^bt<<14)+(X>>>17^X>>>19^X>>>10^X<<15^X<<13)+pt+x|0,ot=pt+ot+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(rt^j&(et^rt))+2756734187|0,$=$+ot|0,ot=ot+(st&at^ct&(st^at))+(st>>>2^st>>>13^st>>>22^st<<30^st<<19^st<<10)|0,bt=(_t>>>7^_t>>>18^_t>>>3^_t<<25^_t<<14)+(it>>>17^it>>>19^it>>>10^it<<15^it<<13)+bt+E|0,rt=bt+rt+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(et^$&(j^et))+3204031479|0,ct=ct+rt|0,rt=rt+(ot&st^at&(ot^st))+(ot>>>2^ot>>>13^ot>>>22^ot<<30^ot<<19^ot<<10)|0,_t=(F>>>7^F>>>18^F>>>3^F<<25^F<<14)+(pt>>>17^pt>>>19^pt>>>10^pt<<15^pt<<13)+_t+M|0,et=_t+et+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(j^ct&($^j))+3329325298|0,at=at+et|0,et=et+(rt&ot^st&(rt^ot))+(rt>>>2^rt>>>13^rt>>>22^rt<<30^rt<<19^rt<<10)|0,i=i+et|0,s=s+rt|0,a=a+ot|0,o=o+st|0,c=c+at|0,u=u+ct|0,h=h+$|0,f=f+j|0}function tt(F){F=F|0,W(N[F|0]<<24|N[F|1]<<16|N[F|2]<<8|N[F|3],N[F|4]<<24|N[F|5]<<16|N[F|6]<<8|N[F|7],N[F|8]<<24|N[F|9]<<16|N[F|10]<<8|N[F|11],N[F|12]<<24|N[F|13]<<16|N[F|14]<<8|N[F|15],N[F|16]<<24|N[F|17]<<16|N[F|18]<<8|N[F|19],N[F|20]<<24|N[F|21]<<16|N[F|22]<<8|N[F|23],N[F|24]<<24|N[F|25]<<16|N[F|26]<<8|N[F|27],N[F|28]<<24|N[F|29]<<16|N[F|30]<<8|N[F|31],N[F|32]<<24|N[F|33]<<16|N[F|34]<<8|N[F|35],N[F|36]<<24|N[F|37]<<16|N[F|38]<<8|N[F|39],N[F|40]<<24|N[F|41]<<16|N[F|42]<<8|N[F|43],N[F|44]<<24|N[F|45]<<16|N[F|46]<<8|N[F|47],N[F|48]<<24|N[F|49]<<16|N[F|50]<<8|N[F|51],N[F|52]<<24|N[F|53]<<16|N[F|54]<<8|N[F|55],N[F|56]<<24|N[F|57]<<16|N[F|58]<<8|N[F|59],N[F|60]<<24|N[F|61]<<16|N[F|62]<<8|N[F|63])}function w(F){F=F|0,N[F|0]=i>>>24,N[F|1]=i>>>16&255,N[F|2]=i>>>8&255,N[F|3]=i&255,N[F|4]=s>>>24,N[F|5]=s>>>16&255,N[F|6]=s>>>8&255,N[F|7]=s&255,N[F|8]=a>>>24,N[F|9]=a>>>16&255,N[F|10]=a>>>8&255,N[F|11]=a&255,N[F|12]=o>>>24,N[F|13]=o>>>16&255,N[F|14]=o>>>8&255,N[F|15]=o&255,N[F|16]=c>>>24,N[F|17]=c>>>16&255,N[F|18]=c>>>8&255,N[F|19]=c&255,N[F|20]=u>>>24,N[F|21]=u>>>16&255,N[F|22]=u>>>8&255,N[F|23]=u&255,N[F|24]=h>>>24,N[F|25]=h>>>16&255,N[F|26]=h>>>8&255,N[F|27]=h&255,N[F|28]=f>>>24,N[F|29]=f>>>16&255,N[F|30]=f>>>8&255,N[F|31]=f&255}function I(){i=1779033703,s=3144134277,a=1013904242,o=2773480762,c=1359893119,u=2600822924,h=528734635,f=1541459225,p=d=0}function J(F,P,G,k,T,K,x,E,M,L){F=F|0,P=P|0,G=G|0,k=k|0,T=T|0,K=K|0,x=x|0,E=E|0,M=M|0,L=L|0,i=F,s=P,a=G,o=k,c=T,u=K,h=x,f=E,p=M,d=L}function Q(F,P){F=F|0,P=P|0;var G=0;if(F&63)return-1;for(;(P|0)>=64;)tt(F),F=F+64|0,P=P-64|0,G=G+64|0;return p=p+G|0,p>>>0<G>>>0&&(d=d+1|0),G|0}function nt(F,P,G){F=F|0,P=P|0,G=G|0;var k=0,T=0;if(F&63||~G&&G&31)return-1;if((P|0)>=64){if(k=Q(F,P)|0,(k|0)==-1)return-1;F=F+k|0,P=P-k|0}if(k=k+P|0,p=p+P|0,p>>>0<P>>>0&&(d=d+1|0),N[F|P]=128,(P|0)>=56){for(T=P+1|0;(T|0)<64;T=T+1|0)N[F|T]=0;tt(F),P=0,N[F|0]=0}for(T=P+1|0;(T|0)<59;T=T+1|0)N[F|T]=0;return N[F|56]=d>>>21&255,N[F|57]=d>>>13&255,N[F|58]=d>>>5&255,N[F|59]=d<<3&255|p>>>29,N[F|60]=p>>>21&255,N[F|61]=p>>>13&255,N[F|62]=p>>>5&255,N[F|63]=p<<3&255,tt(F),~G&&w(G),k|0}function ht(){i=v,s=A,a=S,o=C,c=B,u=U,h=O,f=q,p=64,d=0}function lt(){i=g,s=R,a=l,o=m,c=y,u=b,h=_,f=D,p=64,d=0}function ut(F,P,G,k,T,K,x,E,M,L,Z,X,it,pt,bt,_t){F=F|0,P=P|0,G=G|0,k=k|0,T=T|0,K=K|0,x=x|0,E=E|0,M=M|0,L=L|0,Z=Z|0,X=X|0,it=it|0,pt=pt|0,bt=bt|0,_t=_t|0,I(),W(F^1549556828,P^1549556828,G^1549556828,k^1549556828,T^1549556828,K^1549556828,x^1549556828,E^1549556828,M^1549556828,L^1549556828,Z^1549556828,X^1549556828,it^1549556828,pt^1549556828,bt^1549556828,_t^1549556828),g=i,R=s,l=a,m=o,y=c,b=u,_=h,D=f,I(),W(F^909522486,P^909522486,G^909522486,k^909522486,T^909522486,K^909522486,x^909522486,E^909522486,M^909522486,L^909522486,Z^909522486,X^909522486,it^909522486,pt^909522486,bt^909522486,_t^909522486),v=i,A=s,S=a,C=o,B=c,U=u,O=h,q=f,p=64,d=0}function z(F,P,G){F=F|0,P=P|0,G=G|0;var k=0,T=0,K=0,x=0,E=0,M=0,L=0,Z=0,X=0;return F&63||~G&&G&31?-1:(X=nt(F,P,-1)|0,k=i,T=s,K=a,x=o,E=c,M=u,L=h,Z=f,lt(),W(k,T,K,x,E,M,L,Z,2147483648,0,0,0,0,0,0,768),~G&&w(G),X|0)}function H(F,P,G,k,T){F=F|0,P=P|0,G=G|0,k=k|0,T=T|0;var K=0,x=0,E=0,M=0,L=0,Z=0,X=0,it=0,pt=0,bt=0,_t=0,et=0,rt=0,ot=0,st=0,at=0;if(F&63||~T&&T&31)return-1;for(N[F+P|0]=G>>>24,N[F+P+1|0]=G>>>16&255,N[F+P+2|0]=G>>>8&255,N[F+P+3|0]=G&255,z(F,P+4|0,-1)|0,K=pt=i,x=bt=s,E=_t=a,M=et=o,L=rt=c,Z=ot=u,X=st=h,it=at=f,k=k-1|0;(k|0)>0;)ht(),W(pt,bt,_t,et,rt,ot,st,at,2147483648,0,0,0,0,0,0,768),pt=i,bt=s,_t=a,et=o,rt=c,ot=u,st=h,at=f,lt(),W(pt,bt,_t,et,rt,ot,st,at,2147483648,0,0,0,0,0,0,768),pt=i,bt=s,_t=a,et=o,rt=c,ot=u,st=h,at=f,K=K^i,x=x^s,E=E^a,M=M^o,L=L^c,Z=Z^u,X=X^h,it=it^f,k=k-1|0;return i=K,s=x,a=E,o=M,c=L,u=Z,h=X,f=it,~T&&w(T),0}return{reset:I,init:J,process:Q,finish:nt,hmac_reset:ht,hmac_init:ut,hmac_finish:z,pbkdf2_generate_block:H}}({Uint8Array},null,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(N1.push(this.heap),B1.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(t){return new kc().process(t).finish().result}}kc.NAME="sha256";var Mi=pf;function pf(e,t){if(!e)throw Error(t||"Assertion failed")}pf.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)};var I3=Ar!==void 0?Ar:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Mn(e,t){return e(t={exports:{}},t.exports),t.exports}var vi=Mn(function(e){e.exports=typeof Object.create=="function"?function(t,r){t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}});function z1(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function K1(e){return e.length===1?"0"+e:e}function F1(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}var te={inherits:vi,toArray:function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,a=255&i;s?r.push(s,a):r.push(a)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},toHex:function(e){for(var t="",r=0;r<e.length;r++)t+=K1(e[r].toString(16));return t},htonl:z1,toHex32:function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];t==="little"&&(i=z1(i)),r+=F1(i.toString(16))}return r},zero2:K1,zero8:F1,join32:function(e,t,r,n){var i=r-t;Mi(i%4==0);for(var s=Array(i/4),a=0,o=t;a<s.length;a++,o+=4){var c;c=n==="big"?e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]:e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o],s[a]=c>>>0}return s},split32:function(e,t){for(var r=Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];t==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},rotr32:function(e,t){return e>>>t|e<<32-t},rotl32:function(e,t){return e<<t|e>>>32-t},sum32:function(e,t){return e+t>>>0},sum32_3:function(e,t,r){return e+t+r>>>0},sum32_4:function(e,t,r,n){return e+t+r+n>>>0},sum32_5:function(e,t,r,n,i){return e+t+r+n+i>>>0},sum64:function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0,a=(s<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=s},sum64_hi:function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},sum64_lo:function(e,t,r,n){return t+n>>>0},sum64_4_hi:function(e,t,r,n,i,s,a,o){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+s>>>0)<s?1:0,e+r+i+a+(c+=(u=u+o>>>0)<o?1:0)>>>0},sum64_4_lo:function(e,t,r,n,i,s,a,o){return t+n+s+o>>>0},sum64_5_hi:function(e,t,r,n,i,s,a,o,c,u){var h=0,f=t;return h+=(f=f+n>>>0)<t?1:0,h+=(f=f+s>>>0)<s?1:0,h+=(f=f+o>>>0)<o?1:0,e+r+i+a+c+(h+=(f=f+u>>>0)<u?1:0)>>>0},sum64_5_lo:function(e,t,r,n,i,s,a,o,c,u){return t+n+s+o+u>>>0},rotr64_hi:function(e,t,r){return(t<<32-r|e>>>r)>>>0},rotr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0},shr64_hi:function(e,t,r){return e>>>r},shr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0}};function go(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var U3=go;go.prototype.update=function(e,t){if(e=te.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=te.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},go.prototype.digest=function(e){return this.update(this._pad()),Mi(this.pending===null),this._digest(e)},go.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var ja={BlockHash:U3},tn=te.rotr32;function L1(e,t,r){return e&t^~e&r}function j1(e,t,r){return e&t^e&r^t&r}function q1(e,t,r){return e^t^r}var ns={ft_1:function(e,t,r,n){return e===0?L1(t,r,n):e===1||e===3?q1(t,r,n):e===2?j1(t,r,n):void 0},ch32:L1,maj32:j1,p32:q1,s0_256:function(e){return tn(e,2)^tn(e,13)^tn(e,22)},s1_256:function(e){return tn(e,6)^tn(e,11)^tn(e,25)},g0_256:function(e){return tn(e,7)^tn(e,18)^e>>>3},g1_256:function(e){return tn(e,17)^tn(e,19)^e>>>10}},Br=te.sum32,D3=te.sum32_4,O3=te.sum32_5,N3=ns.ch32,B3=ns.maj32,z3=ns.s0_256,K3=ns.s1_256,F3=ns.g0_256,L3=ns.g1_256,mf=ja.BlockHash,j3=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function an(){if(!(this instanceof an))return new an;mf.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=j3,this.W=Array(64)}te.inherits(an,mf);var k0=an;function Nn(){if(!(this instanceof Nn))return new Nn;k0.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}an.blockSize=512,an.outSize=256,an.hmacStrength=192,an.padLength=64,an.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=D3(L3(r[n-2]),r[n-7],F3(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],a=this.h[2],o=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],f=this.h[7];for(Mi(this.k.length===r.length),n=0;n<r.length;n++){var p=O3(f,K3(c),N3(c,u,h),this.k[n],r[n]),d=Br(z3(i),B3(i,s,a));f=h,h=u,u=c,c=Br(o,p),o=a,a=s,s=i,i=Br(p,d)}this.h[0]=Br(this.h[0],i),this.h[1]=Br(this.h[1],s),this.h[2]=Br(this.h[2],a),this.h[3]=Br(this.h[3],o),this.h[4]=Br(this.h[4],c),this.h[5]=Br(this.h[5],u),this.h[6]=Br(this.h[6],h),this.h[7]=Br(this.h[7],f)},an.prototype._digest=function(e){return e==="hex"?te.toHex32(this.h,"big"):te.split32(this.h,"big")},te.inherits(Nn,k0);var yf=Nn;Nn.blockSize=512,Nn.outSize=224,Nn.hmacStrength=192,Nn.padLength=64,Nn.prototype._digest=function(e){return e==="hex"?te.toHex32(this.h.slice(0,7),"big"):te.split32(this.h.slice(0,7),"big")};var bn=te.rotr64_hi,gn=te.rotr64_lo,bf=te.shr64_hi,gf=te.shr64_lo,ni=te.sum64,eu=te.sum64_hi,ru=te.sum64_lo,q3=te.sum64_4_hi,$3=te.sum64_4_lo,W3=te.sum64_5_hi,H3=te.sum64_5_lo,vf=ja.BlockHash,G3=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Kr(){if(!(this instanceof Kr))return new Kr;vf.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=G3,this.W=Array(160)}te.inherits(Kr,vf);var qa=Kr;function V3(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function Y3(e,t,r,n,i,s){var a=t&n^~t&s;return a<0&&(a+=4294967296),a}function J3(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function X3(e,t,r,n,i,s){var a=t&n^t&s^n&s;return a<0&&(a+=4294967296),a}function Z3(e,t){var r=bn(e,t,28)^bn(t,e,2)^bn(t,e,7);return r<0&&(r+=4294967296),r}function Q3(e,t){var r=gn(e,t,28)^gn(t,e,2)^gn(t,e,7);return r<0&&(r+=4294967296),r}function t5(e,t){var r=bn(e,t,14)^bn(e,t,18)^bn(t,e,9);return r<0&&(r+=4294967296),r}function e5(e,t){var r=gn(e,t,14)^gn(e,t,18)^gn(t,e,9);return r<0&&(r+=4294967296),r}function r5(e,t){var r=bn(e,t,1)^bn(e,t,8)^bf(e,t,7);return r<0&&(r+=4294967296),r}function n5(e,t){var r=gn(e,t,1)^gn(e,t,8)^gf(e,t,7);return r<0&&(r+=4294967296),r}function i5(e,t){var r=bn(e,t,19)^bn(t,e,29)^bf(e,t,6);return r<0&&(r+=4294967296),r}function s5(e,t){var r=gn(e,t,19)^gn(t,e,29)^gf(e,t,6);return r<0&&(r+=4294967296),r}function Bn(){if(!(this instanceof Bn))return new Bn;qa.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Kr.blockSize=1024,Kr.outSize=512,Kr.hmacStrength=192,Kr.padLength=128,Kr.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=i5(r[n-4],r[n-3]),s=s5(r[n-4],r[n-3]),a=r[n-14],o=r[n-13],c=r5(r[n-30],r[n-29]),u=n5(r[n-30],r[n-29]),h=r[n-32],f=r[n-31];r[n]=q3(i,s,a,o,c,u,h,f),r[n+1]=$3(i,s,a,o,c,u,h,f)}},Kr.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],o=this.h[4],c=this.h[5],u=this.h[6],h=this.h[7],f=this.h[8],p=this.h[9],d=this.h[10],v=this.h[11],A=this.h[12],S=this.h[13],C=this.h[14],B=this.h[15];Mi(this.k.length===r.length);for(var U=0;U<r.length;U+=2){var O=C,q=B,g=t5(f,p),R=e5(f,p),l=V3(f,p,d,v,A),m=Y3(f,p,d,v,A,S),y=this.k[U],b=this.k[U+1],_=r[U],D=r[U+1],N=W3(O,q,g,R,l,m,y,b,_,D),W=H3(O,q,g,R,l,m,y,b,_,D);O=Z3(n,i),q=Q3(n,i),g=J3(n,i,s,a,o),R=X3(n,i,s,a,o,c);var tt=eu(O,q,g,R),w=ru(O,q,g,R);C=A,B=S,A=d,S=v,d=f,v=p,f=eu(u,h,N,W),p=ru(h,h,N,W),u=o,h=c,o=s,c=a,s=n,a=i,n=eu(N,W,tt,w),i=ru(N,W,tt,w)}ni(this.h,0,n,i),ni(this.h,2,s,a),ni(this.h,4,o,c),ni(this.h,6,u,h),ni(this.h,8,f,p),ni(this.h,10,d,v),ni(this.h,12,A,S),ni(this.h,14,C,B)},Kr.prototype._digest=function(e){return e==="hex"?te.toHex32(this.h,"big"):te.split32(this.h,"big")},te.inherits(Bn,qa);var wf=Bn;Bn.blockSize=1024,Bn.outSize=384,Bn.hmacStrength=192,Bn.padLength=128,Bn.prototype._digest=function(e){return e==="hex"?te.toHex32(this.h.slice(0,12),"big"):te.split32(this.h.slice(0,12),"big")};var Xa=te.rotl32,$1=te.sum32,js=te.sum32_3,W1=te.sum32_4,_f=ja.BlockHash;function on(){if(!(this instanceof on))return new on;_f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}te.inherits(on,_f);var Af=on;function H1(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function a5(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function o5(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}on.blockSize=512,on.outSize=160,on.hmacStrength=192,on.padLength=64,on.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],a=this.h[4],o=r,c=n,u=i,h=s,f=a,p=0;p<80;p++){var d=$1(Xa(W1(r,H1(p,n,i,s),e[c5[p]+t],a5(p)),l5[p]),a);r=a,a=s,s=Xa(i,10),i=n,n=d,d=$1(Xa(W1(o,H1(79-p,c,u,h),e[u5[p]+t],o5(p)),h5[p]),f),o=f,f=h,h=Xa(u,10),u=c,c=d}d=js(this.h[1],i,h),this.h[1]=js(this.h[2],s,f),this.h[2]=js(this.h[3],a,o),this.h[3]=js(this.h[4],r,c),this.h[4]=js(this.h[0],n,u),this.h[0]=d},on.prototype._digest=function(e){return e==="hex"?te.toHex32(this.h,"little"):te.split32(this.h,"little")};var c5=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u5=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l5=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h5=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f5={ripemd160:Af};function nu(e,t){let r=e[0],n=e[1],i=e[2],s=e[3];r=Ge(r,n,i,s,t[0],7,-680876936),s=Ge(s,r,n,i,t[1],12,-389564586),i=Ge(i,s,r,n,t[2],17,606105819),n=Ge(n,i,s,r,t[3],22,-1044525330),r=Ge(r,n,i,s,t[4],7,-176418897),s=Ge(s,r,n,i,t[5],12,1200080426),i=Ge(i,s,r,n,t[6],17,-1473231341),n=Ge(n,i,s,r,t[7],22,-45705983),r=Ge(r,n,i,s,t[8],7,1770035416),s=Ge(s,r,n,i,t[9],12,-1958414417),i=Ge(i,s,r,n,t[10],17,-42063),n=Ge(n,i,s,r,t[11],22,-1990404162),r=Ge(r,n,i,s,t[12],7,1804603682),s=Ge(s,r,n,i,t[13],12,-40341101),i=Ge(i,s,r,n,t[14],17,-1502002290),n=Ge(n,i,s,r,t[15],22,1236535329),r=Ve(r,n,i,s,t[1],5,-165796510),s=Ve(s,r,n,i,t[6],9,-1069501632),i=Ve(i,s,r,n,t[11],14,643717713),n=Ve(n,i,s,r,t[0],20,-373897302),r=Ve(r,n,i,s,t[5],5,-701558691),s=Ve(s,r,n,i,t[10],9,38016083),i=Ve(i,s,r,n,t[15],14,-660478335),n=Ve(n,i,s,r,t[4],20,-405537848),r=Ve(r,n,i,s,t[9],5,568446438),s=Ve(s,r,n,i,t[14],9,-1019803690),i=Ve(i,s,r,n,t[3],14,-187363961),n=Ve(n,i,s,r,t[8],20,1163531501),r=Ve(r,n,i,s,t[13],5,-1444681467),s=Ve(s,r,n,i,t[2],9,-51403784),i=Ve(i,s,r,n,t[7],14,1735328473),n=Ve(n,i,s,r,t[12],20,-1926607734),r=Ye(r,n,i,s,t[5],4,-378558),s=Ye(s,r,n,i,t[8],11,-2022574463),i=Ye(i,s,r,n,t[11],16,1839030562),n=Ye(n,i,s,r,t[14],23,-35309556),r=Ye(r,n,i,s,t[1],4,-1530992060),s=Ye(s,r,n,i,t[4],11,1272893353),i=Ye(i,s,r,n,t[7],16,-155497632),n=Ye(n,i,s,r,t[10],23,-1094730640),r=Ye(r,n,i,s,t[13],4,681279174),s=Ye(s,r,n,i,t[0],11,-358537222),i=Ye(i,s,r,n,t[3],16,-722521979),n=Ye(n,i,s,r,t[6],23,76029189),r=Ye(r,n,i,s,t[9],4,-640364487),s=Ye(s,r,n,i,t[12],11,-421815835),i=Ye(i,s,r,n,t[15],16,530742520),n=Ye(n,i,s,r,t[2],23,-995338651),r=Je(r,n,i,s,t[0],6,-198630844),s=Je(s,r,n,i,t[7],10,1126891415),i=Je(i,s,r,n,t[14],15,-1416354905),n=Je(n,i,s,r,t[5],21,-57434055),r=Je(r,n,i,s,t[12],6,1700485571),s=Je(s,r,n,i,t[3],10,-1894986606),i=Je(i,s,r,n,t[10],15,-1051523),n=Je(n,i,s,r,t[1],21,-2054922799),r=Je(r,n,i,s,t[8],6,1873313359),s=Je(s,r,n,i,t[15],10,-30611744),i=Je(i,s,r,n,t[6],15,-1560198380),n=Je(n,i,s,r,t[13],21,1309151649),r=Je(r,n,i,s,t[4],6,-145523070),s=Je(s,r,n,i,t[11],10,-1120210379),i=Je(i,s,r,n,t[2],15,718787259),n=Je(n,i,s,r,t[9],21,-343485551),e[0]=pi(r,e[0]),e[1]=pi(n,e[1]),e[2]=pi(i,e[2]),e[3]=pi(s,e[3])}function Pc(e,t,r,n,i,s){return t=pi(pi(t,e),pi(n,s)),pi(t<<i|t>>>32-i,r)}function Ge(e,t,r,n,i,s,a){return Pc(t&r|~t&n,e,t,i,s,a)}function Ve(e,t,r,n,i,s,a){return Pc(t&n|r&~n,e,t,i,s,a)}function Ye(e,t,r,n,i,s,a){return Pc(t^r^n,e,t,i,s,a)}function Je(e,t,r,n,i,s,a){return Pc(r^(t|~n),e,t,i,s,a)}function d5(e){const t=[];let r;for(r=0;r<64;r+=4)t[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return t}const G1="0123456789abcdef".split("");function p5(e){let t="",r=0;for(;r<4;r++)t+=G1[e>>8*r+4&15]+G1[e>>8*r&15];return t}function pi(e,t){return e+t&4294967295}const No=V.getWebCrypto(),Sf=V.getNodeCrypto();function Di(e){return async function(t){const r=Sf.createHash(e);return Se(t,n=>{r.update(n)},()=>new Uint8Array(r.digest()))}}function Za(e,t){return async function(r,n=$t){if(xe(r)&&(r=await Ce(r)),!V.isStream(r)&&No&&t&&r.length>=n.minBytesForWebCrypto)return new Uint8Array(await No.digest(t,r));const i=e();return Se(r,s=>{i.update(s)},()=>new Uint8Array(i.digest()))}}function V1(e,t){return async function(r,n=$t){if(xe(r)&&(r=await Ce(r)),V.isStream(r)){const i=new e;return Se(r,s=>{i.process(s)},()=>i.finish().result)}return No&&t&&r.length>=n.minBytesForWebCrypto?new Uint8Array(await No.digest(t,r)):e.bytes(r)}}let si;si=Sf?{md5:Di("md5"),sha1:Di("sha1"),sha224:Di("sha224"),sha256:Di("sha256"),sha384:Di("sha384"),sha512:Di("sha512"),ripemd:Di("ripemd160")}:{md5:async function(e){const t=function(r){const n=r.length,i=[1732584193,-271733879,-1732584194,271733878];let s;for(s=64;s<=r.length;s+=64)nu(i,d5(r.substring(s-64,s)));r=r.substring(s-64);const a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<r.length;s++)a[s>>2]|=r.charCodeAt(s)<<(s%4<<3);if(a[s>>2]|=128<<(s%4<<3),s>55)for(nu(i,a),s=0;s<16;s++)a[s]=0;return a[14]=8*n,nu(i,a),i}(V.uint8ArrayToString(e));return V.hexToUint8Array(function(r){for(let n=0;n<r.length;n++)r[n]=p5(r[n]);return r.join("")}(t))},sha1:V1(ji,"SHA-1"),sha224:Za(yf),sha256:V1(kc,"SHA-256"),sha384:Za(wf,"SHA-384"),sha512:Za(qa,"SHA-512"),ripemd:Za(Af)};var Es={md5:si.md5,sha1:si.sha1,sha224:si.sha224,sha256:si.sha256,sha384:si.sha384,sha512:si.sha512,ripemd:si.ripemd,digest:function(e,t){switch(e){case Y.hash.md5:return this.md5(t);case Y.hash.sha1:return this.sha1(t);case Y.hash.ripemd:return this.ripemd(t);case Y.hash.sha256:return this.sha256(t);case Y.hash.sha384:return this.sha384(t);case Y.hash.sha512:return this.sha512(t);case Y.hash.sha224:return this.sha224(t);default:throw Error("Invalid hash function.")}},getHashByteLength:function(e){switch(e){case Y.hash.md5:return 16;case Y.hash.sha1:case Y.hash.ripemd:return 20;case Y.hash.sha256:return 32;case Y.hash.sha384:return 48;case Y.hash.sha512:return 64;case Y.hash.sha224:return 28;default:throw Error("Invalid hash algorithm.")}}};class vs{static encrypt(t,r,n){return new vs(r,n).encrypt(t)}static decrypt(t,r,n){return new vs(r,n).decrypt(t)}constructor(t,r,n){this.aes=n||new La(t,r,!0,"CFB"),delete this.aes.padding}encrypt(t){return Ei(this.aes.AES_Encrypt_process(t),this.aes.AES_Encrypt_finish())}decrypt(t){return Ei(this.aes.AES_Decrypt_process(t),this.aes.AES_Decrypt_finish())}}var vn=Mn(function(e){(function(t){var r=function(z){var H,F=new Float64Array(16);if(z)for(H=0;H<z.length;H++)F[H]=z[H];return F},n=function(){throw Error("no PRNG")},i=new Uint8Array(32);i[0]=9;var s=r(),a=r([1]),o=r([56129,1]),c=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(z,H,F,P){return function(G,k,T,K,x){var E,M=0;for(E=0;E<x;E++)M|=G[k+E]^T[K+E];return(1&M-1>>>8)-1}(z,H,F,P,32)}function v(z,H){var F;for(F=0;F<16;F++)z[F]=0|H[F]}function A(z){var H,F,P=1;for(H=0;H<16;H++)F=z[H]+P+65535,P=Math.floor(F/65536),z[H]=F-65536*P;z[0]+=P-1+37*(P-1)}function S(z,H,F){for(var P,G=~(F-1),k=0;k<16;k++)P=G&(z[k]^H[k]),z[k]^=P,H[k]^=P}function C(z,H){var F,P,G,k=r(),T=r();for(F=0;F<16;F++)T[F]=H[F];for(A(T),A(T),A(T),P=0;P<2;P++){for(k[0]=T[0]-65517,F=1;F<15;F++)k[F]=T[F]-65535-(k[F-1]>>16&1),k[F-1]&=65535;k[15]=T[15]-32767-(k[14]>>16&1),G=k[15]>>16&1,k[14]&=65535,S(T,k,1-G)}for(F=0;F<16;F++)z[2*F]=255&T[F],z[2*F+1]=T[F]>>8}function B(z,H){var F=new Uint8Array(32),P=new Uint8Array(32);return C(F,z),C(P,H),d(F,0,P,0)}function U(z){var H=new Uint8Array(32);return C(H,z),1&H[0]}function O(z,H){var F;for(F=0;F<16;F++)z[F]=H[2*F]+(H[2*F+1]<<8);z[15]&=32767}function q(z,H,F){for(var P=0;P<16;P++)z[P]=H[P]+F[P]}function g(z,H,F){for(var P=0;P<16;P++)z[P]=H[P]-F[P]}function R(z,H,F){var P,G,k=0,T=0,K=0,x=0,E=0,M=0,L=0,Z=0,X=0,it=0,pt=0,bt=0,_t=0,et=0,rt=0,ot=0,st=0,at=0,ct=0,$=0,j=0,wt=0,gt=0,Dt=0,ie=0,zt=0,Bt=0,pe=0,Zt=0,ee=0,Te=0,Nt=F[0],Ft=F[1],se=F[2],Ut=F[3],Ht=F[4],fe=F[5],qt=F[6],mt=F[7],yt=F[8],vt=F[9],xt=F[10],Kt=F[11],Ot=F[12],It=F[13],ce=F[14],Gt=F[15];k+=(P=H[0])*Nt,T+=P*Ft,K+=P*se,x+=P*Ut,E+=P*Ht,M+=P*fe,L+=P*qt,Z+=P*mt,X+=P*yt,it+=P*vt,pt+=P*xt,bt+=P*Kt,_t+=P*Ot,et+=P*It,rt+=P*ce,ot+=P*Gt,T+=(P=H[1])*Nt,K+=P*Ft,x+=P*se,E+=P*Ut,M+=P*Ht,L+=P*fe,Z+=P*qt,X+=P*mt,it+=P*yt,pt+=P*vt,bt+=P*xt,_t+=P*Kt,et+=P*Ot,rt+=P*It,ot+=P*ce,st+=P*Gt,K+=(P=H[2])*Nt,x+=P*Ft,E+=P*se,M+=P*Ut,L+=P*Ht,Z+=P*fe,X+=P*qt,it+=P*mt,pt+=P*yt,bt+=P*vt,_t+=P*xt,et+=P*Kt,rt+=P*Ot,ot+=P*It,st+=P*ce,at+=P*Gt,x+=(P=H[3])*Nt,E+=P*Ft,M+=P*se,L+=P*Ut,Z+=P*Ht,X+=P*fe,it+=P*qt,pt+=P*mt,bt+=P*yt,_t+=P*vt,et+=P*xt,rt+=P*Kt,ot+=P*Ot,st+=P*It,at+=P*ce,ct+=P*Gt,E+=(P=H[4])*Nt,M+=P*Ft,L+=P*se,Z+=P*Ut,X+=P*Ht,it+=P*fe,pt+=P*qt,bt+=P*mt,_t+=P*yt,et+=P*vt,rt+=P*xt,ot+=P*Kt,st+=P*Ot,at+=P*It,ct+=P*ce,$+=P*Gt,M+=(P=H[5])*Nt,L+=P*Ft,Z+=P*se,X+=P*Ut,it+=P*Ht,pt+=P*fe,bt+=P*qt,_t+=P*mt,et+=P*yt,rt+=P*vt,ot+=P*xt,st+=P*Kt,at+=P*Ot,ct+=P*It,$+=P*ce,j+=P*Gt,L+=(P=H[6])*Nt,Z+=P*Ft,X+=P*se,it+=P*Ut,pt+=P*Ht,bt+=P*fe,_t+=P*qt,et+=P*mt,rt+=P*yt,ot+=P*vt,st+=P*xt,at+=P*Kt,ct+=P*Ot,$+=P*It,j+=P*ce,wt+=P*Gt,Z+=(P=H[7])*Nt,X+=P*Ft,it+=P*se,pt+=P*Ut,bt+=P*Ht,_t+=P*fe,et+=P*qt,rt+=P*mt,ot+=P*yt,st+=P*vt,at+=P*xt,ct+=P*Kt,$+=P*Ot,j+=P*It,wt+=P*ce,gt+=P*Gt,X+=(P=H[8])*Nt,it+=P*Ft,pt+=P*se,bt+=P*Ut,_t+=P*Ht,et+=P*fe,rt+=P*qt,ot+=P*mt,st+=P*yt,at+=P*vt,ct+=P*xt,$+=P*Kt,j+=P*Ot,wt+=P*It,gt+=P*ce,Dt+=P*Gt,it+=(P=H[9])*Nt,pt+=P*Ft,bt+=P*se,_t+=P*Ut,et+=P*Ht,rt+=P*fe,ot+=P*qt,st+=P*mt,at+=P*yt,ct+=P*vt,$+=P*xt,j+=P*Kt,wt+=P*Ot,gt+=P*It,Dt+=P*ce,ie+=P*Gt,pt+=(P=H[10])*Nt,bt+=P*Ft,_t+=P*se,et+=P*Ut,rt+=P*Ht,ot+=P*fe,st+=P*qt,at+=P*mt,ct+=P*yt,$+=P*vt,j+=P*xt,wt+=P*Kt,gt+=P*Ot,Dt+=P*It,ie+=P*ce,zt+=P*Gt,bt+=(P=H[11])*Nt,_t+=P*Ft,et+=P*se,rt+=P*Ut,ot+=P*Ht,st+=P*fe,at+=P*qt,ct+=P*mt,$+=P*yt,j+=P*vt,wt+=P*xt,gt+=P*Kt,Dt+=P*Ot,ie+=P*It,zt+=P*ce,Bt+=P*Gt,_t+=(P=H[12])*Nt,et+=P*Ft,rt+=P*se,ot+=P*Ut,st+=P*Ht,at+=P*fe,ct+=P*qt,$+=P*mt,j+=P*yt,wt+=P*vt,gt+=P*xt,Dt+=P*Kt,ie+=P*Ot,zt+=P*It,Bt+=P*ce,pe+=P*Gt,et+=(P=H[13])*Nt,rt+=P*Ft,ot+=P*se,st+=P*Ut,at+=P*Ht,ct+=P*fe,$+=P*qt,j+=P*mt,wt+=P*yt,gt+=P*vt,Dt+=P*xt,ie+=P*Kt,zt+=P*Ot,Bt+=P*It,pe+=P*ce,Zt+=P*Gt,rt+=(P=H[14])*Nt,ot+=P*Ft,st+=P*se,at+=P*Ut,ct+=P*Ht,$+=P*fe,j+=P*qt,wt+=P*mt,gt+=P*yt,Dt+=P*vt,ie+=P*xt,zt+=P*Kt,Bt+=P*Ot,pe+=P*It,Zt+=P*ce,ee+=P*Gt,ot+=(P=H[15])*Nt,T+=38*(at+=P*se),K+=38*(ct+=P*Ut),x+=38*($+=P*Ht),E+=38*(j+=P*fe),M+=38*(wt+=P*qt),L+=38*(gt+=P*mt),Z+=38*(Dt+=P*yt),X+=38*(ie+=P*vt),it+=38*(zt+=P*xt),pt+=38*(Bt+=P*Kt),bt+=38*(pe+=P*Ot),_t+=38*(Zt+=P*It),et+=38*(ee+=P*ce),rt+=38*(Te+=P*Gt),k=(P=(k+=38*(st+=P*Ft))+(G=1)+65535)-65536*(G=Math.floor(P/65536)),T=(P=T+G+65535)-65536*(G=Math.floor(P/65536)),K=(P=K+G+65535)-65536*(G=Math.floor(P/65536)),x=(P=x+G+65535)-65536*(G=Math.floor(P/65536)),E=(P=E+G+65535)-65536*(G=Math.floor(P/65536)),M=(P=M+G+65535)-65536*(G=Math.floor(P/65536)),L=(P=L+G+65535)-65536*(G=Math.floor(P/65536)),Z=(P=Z+G+65535)-65536*(G=Math.floor(P/65536)),X=(P=X+G+65535)-65536*(G=Math.floor(P/65536)),it=(P=it+G+65535)-65536*(G=Math.floor(P/65536)),pt=(P=pt+G+65535)-65536*(G=Math.floor(P/65536)),bt=(P=bt+G+65535)-65536*(G=Math.floor(P/65536)),_t=(P=_t+G+65535)-65536*(G=Math.floor(P/65536)),et=(P=et+G+65535)-65536*(G=Math.floor(P/65536)),rt=(P=rt+G+65535)-65536*(G=Math.floor(P/65536)),ot=(P=ot+G+65535)-65536*(G=Math.floor(P/65536)),k=(P=(k+=G-1+37*(G-1))+(G=1)+65535)-65536*(G=Math.floor(P/65536)),T=(P=T+G+65535)-65536*(G=Math.floor(P/65536)),K=(P=K+G+65535)-65536*(G=Math.floor(P/65536)),x=(P=x+G+65535)-65536*(G=Math.floor(P/65536)),E=(P=E+G+65535)-65536*(G=Math.floor(P/65536)),M=(P=M+G+65535)-65536*(G=Math.floor(P/65536)),L=(P=L+G+65535)-65536*(G=Math.floor(P/65536)),Z=(P=Z+G+65535)-65536*(G=Math.floor(P/65536)),X=(P=X+G+65535)-65536*(G=Math.floor(P/65536)),it=(P=it+G+65535)-65536*(G=Math.floor(P/65536)),pt=(P=pt+G+65535)-65536*(G=Math.floor(P/65536)),bt=(P=bt+G+65535)-65536*(G=Math.floor(P/65536)),_t=(P=_t+G+65535)-65536*(G=Math.floor(P/65536)),et=(P=et+G+65535)-65536*(G=Math.floor(P/65536)),rt=(P=rt+G+65535)-65536*(G=Math.floor(P/65536)),ot=(P=ot+G+65535)-65536*(G=Math.floor(P/65536)),k+=G-1+37*(G-1),z[0]=k,z[1]=T,z[2]=K,z[3]=x,z[4]=E,z[5]=M,z[6]=L,z[7]=Z,z[8]=X,z[9]=it,z[10]=pt,z[11]=bt,z[12]=_t,z[13]=et,z[14]=rt,z[15]=ot}function l(z,H){R(z,H,H)}function m(z,H){var F,P=r();for(F=0;F<16;F++)P[F]=H[F];for(F=253;F>=0;F--)l(P,P),F!==2&&F!==4&&R(P,P,H);for(F=0;F<16;F++)z[F]=P[F]}function y(z,H,F){var P,G,k=new Uint8Array(32),T=new Float64Array(80),K=r(),x=r(),E=r(),M=r(),L=r(),Z=r();for(G=0;G<31;G++)k[G]=H[G];for(k[31]=127&H[31]|64,k[0]&=248,O(T,F),G=0;G<16;G++)x[G]=T[G],M[G]=K[G]=E[G]=0;for(K[0]=M[0]=1,G=254;G>=0;--G)S(K,x,P=k[G>>>3]>>>(7&G)&1),S(E,M,P),q(L,K,E),g(K,K,E),q(E,x,M),g(x,x,M),l(M,L),l(Z,K),R(K,E,K),R(E,x,L),q(L,K,E),g(K,K,E),l(x,K),g(E,M,Z),R(K,E,o),q(K,K,M),R(E,E,K),R(K,M,Z),R(M,x,T),l(x,L),S(K,x,P),S(E,M,P);for(G=0;G<16;G++)T[G+16]=K[G],T[G+32]=E[G],T[G+48]=x[G],T[G+64]=M[G];var X=T.subarray(32),it=T.subarray(16);return m(X,X),R(it,it,X),C(z,it),0}function b(z,H){return y(z,H,i)}function _(z,H){var F=r(),P=r(),G=r(),k=r(),T=r(),K=r(),x=r(),E=r(),M=r();g(F,z[1],z[0]),g(M,H[1],H[0]),R(F,F,M),q(P,z[0],z[1]),q(M,H[0],H[1]),R(P,P,M),R(G,z[3],H[3]),R(G,G,u),R(k,z[2],H[2]),q(k,k,k),g(T,P,F),g(K,k,G),q(x,k,G),q(E,P,F),R(z[0],T,K),R(z[1],E,x),R(z[2],x,K),R(z[3],T,E)}function D(z,H,F){var P;for(P=0;P<4;P++)S(z[P],H[P],F)}function N(z,H){var F=r(),P=r(),G=r();m(G,H[2]),R(F,H[0],G),R(P,H[1],G),C(z,P),z[31]^=U(F)<<7}function W(z,H,F){var P,G;for(v(z[0],s),v(z[1],a),v(z[2],a),v(z[3],s),G=255;G>=0;--G)D(z,H,P=F[G/8|0]>>(7&G)&1),_(H,z),_(z,z),D(z,H,P)}function tt(z,H){var F=[r(),r(),r(),r()];v(F[0],h),v(F[1],f),v(F[2],a),R(F[3],h,f),W(z,F,H)}function w(z,H,F){var P,G,k=[r(),r(),r(),r()];for(F||n(H,32),(P=t.hash(H.subarray(0,32)))[0]&=248,P[31]&=127,P[31]|=64,tt(k,P),N(z,k),G=0;G<32;G++)H[G+32]=z[G];return 0}var I=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function J(z,H){var F,P,G,k;for(P=63;P>=32;--P){for(F=0,G=P-32,k=P-12;G<k;++G)H[G]+=F-16*H[P]*I[G-(P-32)],F=Math.floor((H[G]+128)/256),H[G]-=256*F;H[G]+=F,H[P]=0}for(F=0,G=0;G<32;G++)H[G]+=F-(H[31]>>4)*I[G],F=H[G]>>8,H[G]&=255;for(G=0;G<32;G++)H[G]-=F*I[G];for(P=0;P<32;P++)H[P+1]+=H[P]>>8,z[P]=255&H[P]}function Q(z){var H,F=new Float64Array(64);for(H=0;H<64;H++)F[H]=z[H];for(H=0;H<64;H++)z[H]=0;J(z,F)}function nt(z,H){var F=r(),P=r(),G=r(),k=r(),T=r(),K=r(),x=r();return v(z[2],a),O(z[1],H),l(G,z[1]),R(k,G,c),g(G,G,z[2]),q(k,z[2],k),l(T,k),l(K,T),R(x,K,T),R(F,x,G),R(F,F,k),function(E,M){var L,Z=r();for(L=0;L<16;L++)Z[L]=M[L];for(L=250;L>=0;L--)l(Z,Z),L!==1&&R(Z,Z,M);for(L=0;L<16;L++)E[L]=Z[L]}(F,F),R(F,F,G),R(F,F,k),R(F,F,k),R(z[0],F,k),l(P,z[0]),R(P,P,k),B(P,G)&&R(z[0],z[0],p),l(P,z[0]),R(P,P,k),B(P,G)?-1:(U(z[0])===H[31]>>7&&g(z[0],s,z[0]),R(z[3],z[0],z[1]),0)}var ht=64;function lt(){for(var z=0;z<arguments.length;z++)if(!(arguments[z]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ut(z){for(var H=0;H<z.length;H++)z[H]=0}t.scalarMult=function(z,H){if(lt(z,H),z.length!==32)throw Error("bad n size");if(H.length!==32)throw Error("bad p size");var F=new Uint8Array(32);return y(F,z,H),F},t.box={},t.box.keyPair=function(){var z,H,F=new Uint8Array(32),P=new Uint8Array(32);return z=F,n(H=P,32),b(z,H),{publicKey:F,secretKey:P}},t.box.keyPair.fromSecretKey=function(z){if(lt(z),z.length!==32)throw Error("bad secret key size");var H=new Uint8Array(32);return b(H,z),{publicKey:H,secretKey:new Uint8Array(z)}},t.sign=function(z,H){if(lt(z,H),H.length!==64)throw Error("bad secret key size");var F=new Uint8Array(ht+z.length);return function(P,G,k,T){var K,x,E,M,L,Z=new Float64Array(64),X=[r(),r(),r(),r()];(K=t.hash(T.subarray(0,32)))[0]&=248,K[31]&=127,K[31]|=64;var it=k+64;for(M=0;M<k;M++)P[64+M]=G[M];for(M=0;M<32;M++)P[32+M]=K[32+M];for(Q(E=t.hash(P.subarray(32,it))),tt(X,E),N(P,X),M=32;M<64;M++)P[M]=T[M];for(Q(x=t.hash(P.subarray(0,it))),M=0;M<64;M++)Z[M]=0;for(M=0;M<32;M++)Z[M]=E[M];for(M=0;M<32;M++)for(L=0;L<32;L++)Z[M+L]+=x[M]*K[L];J(P.subarray(32),Z)}(F,z,z.length,H),F},t.sign.detached=function(z,H){for(var F=t.sign(z,H),P=new Uint8Array(ht),G=0;G<P.length;G++)P[G]=F[G];return P},t.sign.detached.verify=function(z,H,F){if(lt(z,H,F),H.length!==ht)throw Error("bad signature size");if(F.length!==32)throw Error("bad public key size");var P,G=new Uint8Array(ht+z.length),k=new Uint8Array(ht+z.length);for(P=0;P<ht;P++)G[P]=H[P];for(P=0;P<z.length;P++)G[P+ht]=z[P];return function(T,K,x,E){var M,L,Z=new Uint8Array(32),X=[r(),r(),r(),r()],it=[r(),r(),r(),r()];if(x<64||nt(it,E))return-1;for(M=0;M<x;M++)T[M]=K[M];for(M=0;M<32;M++)T[M+32]=E[M];if(Q(L=t.hash(T.subarray(0,x))),W(X,it,L),tt(it,K.subarray(32)),_(X,it),N(Z,X),x-=64,d(K,0,Z,0)){for(M=0;M<x;M++)T[M]=0;return-1}for(M=0;M<x;M++)T[M]=K[M+64];return x}(k,G,G.length,F)>=0},t.sign.keyPair=function(){var z=new Uint8Array(32),H=new Uint8Array(64);return w(z,H),{publicKey:z,secretKey:H}},t.sign.keyPair.fromSecretKey=function(z){if(lt(z),z.length!==64)throw Error("bad secret key size");for(var H=new Uint8Array(32),F=0;F<H.length;F++)H[F]=z[32+F];return{publicKey:H,secretKey:new Uint8Array(z)}},t.sign.keyPair.fromSeed=function(z){if(lt(z),z.length!==32)throw Error("bad seed size");for(var H=new Uint8Array(32),F=new Uint8Array(64),P=0;P<32;P++)F[P]=z[P];return w(H,F,!0),{publicKey:H,secretKey:F}},t.setPRNG=function(z){n=z},function(){var z=typeof self!="undefined"?self.crypto||self.msCrypto:null;z&&z.getRandomValues?t.setPRNG(function(H,F){var P,G=new Uint8Array(F);for(P=0;P<F;P+=65536)z.getRandomValues(G.subarray(P,P+Math.min(F-P,65536)));for(P=0;P<F;P++)H[P]=G[P];ut(G)}):(z=void 0)&&z.randomBytes&&t.setPRNG(function(H,F){var P,G=z.randomBytes(F);for(P=0;P<F;P++)H[P]=G[P];ut(G)})}()})(e.exports?e.exports:self.nacl=self.nacl||{})});const Y1=V.getNodeCrypto();async function wn(e){const t=new Uint8Array(e);if(typeof crypto!="undefined"&&crypto.getRandomValues)crypto.getRandomValues(t);else if(Y1){const r=Y1.randomBytes(t.length);t.set(r)}else{if(!Lu.buffer)throw Error("No secure random number generator available.");await Lu.get(t)}return t}async function Hn(e,t){const r=await V.getBigInteger();if(t.lt(e))throw Error("Illegal parameter value: max <= min");const n=t.sub(e),i=n.byteLength();return new r(await wn(i+8)).mod(n).add(e)}const Lu=new class{constructor(){this.buffer=null,this.size=null,this.callback=null}init(e,t){this.buffer=new Uint8Array(e),this.size=0,this.callback=t}set(e){if(!this.buffer)throw Error("RandomBuffer is not initialized");if(!(e instanceof Uint8Array))throw Error("Invalid type: buf not an Uint8Array");const t=this.buffer.length-this.size;e.length>t&&(e=e.subarray(0,t)),this.buffer.set(e,this.size),this.size+=e.length}async get(e){if(!this.buffer)throw Error("RandomBuffer is not initialized");if(!(e instanceof Uint8Array))throw Error("Invalid type: buf not an Uint8Array");if(this.size<e.length){if(!this.callback)throw Error("Random number buffer depleted");return await this.callback(),this.get(e)}for(let t=0;t<e.length;t++)e[t]=this.buffer[--this.size],this.buffer[this.size]=0}};var m5=Object.freeze({__proto__:null,getRandomBytes:wn,getRandomBigInteger:Hn,randomBuffer:Lu});async function J1(e,t,r){const n=await V.getBigInteger(),i=new n(1),s=i.leftShift(new n(e-1)),a=new n(30),o=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],c=await Hn(s,s.leftShift(i));let u=c.mod(a).toNumber();do c.iadd(new n(o[u])),u=(u+o[u])%o.length,c.bitLength()>e&&(c.imod(s.leftShift(i)).iadd(s),u=c.mod(a).toNumber());while(!await Ef(c,t,r));return c}async function Ef(e,t,r){return!(t&&!e.dec().gcd(t).isOne())&&!!await async function(n){const i=await V.getBigInteger();return y5.every(s=>n.mod(new i(s))!==0)}(e)&&!!await async function(n,i){const s=await V.getBigInteger();return(i=i||new s(2)).modExp(n.dec(),n).isOne()}(e)&&!!await async function(n,i,s){const a=await V.getBigInteger(),o=n.bitLength();i||(i=Math.max(1,o/48|0));const c=n.dec();let u=0;for(;!c.getBit(u);)u++;const h=n.rightShift(new a(u));for(;i>0;i--){let f,p=(s?s():await Hn(new a(2),c)).modExp(h,n);if(!p.isOne()&&!p.equal(c)){for(f=1;f<u;f++){if(p=p.mul(p).mod(n),p.isOne())return!1;if(p.equal(c))break}if(f===u)return!1}}return!0}(e,r)}const y5=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999],sn=[];async function P0(e,t){const r=e.length;if(r>t-11)throw Error("Message too long");const n=await async function(s){const a=new Uint8Array(s);let o=0;for(;o<s;){const c=await wn(s-o);for(let u=0;u<c.length;u++)c[u]!==0&&(a[o++]=c[u])}return a}(t-r-3),i=new Uint8Array(t);return i[1]=2,i.set(n,2),i.set(e,t-r),i}function x0(e,t){let r=2,n=1;for(let o=r;o<e.length;o++)n&=e[o]!==0,r+=n;const i=r-2,s=e.subarray(r+1),a=e[0]===0&e[1]===2&i>=8&!n;if(t)return V.selectUint8Array(a,s,t);if(a)return s;throw Error("Decryption error")}async function ju(e,t,r){let n;if(t.length!==Es.getHashByteLength(e))throw Error("Invalid hash length");const i=new Uint8Array(sn[e].length);for(n=0;n<sn[e].length;n++)i[n]=sn[e][n];const s=i.length+t.length;if(r<s+11)throw Error("Intended encoded message length too short");const a=new Uint8Array(r-s-3).fill(255),o=new Uint8Array(r);return o[1]=1,o.set(a,2),o.set(i,r-s),o.set(t,r-t.length),o}sn[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],sn[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],sn[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],sn[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],sn[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],sn[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],sn[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];var b5=Object.freeze({__proto__:null,emeEncode:P0,emeDecode:x0,emsaEncode:ju});const as=V.getWebCrypto(),Ze=V.getNodeCrypto(),kf=void 0,os=Ze?kf.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}):void 0,Qa=Ze?kf.define("RSAPubliceKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}):void 0;var g5=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,s,a,o,c){if(t&&!V.isStream(t)){if(V.getWebCrypto())try{return await async function(u,h,f,p,d,v,A,S){const C=await async function(O,q,g,R,l,m){const y=await V.getBigInteger(),b=new y(R),_=new y(l),D=new y(g);let N=D.mod(_.dec()),W=D.mod(b.dec());return W=W.toUint8Array(),N=N.toUint8Array(),{kty:"RSA",n:wr(O,!0),e:wr(q,!0),d:wr(g,!0),p:wr(l,!0),q:wr(R,!0),dp:wr(N,!0),dq:wr(W,!0),qi:wr(m,!0),ext:!0}}(f,p,d,v,A,S),B={name:"RSASSA-PKCS1-v1_5",hash:{name:u}},U=await as.importKey("jwk",C,B,!1,["sign"]);return new Uint8Array(await as.sign("RSASSA-PKCS1-v1_5",U,h))}(Y.read(Y.webHash,e),t,r,n,i,s,a,o)}catch(u){V.printDebugError(u)}else if(V.getNodeCrypto())return async function(u,h,f,p,d,v,A,S){const{default:C}=await Promise.resolve().then(function(){return aa}),B=new C(v),U=new C(A),O=new C(d),q=O.mod(U.subn(1)),g=O.mod(B.subn(1)),R=Ze.createSign(Y.read(Y.hash,u));R.write(h),R.end();const l={version:0,modulus:new C(f),publicExponent:new C(p),privateExponent:new C(d),prime1:new C(A),prime2:new C(v),exponent1:q,exponent2:g,coefficient:new C(S)};if(Ze.createPrivateKey!==void 0){const y=os.encode(l,"der");return new Uint8Array(R.sign({key:y,format:"der",type:"pkcs1"}))}const m=os.encode(l,"pem",{label:"RSA PRIVATE KEY"});return new Uint8Array(R.sign(m))}(e,t,r,n,i,s,a,o)}return async function(u,h,f,p){const d=await V.getBigInteger();h=new d(h);const v=new d(await ju(u,p,h.byteLength()));if(f=new d(f),v.gte(h))throw Error("Message size cannot exceed modulus size");return v.modExp(f,h).toUint8Array("be",h.byteLength())}(e,r,i,c)},verify:async function(e,t,r,n,i,s){if(t&&!V.isStream(t)){if(V.getWebCrypto())try{return await async function(a,o,c,u,h){const f=function(d,v){return{kty:"RSA",n:wr(d,!0),e:wr(v,!0),ext:!0}}(u,h),p=await as.importKey("jwk",f,{name:"RSASSA-PKCS1-v1_5",hash:{name:a}},!1,["verify"]);return as.verify("RSASSA-PKCS1-v1_5",p,c,o)}(Y.read(Y.webHash,e),t,r,n,i)}catch(a){V.printDebugError(a)}else if(V.getNodeCrypto())return async function(a,o,c,u,h){const{default:f}=await Promise.resolve().then(function(){return aa}),p=Ze.createVerify(Y.read(Y.hash,a));p.write(o),p.end();const d={modulus:new f(u),publicExponent:new f(h)};let v;Ze.createPrivateKey!==void 0?v={key:Qa.encode(d,"der"),format:"der",type:"pkcs1"}:v=Qa.encode(d,"pem",{label:"RSA PUBLIC KEY"});try{return await p.verify(v,c)}catch{return!1}}(e,t,r,n,i)}return async function(a,o,c,u,h){const f=await V.getBigInteger();if(c=new f(c),o=new f(o),u=new f(u),o.gte(c))throw Error("Signature size cannot exceed modulus size");const p=o.modExp(u,c).toUint8Array("be",c.byteLength()),d=await ju(a,h,c.byteLength());return V.equalsUint8Array(p,d)}(e,r,n,i,s)},encrypt:async function(e,t,r){return V.getNodeCrypto()?async function(n,i,s){const{default:a}=await Promise.resolve().then(function(){return aa}),o={modulus:new a(i),publicExponent:new a(s)};let c;return Ze.createPrivateKey!==void 0?c={key:Qa.encode(o,"der"),format:"der",type:"pkcs1",padding:Ze.constants.RSA_PKCS1_PADDING}:c={key:Qa.encode(o,"pem",{label:"RSA PUBLIC KEY"}),padding:Ze.constants.RSA_PKCS1_PADDING},new Uint8Array(Ze.publicEncrypt(c,n))}(e,t,r):async function(n,i,s){const a=await V.getBigInteger();if(i=new a(i),n=new a(await P0(n,i.byteLength())),s=new a(s),n.gte(i))throw Error("Message size cannot exceed modulus size");return n.modExp(s,i).toUint8Array("be",i.byteLength())}(e,t,r)},decrypt:async function(e,t,r,n,i,s,a,o){return V.getNodeCrypto()?async function(c,u,h,f,p,d,v,A){const{default:S}=await Promise.resolve().then(function(){return aa}),C=new S(p),B=new S(d),U=new S(f),O=U.mod(B.subn(1)),q=U.mod(C.subn(1)),g={version:0,modulus:new S(u),publicExponent:new S(h),privateExponent:new S(f),prime1:new S(d),prime2:new S(p),exponent1:O,exponent2:q,coefficient:new S(v)};let R;Ze.createPrivateKey!==void 0?R={key:os.encode(g,"der"),format:"der",type:"pkcs1",padding:Ze.constants.RSA_PKCS1_PADDING}:R={key:os.encode(g,"pem",{label:"RSA PRIVATE KEY"}),padding:Ze.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(Ze.privateDecrypt(R,c))}catch{if(A)return A;throw Error("Decryption error")}}(e,t,r,n,i,s,a,o):async function(c,u,h,f,p,d,v,A){const S=await V.getBigInteger();if(c=new S(c),u=new S(u),h=new S(h),f=new S(f),p=new S(p),d=new S(d),v=new S(v),c.gte(u))throw Error("Data too large.");const C=f.mod(d.dec()),B=f.mod(p.dec()),U=(await Hn(new S(2),u)).mod(u),O=U.modInv(u).modExp(h,u),q=(c=c.mul(O).mod(u)).modExp(B,p),g=c.modExp(C,d);let R=v.mul(g.sub(q)).mod(d).mul(p).add(q);return R=R.mul(U).mod(u),x0(R.toUint8Array("be",u.byteLength()),A)}(e,t,r,n,i,s,a,o)},generate:async function(e,t){if(t=new(await V.getBigInteger())(t),V.getWebCrypto()){const a={name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:t.toUint8Array(),hash:{name:"SHA-1"}},o=await as.generateKey(a,!0,["sign","verify"]),c=await as.exportKey("jwk",o.privateKey);return{n:On(c.n),e:t.toUint8Array(),d:On(c.d),p:On(c.q),q:On(c.p),u:On(c.qi)}}if(V.getNodeCrypto()&&Ze.generateKeyPair&&os){const a={modulusLength:e,publicExponent:t.toNumber(),publicKeyEncoding:{type:"pkcs1",format:"der"},privateKeyEncoding:{type:"pkcs1",format:"der"}},o=await new Promise((c,u)=>Ze.generateKeyPair("rsa",a,(h,f,p)=>{h?u(h):c(os.decode(p,"der"))}));return{n:o.modulus.toArrayLike(Uint8Array),e:o.publicExponent.toArrayLike(Uint8Array),d:o.privateExponent.toArrayLike(Uint8Array),p:o.prime2.toArrayLike(Uint8Array),q:o.prime1.toArrayLike(Uint8Array),u:o.coefficient.toArrayLike(Uint8Array)}}let r,n,i;do n=await J1(e-(e>>1),t,40),r=await J1(e>>1,t,40),i=r.mul(n);while(i.bitLength()!==e);const s=r.dec().imul(n.dec());return n.lt(r)&&([r,n]=[n,r]),{n:i.toUint8Array(),e:t.toUint8Array(),d:t.modInv(s).toUint8Array(),p:r.toUint8Array(),q:n.toUint8Array(),u:r.modInv(n).toUint8Array()}},validateParams:async function(e,t,r,n,i,s){const a=await V.getBigInteger();if(e=new a(e),n=new a(n),i=new a(i),!n.mul(i).equal(e))return!1;const o=new a(2);if(s=new a(s),!n.mul(s).mod(i).isOne())return!1;t=new a(t),r=new a(r);const c=new a(Math.floor(e.bitLength()/3)),u=await Hn(o,o.leftShift(c)),h=u.mul(r).mul(t);return!(!h.mod(n.dec()).equal(u)||!h.mod(i.dec()).equal(u))}}),v5=Object.freeze({__proto__:null,encrypt:async function(e,t,r,n){const i=await V.getBigInteger();t=new i(t),r=new i(r),n=new i(n);const s=new i(await P0(e,t.byteLength())),a=await Hn(new i(1),t.dec());return{c1:r.modExp(a,t).toUint8Array(),c2:n.modExp(a,t).imul(s).imod(t).toUint8Array()}},decrypt:async function(e,t,r,n,i){const s=await V.getBigInteger();return e=new s(e),t=new s(t),r=new s(r),n=new s(n),x0(e.modExp(n,r).modInv(r).imul(t).imod(r).toUint8Array("be",r.byteLength()),i)},validateParams:async function(e,t,r,n){const i=await V.getBigInteger();e=new i(e),t=new i(t),r=new i(r);const s=new i(1);if(t.lte(s)||t.gte(e))return!1;const a=new i(e.bitLength()),o=new i(1023);if(a.lt(o)||!t.modExp(e.dec(),e).isOne())return!1;let c=t;const u=new i(1),h=new i(2).leftShift(new i(17));for(;u.lt(h);){if(c=c.mul(t).imod(e),c.isOne())return!1;u.iinc()}n=new i(n);const f=new i(2),p=await Hn(f.leftShift(a.dec()),f.leftShift(a)),d=e.dec().imul(p).iadd(n);return!!r.equal(t.modExp(d,e))}});class cn{constructor(t){if(t instanceof cn)this.oid=t.oid;else if(V.isArray(t)||V.isUint8Array(t)){if((t=new Uint8Array(t))[0]===6){if(t[1]!==t.length-2)throw Error("Length mismatch in DER encoded oid");t=t.subarray(2)}this.oid=t}else this.oid=""}read(t){if(t.length>=1){const r=t[0];if(t.length>=1+r)return this.oid=t.subarray(1,1+r),1+this.oid.length}throw Error("Invalid oid")}write(){return V.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return V.uint8ArrayToHex(this.oid)}getName(){const t=this.toHex();if(Y.curve[t])return Y.write(Y.curve,t);throw Error("Unknown curve object identifier.")}}function xc(e,t){return e.keyPair({priv:t})}function Mc(e,t){const r=e.keyPair({pub:t});if(r.validate().result!==!0)throw Error("Invalid elliptic public key");return r}async function Us(e){if(!$t.useIndutnyElliptic)throw Error("This curve is only supported in the full build of OpenPGP.js");const{default:t}=await Promise.resolve().then(function(){return C6});return new t.ec(e)}function w5(e){let t,r=0;const n=e[0];return n<192?([r]=e,t=1):n<255?(r=(e[0]-192<<8)+e[1]+192,t=2):n===255&&(r=V.readNumber(e.subarray(1,5)),t=5),{len:r,offset:t}}function Tc(e){return e<192?new Uint8Array([e]):e>191&&e<8384?new Uint8Array([192+(e-192>>8),e-192&255]):V.concatUint8Array([new Uint8Array([255]),V.writeNumber(e,4)])}function _5(e){if(e<0||e>30)throw Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+e])}function Pf(e){return new Uint8Array([192|e])}function X1(e,t){return V.concatUint8Array([Pf(e),Tc(t)])}function vo(e){return[Y.packet.literalData,Y.packet.compressedData,Y.packet.symmetricallyEncryptedData,Y.packet.symEncryptedIntegrityProtectedData,Y.packet.aeadEncryptedData].includes(e)}async function A5(e,t){const r=xn(e);let n,i;try{const s=await r.peekBytes(2);if(!s||s.length<2||(128&s[0])==0)throw Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");const a=await r.readByte();let o,c,u=-1,h=-1;h=0,(64&a)!=0&&(h=1),h?u=63&a:(u=(63&a)>>2,c=3&a);const f=vo(u);let p,d=null;if(f){if(V.isStream(e)==="array"){const A=new fn;n=br(A),d=A}else{const A=new Ss;n=br(A.writable),d=A.readable}i=t({tag:u,packet:d})}else d=[];do{if(h){const A=await r.readByte();if(p=!1,A<192)o=A;else if(A>=192&&A<224)o=(A-192<<8)+await r.readByte()+192;else if(A>223&&A<255){if(o=1<<(31&A),p=!0,!f)throw new TypeError("This packet type does not support partial lengths.")}else o=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte()}else switch(c){case 0:o=await r.readByte();break;case 1:o=await r.readByte()<<8|await r.readByte();break;case 2:o=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte();break;default:o=1/0}if(o>0){let A=0;for(;;){n&&await n.ready;const{done:S,value:C}=await r.read();if(S){if(o===1/0)break;throw Error("Unexpected end of packet")}const B=o===1/0?C:C.subarray(0,o-A);if(n?await n.write(B):d.push(B),A+=C.length,A>=o){r.unshift(C.subarray(o-A+C.length));break}}}}while(p);const v=await r.peekBytes(f?1/0:2);return n?(await n.ready,await n.close()):(d=V.concatUint8Array(d),await t({tag:u,packet:d})),!v||!v.length}catch(s){if(n)return await n.abort(s),!0;throw s}finally{n&&await i,r.releaseLock()}}class De extends Error{constructor(...t){super(...t),Error.captureStackTrace&&Error.captureStackTrace(this,De),this.name="UnsupportedError"}}class Z1{constructor(t,r){this.tag=t,this.rawContent=r}write(){return this.rawContent}}const iu=V.getWebCrypto(),Bo=V.getNodeCrypto(),_n={p256:"P-256",p384:"P-384",p521:"P-521"},In=Bo?Bo.getCurves():[],ai=Bo?{secp256k1:In.includes("secp256k1")?"secp256k1":void 0,p256:In.includes("prime256v1")?"prime256v1":void 0,p384:In.includes("secp384r1")?"secp384r1":void 0,p521:In.includes("secp521r1")?"secp521r1":void 0,ed25519:In.includes("ED25519")?"ED25519":void 0,curve25519:In.includes("X25519")?"X25519":void 0,brainpoolP256r1:In.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,brainpoolP384r1:In.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,brainpoolP512r1:In.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},wo={p256:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:Y.publicKey.ecdsa,hash:Y.hash.sha256,cipher:Y.symmetric.aes128,node:ai.p256,web:_n.p256,payloadSize:32,sharedSize:256},p384:{oid:[6,5,43,129,4,0,34],keyType:Y.publicKey.ecdsa,hash:Y.hash.sha384,cipher:Y.symmetric.aes192,node:ai.p384,web:_n.p384,payloadSize:48,sharedSize:384},p521:{oid:[6,5,43,129,4,0,35],keyType:Y.publicKey.ecdsa,hash:Y.hash.sha512,cipher:Y.symmetric.aes256,node:ai.p521,web:_n.p521,payloadSize:66,sharedSize:528},secp256k1:{oid:[6,5,43,129,4,0,10],keyType:Y.publicKey.ecdsa,hash:Y.hash.sha256,cipher:Y.symmetric.aes128,node:ai.secp256k1,payloadSize:32},ed25519:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:Y.publicKey.eddsa,hash:Y.hash.sha512,node:!1,payloadSize:32},curve25519:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:Y.publicKey.ecdh,hash:Y.hash.sha256,cipher:Y.symmetric.aes128,node:!1,payloadSize:32},brainpoolP256r1:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:Y.publicKey.ecdsa,hash:Y.hash.sha256,cipher:Y.symmetric.aes128,node:ai.brainpoolP256r1,payloadSize:32},brainpoolP384r1:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:Y.publicKey.ecdsa,hash:Y.hash.sha384,cipher:Y.symmetric.aes192,node:ai.brainpoolP384r1,payloadSize:48},brainpoolP512r1:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:Y.publicKey.ecdsa,hash:Y.hash.sha512,cipher:Y.symmetric.aes256,node:ai.brainpoolP512r1,payloadSize:64}};class Gn{constructor(t,r){try{(V.isArray(t)||V.isUint8Array(t))&&(t=new cn(t)),t instanceof cn&&(t=t.getName()),this.name=Y.write(Y.curve,t)}catch{throw new De("Unknown curve")}r=r||wo[this.name],this.keyType=r.keyType,this.oid=r.oid,this.hash=r.hash,this.cipher=r.cipher,this.node=r.node&&wo[this.name],this.web=r.web&&wo[this.name],this.payloadSize=r.payloadSize,this.web&&V.getWebCrypto()?this.type="web":this.node&&V.getNodeCrypto()?this.type="node":this.name==="curve25519"?this.type="curve25519":this.name==="ed25519"&&(this.type="ed25519")}async genKeyPair(){let t;switch(this.type){case"web":try{return await async function(n){const i=await iu.generateKey({name:"ECDSA",namedCurve:_n[n]},!0,["sign","verify"]),s=await iu.exportKey("jwk",i.privateKey);return{publicKey:Mf(await iu.exportKey("jwk",i.publicKey)),privateKey:On(s.d)}}(this.name)}catch(n){V.printDebugError("Browser did not support generating ec key "+n.message);break}case"node":return async function(n){const i=Bo.createECDH(ai[n]);return await i.generateKeys(),{publicKey:new Uint8Array(i.getPublicKey()),privateKey:new Uint8Array(i.getPrivateKey())}}(this.name);case"curve25519":{const n=await wn(32);n[0]=127&n[0]|64,n[31]&=248;const i=n.slice().reverse();return t=vn.box.keyPair.fromSecretKey(i),{publicKey:V.concatUint8Array([new Uint8Array([64]),t.publicKey]),privateKey:n}}case"ed25519":{const n=await wn(32),i=vn.sign.keyPair.fromSeed(n);return{publicKey:V.concatUint8Array([new Uint8Array([64]),i.publicKey]),privateKey:n}}}return t=await(await Us(this.name)).genKeyPair({entropy:V.uint8ArrayToString(await wn(32))}),{publicKey:new Uint8Array(t.getPublic("array",!1)),privateKey:t.getPrivate().toArrayLike(Uint8Array)}}}async function xf(e,t,r,n){const i={p256:!0,p384:!0,p521:!0,secp256k1:!0,curve25519:e===Y.publicKey.ecdh,brainpoolP256r1:!0,brainpoolP384r1:!0,brainpoolP512r1:!0},s=t.getName();if(!i[s])return!1;if(s==="curve25519"){n=n.slice().reverse();const{publicKey:o}=vn.box.keyPair.fromSecretKey(n);r=new Uint8Array(r);const c=new Uint8Array([64,...o]);return!!V.equalsUint8Array(c,r)}const a=await Us(s);try{r=Mc(a,r).getPublic()}catch{return!1}return!!xc(a,n).getPublic().eq(r)}function Mf(e){const t=On(e.x),r=On(e.y),n=new Uint8Array(t.length+r.length+1);return n[0]=4,n.set(t,1),n.set(r,t.length+1),n}function Cc(e,t,r){const n=e,i=r.slice(1,n+1),s=r.slice(n+1,2*n+1);return{kty:"EC",crv:t,x:wr(i,!0),y:wr(s,!0),ext:!0}}function Tf(e,t,r,n){const i=Cc(e,t,r);return i.d=wr(n,!0),i}const zo=V.getWebCrypto(),Ds=V.getNodeCrypto();async function Q1(e,t,r,n,i,s){const a=new Gn(e);if(r&&!V.isStream(r)){const o={publicKey:n,privateKey:i};switch(a.type){case"web":try{return await async function(c,u,h,f){const p=c.payloadSize,d=Tf(c.payloadSize,_n[c.name],f.publicKey,f.privateKey),v=await zo.importKey("jwk",d,{name:"ECDSA",namedCurve:_n[c.name],hash:{name:Y.read(Y.webHash,c.hash)}},!1,["sign"]),A=new Uint8Array(await zo.sign({name:"ECDSA",namedCurve:_n[c.name],hash:{name:Y.read(Y.webHash,u)}},v,h));return{r:A.slice(0,p),s:A.slice(p,p<<1)}}(a,t,r,o)}catch(c){if(a.name!=="p521"&&(c.name==="DataError"||c.name==="OperationError"))throw c;V.printDebugError("Browser did not support signing: "+c.message)}break;case"node":{const c=await async function(u,h,f,p){const d=Ds.createSign(Y.read(Y.hash,h));d.write(f),d.end();const v=S5.encode({version:1,parameters:u.oid,privateKey:Array.from(p.privateKey),publicKey:{unused:0,data:Array.from(p.publicKey)}},"pem",{label:"EC PRIVATE KEY"});return Cf.decode(d.sign(v),"der")}(a,t,r,o);return{r:c.r.toArrayLike(Uint8Array),s:c.s.toArrayLike(Uint8Array)}}}}return async function(o,c,u){const h=await Us(o.name),f=xc(h,u).sign(c);return{r:f.r.toArrayLike(Uint8Array),s:f.s.toArrayLike(Uint8Array)}}(a,s,i)}async function tl(e,t,r,n,i,s){const a=new Gn(e);if(n&&!V.isStream(n))switch(a.type){case"web":try{return await async function(o,c,{r:u,s:h},f,p){const d=Cc(o.payloadSize,_n[o.name],p),v=await zo.importKey("jwk",d,{name:"ECDSA",namedCurve:_n[o.name],hash:{name:Y.read(Y.webHash,o.hash)}},!1,["verify"]),A=V.concatUint8Array([u,h]).buffer;return zo.verify({name:"ECDSA",namedCurve:_n[o.name],hash:{name:Y.read(Y.webHash,c)}},v,A,f)}(a,t,r,n,i)}catch(o){if(a.name!=="p521"&&(o.name==="DataError"||o.name==="OperationError"))throw o;V.printDebugError("Browser did not support verifying: "+o.message)}break;case"node":return async function(o,c,{r:u,s:h},f,p){const{default:d}=await Promise.resolve().then(function(){return aa}),v=Ds.createVerify(Y.read(Y.hash,c));v.write(f),v.end();const A=k5.encode({algorithm:{algorithm:[1,2,840,10045,2,1],parameters:o.oid},subjectPublicKey:{unused:0,data:Array.from(p)}},"pem",{label:"PUBLIC KEY"}),S=Cf.encode({r:new d(u),s:new d(h)},"der");try{return v.verify(A,S)}catch{return!1}}(a,t,r,n,i)}return async function(o,c,u,h){const f=await Us(o.name);return Mc(f,h).verify(u,c)}(a,r,t===void 0?n:s,i)}const Rc=void 0,Cf=Ds?Rc.define("ECDSASignature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}):void 0,S5=Ds?Rc.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())}):void 0,E5=Ds?Rc.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}):void 0,k5=Ds?Rc.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(E5),this.key("subjectPublicKey").bitstr())}):void 0;var P5=Object.freeze({__proto__:null,sign:Q1,verify:tl,validateParams:async function(e,t,r){const n=new Gn(e);if(n.keyType!==Y.publicKey.ecdsa)return!1;switch(n.type){case"web":case"node":{const i=await wn(8),s=Y.hash.sha256,a=await Es.digest(s,i);try{const o=await Q1(e,s,i,t,r,a);return await tl(e,s,o,i,t,a)}catch{return!1}}default:return xf(Y.publicKey.ecdsa,e,t,r)}}});vn.hash=e=>new Uint8Array(qa().update(e).digest());var x5=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,s){if(Es.getHashByteLength(t)<Es.getHashByteLength(Y.hash.sha256))throw Error("Hash algorithm too weak: sha256 or stronger is required for EdDSA.");const a=V.concatUint8Array([i,n.subarray(1)]),o=vn.sign.detached(s,a);return{r:o.subarray(0,32),s:o.subarray(32)}},verify:async function(e,t,{r,s:n},i,s,a){const o=V.concatUint8Array([r,n]);return vn.sign.detached.verify(a,o,s.subarray(1))},validateParams:async function(e,t,r){if(e.getName()!=="ed25519")return!1;const{publicKey:n}=vn.sign.keyPair.fromSeed(r),i=new Uint8Array([64,...n]);return V.equalsUint8Array(t,i)}});function Rf(e,t){const r=new Yi["aes"+8*e.length](e),n=new Uint32Array([2795939494,2795939494]),i=Ko(t);let s=n;const a=i,o=i.length/2,c=new Uint32Array([0,0]);let u=new Uint32Array(4);for(let h=0;h<=5;++h)for(let f=0;f<o;++f)c[1]=o*h+(1+f),u[0]=s[0],u[1]=s[1],u[2]=a[2*f],u[3]=a[2*f+1],u=Ko(r.encrypt(Fo(u))),s=u.subarray(0,2),s[0]^=c[0],s[1]^=c[1],a[2*f]=u[2],a[2*f+1]=u[3];return Fo(s,a)}function If(e,t){const r=new Yi["aes"+8*e.length](e),n=new Uint32Array([2795939494,2795939494]),i=Ko(t);let s=i.subarray(0,2);const a=i.subarray(2),o=i.length/2-1,c=new Uint32Array([0,0]);let u=new Uint32Array(4);for(let h=5;h>=0;--h)for(let f=o-1;f>=0;--f)c[1]=o*h+(f+1),u[0]=s[0]^c[0],u[1]=s[1]^c[1],u[2]=a[2*f],u[3]=a[2*f+1],u=Ko(r.decrypt(Fo(u))),s=u.subarray(0,2),a[2*f]=u[2],a[2*f+1]=u[3];if(s[0]===n[0]&&s[1]===n[1])return Fo(a);throw Error("Key Data Integrity failed")}function Ko(e){const{length:t}=e,r=function(s){if(V.isString(s)){const{length:a}=s,o=new ArrayBuffer(a),c=new Uint8Array(o);for(let u=0;u<a;++u)c[u]=s.charCodeAt(u);return o}return new Uint8Array(s).buffer}(e),n=new DataView(r),i=new Uint32Array(t/4);for(let s=0;s<t/4;++s)i[s]=n.getUint32(4*s);return i}function Fo(){let e=0;for(let i=0;i<arguments.length;++i)e+=4*arguments[i].length;const t=new ArrayBuffer(e),r=new DataView(t);let n=0;for(let i=0;i<arguments.length;++i){for(let s=0;s<arguments[i].length;++s)r.setUint32(n+4*s,arguments[i][s]);n+=4*arguments[i].length}return new Uint8Array(t)}var M5=Object.freeze({__proto__:null,wrap:Rf,unwrap:If});function Uf(e){const t=8-e.length%8,r=new Uint8Array(e.length+t).fill(t);return r.set(e),r}function Df(e){const t=e.length;if(t>0){const r=e[t-1];if(r>=1){const n=e.subarray(t-r),i=new Uint8Array(r).fill(r);if(V.equalsUint8Array(n,i))return e.subarray(0,t-r)}}throw Error("Invalid padding")}var T5=Object.freeze({__proto__:null,encode:Uf,decode:Df});const mi=V.getWebCrypto(),Of=V.getNodeCrypto();function el(e,t,r,n){return V.concatUint8Array([t.write(),new Uint8Array([e]),r.write(),V.stringToUint8Array("Anonymous Sender    "),n.subarray(0,20)])}async function rl(e,t,r,n,i=!1,s=!1){let a;if(i){for(a=0;a<t.length&&t[a]===0;a++);t=t.subarray(a)}if(s){for(a=t.length-1;a>=0&&t[a]===0;a--);t=t.subarray(0,a+1)}return(await Es.digest(e,V.concatUint8Array([new Uint8Array([0,0,0,1]),t,n]))).subarray(0,r)}async function C5(e,t){switch(e.type){case"curve25519":{const r=await wn(32),{secretKey:n,sharedKey:i}=await Nf(e,t,null,r);let{publicKey:s}=vn.box.keyPair.fromSecretKey(n);return s=V.concatUint8Array([new Uint8Array([64]),s]),{publicKey:s,sharedKey:i}}case"web":if(e.web&&V.getWebCrypto())try{return await async function(r,n){const i=Cc(r.payloadSize,r.web.web,n);let s=mi.generateKey({name:"ECDH",namedCurve:r.web.web},!0,["deriveKey","deriveBits"]),a=mi.importKey("jwk",i,{name:"ECDH",namedCurve:r.web.web},!1,[]);[s,a]=await Promise.all([s,a]);let o=mi.deriveBits({name:"ECDH",namedCurve:r.web.web,public:a},s.privateKey,r.web.sharedSize),c=mi.exportKey("jwk",s.publicKey);[o,c]=await Promise.all([o,c]);const u=new Uint8Array(o);return{publicKey:new Uint8Array(Mf(c)),sharedKey:u}}(e,t)}catch(r){V.printDebugError(r)}break;case"node":return async function(r,n){const i=Of.createECDH(r.node.node);i.generateKeys();const s=new Uint8Array(i.computeSecret(n));return{publicKey:new Uint8Array(i.getPublicKey()),sharedKey:s}}(e,t)}return async function(r,n){const i=await Us(r.name),s=await r.genKeyPair();n=Mc(i,n);const a=xc(i,s.privateKey),o=s.publicKey,c=a.derive(n.getPublic()),u=i.curve.p.byteLength(),h=c.toArrayLike(Uint8Array,"be",u);return{publicKey:o,sharedKey:h}}(e,t)}async function Nf(e,t,r,n){if(n.length!==e.payloadSize){const i=new Uint8Array(e.payloadSize);i.set(n,e.payloadSize-n.length),n=i}switch(e.type){case"curve25519":{const i=n.slice().reverse();return{secretKey:i,sharedKey:vn.scalarMult(i,t.subarray(1))}}case"web":if(e.web&&V.getWebCrypto())try{return await async function(i,s,a,o){const c=Tf(i.payloadSize,i.web.web,a,o);let u=mi.importKey("jwk",c,{name:"ECDH",namedCurve:i.web.web},!0,["deriveKey","deriveBits"]);const h=Cc(i.payloadSize,i.web.web,s);let f=mi.importKey("jwk",h,{name:"ECDH",namedCurve:i.web.web},!0,[]);[u,f]=await Promise.all([u,f]);let p=mi.deriveBits({name:"ECDH",namedCurve:i.web.web,public:f},u,i.web.sharedSize),d=mi.exportKey("jwk",u);[p,d]=await Promise.all([p,d]);const v=new Uint8Array(p);return{secretKey:On(d.d),sharedKey:v}}(e,t,r,n)}catch(i){V.printDebugError(i)}break;case"node":return async function(i,s,a){const o=Of.createECDH(i.node.node);o.setPrivateKey(a);const c=new Uint8Array(o.computeSecret(s));return{secretKey:new Uint8Array(o.getPrivateKey()),sharedKey:c}}(e,t,n)}return async function(i,s,a){const o=await Us(i.name);s=Mc(o,s),a=xc(o,a);const c=new Uint8Array(a.getPrivate()),u=a.derive(s.getPublic()),h=o.curve.p.byteLength(),f=u.toArrayLike(Uint8Array,"be",h);return{secretKey:c,sharedKey:f}}(e,t,n)}var R5=Object.freeze({__proto__:null,validateParams:async function(e,t,r){return xf(Y.publicKey.ecdh,e,t,r)},encrypt:async function(e,t,r,n,i){const s=Uf(r),a=new Gn(e),{publicKey:o,sharedKey:c}=await C5(a,n),u=el(Y.publicKey.ecdh,e,t,i),{keySize:h}=ws(t.cipher);return{publicKey:o,wrappedKey:Rf(await rl(t.hash,c,h,u),s)}},decrypt:async function(e,t,r,n,i,s,a){const o=new Gn(e),{sharedKey:c}=await Nf(o,r,i,s),u=el(Y.publicKey.ecdh,e,t,a),{keySize:h}=ws(t.cipher);let f;for(let p=0;p<3;p++)try{return Df(If(await rl(t.hash,c,h,u,p===1,p===2),n))}catch(d){f=d}throw f}}),we={rsa:g5,elgamal:v5,elliptic:Object.freeze({__proto__:null,Curve:Gn,ecdh:R5,ecdsa:P5,eddsa:x5,generate:async function(e){const t=await V.getBigInteger();e=new Gn(e);const r=await e.genKeyPair(),n=new t(r.publicKey).toUint8Array(),i=new t(r.privateKey).toUint8Array("be",e.payloadSize);return{oid:e.oid,Q:n,secret:i,hash:e.hash,cipher:e.cipher}},getPreferredHashAlgo:function(e){return wo[Y.write(Y.curve,e.toHex())].hash}}),dsa:Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,s){const a=await V.getBigInteger(),o=new a(1);let c,u,h,f;n=new a(n),i=new a(i),r=new a(r),s=new a(s),r=r.mod(n),s=s.mod(i);const p=new a(t.subarray(0,i.byteLength())).mod(i);for(;;){if(c=await Hn(o,i),u=r.modExp(c,n).imod(i),u.isZero())continue;const d=s.mul(u).imod(i);if(f=p.add(d).imod(i),h=c.modInv(i).imul(f).imod(i),!h.isZero())break}return{r:u.toUint8Array("be",i.byteLength()),s:h.toUint8Array("be",i.byteLength())}},verify:async function(e,t,r,n,i,s,a,o){const c=await V.getBigInteger(),u=new c(0);if(t=new c(t),r=new c(r),s=new c(s),a=new c(a),i=new c(i),o=new c(o),t.lte(u)||t.gte(a)||r.lte(u)||r.gte(a))return V.printDebug("invalid DSA Signature"),!1;const h=new c(n.subarray(0,a.byteLength())).imod(a),f=r.modInv(a);if(f.isZero())return V.printDebug("invalid DSA Signature"),!1;i=i.mod(s),o=o.mod(s);const p=h.mul(f).imod(a),d=t.mul(f).imod(a),v=i.modExp(p,s),A=o.modExp(d,s);return v.mul(A).imod(s).imod(a).equal(t)},validateParams:async function(e,t,r,n,i){const s=await V.getBigInteger();e=new s(e),t=new s(t),r=new s(r),n=new s(n);const a=new s(1);if(r.lte(a)||r.gte(e)||!e.dec().mod(t).isZero()||!r.modExp(t,e).isOne())return!1;const o=new s(t.bitLength()),c=new s(150);if(o.lt(c)||!await Ef(t,null,32))return!1;i=new s(i);const u=new s(2),h=await Hn(u.leftShift(o.dec()),u.leftShift(o)),f=t.mul(h).add(i);return!!n.equal(r.modExp(f,e))}}),nacl:vn};class nl{constructor(t){t=t===void 0?new Uint8Array([]):V.isString(t)?V.stringToUint8Array(t):new Uint8Array(t),this.data=t}read(t){if(t.length>=1){const r=t[0];if(t.length>=1+r)return this.data=t.subarray(1,1+r),1+this.data.length}throw Error("Invalid symmetric key")}write(){return V.concatUint8Array([new Uint8Array([this.data.length]),this.data])}}class il{constructor(t){if(t){const{hash:r,cipher:n}=t;this.hash=r,this.cipher=n}else this.hash=null,this.cipher=null}read(t){if(t.length<4||t[0]!==3||t[1]!==1)throw Error("Cannot read KDFParams");return this.hash=t[2],this.cipher=t[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}}function ws(e){const t=Y.read(Y.symmetric,e);return Yi[t]}function su(e){try{e.getName()}catch{throw new De("Unknown curve OID")}}var I5=Object.freeze({__proto__:null,publicKeyEncrypt:async function(e,t,r,n){switch(e){case Y.publicKey.rsaEncrypt:case Y.publicKey.rsaEncryptSign:{const{n:i,e:s}=t;return{c:await we.rsa.encrypt(r,i,s)}}case Y.publicKey.elgamal:{const{p:i,g:s,y:a}=t;return we.elgamal.encrypt(r,i,s,a)}case Y.publicKey.ecdh:{const{oid:i,Q:s,kdfParams:a}=t,{publicKey:o,wrappedKey:c}=await we.elliptic.ecdh.encrypt(i,a,r,s,n);return{V:o,C:new nl(c)}}default:return[]}},publicKeyDecrypt:async function(e,t,r,n,i,s){switch(e){case Y.publicKey.rsaEncryptSign:case Y.publicKey.rsaEncrypt:{const{c:a}=n,{n:o,e:c}=t,{d:u,p:h,q:f,u:p}=r;return we.rsa.decrypt(a,o,c,u,h,f,p,s)}case Y.publicKey.elgamal:{const{c1:a,c2:o}=n,c=t.p,u=r.x;return we.elgamal.decrypt(a,o,c,u,s)}case Y.publicKey.ecdh:{const{oid:a,Q:o,kdfParams:c}=t,{d:u}=r,{V:h,C:f}=n;return we.elliptic.ecdh.decrypt(a,c,h,f.data,o,u,i)}default:throw Error("Unknown public key encryption algorithm.")}},parsePublicKeyParams:function(e,t){let r=0;switch(e){case Y.publicKey.rsaEncrypt:case Y.publicKey.rsaEncryptSign:case Y.publicKey.rsaSign:{const n=V.readMPI(t.subarray(r));r+=n.length+2;const i=V.readMPI(t.subarray(r));return r+=i.length+2,{read:r,publicParams:{n,e:i}}}case Y.publicKey.dsa:{const n=V.readMPI(t.subarray(r));r+=n.length+2;const i=V.readMPI(t.subarray(r));r+=i.length+2;const s=V.readMPI(t.subarray(r));r+=s.length+2;const a=V.readMPI(t.subarray(r));return r+=a.length+2,{read:r,publicParams:{p:n,q:i,g:s,y:a}}}case Y.publicKey.elgamal:{const n=V.readMPI(t.subarray(r));r+=n.length+2;const i=V.readMPI(t.subarray(r));r+=i.length+2;const s=V.readMPI(t.subarray(r));return r+=s.length+2,{read:r,publicParams:{p:n,g:i,y:s}}}case Y.publicKey.ecdsa:{const n=new cn;r+=n.read(t),su(n);const i=V.readMPI(t.subarray(r));return r+=i.length+2,{read:r,publicParams:{oid:n,Q:i}}}case Y.publicKey.eddsa:{const n=new cn;r+=n.read(t),su(n);let i=V.readMPI(t.subarray(r));return r+=i.length+2,i=V.leftPad(i,33),{read:r,publicParams:{oid:n,Q:i}}}case Y.publicKey.ecdh:{const n=new cn;r+=n.read(t),su(n);const i=V.readMPI(t.subarray(r));r+=i.length+2;const s=new il;return r+=s.read(t.subarray(r)),{read:r,publicParams:{oid:n,Q:i,kdfParams:s}}}default:throw new De("Unknown public key encryption algorithm.")}},parsePrivateKeyParams:function(e,t,r){let n=0;switch(e){case Y.publicKey.rsaEncrypt:case Y.publicKey.rsaEncryptSign:case Y.publicKey.rsaSign:{const i=V.readMPI(t.subarray(n));n+=i.length+2;const s=V.readMPI(t.subarray(n));n+=s.length+2;const a=V.readMPI(t.subarray(n));n+=a.length+2;const o=V.readMPI(t.subarray(n));return n+=o.length+2,{read:n,privateParams:{d:i,p:s,q:a,u:o}}}case Y.publicKey.dsa:case Y.publicKey.elgamal:{const i=V.readMPI(t.subarray(n));return n+=i.length+2,{read:n,privateParams:{x:i}}}case Y.publicKey.ecdsa:case Y.publicKey.ecdh:{const i=new Gn(r.oid);let s=V.readMPI(t.subarray(n));return n+=s.length+2,s=V.leftPad(s,i.payloadSize),{read:n,privateParams:{d:s}}}case Y.publicKey.eddsa:{const i=new Gn(r.oid);let s=V.readMPI(t.subarray(n));return n+=s.length+2,s=V.leftPad(s,i.payloadSize),{read:n,privateParams:{seed:s}}}default:throw new De("Unknown public key encryption algorithm.")}},parseEncSessionKeyParams:function(e,t){let r=0;switch(e){case Y.publicKey.rsaEncrypt:case Y.publicKey.rsaEncryptSign:return{c:V.readMPI(t.subarray(r))};case Y.publicKey.elgamal:{const n=V.readMPI(t.subarray(r));return r+=n.length+2,{c1:n,c2:V.readMPI(t.subarray(r))}}case Y.publicKey.ecdh:{const n=V.readMPI(t.subarray(r));r+=n.length+2;const i=new nl;return i.read(t.subarray(r)),{V:n,C:i}}default:throw new De("Unknown public key encryption algorithm.")}},serializeParams:function(e,t){const r=Object.keys(t).map(n=>{const i=t[n];return V.isUint8Array(i)?V.uint8ArrayToMPI(i):i.write()});return V.concatUint8Array(r)},generateParams:function(e,t,r){switch(e){case Y.publicKey.rsaEncrypt:case Y.publicKey.rsaEncryptSign:case Y.publicKey.rsaSign:return we.rsa.generate(t,65537).then(({n,e:i,d:s,p:a,q:o,u:c})=>({privateParams:{d:s,p:a,q:o,u:c},publicParams:{n,e:i}}));case Y.publicKey.ecdsa:return we.elliptic.generate(r).then(({oid:n,Q:i,secret:s})=>({privateParams:{d:s},publicParams:{oid:new cn(n),Q:i}}));case Y.publicKey.eddsa:return we.elliptic.generate(r).then(({oid:n,Q:i,secret:s})=>({privateParams:{seed:s},publicParams:{oid:new cn(n),Q:i}}));case Y.publicKey.ecdh:return we.elliptic.generate(r).then(({oid:n,Q:i,secret:s,hash:a,cipher:o})=>({privateParams:{d:s},publicParams:{oid:new cn(n),Q:i,kdfParams:new il({hash:a,cipher:o})}}));case Y.publicKey.dsa:case Y.publicKey.elgamal:throw Error("Unsupported algorithm for key generation.");default:throw Error("Unknown public key algorithm.")}},validateParams:async function(e,t,r){if(!t||!r)throw Error("Missing key parameters");switch(e){case Y.publicKey.rsaEncrypt:case Y.publicKey.rsaEncryptSign:case Y.publicKey.rsaSign:{const{n,e:i}=t,{d:s,p:a,q:o,u:c}=r;return we.rsa.validateParams(n,i,s,a,o,c)}case Y.publicKey.dsa:{const{p:n,q:i,g:s,y:a}=t,{x:o}=r;return we.dsa.validateParams(n,i,s,a,o)}case Y.publicKey.elgamal:{const{p:n,g:i,y:s}=t,{x:a}=r;return we.elgamal.validateParams(n,i,s,a)}case Y.publicKey.ecdsa:case Y.publicKey.ecdh:{const n=we.elliptic[Y.read(Y.publicKey,e)],{oid:i,Q:s}=t,{d:a}=r;return n.validateParams(i,s,a)}case Y.publicKey.eddsa:{const{oid:n,Q:i}=t,{seed:s}=r;return we.elliptic.eddsa.validateParams(n,i,s)}default:throw Error("Unknown public key algorithm.")}},getPrefixRandom:async function(e){const{blockSize:t}=ws(e),r=await wn(t),n=new Uint8Array([r[r.length-2],r[r.length-1]]);return V.concat([r,n])},generateSessionKey:function(e){const{keySize:t}=ws(e);return wn(t)},getAEADMode:function(e){const t=Y.read(Y.aead,e);return Bf[t]},getCipher:ws});const sl=V.getWebCrypto(),Lo=V.getNodeCrypto(),Oi=Lo?Lo.getCiphers():[],to={idea:Oi.includes("idea-cfb")?"idea-cfb":void 0,tripledes:Oi.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:Oi.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:Oi.includes("bf-cfb")?"bf-cfb":void 0,aes128:Oi.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:Oi.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:Oi.includes("aes-256-cfb")?"aes-256-cfb":void 0};var U5=Object.freeze({__proto__:null,encrypt:async function(e,t,r,n,i){const s=Y.read(Y.symmetric,e);if(V.getNodeCrypto()&&to[s])return function(f,p,d,v){const A=Y.read(Y.symmetric,f),S=new Lo.createCipheriv(to[A],p,v);return Se(d,C=>new Uint8Array(S.update(C)))}(e,t,r,n);if(s.substr(0,3)==="aes")return function(f,p,d,v,A){if(V.getWebCrypto()&&p.length!==24&&!V.isStream(d)&&d.length>=3e3*A.minBytesForWebCrypto)return async function(C,B,U,O){const q="AES-CBC",g=await sl.importKey("raw",B,{name:q},!1,["encrypt"]),{blockSize:R}=ws(C),l=V.concatUint8Array([new Uint8Array(R),U]),m=new Uint8Array(await sl.encrypt({name:q,iv:O},g,l)).subarray(0,U.length);return function(y,b){for(let _=0;_<y.length;_++)y[_]=y[_]^b[_]}(m,U),m}(f,p,d,v);const S=new vs(p,v);return Se(d,C=>S.aes.AES_Encrypt_process(C),()=>S.aes.AES_Encrypt_finish())}(e,t,r,n,i);const a=new Yi[s](t),o=a.blockSize,c=n.slice();let u=new Uint8Array;const h=f=>{f&&(u=V.concatUint8Array([u,f]));const p=new Uint8Array(u.length);let d,v=0;for(;f?u.length>=o:u.length;){const A=a.encrypt(c);for(d=0;d<o;d++)c[d]=u[d]^A[d],p[v++]=c[d];u=u.subarray(o)}return p.subarray(0,v)};return Se(r,h,h)},decrypt:async function(e,t,r,n){const i=Y.read(Y.symmetric,e);if(V.getNodeCrypto()&&to[i])return function(h,f,p,d){const v=Y.read(Y.symmetric,h),A=new Lo.createDecipheriv(to[v],f,d);return Se(p,S=>new Uint8Array(A.update(S)))}(e,t,r,n);if(i.substr(0,3)==="aes")return function(h,f,p,d){if(V.isStream(p)){const v=new vs(f,d);return Se(p,A=>v.aes.AES_Decrypt_process(A),()=>v.aes.AES_Decrypt_finish())}return vs.decrypt(p,f,d)}(0,t,r,n);const s=new Yi[i](t),a=s.blockSize;let o=n,c=new Uint8Array;const u=h=>{h&&(c=V.concatUint8Array([c,h]));const f=new Uint8Array(c.length);let p,d=0;for(;h?c.length>=a:c.length;){const v=s.encrypt(o);for(o=c,p=0;p<a;p++)f[d++]=o[p]^v[p];c=c.subarray(a)}return f.subarray(0,d)};return Se(r,u,u)}});class jo{static encrypt(t,r,n){return new jo(r,n).encrypt(t)}static decrypt(t,r,n){return new jo(r,n).encrypt(t)}constructor(t,r,n){this.aes=n||new La(t,void 0,!1,"CTR"),delete this.aes.padding,this.AES_CTR_set_options(r)}encrypt(t){return Ei(this.aes.AES_Encrypt_process(t),this.aes.AES_Encrypt_finish())}decrypt(t){return Ei(this.aes.AES_Encrypt_process(t),this.aes.AES_Encrypt_finish())}AES_CTR_set_options(t,r,n){let{asm:i}=this.aes.acquire_asm();if(n!==void 0){if(n<8||n>48)throw new zn("illegal counter size");let s=Math.pow(2,n)-1;i.set_mask(0,0,s/4294967296|0,0|s)}else n=48,i.set_mask(0,0,65535,4294967295);if(t===void 0)throw Error("nonce is required");{let s=t.length;if(!s||s>16)throw new zn("illegal nonce size");let a=new DataView(new ArrayBuffer(16));new Uint8Array(a.buffer).set(t),i.set_nonce(a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12))}if(r!==void 0){if(r<0||r>=Math.pow(2,n))throw new zn("illegal counter value");i.set_counter(0,0,r/4294967296|0,0|r)}}}class qo{static encrypt(t,r,n=!0,i){return new qo(r,i,n).encrypt(t)}static decrypt(t,r,n=!0,i){return new qo(r,i,n).decrypt(t)}constructor(t,r,n=!0,i){this.aes=i||new La(t,r,n,"CBC")}encrypt(t){return Ei(this.aes.AES_Encrypt_process(t),this.aes.AES_Encrypt_finish())}decrypt(t){return Ei(this.aes.AES_Decrypt_process(t),this.aes.AES_Decrypt_finish())}}const al=V.getWebCrypto(),D5=V.getNodeCrypto();function ol(e,t){const r=e.length-16;for(let n=0;n<16;n++)e[n+r]^=t[n];return e}const eo=new Uint8Array(16);async function O5(e){const t=await async function(i){return V.getWebCrypto()&&i.length!==24?(i=await al.importKey("raw",i,{name:"AES-CBC",length:8*i.length},!1,["encrypt"]),async function(s){const a=await al.encrypt({name:"AES-CBC",iv:eo,length:128},i,s);return new Uint8Array(a).subarray(0,a.byteLength-16)}):V.getNodeCrypto()?async function(s){const a=new D5.createCipheriv("aes-"+8*i.length+"-cbc",i,eo).update(s);return new Uint8Array(a)}:async function(s){return qo.encrypt(s,i,!1,eo)}}(e),r=V.double(await t(eo)),n=V.double(r);return async function(i){return(await t(function(s,a,o){if(s.length&&s.length%16==0)return ol(s,a);const c=new Uint8Array(s.length+(16-s.length%16));return c.set(s),c[s.length]=128,ol(c,o)}(i,r,n))).subarray(-16)}}const cl=V.getWebCrypto(),N5=V.getNodeCrypto(),B5=V.getNodeBuffer(),ul=new Uint8Array(16),qu=new Uint8Array(16);qu[15]=1;const $u=new Uint8Array(16);async function z5(e){const t=await O5(e);return function(r,n){return t(V.concatUint8Array([r,n]))}}async function K5(e){return V.getWebCrypto()&&e.length!==24?(e=await cl.importKey("raw",e,{name:"AES-CTR",length:8*e.length},!1,["encrypt"]),async function(t,r){const n=await cl.encrypt({name:"AES-CTR",counter:r,length:128},e,t);return new Uint8Array(n)}):V.getNodeCrypto()?async function(t,r){const n=new N5.createCipheriv("aes-"+8*e.length+"-ctr",e,r),i=B5.concat([n.update(t),n.final()]);return new Uint8Array(i)}:async function(t,r){return jo.encrypt(t,e,r)}}async function Qs(e,t){if(e!==Y.symmetric.aes128&&e!==Y.symmetric.aes192&&e!==Y.symmetric.aes256)throw Error("EAX mode supports only AES cipher");const[r,n]=await Promise.all([z5(t),K5(t)]);return{encrypt:async function(i,s,a){const[o,c]=await Promise.all([r(ul,s),r(qu,a)]),u=await n(i,o),h=await r($u,u);for(let f=0;f<16;f++)h[f]^=c[f]^o[f];return V.concatUint8Array([u,h])},decrypt:async function(i,s,a){if(i.length<16)throw Error("Invalid EAX ciphertext");const o=i.subarray(0,-16),c=i.subarray(-16),[u,h,f]=await Promise.all([r(ul,s),r(qu,a),r($u,o)]),p=f;for(let d=0;d<16;d++)p[d]^=h[d]^u[d];if(!V.equalsUint8Array(c,p))throw Error("Authentication tag mismatch");return await n(o,u)}}}$u[15]=2,Qs.getNonce=function(e,t){const r=e.slice();for(let n=0;n<t.length;n++)r[8+n]^=t[n];return r},Qs.blockLength=16,Qs.ivLength=16,Qs.tagLength=16;function ll(e){let t=0;for(let r=1;(e&r)==0;r<<=1)t++;return t}function hr(e,t){for(let r=0;r<e.length;r++)e[r]^=t[r];return e}function ro(e,t){return hr(e.slice(),t)}const au=new Uint8Array(16),F5=new Uint8Array([1]);async function ta(e,t){let r,n,i,s=0;function a(o,c,u,h){const f=c.length/16|0;(function(g,R){const l=V.nbits(Math.max(g.length,R.length)/16|0)-1;for(let m=s+1;m<=l;m++)i[m]=V.double(i[m-1]);s=l})(c,h);const p=V.concatUint8Array([au.subarray(0,15-u.length),F5,u]),d=63&p[15];p[15]&=192;const v=r(p),A=V.concatUint8Array([v,ro(v.subarray(0,8),v.subarray(1,9))]),S=V.shiftRight(A.subarray(0+(d>>3),17+(d>>3)),8-(7&d)).subarray(1),C=new Uint8Array(16),B=new Uint8Array(c.length+16);let U,O=0;for(U=0;U<f;U++)hr(S,i[ll(U+1)]),B.set(hr(o(ro(S,c)),S),O),hr(C,o===r?c:B.subarray(O)),c=c.subarray(16),O+=16;if(c.length){hr(S,i.x);const g=r(S);B.set(ro(c,g),O);const R=new Uint8Array(16);R.set(o===r?c:B.subarray(O,-16),0),R[c.length]=128,hr(C,R),O+=c.length}const q=hr(r(hr(hr(C,S),i.$)),function(g){if(!g.length)return au;const R=g.length/16|0,l=new Uint8Array(16),m=new Uint8Array(16);for(let y=0;y<R;y++)hr(l,i[ll(y+1)]),hr(m,r(ro(l,g))),g=g.subarray(16);if(g.length){hr(l,i.x);const y=new Uint8Array(16);y.set(g,0),y[g.length]=128,hr(y,l),hr(m,r(y))}return m}(h));return B.set(q,O),B}return function(o,c){const u=Y.read(Y.symmetric,o),h=new Yi[u](c);r=h.encrypt.bind(h),n=h.decrypt.bind(h);const f=r(au),p=V.double(f);i=[],i[0]=V.double(p),i.x=f,i.$=p}(e,t),{encrypt:async function(o,c,u){return a(r,o,c,u)},decrypt:async function(o,c,u){if(o.length<16)throw Error("Invalid OCB ciphertext");const h=o.subarray(-16);o=o.subarray(0,-16);const f=a(n,o,c,u);if(V.equalsUint8Array(h,f.subarray(-16)))return f.subarray(0,-16);throw Error("Authentication tag mismatch")}}}ta.getNonce=function(e,t){const r=e.slice();for(let n=0;n<t.length;n++)r[7+n]^=t[n];return r},ta.blockLength=16,ta.ivLength=15,ta.tagLength=16;class qi{constructor(t,r,n,i=16,s){this.tagSize=i,this.gamma0=0,this.counter=1,this.aes=s||new La(t,void 0,!1,"CTR");let{asm:a,heap:o}=this.aes.acquire_asm();if(a.gcm_init(),this.tagSize<4||this.tagSize>16)throw new zn("illegal tagSize value");const c=r.length||0,u=new Uint8Array(16);c!==12?(this._gcm_mac_process(r),o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=0,o[11]=c>>>29,o[12]=c>>>21&255,o[13]=c>>>13&255,o[14]=c>>>5&255,o[15]=c<<3&255,a.mac(ne.MAC.GCM,ne.HEAP_DATA,16),a.get_iv(ne.HEAP_DATA),a.set_iv(0,0,0,0),u.set(o.subarray(0,16))):(u.set(r),u[15]=1);const h=new DataView(u.buffer);if(this.gamma0=h.getUint32(12),a.set_nonce(h.getUint32(0),h.getUint32(4),h.getUint32(8),0),a.set_mask(0,0,0,4294967295),n!==void 0){if(n.length>68719476704)throw new zn("illegal adata length");n.length?(this.adata=n,this._gcm_mac_process(n)):this.adata=void 0}else this.adata=void 0;if(this.counter<1||this.counter>4294967295)throw new RangeError("counter must be a positive 32-bit integer");a.set_counter(0,0,0,this.gamma0+this.counter|0)}static encrypt(t,r,n,i,s){return new qi(r,n,i,s).encrypt(t)}static decrypt(t,r,n,i,s){return new qi(r,n,i,s).decrypt(t)}encrypt(t){return this.AES_GCM_encrypt(t)}decrypt(t){return this.AES_GCM_decrypt(t)}AES_GCM_Encrypt_process(t){let r=0,n=t.length||0,{asm:i,heap:s}=this.aes.acquire_asm(),a=this.counter,o=this.aes.pos,c=this.aes.len,u=0,h=c+n&-16,f=0;if((a-1<<4)+c+n>68719476704)throw new RangeError("counter overflow");const p=new Uint8Array(h);for(;n>0;)f=Li(s,o+c,t,r,n),c+=f,r+=f,n-=f,f=i.cipher(ne.ENC.CTR,ne.HEAP_DATA+o,c),f=i.mac(ne.MAC.GCM,ne.HEAP_DATA+o,f),f&&p.set(s.subarray(o,o+f),u),a+=f>>>4,u+=f,f<c?(o+=f,c-=f):(o=0,c=0);return this.counter=a,this.aes.pos=o,this.aes.len=c,p}AES_GCM_Encrypt_finish(){let{asm:t,heap:r}=this.aes.acquire_asm(),n=this.counter,i=this.tagSize,s=this.adata,a=this.aes.pos,o=this.aes.len;const c=new Uint8Array(o+i);t.cipher(ne.ENC.CTR,ne.HEAP_DATA+a,o+15&-16),o&&c.set(r.subarray(a,a+o));let u=o;for(;15&u;u++)r[a+u]=0;t.mac(ne.MAC.GCM,ne.HEAP_DATA+a,u);const h=s!==void 0?s.length:0,f=(n-1<<4)+o;return r[0]=0,r[1]=0,r[2]=0,r[3]=h>>>29,r[4]=h>>>21,r[5]=h>>>13&255,r[6]=h>>>5&255,r[7]=h<<3&255,r[8]=r[9]=r[10]=0,r[11]=f>>>29,r[12]=f>>>21&255,r[13]=f>>>13&255,r[14]=f>>>5&255,r[15]=f<<3&255,t.mac(ne.MAC.GCM,ne.HEAP_DATA,16),t.get_iv(ne.HEAP_DATA),t.set_counter(0,0,0,this.gamma0),t.cipher(ne.ENC.CTR,ne.HEAP_DATA,16),c.set(r.subarray(0,i),o),this.counter=1,this.aes.pos=0,this.aes.len=0,c}AES_GCM_Decrypt_process(t){let r=0,n=t.length||0,{asm:i,heap:s}=this.aes.acquire_asm(),a=this.counter,o=this.tagSize,c=this.aes.pos,u=this.aes.len,h=0,f=u+n>o?u+n-o&-16:0,p=u+n-f,d=0;if((a-1<<4)+u+n>68719476704)throw new RangeError("counter overflow");const v=new Uint8Array(f);for(;n>p;)d=Li(s,c+u,t,r,n-p),u+=d,r+=d,n-=d,d=i.mac(ne.MAC.GCM,ne.HEAP_DATA+c,d),d=i.cipher(ne.DEC.CTR,ne.HEAP_DATA+c,d),d&&v.set(s.subarray(c,c+d),h),a+=d>>>4,h+=d,c=0,u=0;return n>0&&(u+=Li(s,0,t,r,n)),this.counter=a,this.aes.pos=c,this.aes.len=u,v}AES_GCM_Decrypt_finish(){let{asm:t,heap:r}=this.aes.acquire_asm(),n=this.tagSize,i=this.adata,s=this.counter,a=this.aes.pos,o=this.aes.len,c=o-n;if(o<n)throw new Ku("authentication tag not found");const u=new Uint8Array(c),h=new Uint8Array(r.subarray(a+c,a+o));let f=c;for(;15&f;f++)r[a+f]=0;t.mac(ne.MAC.GCM,ne.HEAP_DATA+a,f),t.cipher(ne.DEC.CTR,ne.HEAP_DATA+a,f),c&&u.set(r.subarray(a,a+c));const p=i!==void 0?i.length:0,d=(s-1<<4)+o-n;r[0]=0,r[1]=0,r[2]=0,r[3]=p>>>29,r[4]=p>>>21,r[5]=p>>>13&255,r[6]=p>>>5&255,r[7]=p<<3&255,r[8]=r[9]=r[10]=0,r[11]=d>>>29,r[12]=d>>>21&255,r[13]=d>>>13&255,r[14]=d>>>5&255,r[15]=d<<3&255,t.mac(ne.MAC.GCM,ne.HEAP_DATA,16),t.get_iv(ne.HEAP_DATA),t.set_counter(0,0,0,this.gamma0),t.cipher(ne.ENC.CTR,ne.HEAP_DATA,16);let v=0;for(let A=0;A<n;++A)v|=h[A]^r[A];if(v)throw new Fu("data integrity check failed");return this.counter=1,this.aes.pos=0,this.aes.len=0,u}AES_GCM_decrypt(t){const r=this.AES_GCM_Decrypt_process(t),n=this.AES_GCM_Decrypt_finish(),i=new Uint8Array(r.length+n.length);return r.length&&i.set(r),n.length&&i.set(n,r.length),i}AES_GCM_encrypt(t){const r=this.AES_GCM_Encrypt_process(t),n=this.AES_GCM_Encrypt_finish(),i=new Uint8Array(r.length+n.length);return r.length&&i.set(r),n.length&&i.set(n,r.length),i}_gcm_mac_process(t){let{asm:r,heap:n}=this.aes.acquire_asm(),i=0,s=t.length||0,a=0;for(;s>0;){for(a=Li(n,0,t,i,s),i+=a,s-=a;15&a;)n[a++]=0;r.mac(ne.MAC.GCM,ne.HEAP_DATA,a)}}}const ou=V.getWebCrypto(),hl=V.getNodeCrypto(),fl=V.getNodeBuffer();async function fs(e,t){if(e!==Y.symmetric.aes128&&e!==Y.symmetric.aes192&&e!==Y.symmetric.aes256)throw Error("GCM mode supports only AES cipher");if(V.getWebCrypto()&&t.length!==24){const r=await ou.importKey("raw",t,{name:"AES-GCM"},!1,["encrypt","decrypt"]);return{encrypt:async function(n,i,s=new Uint8Array){if(!n.length)return qi.encrypt(n,t,i,s);const a=await ou.encrypt({name:"AES-GCM",iv:i,additionalData:s,tagLength:128},r,n);return new Uint8Array(a)},decrypt:async function(n,i,s=new Uint8Array){if(n.length===16)return qi.decrypt(n,t,i,s);const a=await ou.decrypt({name:"AES-GCM",iv:i,additionalData:s,tagLength:128},r,n);return new Uint8Array(a)}}}return V.getNodeCrypto()?{encrypt:async function(r,n,i=new Uint8Array){const s=new hl.createCipheriv("aes-"+8*t.length+"-gcm",t,n);s.setAAD(i);const a=fl.concat([s.update(r),s.final(),s.getAuthTag()]);return new Uint8Array(a)},decrypt:async function(r,n,i=new Uint8Array){const s=new hl.createDecipheriv("aes-"+8*t.length+"-gcm",t,n);s.setAAD(i),s.setAuthTag(r.slice(r.length-16,r.length));const a=fl.concat([s.update(r.slice(0,r.length-16)),s.final()]);return new Uint8Array(a)}}:{encrypt:async function(r,n,i){return qi.encrypt(r,t,n,i)},decrypt:async function(r,n,i){return qi.decrypt(r,t,n,i)}}}fs.getNonce=function(e,t){const r=e.slice();for(let n=0;n<t.length;n++)r[4+n]^=t[n];return r},fs.blockLength=16,fs.ivLength=12,fs.tagLength=16;var Bf={cfb:U5,gcm:fs,experimentalGCM:fs,eax:Qs,ocb:ta},L5=Object.freeze({__proto__:null,parseSignatureParams:function(e,t){let r=0;switch(e){case Y.publicKey.rsaEncryptSign:case Y.publicKey.rsaEncrypt:case Y.publicKey.rsaSign:return{s:V.readMPI(t.subarray(r))};case Y.publicKey.dsa:case Y.publicKey.ecdsa:{const n=V.readMPI(t.subarray(r));return r+=n.length+2,{r:n,s:V.readMPI(t.subarray(r))}}case Y.publicKey.eddsa:{let n=V.readMPI(t.subarray(r));r+=n.length+2,n=V.leftPad(n,32);let i=V.readMPI(t.subarray(r));return i=V.leftPad(i,32),{r:n,s:i}}default:throw new De("Unknown signature algorithm.")}},verify:async function(e,t,r,n,i,s){switch(e){case Y.publicKey.rsaEncryptSign:case Y.publicKey.rsaEncrypt:case Y.publicKey.rsaSign:{const{n:a,e:o}=n,c=V.leftPad(r.s,a.length);return we.rsa.verify(t,i,c,a,o,s)}case Y.publicKey.dsa:{const{g:a,p:o,q:c,y:u}=n,{r:h,s:f}=r;return we.dsa.verify(t,h,f,s,a,o,c,u)}case Y.publicKey.ecdsa:{const{oid:a,Q:o}=n,c=new we.elliptic.Curve(a).payloadSize,u=V.leftPad(r.r,c),h=V.leftPad(r.s,c);return we.elliptic.ecdsa.verify(a,t,{r:u,s:h},i,o,s)}case Y.publicKey.eddsa:{const{oid:a,Q:o}=n;return we.elliptic.eddsa.verify(a,t,r,i,o,s)}default:throw Error("Unknown signature algorithm.")}},sign:async function(e,t,r,n,i,s){if(!r||!n)throw Error("Missing key parameters");switch(e){case Y.publicKey.rsaEncryptSign:case Y.publicKey.rsaEncrypt:case Y.publicKey.rsaSign:{const{n:a,e:o}=r,{d:c,p:u,q:h,u:f}=n;return{s:await we.rsa.sign(t,i,a,o,c,u,h,f,s)}}case Y.publicKey.dsa:{const{g:a,p:o,q:c}=r,{x:u}=n;return we.dsa.sign(t,s,a,o,c,u)}case Y.publicKey.elgamal:throw Error("Signing with Elgamal is not defined in the OpenPGP standard.");case Y.publicKey.ecdsa:{const{oid:a,Q:o}=r,{d:c}=n;return we.elliptic.ecdsa.sign(a,t,i,o,c,s)}case Y.publicKey.eddsa:{const{oid:a,Q:o}=r,{seed:c}=n;return we.elliptic.eddsa.sign(a,t,i,o,c,s)}default:throw Error("Unknown signature algorithm.")}}});const Rt={cipher:Yi,hash:Es,mode:Bf,publicKey:we,signature:L5,random:m5,pkcs1:b5,pkcs5:T5,aesKW:M5};Object.assign(Rt,I5);var $a=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function zf(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)}const Kf={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(let s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){let t,r,n,i,s;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;const a=new Uint8Array(n);for(i=0,t=0,r=e.length;t<r;t++)s=e[t],a.set(s,i),i+=s.length;return a}},Ff={arraySet:function(e,t,r,n,i){for(let s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};let dn=$a?Uint8Array:Array,Ir=$a?Uint16Array:Array,$o=$a?Int32Array:Array,Lf=$a?Kf.flattenChunks:Ff.flattenChunks,An=$a?Kf.arraySet:Ff.arraySet;function Os(e){let t=e.length;for(;--t>=0;)e[t]=0}const Wu=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j5=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],dl=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Dn=Array(576);Os(Dn);const da=Array(60);Os(da);const Pa=Array(512);Os(Pa);const xa=Array(256);Os(xa);const M0=Array(29);Os(M0);const Wo=Array(30);function cu(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let pl,ml,yl;function uu(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function jf(e){return e<256?Pa[e]:Pa[256+(e>>>7)]}function Ma(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function dr(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,Ma(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function ln(e,t,r){dr(e,r[2*t],r[2*t+1])}function qf(e,t){let r=0;do r|=1&e,e>>>=1,r<<=1;while(--t>0);return r>>>1}function $f(e,t,r){const n=Array(16);let i,s,a=0;for(i=1;i<=15;i++)n[i]=a=a+r[i-1]<<1;for(s=0;s<=t;s++){const o=e[2*s+1];o!==0&&(e[2*s]=qf(n[o]++,o))}}function Wf(e){let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Hf(e){e.bi_valid>8?Ma(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function bl(e,t,r,n){const i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function lu(e,t,r){const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&bl(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!bl(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function gl(e,t,r){let n,i,s,a,o=0;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,n===0?ln(e,i,t):(s=xa[i],ln(e,s+256+1,t),a=Wu[s],a!==0&&(i-=M0[s],dr(e,i,a)),n--,s=jf(n),ln(e,s,r),a=_o[s],a!==0&&(n-=Wo[s],dr(e,n,a)));while(o<e.last_lit);ln(e,256,t)}function hu(e,t){const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let a,o,c,u=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<s;a++)r[2*a]!==0?(e.heap[++e.heap_len]=u=a,e.depth[a]=0):r[2*a+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=u<2?++u:0,r[2*c]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=n[2*c+1]);for(t.max_code=u,a=e.heap_len>>1;a>=1;a--)lu(e,r,a);c=s;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],lu(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,r[2*c]=r[2*a]+r[2*o],e.depth[c]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,r[2*a+1]=r[2*o+1]=c,e.heap[1]=c++,lu(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(h,f){const p=f.dyn_tree,d=f.max_code,v=f.stat_desc.static_tree,A=f.stat_desc.has_stree,S=f.stat_desc.extra_bits,C=f.stat_desc.extra_base,B=f.stat_desc.max_length;let U,O,q,g,R,l,m=0;for(g=0;g<=15;g++)h.bl_count[g]=0;for(p[2*h.heap[h.heap_max]+1]=0,U=h.heap_max+1;U<573;U++)O=h.heap[U],g=p[2*p[2*O+1]+1]+1,g>B&&(g=B,m++),p[2*O+1]=g,O>d||(h.bl_count[g]++,R=0,O>=C&&(R=S[O-C]),l=p[2*O],h.opt_len+=l*(g+R),A&&(h.static_len+=l*(v[2*O+1]+R)));if(m!==0){do{for(g=B-1;h.bl_count[g]===0;)g--;h.bl_count[g]--,h.bl_count[g+1]+=2,h.bl_count[B]--,m-=2}while(m>0);for(g=B;g!==0;g--)for(O=h.bl_count[g];O!==0;)q=h.heap[--U],q>d||(p[2*q+1]!==g&&(h.opt_len+=(g-p[2*q+1])*p[2*q],p[2*q+1]=g),O--)}}(e,t),$f(r,u,e.bl_count)}function vl(e,t,r){let n,i,s=-1,a=t[1],o=0,c=7,u=4;for(a===0&&(c=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++o<c&&i===a||(o<u?e.bl_tree[2*i]+=o:i!==0?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,s=i,a===0?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4))}function wl(e,t,r){let n,i,s=-1,a=t[1],o=0,c=7,u=4;for(a===0&&(c=138,u=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++o<c&&i===a)){if(o<u)do ln(e,i,e.bl_tree);while(--o!=0);else i!==0?(i!==s&&(ln(e,i,e.bl_tree),o--),ln(e,16,e.bl_tree),dr(e,o-3,2)):o<=10?(ln(e,17,e.bl_tree),dr(e,o-3,3)):(ln(e,18,e.bl_tree),dr(e,o-11,7));o=0,s=i,a===0?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4)}}Os(Wo);let _l=!1;function q5(e){_l||(function(){let t,r,n,i,s;const a=Array(16);for(n=0,i=0;i<28;i++)for(M0[i]=n,t=0;t<1<<Wu[i];t++)xa[n++]=i;for(xa[n-1]=i,s=0,i=0;i<16;i++)for(Wo[i]=s,t=0;t<1<<_o[i];t++)Pa[s++]=i;for(s>>=7;i<30;i++)for(Wo[i]=s<<7,t=0;t<1<<_o[i]-7;t++)Pa[256+s++]=i;for(r=0;r<=15;r++)a[r]=0;for(t=0;t<=143;)Dn[2*t+1]=8,t++,a[8]++;for(;t<=255;)Dn[2*t+1]=9,t++,a[9]++;for(;t<=279;)Dn[2*t+1]=7,t++,a[7]++;for(;t<=287;)Dn[2*t+1]=8,t++,a[8]++;for($f(Dn,287,a),t=0;t<30;t++)da[2*t+1]=5,da[2*t]=qf(t,5);pl=new cu(Dn,Wu,257,286,15),ml=new cu(da,_o,0,30,15),yl=new cu([],j5,0,19,7)}(),_l=!0),e.l_desc=new uu(e.dyn_ltree,pl),e.d_desc=new uu(e.dyn_dtree,ml),e.bl_desc=new uu(e.bl_tree,yl),e.bi_buf=0,e.bi_valid=0,Wf(e)}function Gf(e,t,r,n){dr(e,0+(n?1:0),3),function(i,s,a,o){Hf(i),o&&(Ma(i,a),Ma(i,~a)),An(i.pending_buf,i.window,s,a,i.pending),i.pending+=a}(e,t,r,!0)}function $5(e){dr(e,2,3),ln(e,256,Dn),function(t){t.bi_valid===16?(Ma(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(e)}function W5(e,t,r,n){let i,s,a=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=function(o){let c,u=4093624447;for(c=0;c<=31;c++,u>>>=1)if(1&u&&o.dyn_ltree[2*c]!==0)return 0;if(o.dyn_ltree[18]!==0||o.dyn_ltree[20]!==0||o.dyn_ltree[26]!==0)return 1;for(c=32;c<256;c++)if(o.dyn_ltree[2*c]!==0)return 1;return 0}(e)),hu(e,e.l_desc),hu(e,e.d_desc),a=function(o){let c;for(vl(o,o.dyn_ltree,o.l_desc.max_code),vl(o,o.dyn_dtree,o.d_desc.max_code),hu(o,o.bl_desc),c=18;c>=3&&o.bl_tree[2*dl[c]+1]===0;c--);return o.opt_len+=3*(c+1)+5+5+4,c}(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&t!==-1?Gf(e,t,r,n):e.strategy===4||s===i?(dr(e,2+(n?1:0),3),gl(e,Dn,da)):(dr(e,4+(n?1:0),3),function(o,c,u,h){let f;for(dr(o,c-257,5),dr(o,u-1,5),dr(o,h-4,4),f=0;f<h;f++)dr(o,o.bl_tree[2*dl[f]+1],3);wl(o,o.dyn_ltree,c-1),wl(o,o.dyn_dtree,u-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),gl(e,e.dyn_ltree,e.dyn_dtree)),Wf(e),n&&Hf(e)}function wi(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,t===0?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(xa[r]+256+1)]++,e.dyn_dtree[2*jf(t)]++),e.last_lit===e.lit_bufsize-1}function Ta(e,t,r,n){let i=65535&e|0,s=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+t[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0}const H5=function(){let e;const t=[];for(let r=0;r<256;r++){e=r;for(let n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();function Ke(e,t,r,n){const i=H5,s=n+r;e^=-1;for(let a=n;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}var Ca={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function yi(e,t){return e.msg=Ca[t],t}function Al(e){return(e<<1)-(e>4?9:0)}function fi(e){let t=e.length;for(;--t>=0;)e[t]=0}function oi(e){const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(An(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function We(e,t){W5(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,oi(e.strm)}function he(e,t){e.pending_buf[e.pending++]=t}function qs(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function G5(e,t,r,n){let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,An(t,e.input,e.next_in,i,r),e.state.wrap===1?e.adler=Ta(e.adler,t,i,r):e.state.wrap===2&&(e.adler=Ke(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function Vf(e,t){let r,n,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match;const c=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,h=e.w_mask,f=e.prev,p=e.strstart+258;let d=u[s+a-1],v=u[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do if(r=t,u[r+a]===v&&u[r+a-1]===d&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do;while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<p);if(n=258-(p-s),s=p-258,n>a){if(e.match_start=t,a=n,n>=o)break;d=u[s+a-1],v=u[s+a]}}while((t=f[t&h])>c&&--i!=0);return a<=e.lookahead?a:e.lookahead}function Ji(e){const t=e.w_size;let r,n,i,s,a;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-262)){An(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do i=e.head[--r],e.head[r]=i>=t?i-t:0;while(--n);n=t,r=n;do i=e.prev[--r],e.prev[r]=i>=t?i-t:0;while(--n);s+=t}if(e.strm.avail_in===0)break;if(n=G5(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+3-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&e.strm.avail_in!==0)}function fu(e,t){let r,n;for(;;){if(e.lookahead<262){if(Ji(e),e.lookahead<262&&t===0)return 1;if(e.lookahead===0)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-262&&(e.match_length=Vf(e,r)),e.match_length>=3)if(n=wi(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!=0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=wi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(We(e,!1),e.strm.avail_out===0))return 1}return e.insert=e.strstart<2?e.strstart:2,t===4?(We(e,!0),e.strm.avail_out===0?3:4):e.last_lit&&(We(e,!1),e.strm.avail_out===0)?1:2}function cs(e,t){let r,n,i;for(;;){if(e.lookahead<262){if(Ji(e),e.lookahead<262&&t===0)return 1;if(e.lookahead===0)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=Vf(e,r),e.match_length<=5&&(e.strategy===1||e.match_length===3&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=wi(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!=0);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(We(e,!1),e.strm.avail_out===0))return 1}else if(e.match_available){if(n=wi(e,0,e.window[e.strstart-1]),n&&We(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=wi(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===4?(We(e,!0),e.strm.avail_out===0?3:4):e.last_lit&&(We(e,!1),e.strm.avail_out===0)?1:2}class en{constructor(t,r,n,i,s){this.good_length=t,this.max_lazy=r,this.nice_length=n,this.max_chain=i,this.func=s}}const ea=[new en(0,0,0,0,function(e,t){let r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ji(e),e.lookahead===0&&t===0)return 1;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;const n=e.block_start+r;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,We(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-262&&(We(e,!1),e.strm.avail_out===0))return 1}return e.insert=0,t===4?(We(e,!0),e.strm.avail_out===0?3:4):(e.strstart>e.block_start&&(We(e,!1),e.strm.avail_out),1)}),new en(4,4,8,4,fu),new en(4,5,16,8,fu),new en(4,6,32,32,fu),new en(4,4,16,16,cs),new en(8,16,32,32,cs),new en(8,16,128,128,cs),new en(8,32,128,256,cs),new en(32,128,258,1024,cs),new en(32,258,258,4096,cs)];class V5{constructor(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Ir(1146),this.dyn_dtree=new Ir(122),this.bl_tree=new Ir(78),fi(this.dyn_ltree),fi(this.dyn_dtree),fi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Ir(16),this.heap=new Ir(573),fi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Ir(573),fi(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}}function Y5(e){const t=function(r){let n;return r&&r.state?(r.total_in=r.total_out=0,r.data_type=2,n=r.state,n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?42:113,r.adler=n.wrap===2?0:1,n.last_flush=0,q5(n),0):yi(r,-2)}(e);return t===0&&function(r){r.window_size=2*r.w_size,fi(r.head),r.max_lazy_match=ea[r.level].max_lazy,r.good_match=ea[r.level].good_length,r.nice_match=ea[r.level].nice_length,r.max_chain_length=ea[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0}(e.state),t}function J5(e,t){let r,n,i,s;if(!e||!e.state||t>5||t<0)return e?yi(e,-2):-2;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===666&&t!==4)return yi(e,e.avail_out===0?-5:-2);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===42)if(n.wrap===2)e.adler=0,he(n,31),he(n,139),he(n,8),n.gzhead?(he(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),he(n,255&n.gzhead.time),he(n,n.gzhead.time>>8&255),he(n,n.gzhead.time>>16&255),he(n,n.gzhead.time>>24&255),he(n,n.level===9?2:n.strategy>=2||n.level<2?4:0),he(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(he(n,255&n.gzhead.extra.length),he(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Ke(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(he(n,0),he(n,0),he(n,0),he(n,0),he(n,0),he(n,n.level===9?2:n.strategy>=2||n.level<2?4:0),he(n,3),n.status=113);else{let o=8+(n.w_bits-8<<4)<<8,c=-1;c=n.strategy>=2||n.level<2?0:n.level<6?1:n.level===6?2:3,o|=c<<6,n.strstart!==0&&(o|=32),o+=31-o%31,n.status=113,qs(n,o),n.strstart!==0&&(qs(n,e.adler>>>16),qs(n,65535&e.adler)),e.adler=1}if(n.status===69)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=Ke(e.adler,n.pending_buf,n.pending-i,i)),oi(e),i=n.pending,n.pending!==n.pending_buf_size));)he(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=Ke(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(n.status===73)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Ke(e.adler,n.pending_buf,n.pending-i,i)),oi(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,he(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Ke(e.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.gzindex=0,n.status=91)}else n.status=91;if(n.status===91)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Ke(e.adler,n.pending_buf,n.pending-i,i)),oi(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,he(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Ke(e.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.status=103)}else n.status=103;if(n.status===103&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&oi(e),n.pending+2<=n.pending_buf_size&&(he(n,255&e.adler),he(n,e.adler>>8&255),e.adler=0,n.status=113)):n.status=113),n.pending!==0){if(oi(e),e.avail_out===0)return n.last_flush=-1,0}else if(e.avail_in===0&&Al(t)<=Al(r)&&t!==4)return yi(e,-5);if(n.status===666&&e.avail_in!==0)return yi(e,-5);if(e.avail_in!==0||n.lookahead!==0||t!==0&&n.status!==666){var a=n.strategy===2?function(o,c){let u;for(;;){if(o.lookahead===0&&(Ji(o),o.lookahead===0)){if(c===0)return 1;break}if(o.match_length=0,u=wi(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++,u&&(We(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,c===4?(We(o,!0),o.strm.avail_out===0?3:4):o.last_lit&&(We(o,!1),o.strm.avail_out===0)?1:2}(n,t):n.strategy===3?function(o,c){let u,h,f,p;const d=o.window;for(;;){if(o.lookahead<=258){if(Ji(o),o.lookahead<=258&&c===0)return 1;if(o.lookahead===0)break}if(o.match_length=0,o.lookahead>=3&&o.strstart>0&&(f=o.strstart-1,h=d[f],h===d[++f]&&h===d[++f]&&h===d[++f])){p=o.strstart+258;do;while(h===d[++f]&&h===d[++f]&&h===d[++f]&&h===d[++f]&&h===d[++f]&&h===d[++f]&&h===d[++f]&&h===d[++f]&&f<p);o.match_length=258-(p-f),o.match_length>o.lookahead&&(o.match_length=o.lookahead)}if(o.match_length>=3?(u=wi(o,1,o.match_length-3),o.lookahead-=o.match_length,o.strstart+=o.match_length,o.match_length=0):(u=wi(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++),u&&(We(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,c===4?(We(o,!0),o.strm.avail_out===0?3:4):o.last_lit&&(We(o,!1),o.strm.avail_out===0)?1:2}(n,t):ea[n.level].func(n,t);if(a!==3&&a!==4||(n.status=666),a===1||a===3)return e.avail_out===0&&(n.last_flush=-1),0;if(a===2&&(t===1?$5(n):t!==5&&(Gf(n,0,0,!1),t===3&&(fi(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),oi(e),e.avail_out===0))return n.last_flush=-1,0}return t!==4?0:n.wrap<=0?1:(n.wrap===2?(he(n,255&e.adler),he(n,e.adler>>8&255),he(n,e.adler>>16&255),he(n,e.adler>>24&255),he(n,255&e.total_in),he(n,e.total_in>>8&255),he(n,e.total_in>>16&255),he(n,e.total_in>>24&255)):(qs(n,e.adler>>>16),qs(n,65535&e.adler)),oi(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?0:1)}try{String.fromCharCode.call(null,0)}catch{}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{}const Hu=new dn(256);for(let e=0;e<256;e++)Hu[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;function Gu(e){let t,r,n,i,s=0;const a=e.length;for(n=0;n<a;n++)t=e.charCodeAt(n),(64512&t)==55296&&n+1<a&&(r=e.charCodeAt(n+1),(64512&r)==56320&&(t=65536+(t-55296<<10)+(r-56320),n++)),s+=t<128?1:t<2048?2:t<65536?3:4;const o=new dn(s);for(i=0,n=0;i<s;n++)t=e.charCodeAt(n),(64512&t)==55296&&n+1<a&&(r=e.charCodeAt(n+1),(64512&r)==56320&&(t=65536+(t-55296<<10)+(r-56320),n++)),t<128?o[i++]=t:t<2048?(o[i++]=192|t>>>6,o[i++]=128|63&t):t<65536?(o[i++]=224|t>>>12,o[i++]=128|t>>>6&63,o[i++]=128|63&t):(o[i++]=240|t>>>18,o[i++]=128|t>>>12&63,o[i++]=128|t>>>6&63,o[i++]=128|63&t);return o}Hu[254]=Hu[254]=1;class Yf{constructor(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}}class Vu{constructor(t){this.options=Oe({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0},t||{});const r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Yf,this.strm.avail_out=0;var n,i,s=function(a,o,c,u,h,f){if(!a)return-2;let p=1;if(o===-1&&(o=6),u<0?(p=0,u=-u):u>15&&(p=2,u-=16),h<1||h>9||c!==8||u<8||u>15||o<0||o>9||f<0||f>4)return yi(a,-2);u===8&&(u=9);const d=new V5;return a.state=d,d.strm=a,d.wrap=p,d.gzhead=null,d.w_bits=u,d.w_size=1<<d.w_bits,d.w_mask=d.w_size-1,d.hash_bits=h+7,d.hash_size=1<<d.hash_bits,d.hash_mask=d.hash_size-1,d.hash_shift=~~((d.hash_bits+3-1)/3),d.window=new dn(2*d.w_size),d.head=new Ir(d.hash_size),d.prev=new Ir(d.w_size),d.lit_bufsize=1<<h+6,d.pending_buf_size=4*d.lit_bufsize,d.pending_buf=new dn(d.pending_buf_size),d.d_buf=1*d.lit_bufsize,d.l_buf=3*d.lit_bufsize,d.level=o,d.strategy=f,d.method=c,Y5(a)}(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(s!==0)throw Error(Ca[s]);if(r.header&&(n=this.strm,i=r.header,n&&n.state&&(n.state.wrap!==2||(n.state.gzhead=i))),r.dictionary){let a;if(a=typeof r.dictionary=="string"?Gu(r.dictionary):r.dictionary instanceof ArrayBuffer?new Uint8Array(r.dictionary):r.dictionary,(s=function(o,c){let u,h,f,p,d,v,A,S,C=c.length;if(!o||!o.state||(u=o.state,p=u.wrap,p===2||p===1&&u.status!==42||u.lookahead))return-2;for(p===1&&(o.adler=Ta(o.adler,c,C,0)),u.wrap=0,C>=u.w_size&&(p===0&&(fi(u.head),u.strstart=0,u.block_start=0,u.insert=0),S=new dn(u.w_size),An(S,c,C-u.w_size,u.w_size,0),c=S,C=u.w_size),d=o.avail_in,v=o.next_in,A=o.input,o.avail_in=C,o.next_in=0,o.input=c,Ji(u);u.lookahead>=3;){h=u.strstart,f=u.lookahead-2;do u.ins_h=(u.ins_h<<u.hash_shift^u.window[h+3-1])&u.hash_mask,u.prev[h&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=h,h++;while(--f);u.strstart=h,u.lookahead=2,Ji(u)}return u.strstart+=u.lookahead,u.block_start=u.strstart,u.insert=u.lookahead,u.lookahead=0,u.match_length=u.prev_length=2,u.match_available=0,o.next_in=v,o.input=A,o.avail_in=d,u.wrap=p,0}(this.strm,a))!==0)throw Error(Ca[s]);this._dict_set=!0}}push(t,r){const{strm:n,options:{chunkSize:i}}=this;var s,a;if(this.ended)return!1;a=r===~~r?r:r===!0?4:0,typeof t=="string"?n.input=Gu(t):t instanceof ArrayBuffer?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new dn(i),n.next_out=0,n.avail_out=i),(s=J5(n,a))!==1&&s!==0)return this.onEnd(s),this.ended=!0,!1;n.avail_out!==0&&(n.avail_in!==0||a!==4&&a!==2)||this.onData(zf(n.output,n.next_out))}while((n.avail_in>0||n.avail_out===0)&&s!==1);return a===4?(s=function(o){let c;return o&&o.state?(c=o.state.status,c!==42&&c!==69&&c!==73&&c!==91&&c!==103&&c!==113&&c!==666?yi(o,-2):(o.state=null,c===113?yi(o,-3):0)):-2}(this.strm),this.onEnd(s),this.ended=!0,s===0):a!==2||(this.onEnd(0),n.avail_out=0,!0)}onData(t){this.chunks.push(t)}onEnd(t){t===0&&(this.result=Lf(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg}}function X5(e,t){let r,n,i,s,a,o,c,u,h,f;const p=e.state;r=e.next_in;const d=e.input,v=r+(e.avail_in-5);n=e.next_out;const A=e.output,S=n-(t-e.avail_out),C=n+(e.avail_out-257),B=p.dmax,U=p.wsize,O=p.whave,q=p.wnext,g=p.window;i=p.hold,s=p.bits;const R=p.lencode,l=p.distcode,m=(1<<p.lenbits)-1,y=(1<<p.distbits)-1;t:do{s<15&&(i+=d[r++]<<s,s+=8,i+=d[r++]<<s,s+=8),a=R[i&m];e:for(;;){if(o=a>>>24,i>>>=o,s-=o,o=a>>>16&255,o===0)A[n++]=65535&a;else{if(!(16&o)){if((64&o)==0){a=R[(65535&a)+(i&(1<<o)-1)];continue e}if(32&o){p.mode=12;break t}e.msg="invalid literal/length code",p.mode=30;break t}c=65535&a,o&=15,o&&(s<o&&(i+=d[r++]<<s,s+=8),c+=i&(1<<o)-1,i>>>=o,s-=o),s<15&&(i+=d[r++]<<s,s+=8,i+=d[r++]<<s,s+=8),a=l[i&y];r:for(;;){if(o=a>>>24,i>>>=o,s-=o,o=a>>>16&255,!(16&o)){if((64&o)==0){a=l[(65535&a)+(i&(1<<o)-1)];continue r}e.msg="invalid distance code",p.mode=30;break t}if(u=65535&a,o&=15,s<o&&(i+=d[r++]<<s,s+=8,s<o&&(i+=d[r++]<<s,s+=8)),u+=i&(1<<o)-1,u>B){e.msg="invalid distance too far back",p.mode=30;break t}if(i>>>=o,s-=o,o=n-S,u>o){if(o=u-o,o>O&&p.sane){e.msg="invalid distance too far back",p.mode=30;break t}if(h=0,f=g,q===0){if(h+=U-o,o<c){c-=o;do A[n++]=g[h++];while(--o);h=n-u,f=A}}else if(q<o){if(h+=U+q-o,o-=q,o<c){c-=o;do A[n++]=g[h++];while(--o);if(h=0,q<c){o=q,c-=o;do A[n++]=g[h++];while(--o);h=n-u,f=A}}}else if(h+=q-o,o<c){c-=o;do A[n++]=g[h++];while(--o);h=n-u,f=A}for(;c>2;)A[n++]=f[h++],A[n++]=f[h++],A[n++]=f[h++],c-=3;c&&(A[n++]=f[h++],c>1&&(A[n++]=f[h++]))}else{h=n-u;do A[n++]=A[h++],A[n++]=A[h++],A[n++]=A[h++],c-=3;while(c>2);c&&(A[n++]=A[h++],c>1&&(A[n++]=A[h++]))}break}}break}}while(r<v&&n<C);c=s>>3,r-=c,s-=c<<3,i&=(1<<s)-1,e.next_in=r,e.next_out=n,e.avail_in=r<v?v-r+5:5-(r-v),e.avail_out=n<C?C-n+257:257-(n-C),p.hold=i,p.bits=s}const Z5=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Q5=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],tp=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ep=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function pa(e,t,r,n,i,s,a,o){const c=o.bits;let u,h,f,p,d,v=0,A=0,S=0,C=0,B=0,U=0,O=0,q=0,g=0,R=0,l=null,m=0;const y=new Ir(16),b=new Ir(16);let _,D,N,W=null,tt=0;for(v=0;v<=15;v++)y[v]=0;for(A=0;A<n;A++)y[t[r+A]]++;for(B=c,C=15;C>=1&&y[C]===0;C--);if(B>C&&(B=C),C===0)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(S=1;S<C&&y[S]===0;S++);for(B<S&&(B=S),q=1,v=1;v<=15;v++)if(q<<=1,q-=y[v],q<0)return-1;if(q>0&&(e===0||C!==1))return-1;for(b[1]=0,v=1;v<15;v++)b[v+1]=b[v]+y[v];for(A=0;A<n;A++)t[r+A]!==0&&(a[b[t[r+A]]++]=A);e===0?(l=W=a,d=19):e===1?(l=Z5,m-=257,W=Q5,tt-=257,d=256):(l=tp,W=ep,d=-1),R=0,A=0,v=S,p=s,U=B,O=0,f=-1,g=1<<B;const w=g-1;if(e===1&&g>852||e===2&&g>592)return 1;for(;;){_=v-O,a[A]<d?(D=0,N=a[A]):a[A]>d?(D=W[tt+a[A]],N=l[m+a[A]]):(D=96,N=0),u=1<<v-O,h=1<<U,S=h;do h-=u,i[p+(R>>O)+h]=_<<24|D<<16|N|0;while(h!==0);for(u=1<<v-1;R&u;)u>>=1;if(u!==0?(R&=u-1,R+=u):R=0,A++,--y[v]==0){if(v===C)break;v=t[r+a[A]]}if(v>B&&(R&w)!==f){for(O===0&&(O=B),p+=S,U=v-O,q=1<<U;U+O<C&&(q-=y[U+O],!(q<=0));)U++,q<<=1;if(g+=1<<U,e===1&&g>852||e===2&&g>592)return 1;f=R&w,i[f]=B<<24|U<<16|p-s|0}}return R!==0&&(i[p+R]=v-O<<24|64<<16|0),o.bits=B,0}function Sl(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}class rp{constructor(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ir(320),this.work=new Ir(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}}function np(e){let t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,function(r){let n;return r&&r.state?(n=r.state,r.total_in=r.total_out=n.total=0,r.msg="",n.wrap&&(r.adler=1&n.wrap),n.mode=1,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new $o(852),n.distcode=n.distdyn=new $o(592),n.sane=1,n.back=-1,0):-2}(e)):-2}function ip(e,t){let r,n;return e?(n=new rp,e.state=n,n.window=null,r=function(i,s){let a,o;return i&&i.state?(o=i.state,s<0?(a=0,s=-s):(a=1+(s>>4),s<48&&(s&=15)),s&&(s<8||s>15)?-2:(o.window!==null&&o.wbits!==s&&(o.window=null),o.wrap=a,o.wbits=s,np(i))):-2}(e,t),r!==0&&(e.state=null),r):-2}let du,pu,El=!0;function sp(e){if(El){let t;for(du=new $o(512),pu=new $o(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(pa(1,e.lens,0,288,du,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;pa(2,e.lens,0,32,pu,0,e.work,{bits:5}),El=!1}e.lencode=du,e.lenbits=9,e.distcode=pu,e.distbits=5}function Jf(e,t,r,n){let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new dn(s.wsize)),n>=s.wsize?(An(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),An(s.window,t,r-n,i,s.wnext),(n-=i)?(An(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}function ap(e,t){let r,n,i,s,a,o,c,u,h,f,p,d,v,A,S,C,B,U,O,q,g,R,l,m,y=0,b=new dn(4);const _=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return-2;r=e.state,r.mode===12&&(r.mode=13),a=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,h=r.bits,f=o,p=c,R=0;t:for(;;)switch(r.mode){case 1:if(r.wrap===0){r.mode=13;break}for(;h<16;){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}if(2&r.wrap&&u===35615){r.check=0,b[0]=255&u,b[1]=u>>>8&255,r.check=Ke(r.check,b,2,0),u=0,h=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=30;break}if((15&u)!=8){e.msg="unknown compression method",r.mode=30;break}if(u>>>=4,h-=4,g=8+(15&u),r.wbits===0)r.wbits=g;else if(g>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<g,e.adler=r.check=1,r.mode=512&u?10:12,u=0,h=0;break;case 2:for(;h<16;){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}if(r.flags=u,(255&r.flags)!=8){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(b[0]=255&u,b[1]=u>>>8&255,r.check=Ke(r.check,b,2,0)),u=0,h=0,r.mode=3;case 3:for(;h<32;){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}r.head&&(r.head.time=u),512&r.flags&&(b[0]=255&u,b[1]=u>>>8&255,b[2]=u>>>16&255,b[3]=u>>>24&255,r.check=Ke(r.check,b,4,0)),u=0,h=0,r.mode=4;case 4:for(;h<16;){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(b[0]=255&u,b[1]=u>>>8&255,r.check=Ke(r.check,b,2,0)),u=0,h=0,r.mode=5;case 5:if(1024&r.flags){for(;h<16;){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(b[0]=255&u,b[1]=u>>>8&255,r.check=Ke(r.check,b,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(d=r.length,d>o&&(d=o),d&&(r.head&&(g=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),An(r.head.extra,n,s,d,g)),512&r.flags&&(r.check=Ke(r.check,n,d,s)),o-=d,s+=d,r.length-=d),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(o===0)break t;d=0;do g=n[s+d++],r.head&&g&&r.length<65536&&(r.head.name+=String.fromCharCode(g));while(g&&d<o);if(512&r.flags&&(r.check=Ke(r.check,n,d,s)),o-=d,s+=d,g)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(o===0)break t;d=0;do g=n[s+d++],r.head&&g&&r.length<65536&&(r.head.comment+=String.fromCharCode(g));while(g&&d<o);if(512&r.flags&&(r.check=Ke(r.check,n,d,s)),o-=d,s+=d,g)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;h<16;){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}if(u!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;h<32;){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}e.adler=r.check=Sl(u),u=0,h=0,r.mode=11;case 11:if(r.havedict===0)return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=h,2;e.adler=r.check=1,r.mode=12;case 12:if(t===5||t===6)break t;case 13:if(r.last){u>>>=7&h,h-=7&h,r.mode=27;break}for(;h<3;){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}switch(r.last=1&u,u>>>=1,h-=1,3&u){case 0:r.mode=14;break;case 1:if(sp(r),r.mode=20,t===6){u>>>=2,h-=2;break t}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}u>>>=2,h-=2;break;case 14:for(u>>>=7&h,h-=7&h;h<32;){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&u,u=0,h=0,r.mode=15,t===6)break t;case 15:r.mode=16;case 16:if(d=r.length,d){if(d>o&&(d=o),d>c&&(d=c),d===0)break t;An(i,n,s,d,a),o-=d,s+=d,c-=d,a+=d,r.length-=d;break}r.mode=12;break;case 17:for(;h<14;){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}if(r.nlen=257+(31&u),u>>>=5,h-=5,r.ndist=1+(31&u),u>>>=5,h-=5,r.ncode=4+(15&u),u>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;h<3;){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}r.lens[_[r.have++]]=7&u,u>>>=3,h-=3}for(;r.have<19;)r.lens[_[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,l={bits:r.lenbits},R=pa(0,r.lens,0,19,r.lencode,0,r.work,l),r.lenbits=l.bits,R){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[u&(1<<r.lenbits)-1],S=y>>>24,C=y>>>16&255,B=65535&y,!(S<=h);){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}if(B<16)u>>>=S,h-=S,r.lens[r.have++]=B;else{if(B===16){for(m=S+2;h<m;){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}if(u>>>=S,h-=S,r.have===0){e.msg="invalid bit length repeat",r.mode=30;break}g=r.lens[r.have-1],d=3+(3&u),u>>>=2,h-=2}else if(B===17){for(m=S+3;h<m;){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}u>>>=S,h-=S,g=0,d=3+(7&u),u>>>=3,h-=3}else{for(m=S+7;h<m;){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}u>>>=S,h-=S,g=0,d=11+(127&u),u>>>=7,h-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;d--;)r.lens[r.have++]=g}}if(r.mode===30)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,l={bits:r.lenbits},R=pa(1,r.lens,0,r.nlen,r.lencode,0,r.work,l),r.lenbits=l.bits,R){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,l={bits:r.distbits},R=pa(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,l),r.distbits=l.bits,R){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,t===6)break t;case 20:r.mode=21;case 21:if(o>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=h,X5(e,p),a=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,h=r.bits,r.mode===12&&(r.back=-1);break}for(r.back=0;y=r.lencode[u&(1<<r.lenbits)-1],S=y>>>24,C=y>>>16&255,B=65535&y,!(S<=h);){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}if(C&&(240&C)==0){for(U=S,O=C,q=B;y=r.lencode[q+((u&(1<<U+O)-1)>>U)],S=y>>>24,C=y>>>16&255,B=65535&y,!(U+S<=h);){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}u>>>=U,h-=U,r.back+=U}if(u>>>=S,h-=S,r.back+=S,r.length=B,C===0){r.mode=26;break}if(32&C){r.back=-1,r.mode=12;break}if(64&C){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&C,r.mode=22;case 22:if(r.extra){for(m=r.extra;h<m;){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;y=r.distcode[u&(1<<r.distbits)-1],S=y>>>24,C=y>>>16&255,B=65535&y,!(S<=h);){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}if((240&C)==0){for(U=S,O=C,q=B;y=r.distcode[q+((u&(1<<U+O)-1)>>U)],S=y>>>24,C=y>>>16&255,B=65535&y,!(U+S<=h);){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}u>>>=U,h-=U,r.back+=U}if(u>>>=S,h-=S,r.back+=S,64&C){e.msg="invalid distance code",r.mode=30;break}r.offset=B,r.extra=15&C,r.mode=24;case 24:if(r.extra){for(m=r.extra;h<m;){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(c===0)break t;if(d=p-c,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}d>r.wnext?(d-=r.wnext,v=r.wsize-d):v=r.wnext-d,d>r.length&&(d=r.length),A=r.window}else A=i,v=a-r.offset,d=r.length;d>c&&(d=c),c-=d,r.length-=d;do i[a++]=A[v++];while(--d);r.length===0&&(r.mode=21);break;case 26:if(c===0)break t;i[a++]=r.length,c--,r.mode=21;break;case 27:if(r.wrap){for(;h<32;){if(o===0)break t;o--,u|=n[s++]<<h,h+=8}if(p-=c,e.total_out+=p,r.total+=p,p&&(e.adler=r.check=r.flags?Ke(r.check,i,p,a-p):Ta(r.check,i,p,a-p)),p=c,(r.flags?u:Sl(u))!==r.check){e.msg="incorrect data check",r.mode=30;break}u=0,h=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;h<32;){if(o===0)break t;o--,u+=n[s++]<<h,h+=8}if(u!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}u=0,h=0}r.mode=29;case 29:R=1;break t;case 30:R=-3;break t;case 32:default:return-2}return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=h,(r.wsize||p!==e.avail_out&&r.mode<30&&(r.mode<27||t!==4))&&Jf(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,r.total+=p,r.wrap&&p&&(e.adler=r.check=r.flags?Ke(r.check,i,p,e.next_out-p):Ta(r.check,i,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===12?128:0)+(r.mode===20||r.mode===15?256:0),(f===0&&p===0||t===4)&&R===0&&(R=-5),R}function kl(e,t){const r=t.length;let n,i;return e&&e.state?(n=e.state,n.wrap!==0&&n.mode!==11?-2:n.mode===11&&(i=1,i=Ta(i,t,r,0),i!==n.check)?-3:(Jf(e,t,r,r),n.havedict=1,0)):-2}class op{constructor(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}class Pl{constructor(t){this.options=Oe({chunkSize:16384,windowBits:0},t||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),!(r.windowBits>=0&&r.windowBits<16)||t&&t.windowBits||(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(15&r.windowBits)==0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Yf,this.strm.avail_out=0;let n=ip(this.strm,r.windowBits);if(n!==0||(this.header=new op,function(i,s){let a;i&&i.state&&(a=i.state,(2&a.wrap)==0||(a.head=s,s.done=!1))}(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=Gu(r.dictionary):r.dictionary instanceof ArrayBuffer&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(n=kl(this.strm,r.dictionary),n!==0))))throw Error(Ca[n])}push(t,r){const{strm:n,options:{chunkSize:i,dictionary:s}}=this;let a,o,c=!1;if(this.ended)return!1;o=r===~~r?r:r===!0?4:0,typeof t=="string"?n.input=function(u){const h=new dn(u.length);for(let f=0,p=h.length;f<p;f++)h[f]=u.charCodeAt(f);return h}(t):t instanceof ArrayBuffer?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new dn(i),n.next_out=0,n.avail_out=i),a=ap(n,0),a===2&&s&&(a=kl(this.strm,s)),a===-5&&c===!0&&(a=0,c=!1),a!==1&&a!==0)return this.onEnd(a),this.ended=!0,!1;n.next_out&&(n.avail_out!==0&&a!==1&&(n.avail_in!==0||o!==4&&o!==2)||this.onData(zf(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(c=!0)}while((n.avail_in>0||n.avail_out===0)&&a!==1);return a===1&&(o=4),o===4?(a=function(u){if(!u||!u.state)return-2;const h=u.state;return h.window&&(h.window=null),u.state=null,0}(this.strm),this.onEnd(a),this.ended=!0,a===0):o!==2||(this.onEnd(0),n.avail_out=0,!0)}onData(t){this.chunks.push(t)}onEnd(t){t===0&&(this.result=Lf(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg}}var xl=[0,1,3,7,15,31,63,127,255],ra=function(e){this.stream=e,this.bitOffset=0,this.curByte=0,this.hasByte=!1};ra.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},ra.prototype.read=function(e){for(var t=0;e>0;){this._ensureByte();var r=8-this.bitOffset;if(e>=r)t<<=r,t|=xl[r]&this.curByte,this.hasByte=!1,this.bitOffset=0,e-=r;else{t<<=e;var n=r-e;t|=(this.curByte&xl[e]<<n)>>n,this.bitOffset+=e,e=0}}return t},ra.prototype.seek=function(e){var t=e%8,r=(e-t)/8;this.bitOffset=t,this.stream.seek(r),this.hasByte=!1},ra.prototype.pi=function(){var e,t=new Uint8Array(6);for(e=0;e<t.length;e++)t[e]=this.read(8);return function(r){return Array.prototype.map.call(r,n=>("00"+n.toString(16)).slice(-2)).join("")}(t)};var cp=ra,Ki=function(){};Ki.prototype.readByte=function(){throw Error("abstract method readByte() not implemented")},Ki.prototype.read=function(e,t,r){for(var n=0;n<r;){var i=this.readByte();if(i<0)return n===0?-1:n;e[t++]=i,n++}return n},Ki.prototype.seek=function(e){throw Error("abstract method seek() not implemented")},Ki.prototype.writeByte=function(e){throw Error("abstract method readByte() not implemented")},Ki.prototype.write=function(e,t,r){var n;for(n=0;n<r;n++)this.writeByte(e[t++]);return r},Ki.prototype.flush=function(){};var mu,Xf=Ki,up=(mu=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),function(){var e=4294967295;this.getCRC=function(){return~e>>>0},this.updateCRC=function(t){e=e<<8^mu[255&(e>>>24^t)]},this.updateCRCRun=function(t,r){for(;r-- >0;)e=e<<8^mu[255&(e>>>24^t)]}}),Ml=function(e,t){var r,n=e[t];for(r=t;r>0;r--)e[r]=e[r-1];return e[0]=n,n},Ae={OK:0,LAST_BLOCK:-1,NOT_BZIP_DATA:-2,UNEXPECTED_INPUT_EOF:-3,UNEXPECTED_OUTPUT_EOF:-4,DATA_ERROR:-5,OUT_OF_MEMORY:-6,OBSOLETE_INPUT:-7,END_OF_BLOCK:-8},ci={};ci[Ae.LAST_BLOCK]="Bad file checksum",ci[Ae.NOT_BZIP_DATA]="Not bzip data",ci[Ae.UNEXPECTED_INPUT_EOF]="Unexpected input EOF",ci[Ae.UNEXPECTED_OUTPUT_EOF]="Unexpected output EOF",ci[Ae.DATA_ERROR]="Data error",ci[Ae.OUT_OF_MEMORY]="Out of memory",ci[Ae.OBSOLETE_INPUT]="Obsolete (pre 0.9.5) bzip format not supported.";var $e=function(e,t){var r=ci[e]||"unknown error";t&&(r+=": "+t);var n=new TypeError(r);throw n.errorCode=e,n},na=function(e,t){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(e,t)};na.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new up,!0):(this.writeCount=-1,!1)},na.prototype._start_bunzip=function(e,t){var r=new Uint8Array(4);e.read(r,0,4)===4&&String.fromCharCode(r[0],r[1],r[2])==="BZh"||$e(Ae.NOT_BZIP_DATA,"bad magic");var n=r[3]-48;(n<1||n>9)&&$e(Ae.NOT_BZIP_DATA,"level out of range"),this.reader=new cp(e),this.dbufSize=1e5*n,this.nextoutput=0,this.outputStream=t,this.streamCRC=0},na.prototype._get_next_block=function(){var e,t,r,n=this.reader,i=n.pi();if(i==="177245385090")return!1;i!=="314159265359"&&$e(Ae.NOT_BZIP_DATA),this.targetBlockCRC=n.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,n.read(1)&&$e(Ae.OBSOLETE_INPUT);var s=n.read(24);s>this.dbufSize&&$e(Ae.DATA_ERROR,"initial position out of bounds");var a=n.read(16),o=new Uint8Array(256),c=0;for(e=0;e<16;e++)if(a&1<<15-e){var u=16*e;for(r=n.read(16),t=0;t<16;t++)r&1<<15-t&&(o[c++]=u+t)}var h=n.read(3);(h<2||h>6)&&$e(Ae.DATA_ERROR);var f=n.read(15);f===0&&$e(Ae.DATA_ERROR);var p=new Uint8Array(256);for(e=0;e<h;e++)p[e]=e;var d=new Uint8Array(f);for(e=0;e<f;e++){for(t=0;n.read(1);t++)t>=h&&$e(Ae.DATA_ERROR);d[e]=Ml(p,t)}var v,A=c+2,S=[];for(t=0;t<h;t++){var C,B,U=new Uint8Array(A),O=new Uint16Array(21);for(a=n.read(5),e=0;e<A;e++){for(;(a<1||a>20)&&$e(Ae.DATA_ERROR),n.read(1);)n.read(1)?a--:a++;U[e]=a}for(C=B=U[0],e=1;e<A;e++)U[e]>B?B=U[e]:U[e]<C&&(C=U[e]);v={},S.push(v),v.permute=new Uint16Array(258),v.limit=new Uint32Array(22),v.base=new Uint32Array(21),v.minLen=C,v.maxLen=B;var q=0;for(e=C;e<=B;e++)for(O[e]=v.limit[e]=0,a=0;a<A;a++)U[a]===e&&(v.permute[q++]=a);for(e=0;e<A;e++)O[U[e]]++;for(q=a=0,e=C;e<B;e++)q+=O[e],v.limit[e]=q-1,q<<=1,a+=O[e],v.base[e+1]=q-a;v.limit[B+1]=Number.MAX_VALUE,v.limit[B]=q+O[B]-1,v.base[C]=0}var g=new Uint32Array(256);for(e=0;e<256;e++)p[e]=e;var R,l=0,m=0,y=0,b=this.dbuf=new Uint32Array(this.dbufSize);for(A=0;;){for(A--||(A=49,y>=f&&$e(Ae.DATA_ERROR),v=S[d[y++]]),e=v.minLen,t=n.read(e);e>v.maxLen&&$e(Ae.DATA_ERROR),!(t<=v.limit[e]);e++)t=t<<1|n.read(1);((t-=v.base[e])<0||t>=258)&&$e(Ae.DATA_ERROR);var _=v.permute[t];if(_!==0&&_!==1){if(l)for(l=0,m+a>this.dbufSize&&$e(Ae.DATA_ERROR),g[R=o[p[0]]]+=a;a--;)b[m++]=R;if(_>c)break;m>=this.dbufSize&&$e(Ae.DATA_ERROR),g[R=o[R=Ml(p,e=_-1)]]++,b[m++]=R}else l||(l=1,a=0),a+=_===0?l:2*l,l<<=1}for((s<0||s>=m)&&$e(Ae.DATA_ERROR),t=0,e=0;e<256;e++)r=t+g[e],g[e]=t,t=r;for(e=0;e<m;e++)b[g[R=255&b[e]]]|=e<<8,g[R]++;var D=0,N=0,W=0;return m&&(N=255&(D=b[s]),D>>=8,W=-1),this.writePos=D,this.writeCurrent=N,this.writeCount=m,this.writeRun=W,!0},na.prototype._read_bunzip=function(e,t){var r,n,i;if(this.writeCount<0)return 0;var s=this.dbuf,a=this.writePos,o=this.writeCurrent,c=this.writeCount;this.outputsize;for(var u=this.writeRun;c;){for(c--,n=o,o=255&(a=s[a]),a>>=8,u++==3?(r=o,i=n,o=-1):(r=1,i=o),this.blockCRC.updateCRCRun(i,r);r--;)this.outputStream.writeByte(i),this.nextoutput++;o!=n&&(u=0)}return this.writeCount=c,this.blockCRC.getCRC()!==this.targetBlockCRC&&$e(Ae.DATA_ERROR,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var lp=function(e){if("readByte"in e)return e;var t=new Xf;return t.pos=0,t.readByte=function(){return e[this.pos++]},t.seek=function(r){this.pos=r},t.eof=function(){return this.pos>=e.length},t},hp=function(e){var t=new Xf,r=!0;if(e)if(typeof e=="number")t.buffer=new Uint8Array(e),r=!1;else{if("writeByte"in e)return e;t.buffer=e,r=!1}else t.buffer=new Uint8Array(16384);return t.pos=0,t.writeByte=function(n){if(r&&this.pos>=this.buffer.length){var i=new Uint8Array(2*this.buffer.length);i.set(this.buffer),this.buffer=i}this.buffer[this.pos++]=n},t.getBuffer=function(){if(this.pos!==this.buffer.length){if(!r)throw new TypeError("outputsize does not match decoded input");var n=new Uint8Array(this.pos);n.set(this.buffer.subarray(0,this.pos)),this.buffer=n}return this.buffer},t._coerced=!0,t},Tl=function(e,t,r){for(var n=lp(e),i=hp(t),s=new na(n,i);!("eof"in n)||!n.eof();)if(s._init_block())s._read_bunzip();else{var a=s.reader.read(32)>>>0;if(a!==s.streamCRC&&$e(Ae.DATA_ERROR,"Bad stream CRC (got "+s.streamCRC.toString(16)+" expected "+a.toString(16)+")"),!r||!("eof"in n)||n.eof())break;s._start_bunzip(n,i)}if("getBuffer"in i)return i.getBuffer()};class Ns{static get tag(){return Y.packet.literalData}constructor(t=new Date){this.format=Y.literal.utf8,this.date=V.normalizeDate(t),this.text=null,this.data=null,this.filename=""}setText(t,r=Y.literal.utf8){this.format=r,this.text=t,this.data=null}getText(t=!1){return(this.text===null||V.isStream(this.text))&&(this.text=V.decodeUTF8(V.nativeEOL(this.getBytes(t)))),this.text}setBytes(t,r){this.format=r,this.data=t,this.text=null}getBytes(t=!1){return this.data===null&&(this.data=V.canonicalizeEOL(V.encodeUTF8(this.text))),t?gs(this.data):this.data}setFilename(t){this.filename=t}getFilename(){return this.filename}async read(t){await Ec(t,async r=>{const n=await r.readByte(),i=await r.readByte();this.filename=V.decodeUTF8(await r.readBytes(i)),this.date=V.readDate(await r.readBytes(4));let s=r.remainder();xe(s)&&(s=await Ce(s)),this.setBytes(s,n)})}writeHeader(){const t=V.encodeUTF8(this.filename),r=new Uint8Array([t.length]),n=new Uint8Array([this.format]),i=V.writeDate(this.date);return V.concatUint8Array([n,r,t,i])}write(){const t=this.writeHeader(),r=this.getBytes();return V.concat([t,r])}}const $s=Symbol("verified"),fp=new Set([Y.signatureSubpacket.issuer,Y.signatureSubpacket.issuerFingerprint,Y.signatureSubpacket.embeddedSignature]);class Sr{static get tag(){return Y.packet.signature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.signedHashValue=null,this.created=null,this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new Si,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.revoked=null,this[$s]=null}read(t){let r=0;if(this.version=t[r++],this.version!==4&&this.version!==5)throw new De(`Version ${this.version} of the signature packet is unsupported.`);if(this.signatureType=t[r++],this.publicKeyAlgorithm=t[r++],this.hashAlgorithm=t[r++],r+=this.readSubPackets(t.subarray(r,t.length),!0),!this.created)throw Error("Missing signature creation time subpacket.");this.signatureData=t.subarray(0,r),r+=this.readSubPackets(t.subarray(r,t.length),!1),this.signedHashValue=t.subarray(r,r+2),r+=2,this.params=Rt.signature.parseSignatureParams(this.publicKeyAlgorithm,t.subarray(r,t.length))}writeParams(){return this.params instanceof Promise?xi(async()=>Rt.serializeParams(this.publicKeyAlgorithm,await this.params)):Rt.serializeParams(this.publicKeyAlgorithm,this.params)}write(){const t=[];return t.push(this.signatureData),t.push(this.writeUnhashedSubPackets()),t.push(this.signedHashValue),t.push(this.writeParams()),V.concat(t)}async sign(t,r,n=new Date,i=!1){t.version===5?this.version=5:this.version=4;const s=[new Uint8Array([this.version,this.signatureType,this.publicKeyAlgorithm,this.hashAlgorithm])];this.created=V.normalizeDate(n),this.issuerKeyVersion=t.version,this.issuerFingerprint=t.getFingerprintBytes(),this.issuerKeyID=t.getKeyID(),s.push(this.writeHashedSubPackets()),this.signatureData=V.concat(s);const a=this.toHash(this.signatureType,r,i),o=await this.hash(this.signatureType,r,a,i);this.signedHashValue=He(Vi(o),0,2);const c=async()=>Rt.signature.sign(this.publicKeyAlgorithm,this.hashAlgorithm,t.publicParams,t.privateParams,a,await Ce(o));V.isStream(o)?this.params=c():(this.params=await c(),this[$s]=!0)}writeHashedSubPackets(){const t=Y.signatureSubpacket,r=[];let n;if(this.created===null)throw Error("Missing signature creation time");r.push(ve(t.signatureCreationTime,V.writeDate(this.created))),this.signatureExpirationTime!==null&&r.push(ve(t.signatureExpirationTime,V.writeNumber(this.signatureExpirationTime,4))),this.exportable!==null&&r.push(ve(t.exportableCertification,new Uint8Array([this.exportable?1:0]))),this.trustLevel!==null&&(n=new Uint8Array([this.trustLevel,this.trustAmount]),r.push(ve(t.trustSignature,n))),this.regularExpression!==null&&r.push(ve(t.regularExpression,this.regularExpression)),this.revocable!==null&&r.push(ve(t.revocable,new Uint8Array([this.revocable?1:0]))),this.keyExpirationTime!==null&&r.push(ve(t.keyExpirationTime,V.writeNumber(this.keyExpirationTime,4))),this.preferredSymmetricAlgorithms!==null&&(n=V.stringToUint8Array(V.uint8ArrayToString(this.preferredSymmetricAlgorithms)),r.push(ve(t.preferredSymmetricAlgorithms,n))),this.revocationKeyClass!==null&&(n=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),n=V.concat([n,this.revocationKeyFingerprint]),r.push(ve(t.revocationKey,n))),this.rawNotations.forEach(([{name:a,value:o,humanReadable:c}])=>{n=[new Uint8Array([c?128:0,0,0,0])],n.push(V.writeNumber(a.length,2)),n.push(V.writeNumber(o.length,2)),n.push(V.stringToUint8Array(a)),n.push(o),n=V.concat(n),r.push(ve(t.notationData,n))}),this.preferredHashAlgorithms!==null&&(n=V.stringToUint8Array(V.uint8ArrayToString(this.preferredHashAlgorithms)),r.push(ve(t.preferredHashAlgorithms,n))),this.preferredCompressionAlgorithms!==null&&(n=V.stringToUint8Array(V.uint8ArrayToString(this.preferredCompressionAlgorithms)),r.push(ve(t.preferredCompressionAlgorithms,n))),this.keyServerPreferences!==null&&(n=V.stringToUint8Array(V.uint8ArrayToString(this.keyServerPreferences)),r.push(ve(t.keyServerPreferences,n))),this.preferredKeyServer!==null&&r.push(ve(t.preferredKeyServer,V.stringToUint8Array(this.preferredKeyServer))),this.isPrimaryUserID!==null&&r.push(ve(t.primaryUserID,new Uint8Array([this.isPrimaryUserID?1:0]))),this.policyURI!==null&&r.push(ve(t.policyURI,V.stringToUint8Array(this.policyURI))),this.keyFlags!==null&&(n=V.stringToUint8Array(V.uint8ArrayToString(this.keyFlags)),r.push(ve(t.keyFlags,n))),this.signersUserID!==null&&r.push(ve(t.signersUserID,V.stringToUint8Array(this.signersUserID))),this.reasonForRevocationFlag!==null&&(n=V.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),r.push(ve(t.reasonForRevocation,n))),this.features!==null&&(n=V.stringToUint8Array(V.uint8ArrayToString(this.features)),r.push(ve(t.features,n))),this.signatureTargetPublicKeyAlgorithm!==null&&(n=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],n.push(V.stringToUint8Array(this.signatureTargetHash)),n=V.concat(n),r.push(ve(t.signatureTarget,n))),this.preferredAEADAlgorithms!==null&&(n=V.stringToUint8Array(V.uint8ArrayToString(this.preferredAEADAlgorithms)),r.push(ve(t.preferredAEADAlgorithms,n)));const i=V.concat(r),s=V.writeNumber(i.length,2);return V.concat([s,i])}writeUnhashedSubPackets(){const t=Y.signatureSubpacket,r=[];let n;this.issuerKeyID.isNull()||this.issuerKeyVersion===5||r.push(ve(t.issuer,this.issuerKeyID.write())),this.embeddedSignature!==null&&r.push(ve(t.embeddedSignature,this.embeddedSignature.write())),this.issuerFingerprint!==null&&(n=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],n=V.concat(n),r.push(ve(t.issuerFingerprint,n))),this.unhashedSubpackets.forEach(a=>{r.push(Tc(a.length)),r.push(a)});const i=V.concat(r),s=V.writeNumber(i.length,2);return V.concat([s,i])}readSubPacket(t,r=!0){let n=0;const i=128&t[n],s=127&t[n];if(r||fp.has(s))switch(n++,s){case Y.signatureSubpacket.signatureCreationTime:this.created=V.readDate(t.subarray(n,t.length));break;case Y.signatureSubpacket.signatureExpirationTime:{const a=V.readNumber(t.subarray(n,t.length));this.signatureNeverExpires=a===0,this.signatureExpirationTime=a;break}case Y.signatureSubpacket.exportableCertification:this.exportable=t[n++]===1;break;case Y.signatureSubpacket.trustSignature:this.trustLevel=t[n++],this.trustAmount=t[n++];break;case Y.signatureSubpacket.regularExpression:this.regularExpression=t[n];break;case Y.signatureSubpacket.revocable:this.revocable=t[n++]===1;break;case Y.signatureSubpacket.keyExpirationTime:{const a=V.readNumber(t.subarray(n,t.length));this.keyExpirationTime=a,this.keyNeverExpires=a===0;break}case Y.signatureSubpacket.preferredSymmetricAlgorithms:this.preferredSymmetricAlgorithms=[...t.subarray(n,t.length)];break;case Y.signatureSubpacket.revocationKey:this.revocationKeyClass=t[n++],this.revocationKeyAlgorithm=t[n++],this.revocationKeyFingerprint=t.subarray(n,n+20);break;case Y.signatureSubpacket.issuer:this.issuerKeyID.read(t.subarray(n,t.length));break;case Y.signatureSubpacket.notationData:{const a=!!(128&t[n]);n+=4;const o=V.readNumber(t.subarray(n,n+2));n+=2;const c=V.readNumber(t.subarray(n,n+2));n+=2;const u=V.uint8ArrayToString(t.subarray(n,n+o)),h=t.subarray(n+o,n+o+c);this.rawNotations.push({name:u,humanReadable:a,value:h,critical:i}),a&&(this.notations[u]=V.uint8ArrayToString(h));break}case Y.signatureSubpacket.preferredHashAlgorithms:this.preferredHashAlgorithms=[...t.subarray(n,t.length)];break;case Y.signatureSubpacket.preferredCompressionAlgorithms:this.preferredCompressionAlgorithms=[...t.subarray(n,t.length)];break;case Y.signatureSubpacket.keyServerPreferences:this.keyServerPreferences=[...t.subarray(n,t.length)];break;case Y.signatureSubpacket.preferredKeyServer:this.preferredKeyServer=V.uint8ArrayToString(t.subarray(n,t.length));break;case Y.signatureSubpacket.primaryUserID:this.isPrimaryUserID=t[n++]!==0;break;case Y.signatureSubpacket.policyURI:this.policyURI=V.uint8ArrayToString(t.subarray(n,t.length));break;case Y.signatureSubpacket.keyFlags:this.keyFlags=[...t.subarray(n,t.length)];break;case Y.signatureSubpacket.signersUserID:this.signersUserID=V.uint8ArrayToString(t.subarray(n,t.length));break;case Y.signatureSubpacket.reasonForRevocation:this.reasonForRevocationFlag=t[n++],this.reasonForRevocationString=V.uint8ArrayToString(t.subarray(n,t.length));break;case Y.signatureSubpacket.features:this.features=[...t.subarray(n,t.length)];break;case Y.signatureSubpacket.signatureTarget:{this.signatureTargetPublicKeyAlgorithm=t[n++],this.signatureTargetHashAlgorithm=t[n++];const a=Rt.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=V.uint8ArrayToString(t.subarray(n,n+a));break}case Y.signatureSubpacket.embeddedSignature:this.embeddedSignature=new Sr,this.embeddedSignature.read(t.subarray(n,t.length));break;case Y.signatureSubpacket.issuerFingerprint:this.issuerKeyVersion=t[n++],this.issuerFingerprint=t.subarray(n,t.length),this.issuerKeyVersion===5?this.issuerKeyID.read(this.issuerFingerprint):this.issuerKeyID.read(this.issuerFingerprint.subarray(-8));break;case Y.signatureSubpacket.preferredAEADAlgorithms:this.preferredAEADAlgorithms=[...t.subarray(n,t.length)];break;default:{const a=Error("Unknown signature subpacket type "+s);if(i)throw a;V.printDebug(a)}}else this.unhashedSubpackets.push(t.subarray(n,t.length))}readSubPackets(t,r=!0,n){const i=V.readNumber(t.subarray(0,2));let s=2;for(;s<2+i;){const a=w5(t.subarray(s,t.length));s+=a.offset,this.readSubPacket(t.subarray(s,s+a.len),r,n),s+=a.len}return s}toSign(t,r){const n=Y.signature;switch(t){case n.binary:return r.text!==null?V.encodeUTF8(r.getText(!0)):r.getBytes(!0);case n.text:{const i=r.getBytes(!0);return V.canonicalizeEOL(i)}case n.standalone:return new Uint8Array(0);case n.certGeneric:case n.certPersona:case n.certCasual:case n.certPositive:case n.certRevocation:{let i,s;if(r.userID)s=180,i=r.userID;else{if(!r.userAttribute)throw Error("Either a userID or userAttribute packet needs to be supplied for certification.");s=209,i=r.userAttribute}const a=i.write();return V.concat([this.toSign(n.key,r),new Uint8Array([s]),V.writeNumber(a.length,4),a])}case n.subkeyBinding:case n.subkeyRevocation:case n.keyBinding:return V.concat([this.toSign(n.key,r),this.toSign(n.key,{key:r.bind})]);case n.key:if(r.key===void 0)throw Error("Key packet is required for this signature.");return r.key.writeForHash(this.version);case n.keyRevocation:return this.toSign(n.key,r);case n.timestamp:return new Uint8Array(0);case n.thirdParty:throw Error("Not implemented");default:throw Error("Unknown signature type.")}}calculateTrailer(t,r){let n=0;return Se(Vi(this.signatureData),i=>{n+=i.length},()=>{const i=[];return this.version!==5||this.signatureType!==Y.signature.binary&&this.signatureType!==Y.signature.text||(r?i.push(new Uint8Array(6)):i.push(t.writeHeader())),i.push(new Uint8Array([this.version,255])),this.version===5&&i.push(new Uint8Array(4)),i.push(V.writeNumber(n,4)),V.concat(i)})}toHash(t,r,n=!1){const i=this.toSign(t,r);return V.concat([i,this.signatureData,this.calculateTrailer(r,n)])}async hash(t,r,n,i=!1){return n||(n=this.toHash(t,r,i)),Rt.hash.digest(this.hashAlgorithm,n)}async verify(t,r,n,i=new Date,s=!1,a=$t){if(!this.issuerKeyID.equals(t.getKeyID()))throw Error("Signature was not issued by the given public key");if(this.publicKeyAlgorithm!==t.algorithm)throw Error("Public key algorithm used to sign signature does not match issuer key algorithm.");const o=r===Y.signature.binary||r===Y.signature.text;if(!(this[$s]&&!o)){let u,h;if(this.hashed?h=await this.hashed:(u=this.toHash(r,n,s),h=await this.hash(r,n,u)),h=await Ce(h),this.signedHashValue[0]!==h[0]||this.signedHashValue[1]!==h[1])throw Error("Signed digest did not match");if(this.params=await this.params,this[$s]=await Rt.signature.verify(this.publicKeyAlgorithm,this.hashAlgorithm,this.params,t.publicParams,u,h),!this[$s])throw Error("Signature verification failed")}const c=V.normalizeDate(i);if(c&&this.created>c)throw Error("Signature creation time is in the future");if(c&&c>=this.getExpirationTime())throw Error("Signature is expired");if(a.rejectHashAlgorithms.has(this.hashAlgorithm))throw Error("Insecure hash algorithm: "+Y.read(Y.hash,this.hashAlgorithm).toUpperCase());if(a.rejectMessageHashAlgorithms.has(this.hashAlgorithm)&&[Y.signature.binary,Y.signature.text].includes(this.signatureType))throw Error("Insecure message hash algorithm: "+Y.read(Y.hash,this.hashAlgorithm).toUpperCase());if(this.rawNotations.forEach(({name:u,critical:h})=>{if(h&&a.knownNotations.indexOf(u)<0)throw Error("Unknown critical notation: "+u)}),this.revocationKeyClass!==null)throw Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")}isExpired(t=new Date){const r=V.normalizeDate(t);return r!==null&&!(this.created<=r&&r<this.getExpirationTime())}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}}function ve(e,t){const r=[];return r.push(Tc(t.length+1)),r.push(new Uint8Array([e])),r.push(t),V.concat(r)}class jr{static get tag(){return Y.packet.onePassSignature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.issuerKeyID=null,this.flags=null}read(t){let r=0;if(this.version=t[r++],this.version!==3)throw new De(`Version ${this.version} of the one-pass signature packet is unsupported.`);return this.signatureType=t[r++],this.hashAlgorithm=t[r++],this.publicKeyAlgorithm=t[r++],this.issuerKeyID=new Si,this.issuerKeyID.read(t.subarray(r,r+8)),r+=8,this.flags=t[r++],this}write(){const t=new Uint8Array([3,this.signatureType,this.hashAlgorithm,this.publicKeyAlgorithm]),r=new Uint8Array([this.flags]);return V.concatUint8Array([t,this.issuerKeyID.write(),r])}calculateTrailer(...t){return xi(async()=>Sr.prototype.calculateTrailer.apply(await this.correspondingSig,t))}async verify(){const t=await this.correspondingSig;if(!t||t.constructor.tag!==Y.packet.signature)throw Error("Corresponding signature packet missing");if(t.signatureType!==this.signatureType||t.hashAlgorithm!==this.hashAlgorithm||t.publicKeyAlgorithm!==this.publicKeyAlgorithm||!t.issuerKeyID.equals(this.issuerKeyID))throw Error("Corresponding signature packet does not match one-pass signature packet");return t.hashed=this.hashed,t.verify.apply(t,arguments)}}function dp(e,t){if(!t[e]){let r;try{r=Y.read(Y.packet,e)}catch{throw new De("Unknown packet type with tag: "+e)}throw Error("Packet not allowed in this context: "+r)}return new t[e]}jr.prototype.hash=Sr.prototype.hash,jr.prototype.toHash=Sr.prototype.toHash,jr.prototype.toSign=Sr.prototype.toSign;class Ie extends Array{static async fromBinary(t,r,n=$t){const i=new Ie;return await i.read(t,r,n),i}async read(t,r,n=$t){this.stream=Wn(t,async(s,a)=>{const o=br(a);try{for(;;)if(await o.ready,await A5(s,async c=>{try{if(c.tag===Y.packet.marker||c.tag===Y.packet.trust)return;const u=dp(c.tag,r);u.packets=new Ie,u.fromStream=V.isStream(c.packet),await u.read(c.packet,n),await o.write(u)}catch(u){const h=!n.ignoreUnsupportedPackets&&u instanceof De,f=!(n.ignoreMalformedPackets||u instanceof De);if(h||f||vo(c.tag))await o.abort(u);else{const p=new Z1(c.tag,c.packet);await o.write(p)}V.printDebugError(u)}}))return await o.ready,void await o.close()}catch(c){await o.abort(c)}});const i=xn(this.stream);for(;;){const{done:s,value:a}=await i.read();if(s?this.stream=null:this.push(a),s||vo(a.constructor.tag))break}i.releaseLock()}write(){const t=[];for(let r=0;r<this.length;r++){const n=this[r]instanceof Z1?this[r].tag:this[r].constructor.tag,i=this[r].write();if(V.isStream(i)&&vo(this[r].constructor.tag)){let s=[],a=0;const o=512;t.push(Pf(n)),t.push(Se(i,c=>{if(s.push(c),a+=c.length,a>=o){const u=Math.min(Math.log(a)/Math.LN2|0,30),h=2**u,f=V.concat([_5(u)].concat(s));return s=[f.subarray(1+h)],a=s[0].length,f.subarray(0,1+h)}},()=>V.concat([Tc(a)].concat(s))))}else{if(V.isStream(i)){let s=0;t.push(Se(Vi(i),a=>{s+=a.length},()=>X1(n,s)))}else t.push(X1(n,i.length));t.push(i)}}return V.concat(t)}filterByTag(...t){const r=new Ie,n=i=>s=>i===s;for(let i=0;i<this.length;i++)t.some(n(this[i].constructor.tag))&&r.push(this[i]);return r}findPacket(t){return this.find(r=>r.constructor.tag===t)}indexOfTag(...t){const r=[],n=this,i=s=>a=>s===a;for(let s=0;s<this.length;s++)t.some(i(n[s].constructor.tag))&&r.push(s);return r}}const pp=V.constructAllowedPackets([Ns,jr,Sr]);class Wa{static get tag(){return Y.packet.compressedData}constructor(t=$t){this.packets=null,this.algorithm=t.preferredCompressionAlgorithm,this.compressed=null,this.deflateLevel=t.deflateLevel}async read(t,r=$t){await Ec(t,async n=>{this.algorithm=await n.readByte(),this.compressed=n.remainder(),await this.decompress(r)})}write(){return this.compressed===null&&this.compress(),V.concat([new Uint8Array([this.algorithm]),this.compressed])}async decompress(t=$t){const r=Y.read(Y.compression,this.algorithm),n=yp[r];if(!n)throw Error(r+" decompression not supported");this.packets=await Ie.fromBinary(n(this.compressed),pp,t)}compress(){const t=Y.read(Y.compression,this.algorithm),r=mp[t];if(!r)throw Error(t+" compression not supported");this.compressed=r(this.packets.write(),this.deflateLevel)}}const hn=V.getNodeZlib();function Cl(e){return e}function Ho(e,t,r={}){return function(n){return!V.isStream(n)||xe(n)?xi(()=>Ce(n).then(i=>new Promise((s,a)=>{e(i,r,(o,c)=>{if(o)return a(o);s(c)})}))):Sc(A0(n).pipe(t(r)))}}function Go(e,t={}){return function(r){const n=new e(t);return Se(r,i=>{if(i.length)return n.push(i,2),n.result},()=>{if(e===Vu)return n.push([],4),n.result})}}function Rl(e){return function(t){return xi(async()=>e(await Ce(t)))}}const mp=hn?{zip:(e,t)=>Ho(hn.deflateRaw,hn.createDeflateRaw,{level:t})(e),zlib:(e,t)=>Ho(hn.deflate,hn.createDeflate,{level:t})(e)}:{zip:(e,t)=>Go(Vu,{raw:!0,level:t})(e),zlib:(e,t)=>Go(Vu,{level:t})(e)},yp=hn?{uncompressed:Cl,zip:Ho(hn.inflateRaw,hn.createInflateRaw),zlib:Ho(hn.inflate,hn.createInflate),bzip2:Rl(Tl)}:{uncompressed:Cl,zip:Go(Pl,{raw:!0}),zlib:Go(Pl),bzip2:Rl(Tl)},bp=V.constructAllowedPackets([Ns,Wa,jr,Sr]);class Zf{static get tag(){return Y.packet.symEncryptedIntegrityProtectedData}constructor(){this.version=1,this.encrypted=null,this.packets=null}async read(t){await Ec(t,async r=>{const n=await r.readByte();if(n!==1)throw new De(`Version ${n} of the SEIP packet is unsupported.`);this.encrypted=r.remainder()})}write(){return V.concat([new Uint8Array([1]),this.encrypted])}async encrypt(t,r,n=$t){const{blockSize:i}=Rt.getCipher(t);let s=this.packets.write();xe(s)&&(s=await Ce(s));const a=await Rt.getPrefixRandom(t),o=new Uint8Array([211,20]),c=V.concat([a,s,o]),u=await Rt.hash.sha1(gs(c)),h=V.concat([c,u]);return this.encrypted=await Rt.mode.cfb.encrypt(t,r,h,new Uint8Array(i),n),!0}async decrypt(t,r,n=$t){const{blockSize:i}=Rt.getCipher(t);let s=Vi(this.encrypted);xe(s)&&(s=await Ce(s));const a=await Rt.mode.cfb.decrypt(t,r,s,new Uint8Array(i)),o=He(gs(a),-20),c=He(a,0,-20),u=Promise.all([Ce(await Rt.hash.sha1(gs(c))),Ce(o)]).then(([p,d])=>{if(!V.equalsUint8Array(p,d))throw Error("Modification detected.");return new Uint8Array}),h=He(c,i+2);let f=He(h,0,-2);return f=pr([f,xi(()=>u)]),V.isStream(s)&&n.allowUnauthenticatedStream||(f=await Ce(f)),this.packets=await Ie.fromBinary(f,bp,n),!0}}const gp=V.constructAllowedPackets([Ns,Wa,jr,Sr]);class Ic{static get tag(){return Y.packet.aeadEncryptedData}constructor(){this.version=1,this.cipherAlgorithm=null,this.aeadAlgorithm=Y.aead.eax,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}async read(t){await Ec(t,async r=>{const n=await r.readByte();if(n!==1)throw new De(`Version ${n} of the AEAD-encrypted data packet is not supported.`);this.cipherAlgorithm=await r.readByte(),this.aeadAlgorithm=await r.readByte(),this.chunkSizeByte=await r.readByte();const i=Rt.getAEADMode(this.aeadAlgorithm);this.iv=await r.readBytes(i.ivLength),this.encrypted=r.remainder()})}write(){return V.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.iv,this.encrypted])}async decrypt(t,r,n=$t){this.packets=await Ie.fromBinary(await this.crypt("decrypt",r,Vi(this.encrypted)),gp,n)}async encrypt(t,r,n=$t){this.cipherAlgorithm=t;const{ivLength:i}=Rt.getAEADMode(this.aeadAlgorithm);this.iv=await Rt.random.getRandomBytes(i),this.chunkSizeByte=n.aeadChunkSizeByte;const s=this.packets.write();this.encrypted=await this.crypt("encrypt",r,s)}async crypt(t,r,n){const i=Rt.getAEADMode(this.aeadAlgorithm),s=await i(this.cipherAlgorithm,r),a=t==="decrypt"?i.tagLength:0,o=t==="encrypt"?i.tagLength:0,c=2**(this.chunkSizeByte+6)+a,u=new ArrayBuffer(21),h=new Uint8Array(u,0,13),f=new Uint8Array(u),p=new DataView(u),d=new Uint8Array(u,5,8);h.set([192|Ic.tag,this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte],0);let v=0,A=Promise.resolve(),S=0,C=0;const B=this.iv;return Wn(n,async(U,O)=>{if(V.isStream(U)!=="array"){const R=new Ss({},{highWaterMark:V.getHardwareConcurrency()*2**(this.chunkSizeByte+6),size:l=>l.length});Ai(R.readable,O),O=R.writable}const q=xn(U),g=br(O);try{for(;;){let R=await q.readBytes(c+a)||new Uint8Array;const l=R.subarray(R.length-a);let m,y;if(R=R.subarray(0,R.length-a),!v||R.length?(q.unshift(l),m=s[t](R,i.getNonce(B,d),h),C+=R.length-a+o):(p.setInt32(17,S),m=s[t](l,i.getNonce(B,d),f),C+=o,y=!0),S+=R.length-a,A=A.then(()=>m).then(async b=>{await g.ready,await g.write(b),C-=b.length}).catch(b=>g.abort(b)),(y||C>g.desiredSize)&&await A,y){await g.close();break}p.setInt32(9,++v)}}catch(R){await g.abort(R)}})}}class Yu{static get tag(){return Y.packet.publicKeyEncryptedSessionKey}constructor(){this.version=3,this.publicKeyID=new Si,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}read(t){if(this.version=t[0],this.version!==3)throw new De(`Version ${this.version} of the PKESK packet is unsupported.`);this.publicKeyID.read(t.subarray(1,t.length)),this.publicKeyAlgorithm=t[9],this.encrypted=Rt.parseEncSessionKeyParams(this.publicKeyAlgorithm,t.subarray(10))}write(){const t=[new Uint8Array([this.version]),this.publicKeyID.write(),new Uint8Array([this.publicKeyAlgorithm]),Rt.serializeParams(this.publicKeyAlgorithm,this.encrypted)];return V.concatUint8Array(t)}async encrypt(t){const r=V.concatUint8Array([new Uint8Array([Y.write(Y.symmetric,this.sessionKeyAlgorithm)]),this.sessionKey,V.writeChecksum(this.sessionKey)]),n=Y.write(Y.publicKey,this.publicKeyAlgorithm);this.encrypted=await Rt.publicKeyEncrypt(n,t.publicParams,r,t.getFingerprintBytes())}async decrypt(t,r){if(this.publicKeyAlgorithm!==t.algorithm)throw Error("Decryption error");const n=r?V.concatUint8Array([new Uint8Array([r.sessionKeyAlgorithm]),r.sessionKey,V.writeChecksum(r.sessionKey)]):null,i=await Rt.publicKeyDecrypt(this.publicKeyAlgorithm,t.publicParams,t.privateParams,this.encrypted,t.getFingerprintBytes(),n),s=i[0],a=i.subarray(1,i.length-2),o=i.subarray(i.length-2),c=V.writeChecksum(a),u=c[0]===o[0]&c[1]===o[1];if(r){const h=u&s===r.sessionKeyAlgorithm&a.length===r.sessionKey.length;this.sessionKeyAlgorithm=V.selectUint8(h,s,r.sessionKeyAlgorithm),this.sessionKey=V.selectUint8Array(h,a,r.sessionKey)}else{if(!(u&&Y.read(Y.symmetric,s)))throw Error("Decryption error");this.sessionKey=a,this.sessionKeyAlgorithm=s}}}class ma{constructor(t=$t){this.algorithm=Y.hash.sha256,this.type="iterated",this.c=t.s2kIterationCountByte,this.salt=null}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(t){let r=0;switch(this.type=Y.read(Y.s2k,t[r++]),this.algorithm=t[r++],this.type){case"simple":break;case"salted":this.salt=t.subarray(r,r+8),r+=8;break;case"iterated":this.salt=t.subarray(r,r+8),r+=8,this.c=t[r++];break;case"gnu":if(V.uint8ArrayToString(t.subarray(r,r+3))!=="GNU")throw Error("Unknown s2k type.");if(r+=3,1e3+t[r++]!==1001)throw Error("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw Error("Unknown s2k type.")}return r}write(){if(this.type==="gnu-dummy")return new Uint8Array([101,0,...V.stringToUint8Array("GNU"),1]);const t=[new Uint8Array([Y.write(Y.s2k,this.type),this.algorithm])];switch(this.type){case"simple":break;case"salted":t.push(this.salt);break;case"iterated":t.push(this.salt),t.push(new Uint8Array([this.c]));break;case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}return V.concatUint8Array(t)}async produceKey(t,r){t=V.encodeUTF8(t);const n=[];let i=0,s=0;for(;i<r;){let a;switch(this.type){case"simple":a=V.concatUint8Array([new Uint8Array(s),t]);break;case"salted":a=V.concatUint8Array([new Uint8Array(s),this.salt,t]);break;case"iterated":{const c=V.concatUint8Array([this.salt,t]);let u=c.length;const h=Math.max(this.getCount(),u);a=new Uint8Array(s+h),a.set(c,s);for(let f=s+u;f<h;f+=u,u*=2)a.copyWithin(f,s,f);break}case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}const o=await Rt.hash.digest(this.algorithm,a);n.push(o),i+=o.length,s++}return V.concatUint8Array(n).subarray(0,r)}}class ks{static get tag(){return Y.packet.symEncryptedSessionKey}constructor(t=$t){this.version=t.aeadProtect?5:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm=Y.symmetric.aes256,this.aeadAlgorithm=Y.write(Y.aead,t.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(t){let r=0;if(this.version=t[r++],this.version!==4&&this.version!==5)throw new De(`Version ${this.version} of the SKESK packet is unsupported.`);const n=t[r++];if(this.version===5&&(this.aeadAlgorithm=t[r++]),this.s2k=new ma,r+=this.s2k.read(t.subarray(r,t.length)),this.version===5){const i=Rt.getAEADMode(this.aeadAlgorithm);this.iv=t.subarray(r,r+=i.ivLength)}this.version===5||r<t.length?(this.encrypted=t.subarray(r,t.length),this.sessionKeyEncryptionAlgorithm=n):this.sessionKeyAlgorithm=n}write(){const t=this.encrypted===null?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm;let r;return this.version===5?r=V.concatUint8Array([new Uint8Array([this.version,t,this.aeadAlgorithm]),this.s2k.write(),this.iv,this.encrypted]):(r=V.concatUint8Array([new Uint8Array([this.version,t]),this.s2k.write()]),this.encrypted!==null&&(r=V.concatUint8Array([r,this.encrypted]))),r}async decrypt(t){const r=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,{blockSize:n,keySize:i}=Rt.getCipher(r),s=await this.s2k.produceKey(t,i);if(this.version===5){const a=Rt.getAEADMode(this.aeadAlgorithm),o=new Uint8Array([192|ks.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),c=await a(r,s);this.sessionKey=await c.decrypt(this.encrypted,this.iv,o)}else if(this.encrypted!==null){const a=await Rt.mode.cfb.decrypt(r,s,this.encrypted,new Uint8Array(n));this.sessionKeyAlgorithm=Y.write(Y.symmetric,a[0]),this.sessionKey=a.subarray(1,a.length)}else this.sessionKey=s}async encrypt(t,r=$t){const n=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=n,this.s2k=new ma(r),this.s2k.salt=await Rt.random.getRandomBytes(8);const{blockSize:i,keySize:s}=Rt.getCipher(n),a=await this.s2k.produceKey(t,s);if(this.sessionKey===null&&(this.sessionKey=await Rt.generateSessionKey(this.sessionKeyAlgorithm)),this.version===5){const o=Rt.getAEADMode(this.aeadAlgorithm);this.iv=await Rt.random.getRandomBytes(o.ivLength);const c=new Uint8Array([192|ks.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),u=await o(n,a);this.encrypted=await u.encrypt(this.sessionKey,this.iv,c)}else{const o=V.concatUint8Array([new Uint8Array([this.sessionKeyAlgorithm]),this.sessionKey]);this.encrypted=await Rt.mode.cfb.encrypt(n,a,o,new Uint8Array(i),r)}}}class Kn{static get tag(){return Y.packet.publicKey}constructor(t=new Date,r=$t){this.version=r.v5Keys?5:4,this.created=V.normalizeDate(t),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(t){const r=new Kn,{version:n,created:i,algorithm:s,publicParams:a,keyID:o,fingerprint:c}=t;return r.version=n,r.created=i,r.algorithm=s,r.publicParams=a,r.keyID=o,r.fingerprint=c,r}async read(t){let r=0;if(this.version=t[r++],this.version===4||this.version===5){this.created=V.readDate(t.subarray(r,r+4)),r+=4,this.algorithm=t[r++],this.version===5&&(r+=4);const{read:n,publicParams:i}=Rt.parsePublicKeyParams(this.algorithm,t.subarray(r));return this.publicParams=i,r+=n,await this.computeFingerprintAndKeyID(),r}throw new De(`Version ${this.version} of the key packet is unsupported.`)}write(){const t=[];t.push(new Uint8Array([this.version])),t.push(V.writeDate(this.created)),t.push(new Uint8Array([this.algorithm]));const r=Rt.serializeParams(this.algorithm,this.publicParams);return this.version===5&&t.push(V.writeNumber(r.length,4)),t.push(r),V.concatUint8Array(t)}writeForHash(t){const r=this.writePublicKey();return t===5?V.concatUint8Array([new Uint8Array([154]),V.writeNumber(r.length,4),r]):V.concatUint8Array([new Uint8Array([153]),V.writeNumber(r.length,2),r])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}async computeFingerprintAndKeyID(){if(await this.computeFingerprint(),this.keyID=new Si,this.version===5)this.keyID.read(this.fingerprint.subarray(0,8));else{if(this.version!==4)throw Error("Unsupported key version");this.keyID.read(this.fingerprint.subarray(12,20))}}async computeFingerprint(){const t=this.writeForHash(this.version);if(this.version===5)this.fingerprint=await Rt.hash.sha256(t);else{if(this.version!==4)throw Error("Unsupported key version");this.fingerprint=await Rt.hash.sha1(t)}}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return V.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(t){return this.version===t.version&&V.equalsUint8Array(this.writePublicKey(),t.writePublicKey())}getAlgorithmInfo(){const t={};t.algorithm=Y.read(Y.publicKey,this.algorithm);const r=this.publicParams.n||this.publicParams.p;return r?t.bits=V.uint8ArrayBitLength(r):t.curve=this.publicParams.oid.getName(),t}}Kn.prototype.readPublicKey=Kn.prototype.read,Kn.prototype.writePublicKey=Kn.prototype.write;const vp=V.constructAllowedPackets([Ns,Wa,jr,Sr]);class wp{static get tag(){return Y.packet.symmetricallyEncryptedData}constructor(){this.encrypted=null,this.packets=null}read(t){this.encrypted=t}write(){return this.encrypted}async decrypt(t,r,n=$t){if(!n.allowUnauthenticatedMessages)throw Error("Message is not authenticated.");const{blockSize:i}=Rt.getCipher(t),s=await Ce(Vi(this.encrypted)),a=await Rt.mode.cfb.decrypt(t,r,s.subarray(i+2),s.subarray(2,i+2));this.packets=await Ie.fromBinary(a,vp,n)}async encrypt(t,r,n=$t){const i=this.packets.write(),{blockSize:s}=Rt.getCipher(t),a=await Rt.getPrefixRandom(t),o=await Rt.mode.cfb.encrypt(t,r,a,new Uint8Array(s),n),c=await Rt.mode.cfb.encrypt(t,r,i,o.subarray(2),n);this.encrypted=V.concat([o,c])}}class T0 extends Kn{static get tag(){return Y.packet.publicSubkey}constructor(t,r){super(t,r)}static fromSecretSubkeyPacket(t){const r=new T0,{version:n,created:i,algorithm:s,publicParams:a,keyID:o,fingerprint:c}=t;return r.version=n,r.created=i,r.algorithm=s,r.publicParams=a,r.keyID=o,r.fingerprint=c,r}}class Qf extends Kn{static get tag(){return Y.packet.secretKey}constructor(t=new Date,r=$t){super(t,r),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.privateParams=null}async read(t){let r=await this.readPublicKey(t);if(this.s2kUsage=t[r++],this.version===5&&r++,this.s2kUsage===255||this.s2kUsage===254||this.s2kUsage===253){if(this.symmetric=t[r++],this.s2kUsage===253&&(this.aead=t[r++]),this.s2k=new ma,r+=this.s2k.read(t.subarray(r,t.length)),this.s2k.type==="gnu-dummy")return}else this.s2kUsage&&(this.symmetric=this.s2kUsage);if(this.s2kUsage&&(this.iv=t.subarray(r,r+Rt.getCipher(this.symmetric).blockSize),r+=this.iv.length),this.version===5&&(r+=4),this.keyMaterial=t.subarray(r),this.isEncrypted=!!this.s2kUsage,!this.isEncrypted){const n=this.keyMaterial.subarray(0,-2);if(!V.equalsUint8Array(V.writeChecksum(n),this.keyMaterial.subarray(-2)))throw Error("Key checksum mismatch");try{const{privateParams:i}=Rt.parsePrivateKeyParams(this.algorithm,n,this.publicParams);this.privateParams=i}catch(i){throw i instanceof De?i:Error("Error reading MPIs")}}}write(){const t=[this.writePublicKey()];t.push(new Uint8Array([this.s2kUsage]));const r=[];return this.s2kUsage!==255&&this.s2kUsage!==254&&this.s2kUsage!==253||(r.push(this.symmetric),this.s2kUsage===253&&r.push(this.aead),r.push(...this.s2k.write())),this.s2kUsage&&this.s2k.type!=="gnu-dummy"&&r.push(...this.iv),this.version===5&&t.push(new Uint8Array([r.length])),t.push(new Uint8Array(r)),this.isDummy()||(this.s2kUsage||(this.keyMaterial=Rt.serializeParams(this.algorithm,this.privateParams)),this.version===5&&t.push(V.writeNumber(this.keyMaterial.length,4)),t.push(this.keyMaterial),this.s2kUsage||t.push(V.writeChecksum(this.keyMaterial))),V.concatUint8Array(t)}isDecrypted(){return this.isEncrypted===!1}isDummy(){return!(!this.s2k||this.s2k.type!=="gnu-dummy")}makeDummy(t=$t){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),this.isEncrypted=null,this.keyMaterial=null,this.s2k=new ma(t),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric=Y.symmetric.aes256)}async encrypt(t,r=$t){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key packet is already encrypted");if(!t)throw Error("A non-empty passphrase is required for key encryption.");this.s2k=new ma(r),this.s2k.salt=await Rt.random.getRandomBytes(8);const n=Rt.serializeParams(this.algorithm,this.privateParams);this.symmetric=Y.symmetric.aes256;const i=await Il(this.s2k,t,this.symmetric),{blockSize:s}=Rt.getCipher(this.symmetric);if(this.iv=await Rt.random.getRandomBytes(s),r.aeadProtect){this.s2kUsage=253,this.aead=Y.aead.eax;const a=Rt.getAEADMode(this.aead),o=await a(this.symmetric,i);this.keyMaterial=await o.encrypt(n,this.iv.subarray(0,a.ivLength),new Uint8Array)}else this.s2kUsage=254,this.keyMaterial=await Rt.mode.cfb.encrypt(this.symmetric,i,V.concatUint8Array([n,await Rt.hash.sha1(n,r)]),this.iv,r)}async decrypt(t){if(this.isDummy())return!1;if(this.isDecrypted())throw Error("Key packet is already decrypted.");let r,n;if(this.s2kUsage!==254&&this.s2kUsage!==253)throw this.s2kUsage===255?Error("Encrypted private key is authenticated using an insecure two-byte hash"):Error("Private key is encrypted using an insecure S2K function: unsalted MD5");if(r=await Il(this.s2k,t,this.symmetric),this.s2kUsage===253){const i=Rt.getAEADMode(this.aead),s=await i(this.symmetric,r);try{n=await s.decrypt(this.keyMaterial,this.iv.subarray(0,i.ivLength),new Uint8Array)}catch(a){throw a.message==="Authentication tag mismatch"?Error("Incorrect key passphrase: "+a.message):a}}else{const i=await Rt.mode.cfb.decrypt(this.symmetric,r,this.keyMaterial,this.iv);n=i.subarray(0,-20);const s=await Rt.hash.sha1(n);if(!V.equalsUint8Array(s,i.subarray(-20)))throw Error("Incorrect key passphrase")}try{const{privateParams:i}=Rt.parsePrivateKeyParams(this.algorithm,n,this.publicParams);this.privateParams=i}catch{throw Error("Error reading MPIs")}this.isEncrypted=!1,this.keyMaterial=null,this.s2kUsage=0}async validate(){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key is not decrypted");let t;try{t=await Rt.validateParams(this.algorithm,this.publicParams,this.privateParams)}catch{t=!1}if(!t)throw Error("Key is invalid")}async generate(t,r){const{privateParams:n,publicParams:i}=await Rt.generateParams(this.algorithm,t,r);this.privateParams=n,this.publicParams=i,this.isEncrypted=!1}clearPrivateParams(){this.isDummy()||(Object.keys(this.privateParams).forEach(t=>{this.privateParams[t].fill(0),delete this.privateParams[t]}),this.privateParams=null,this.isEncrypted=!0)}}async function Il(e,t,r){const{keySize:n}=Rt.getCipher(r);return e.produceKey(t,n)}Mn(function(e){(function(t){function r(i){function s(){return Ut<Ht}function a(){return Ut}function o(mt){Ut=mt}function c(){Ut=0,Ht=se.length}function u(mt,yt){return{name:mt,tokens:yt||"",semantic:yt||"",children:[]}}function h(mt,yt){var vt;return yt===null?null:((vt=u(mt)).tokens=yt.tokens,vt.semantic=yt.semantic,vt.children.push(yt),vt)}function f(mt,yt){return yt!==null&&(mt.tokens+=yt.tokens,mt.semantic+=yt.semantic),mt.children.push(yt),mt}function p(mt){var yt;return s()&&mt(yt=se[Ut])?(Ut+=1,u("token",yt)):null}function d(mt){return function(){return h("literal",p(function(yt){return yt===mt}))}}function v(){var mt=arguments;return function(){var yt,vt,xt,Kt;for(Kt=a(),vt=u("and"),yt=0;yt<mt.length;yt+=1){if((xt=mt[yt]())===null)return o(Kt),null;f(vt,xt)}return vt}}function A(){var mt=arguments;return function(){var yt,vt,xt;for(xt=a(),yt=0;yt<mt.length;yt+=1){if((vt=mt[yt]())!==null)return vt;o(xt)}return null}}function S(mt){return function(){var yt,vt;return vt=a(),(yt=mt())!==null?yt:(o(vt),u("opt"))}}function C(mt){return function(){var yt=mt();return yt!==null&&(yt.semantic=""),yt}}function B(mt){return function(){var yt=mt();return yt!==null&&yt.semantic.length>0&&(yt.semantic=" "),yt}}function U(mt,yt){return function(){var vt,xt,Kt,Ot,It;for(Ot=a(),vt=u("star"),Kt=0,It=yt===void 0?0:yt;(xt=mt())!==null;)Kt+=1,f(vt,xt);return Kt>=It?vt:(o(Ot),null)}}function O(mt){return mt.charCodeAt(0)>=128}function q(){return h("cr",d("\r")())}function g(){return h("crlf",v(q,m)())}function R(){return h("dquote",d('"')())}function l(){return h("htab",d("	")())}function m(){return h("lf",d(`
`)())}function y(){return h("sp",d(" ")())}function b(){return h("vchar",p(function(mt){var yt=mt.charCodeAt(0),vt=33<=yt&&yt<=126;return i.rfc6532&&(vt=vt||O(mt)),vt}))}function _(){return h("wsp",A(y,l)())}function D(){var mt=h("quoted-pair",A(v(d("\\"),A(b,_)),rt)());return mt===null?null:(mt.semantic=mt.semantic[1],mt)}function N(){return h("fws",A(st,v(S(v(U(_),C(g))),U(_,1)))())}function W(){return h("ctext",A(function(){return p(function(mt){var yt=mt.charCodeAt(0),vt=33<=yt&&yt<=39||42<=yt&&yt<=91||93<=yt&&yt<=126;return i.rfc6532&&(vt=vt||O(mt)),vt})},_t)())}function tt(){return h("ccontent",A(W,D,w)())}function w(){return h("comment",v(d("("),U(v(S(N),tt)),S(N),d(")"))())}function I(){return h("cfws",A(v(U(v(S(N),w),1),S(N)),N)())}function J(){return h("atext",p(function(mt){var yt="a"<=mt&&mt<="z"||"A"<=mt&&mt<="Z"||"0"<=mt&&mt<="9"||["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(mt)>=0;return i.rfc6532&&(yt=yt||O(mt)),yt}))}function Q(){return h("atom",v(B(S(I)),U(J,1),B(S(I)))())}function nt(){var mt,yt;return(mt=h("dot-atom-text",U(J,1)()))===null||(yt=U(v(d("."),U(J,1)))())!==null&&f(mt,yt),mt}function ht(){return h("dot-atom",v(C(S(I)),nt,C(S(I)))())}function lt(){return h("qtext",A(function(){return p(function(mt){var yt=mt.charCodeAt(0),vt=yt===33||35<=yt&&yt<=91||93<=yt&&yt<=126;return i.rfc6532&&(vt=vt||O(mt)),vt})},et)())}function ut(){return h("qcontent",A(lt,D)())}function z(){return h("quoted-string",v(C(S(I)),C(R),U(v(S(B(N)),ut)),S(C(N)),C(R),C(S(I)))())}function H(){return h("word",A(Q,z)())}function F(){return h("address",A(P,T)())}function P(){return h("mailbox",A(G,pt)())}function G(){return h("name-addr",v(S(K),k)())}function k(){return h("angle-addr",A(v(C(S(I)),d("<"),pt,d(">"),C(S(I))),at)())}function T(){return h("group",v(K,d(":"),S(M),d(";"),C(S(I)))())}function K(){return h("display-name",((mt=h("phrase",A(ot,U(H,1))()))!==null&&(mt.semantic=function(yt){return yt.replace(/([ \t]|\r\n)+/g," ").replace(/^\s*/,"").replace(/\s*$/,"")}(mt.semantic)),mt));var mt}function x(){return h("mailbox-list",A(v(P,U(v(d(","),P))),j)())}function E(){return h("address-list",A(v(F,U(v(d(","),F))),wt)())}function M(){return h("group-list",A(x,C(I),gt)())}function L(){return h("local-part",A(Dt,ht,z)())}function Z(){return h("dtext",A(function(){return p(function(mt){var yt=mt.charCodeAt(0),vt=33<=yt&&yt<=90||94<=yt&&yt<=126;return i.rfc6532&&(vt=vt||O(mt)),vt})},zt)())}function X(){return h("domain-literal",v(C(S(I)),d("["),U(v(S(N),Z)),S(N),d("]"),C(S(I)))())}function it(){return h("domain",(mt=A(ie,ht,X)(),i.rejectTLD&&mt&&mt.semantic&&mt.semantic.indexOf(".")<0?null:(mt&&(mt.semantic=mt.semantic.replace(/\s+/g,"")),mt)));var mt}function pt(){return h("addr-spec",v(L,d("@"),it)())}function bt(){return i.strict?null:h("obs-NO-WS-CTL",p(function(mt){var yt=mt.charCodeAt(0);return 1<=yt&&yt<=8||yt===11||yt===12||14<=yt&&yt<=31||yt===127}))}function _t(){return i.strict?null:h("obs-ctext",bt())}function et(){return i.strict?null:h("obs-qtext",bt())}function rt(){return i.strict?null:h("obs-qp",v(d("\\"),A(d("\0"),bt,m,q))())}function ot(){return i.strict?null:i.atInDisplayName?h("obs-phrase",v(H,U(A(H,d("."),d("@"),B(I))))()):h("obs-phrase",v(H,U(A(H,d("."),B(I))))())}function st(){return i.strict?null:h("obs-FWS",U(v(C(S(g)),_),1)())}function at(){return i.strict?null:h("obs-angle-addr",v(C(S(I)),d("<"),ct,pt,d(">"),C(S(I)))())}function ct(){return i.strict?null:h("obs-route",v($,d(":"))())}function $(){return i.strict?null:h("obs-domain-list",v(U(A(C(I),d(","))),d("@"),it,U(v(d(","),C(S(I)),S(v(d("@"),it)))))())}function j(){return i.strict?null:h("obs-mbox-list",v(U(v(C(S(I)),d(","))),P,U(v(d(","),S(v(P,C(I))))))())}function wt(){return i.strict?null:h("obs-addr-list",v(U(v(C(S(I)),d(","))),F,U(v(d(","),S(v(F,C(I))))))())}function gt(){return i.strict?null:h("obs-group-list",v(U(v(C(S(I)),d(",")),1),C(S(I)))())}function Dt(){return i.strict?null:h("obs-local-part",v(H,U(v(d("."),H)))())}function ie(){return i.strict?null:h("obs-domain",v(Q,U(v(d("."),Q)))())}function zt(){return i.strict?null:h("obs-dtext",A(bt,D)())}function Bt(mt,yt){var vt,xt,Kt;if(yt==null)return null;for(xt=[yt];xt.length>0;){if((Kt=xt.pop()).name===mt)return Kt;for(vt=Kt.children.length-1;vt>=0;vt-=1)xt.push(Kt.children[vt])}return null}function pe(mt,yt){var vt,xt,Kt,Ot,It;if(yt==null)return null;for(xt=[yt],Ot=[],It={},vt=0;vt<mt.length;vt+=1)It[mt[vt]]=!0;for(;xt.length>0;)if((Kt=xt.pop()).name in It)Ot.push(Kt);else for(vt=Kt.children.length-1;vt>=0;vt-=1)xt.push(Kt.children[vt]);return Ot}function Zt(mt){var yt,vt,xt,Kt,Ot;if(mt===null)return null;for(yt=[],vt=pe(["group","mailbox"],mt),xt=0;xt<vt.length;xt+=1)(Kt=vt[xt]).name==="group"?yt.push(ee(Kt)):Kt.name==="mailbox"&&yt.push(Te(Kt));return Ot={ast:mt,addresses:yt},i.simple&&(Ot=function(It){var ce;if(It&&It.addresses)for(ce=0;ce<It.addresses.length;ce+=1)delete It.addresses[ce].node;return It}(Ot)),i.oneResult?function(It){return!It||!i.partial&&It.addresses.length>1?null:It.addresses&&It.addresses[0]}(Ot):i.simple?Ot&&Ot.addresses:Ot}function ee(mt){var yt,vt=Bt("display-name",mt),xt=[],Kt=pe(["mailbox"],mt);for(yt=0;yt<Kt.length;yt+=1)xt.push(Te(Kt[yt]));return{node:mt,parts:{name:vt},type:mt.name,name:Nt(vt),addresses:xt}}function Te(mt){var yt=Bt("display-name",mt),vt=Bt("addr-spec",mt),xt=function(ce,Gt){var le,er,rr,lr;if(Gt==null)return null;for(er=[Gt],lr=[];er.length>0;)for((rr=er.pop()).name===ce&&lr.push(rr),le=rr.children.length-1;le>=0;le-=1)er.push(rr.children[le]);return lr}("cfws",mt),Kt=pe(["comment"],mt),Ot=Bt("local-part",vt),It=Bt("domain",vt);return{node:mt,parts:{name:yt,address:vt,local:Ot,domain:It,comments:xt},type:mt.name,name:Nt(yt),address:Nt(vt),local:Nt(Ot),domain:Nt(It),comments:Ft(Kt),groupName:Nt(mt.groupName)}}function Nt(mt){return mt!=null?mt.semantic:null}function Ft(mt){var yt="";if(mt)for(var vt=0;vt<mt.length;vt+=1)yt+=Nt(mt[vt]);return yt}var se,Ut,Ht,fe,qt;if((i=n(i,{}))===null)return null;if(se=i.input,qt={address:F,"address-list":E,"angle-addr":k,from:function(){return h("from",A(x,E)())},group:T,mailbox:P,"mailbox-list":x,"reply-to":function(){return h("reply-to",E())},sender:function(){return h("sender",A(P,F)())}}[i.startAt]||E,!i.strict){if(c(),i.strict=!0,fe=qt(se),i.partial||!s())return Zt(fe);i.strict=!1}return c(),fe=qt(se),!i.partial&&s()?null:Zt(fe)}function n(i,s){function a(h){return Object.prototype.toString.call(h)==="[object String]"}function o(h){return h==null}var c,u;if(a(i))i={input:i};else if(!function(h){return h===Object(h)}(i))return null;if(!a(i.input)||!s)return null;for(u in c={oneResult:!1,partial:!1,rejectTLD:!1,rfc6532:!1,simple:!1,startAt:"address-list",strict:!1,atInDisplayName:!1})o(i[u])&&(i[u]=o(s[u])?c[u]:s[u]);return i}r.parseOneAddress=function(i){return r(n(i,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseAddressList=function(i){return r(n(i,{rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseFrom=function(i){return r(n(i,{rfc6532:!0,simple:!0,startAt:"from"}))},r.parseSender=function(i){return r(n(i,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"sender"}))},r.parseReplyTo=function(i){return r(n(i,{rfc6532:!0,simple:!0,startAt:"reply-to"}))},e.exports=r})()});class _p extends Qf{static get tag(){return Y.packet.secretSubkey}constructor(t=new Date,r=$t){super(t,r)}}class td{constructor(t){this.packets=t||new Ie}write(){return this.packets.write()}armor(t=$t){return hf(Y.armor.signature,this.write(),void 0,void 0,void 0,t)}getSigningKeyIDs(){return this.packets.map(t=>t.issuerKeyID)}}async function ed(e,t,r=new Date,n={},i){let s=i.preferredHashAlgorithm,a=s;if(e){const o=await e.getPrimaryUser(r,n,i);o.selfCertification.preferredHashAlgorithms&&([a]=o.selfCertification.preferredHashAlgorithms,s=Rt.hash.getHashByteLength(s)<=Rt.hash.getHashByteLength(a)?a:s)}switch(Object.getPrototypeOf(t)){case Qf.prototype:case Kn.prototype:case _p.prototype:case T0.prototype:switch(t.algorithm){case Y.publicKey.ecdh:case Y.publicKey.ecdsa:case Y.publicKey.eddsa:a=Rt.publicKey.elliptic.getPreferredHashAlgo(t.publicParams.oid)}}return Rt.hash.getHashByteLength(s)<=Rt.hash.getHashByteLength(a)?a:s}async function Ju(e,t=[],r=new Date,n=[],i=$t){const s={symmetric:Y.symmetric.aes128,aead:Y.aead.eax,compression:Y.compression.uncompressed}[e],a={symmetric:i.preferredSymmetricAlgorithm,aead:i.preferredAEADAlgorithm,compression:i.preferredCompressionAlgorithm}[e],o={symmetric:"preferredSymmetricAlgorithms",aead:"preferredAEADAlgorithms",compression:"preferredCompressionAlgorithms"}[e];return(await Promise.all(t.map(async function(c,u){const h=(await c.getPrimaryUser(r,n[u],i)).selfCertification[o];return!!h&&h.indexOf(a)>=0}))).every(Boolean)?a:s}async function Ap(e,t,r,n,i,s,a=!1,o){if(r.isDummy())throw Error("Cannot sign with a gnu-dummy key.");if(!r.isDecrypted())throw Error("Signing key is not decrypted.");const c=new Sr;return Object.assign(c,n),c.publicKeyAlgorithm=r.algorithm,c.hashAlgorithm=await ed(t,r,i,s,o),await c.sign(r,e,i,a),c}Y.packet.publicKey,Y.packet.privateKey;Y.packet.publicKey,Y.packet.privateKey,Y.packet.publicSubkey,Y.packet.privateSubkey;const Sp=V.constructAllowedPackets([Ns,Wa,Ic,Zf,wp,Yu,ks,jr,Sr]),Ep=V.constructAllowedPackets([ks]),kp=V.constructAllowedPackets([Sr]);class Rr{constructor(t){this.packets=t||new Ie}getEncryptionKeyIDs(){const t=[];return this.packets.filterByTag(Y.packet.publicKeyEncryptedSessionKey).forEach(function(r){t.push(r.publicKeyID)}),t}getSigningKeyIDs(){const t=this.unwrapCompressed(),r=t.packets.filterByTag(Y.packet.onePassSignature);return r.length>0?r.map(n=>n.issuerKeyID):t.packets.filterByTag(Y.packet.signature).map(n=>n.issuerKeyID)}async decrypt(t,r,n,i=new Date,s=$t){const a=n||await this.decryptSessionKeys(t,r,i,s),o=this.packets.filterByTag(Y.packet.symmetricallyEncryptedData,Y.packet.symEncryptedIntegrityProtectedData,Y.packet.aeadEncryptedData);if(o.length===0)throw Error("No encrypted data found");const c=o[0];let u=null;const h=Promise.all(a.map(async({algorithm:p,data:d})=>{if(!V.isUint8Array(d)||!V.isString(p))throw Error("Invalid session key for decryption.");try{const v=Y.write(Y.symmetric,p);await c.decrypt(v,d,s)}catch(v){V.printDebugError(v),u=v}}));if(zu(c.encrypted),c.encrypted=null,await h,!c.packets||!c.packets.length)throw u||Error("Decryption failed.");const f=new Rr(c.packets);return c.packets=new Ie,f}async decryptSessionKeys(t,r,n=new Date,i=$t){let s,a=[];if(r){const o=this.packets.filterByTag(Y.packet.symEncryptedSessionKey);if(o.length===0)throw Error("No symmetrically encrypted session key packet found.");await Promise.all(r.map(async function(c,u){let h;h=u?await Ie.fromBinary(o.write(),Ep,i):o,await Promise.all(h.map(async function(f){try{await f.decrypt(c),a.push(f)}catch(p){V.printDebugError(p)}}))}))}else{if(!t)throw Error("No key or password specified.");{const o=this.packets.filterByTag(Y.packet.publicKeyEncryptedSessionKey);if(o.length===0)throw Error("No public key encrypted session key packet found.");await Promise.all(o.map(async function(c){await Promise.all(t.map(async function(u){let h=[Y.symmetric.aes256,Y.symmetric.aes128,Y.symmetric.tripledes,Y.symmetric.cast5];try{const p=await u.getPrimaryUser(n,void 0,i);p.selfCertification.preferredSymmetricAlgorithms&&(h=h.concat(p.selfCertification.preferredSymmetricAlgorithms))}catch{}const f=(await u.getDecryptionKeys(c.publicKeyID,null,void 0,i)).map(p=>p.keyPacket);await Promise.all(f.map(async function(p){if(!(!p||p.isDummy())){if(!p.isDecrypted())throw Error("Decryption key is not decrypted.");if(i.constantTimePKCS1Decryption&&(c.publicKeyAlgorithm===Y.publicKey.rsaEncrypt||c.publicKeyAlgorithm===Y.publicKey.rsaEncryptSign||c.publicKeyAlgorithm===Y.publicKey.rsaSign||c.publicKeyAlgorithm===Y.publicKey.elgamal)){const d=c.write();await Promise.all(Array.from(i.constantTimePKCS1DecryptionSupportedSymmetricAlgorithms).map(async v=>{const A=new Yu;A.read(d);const S={sessionKeyAlgorithm:v,sessionKey:await Rt.generateSessionKey(v)};try{await A.decrypt(p,S),a.push(A)}catch(C){V.printDebugError(C),s=C}}))}else try{if(await c.decrypt(p),!h.includes(Y.write(Y.symmetric,c.sessionKeyAlgorithm)))throw Error("A non-preferred symmetric algorithm was used.");a.push(c)}catch(d){V.printDebugError(d),s=d}}}))})),zu(c.encrypted),c.encrypted=null}))}}if(a.length>0){if(a.length>1){const o=new Set;a=a.filter(c=>{const u=c.sessionKeyAlgorithm+V.uint8ArrayToString(c.sessionKey);return!o.has(u)&&(o.add(u),!0)})}return a.map(o=>({data:o.sessionKey,algorithm:Y.read(Y.symmetric,o.sessionKeyAlgorithm)}))}throw s||Error("Session key decryption failed.")}getLiteralData(){const t=this.unwrapCompressed().packets.findPacket(Y.packet.literalData);return t&&t.getBytes()||null}getFilename(){const t=this.unwrapCompressed().packets.findPacket(Y.packet.literalData);return t&&t.getFilename()||null}getText(){const t=this.unwrapCompressed().packets.findPacket(Y.packet.literalData);return t?t.getText():null}static async generateSessionKey(t=[],r=new Date,n=[],i=$t){const s=await Ju("symmetric",t,r,n,i),a=Y.read(Y.symmetric,s),o=i.aeadProtect&&await async function(c,u=new Date,h=[],f=$t){let p=!0;return await Promise.all(c.map(async function(d,v){const A=await d.getPrimaryUser(u,h[v],f);A.selfCertification.features&&A.selfCertification.features[0]&Y.features.aead||(p=!1)})),p}(t,r,n,i)?Y.read(Y.aead,await Ju("aead",t,r,n,i)):void 0;return{data:await Rt.generateSessionKey(s),algorithm:a,aeadAlgorithm:o}}async encrypt(t,r,n,i=!1,s=[],a=new Date,o=[],c=$t){if(n){if(!V.isUint8Array(n.data)||!V.isString(n.algorithm))throw Error("Invalid session key for encryption.")}else if(t&&t.length)n=await Rr.generateSessionKey(t,a,o,c);else{if(!r||!r.length)throw Error("No keys, passwords, or session key provided.");n=await Rr.generateSessionKey(void 0,void 0,void 0,c)}const{data:u,algorithm:h,aeadAlgorithm:f}=n,p=await Rr.encryptSessionKey(u,h,f,t,r,i,s,a,o,c);let d;f?(d=new Ic,d.aeadAlgorithm=Y.write(Y.aead,f)):d=new Zf,d.packets=this.packets;const v=Y.write(Y.symmetric,h);return await d.encrypt(v,u,c),p.packets.push(d),d.packets=new Ie,p}static async encryptSessionKey(t,r,n,i,s,a=!1,o=[],c=new Date,u=[],h=$t){const f=new Ie,p=Y.write(Y.symmetric,r),d=n&&Y.write(Y.aead,n);if(i){const v=await Promise.all(i.map(async function(A,S){const C=await A.getEncryptionKey(o[S],c,u,h),B=new Yu;return B.publicKeyID=a?Si.wildcard():C.getKeyID(),B.publicKeyAlgorithm=C.keyPacket.algorithm,B.sessionKey=t,B.sessionKeyAlgorithm=p,await B.encrypt(C.keyPacket),delete B.sessionKey,B}));f.push(...v)}if(s){const v=async function(B,U){try{return await B.decrypt(U),1}catch{return 0}},A=(B,U)=>B+U,S=async function(B,U,O,q){const g=new ks(h);return g.sessionKey=B,g.sessionKeyAlgorithm=U,O&&(g.aeadAlgorithm=O),await g.encrypt(q,h),h.passwordCollisionCheck&&(await Promise.all(s.map(R=>v(g,R)))).reduce(A)!==1?S(B,U,q):(delete g.sessionKey,g)},C=await Promise.all(s.map(B=>S(t,p,d,B)));f.push(...C)}return new Rr(f)}async sign(t=[],r=null,n=[],i=new Date,s=[],a=$t){const o=new Ie,c=this.packets.findPacket(Y.packet.literalData);if(!c)throw Error("No literal data packet to sign.");let u,h;const f=c.text===null?Y.signature.binary:Y.signature.text;if(r)for(h=r.packets.filterByTag(Y.packet.signature),u=h.length-1;u>=0;u--){const p=h[u],d=new jr;d.signatureType=p.signatureType,d.hashAlgorithm=p.hashAlgorithm,d.publicKeyAlgorithm=p.publicKeyAlgorithm,d.issuerKeyID=p.issuerKeyID,t.length||u!==0||(d.flags=1),o.push(d)}return await Promise.all(Array.from(t).reverse().map(async function(p,d){if(!p.isPrivate())throw Error("Need private key for signing");const v=n[t.length-1-d],A=await p.getSigningKey(v,i,s,a),S=new jr;return S.signatureType=f,S.hashAlgorithm=await ed(p,A.keyPacket,i,s,a),S.publicKeyAlgorithm=A.keyPacket.algorithm,S.issuerKeyID=A.getKeyID(),d===t.length-1&&(S.flags=1),S})).then(p=>{p.forEach(d=>o.push(d))}),o.push(c),o.push(...await Ul(c,t,r,n,i,s,!1,a)),new Rr(o)}compress(t,r=$t){if(t===Y.compression.uncompressed)return this;const n=new Wa(r);n.algorithm=t,n.packets=this.packets;const i=new Ie;return i.push(n),new Rr(i)}async signDetached(t=[],r=null,n=[],i=new Date,s=[],a=$t){const o=this.packets.findPacket(Y.packet.literalData);if(!o)throw Error("No literal data packet to sign.");return new td(await Ul(o,t,r,n,i,s,!0,a))}async verify(t,r=new Date,n=$t){const i=this.unwrapCompressed(),s=i.packets.filterByTag(Y.packet.literalData);if(s.length!==1)throw Error("Can only verify message with one literal data packet.");xe(i.packets.stream)&&i.packets.push(...await Ce(i.packets.stream,c=>c||[]));const a=i.packets.filterByTag(Y.packet.onePassSignature).reverse(),o=i.packets.filterByTag(Y.packet.signature);return a.length&&!o.length&&V.isStream(i.packets.stream)&&!xe(i.packets.stream)?(await Promise.all(a.map(async c=>{c.correspondingSig=new Promise((u,h)=>{c.correspondingSigResolve=u,c.correspondingSigReject=h}),c.signatureData=xi(async()=>(await c.correspondingSig).signatureData),c.hashed=Ce(await c.hash(c.signatureType,s[0],void 0,!1)),c.hashed.catch(()=>{})})),i.packets.stream=Wn(i.packets.stream,async(c,u)=>{const h=xn(c),f=br(u);try{for(let p=0;p<a.length;p++){const{value:d}=await h.read();a[p].correspondingSigResolve(d)}await h.readToEnd(),await f.ready,await f.close()}catch(p){a.forEach(d=>{d.correspondingSigReject(p)}),await f.abort(p)}}),yu(a,s,t,r,!1,n)):yu(o,s,t,r,!1,n)}verifyDetached(t,r,n=new Date,i=$t){const s=this.unwrapCompressed().packets.filterByTag(Y.packet.literalData);if(s.length!==1)throw Error("Can only verify message with one literal data packet.");return yu(t.packets,s,r,n,!0,i)}unwrapCompressed(){const t=this.packets.filterByTag(Y.packet.compressedData);return t.length?new Rr(t[0].packets):this}async appendSignature(t,r=$t){await this.packets.read(V.isUint8Array(t)?t:(await lf(t)).data,kp,r)}write(){return this.packets.write()}armor(t=$t){return hf(Y.armor.message,this.write(),null,null,null,t)}}async function Ul(e,t,r=null,n=[],i=new Date,s=[],a=!1,o=$t){const c=new Ie,u=e.text===null?Y.signature.binary:Y.signature.text;if(await Promise.all(t.map(async(h,f)=>{const p=s[f];if(!h.isPrivate())throw Error("Need private key for signing");const d=await h.getSigningKey(n[f],i,p,o);return Ap(e,h,d.keyPacket,{signatureType:u},i,p,a,o)})).then(h=>{c.push(...h)}),r){const h=r.packets.filterByTag(Y.packet.signature);c.push(...h)}return c}async function yu(e,t,r,n=new Date,i=!1,s=$t){return Promise.all(e.filter(function(a){return["text","binary"].includes(Y.read(Y.signature,a.signatureType))}).map(async function(a){return async function(o,c,u,h=new Date,f=!1,p=$t){let d,v;for(const C of u){const B=C.getKeys(o.issuerKeyID);if(B.length>0){d=C,v=B[0];break}}const A=o instanceof jr?o.correspondingSig:o,S={keyID:o.issuerKeyID,verified:(async()=>{if(!v)throw Error("Could not find signing key with key ID "+o.issuerKeyID.toHex());await o.verify(v.keyPacket,o.signatureType,c[0],h,f,p);const C=await A;if(v.getCreationTime()>C.created)throw Error("Key is newer than the signature");try{await d.getSigningKey(v.getKeyID(),C.created,void 0,p)}catch(B){if(!p.allowInsecureVerificationWithReformattedKeys||!B.message.match(/Signature creation time is in the future/))throw B;await d.getSigningKey(v.getKeyID(),h,void 0,p)}return!0})(),signature:(async()=>{const C=await A,B=new Ie;return C&&B.push(C),new td(B)})()};return S.signature.catch(()=>{}),S.verified.catch(()=>{}),S}(a,t,r,n,i,s)}))}async function Pp(i){var s=i,{armoredMessage:e,binaryMessage:t,config:r}=s,n=Ks(s,["armoredMessage","binaryMessage","config"]);r=Oe(Oe({},$t),r);let a=e||t;if(!a)throw Error("readMessage: must pass options object containing `armoredMessage` or `binaryMessage`");if(e&&!V.isString(e)&&!V.isStream(e))throw Error("readMessage: options.armoredMessage must be a string or stream");if(t&&!V.isUint8Array(t)&&!V.isStream(t))throw Error("readMessage: options.binaryMessage must be a Uint8Array or stream");const o=Object.keys(n);if(o.length>0)throw Error("Unknown option: "+o.join(", "));const c=V.isStream(a);if(c&&(await nf(),a=Fa(a)),e){const{type:f,data:p}=await lf(a,r);if(f!==Y.armor.message)throw Error("Armored text not of type message");a=p}const u=await Ie.fromBinary(a,Sp,r),h=new Rr(u);return h.fromStream=c,h}async function xp(a){var o=a,{text:e,binary:t,filename:r,date:n=new Date,format:i=e!==void 0?"utf8":"binary"}=o,s=Ks(o,["text","binary","filename","date","format"]);let c=e!==void 0?e:t;if(c===void 0)throw Error("createMessage: must pass options object containing `text` or `binary`");if(e&&!V.isString(e)&&!V.isStream(e))throw Error("createMessage: options.text must be a string or stream");if(t&&!V.isUint8Array(t)&&!V.isStream(t))throw Error("createMessage: options.binary must be a Uint8Array or stream");const u=Object.keys(s);if(u.length>0)throw Error("Unknown option: "+u.join(", "));const h=V.isStream(c);h&&(await nf(),c=Fa(c));const f=new Ns(n);e!==void 0?f.setText(c,Y.write(Y.literal,i)):f.setBytes(c,Y.write(Y.literal,i)),r!==void 0&&f.setFilename(r);const p=new Ie;p.push(f);const d=new Rr(p);return d.fromStream=h,d}async function Mp(A){var S=A,{message:e,encryptionKeys:t,signingKeys:r,passwords:n,sessionKey:i,format:s="armored",signature:a=null,wildcard:o=!1,signingKeyIDs:c=[],encryptionKeyIDs:u=[],date:h=new Date,signingUserIDs:f=[],encryptionUserIDs:p=[],config:d}=S,v=Ks(S,["message","encryptionKeys","signingKeys","passwords","sessionKey","format","signature","wildcard","signingKeyIDs","encryptionKeyIDs","date","signingUserIDs","encryptionUserIDs","config"]);if(nd(d=Oe(Oe({},$t),d)),rd(e),Cp(s),t=Fr(t),r=Fr(r),n=Fr(n),c=Fr(c),u=Fr(u),f=Fr(f),p=Fr(p),v.detached)throw Error("The `detached` option has been removed from openpgp.encrypt, separately call openpgp.sign instead. Don't forget to remove the `privateKeys` option as well.");if(v.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encrypt, pass `encryptionKeys` instead");if(v.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.encrypt, pass `signingKeys` instead");if(v.armor!==void 0)throw Error("The `armor` option has been removed from openpgp.encrypt, pass `format` instead.");const C=Object.keys(v);if(C.length>0)throw Error("Unknown option: "+C.join(", "));r||(r=[]);const B=e.fromStream;try{if((r.length||a)&&(e=await e.sign(r,a,c,h,f,d)),e=e.compress(await Ju("compression",t,h,p,d),d),e=await e.encrypt(t,n,i,o,u,h,p,d),s==="object")return e;const U=s==="armored";return id(U?e.armor(d):e.write(),B,U?"utf8":"binary")}catch(U){throw V.wrapError("Error encrypting message",U)}}async function Tp(f){var p=f,{message:e,decryptionKeys:t,passwords:r,sessionKeys:n,verificationKeys:i,expectSigned:s=!1,format:a="utf8",signature:o=null,date:c=new Date,config:u}=p,h=Ks(p,["message","decryptionKeys","passwords","sessionKeys","verificationKeys","expectSigned","format","signature","date","config"]);if(nd(u=Oe(Oe({},$t),u)),rd(e),i=Fr(i),t=Fr(t),r=Fr(r),n=Fr(n),h.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.decrypt, pass `decryptionKeys` instead");if(h.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.decrypt, pass `verificationKeys` instead");const d=Object.keys(h);if(d.length>0)throw Error("Unknown option: "+d.join(", "));try{const v=await e.decrypt(t,r,n,c,u);i||(i=[]);const A={};if(A.signatures=o?await v.verifyDetached(o,i,c,u):await v.verify(i,c,u),A.data=a==="binary"?v.getLiteralData():v.getText(),A.filename=v.getFilename(),Ip(A,e),s){if(i.length===0)throw Error("Verification keys are required to verify message signatures");if(A.signatures.length===0)throw Error("Message is not signed");A.data=pr([A.data,xi(async()=>{await V.anyPromise(A.signatures.map(S=>S.verified))})])}return A.data=await id(A.data,e.fromStream,a),A}catch(v){throw V.wrapError("Error decrypting message",v)}}function rd(e){if(!(e instanceof Rr))throw Error("Parameter [message] needs to be of type Message")}function Cp(e){if(e!=="armored"&&e!=="binary"&&e!=="object")throw Error("Unsupported format "+e)}const Rp=Object.keys($t).length;function nd(e){const t=Object.keys(e);if(t.length!==Rp){for(const r of t)if($t[r]===void 0)throw Error("Unknown config property: "+r)}}function Fr(e){return e&&!V.isArray(e)&&(e=[e]),e}async function id(e,t,r="utf8"){const n=V.isStream(e);return n==="array"?Ce(e):t==="node"?(e=A0(e),r!=="binary"&&e.setEncoding(r),e):t==="web"&&n==="ponyfill"?ef(e):e}function Ip(e,t){e.data=Wn(t.packets.stream,async(r,n)=>{await Ai(e.data,n,{preventClose:!0});const i=br(n);try{await Ce(r,s=>s),await i.close()}catch(s){await i.abort(s)}})}const ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function C0(){}const Dl=typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:void 0;function gr(e){return typeof e=="object"&&e!==null||typeof e=="function"}const sd=C0,R0=Promise,Up=Promise.prototype.then,Dp=Promise.resolve.bind(R0),Op=Promise.reject.bind(R0);function ar(e){return new R0(e)}function _e(e){return Dp(e)}function Wt(e){return Op(e)}function Fn(e,t,r){return Up.call(e,t,r)}function $r(e,t,r){Fn(Fn(e,t,r),void 0,sd)}function bu(e,t){$r(e,t)}function ad(e,t){$r(e,void 0,t)}function Hi(e,t,r){return Fn(e,t,r)}function Ha(e){Fn(e,void 0,sd)}const od=(()=>{const e=Dl&&Dl.queueMicrotask;if(typeof e=="function")return e;const t=_e(void 0);return r=>Fn(t,r)})();function Uc(e,t,r){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function is(e,t,r){try{return _e(Uc(e,t,r))}catch(n){return Wt(n)}}class En{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){const r=this._back;let n=r;r._elements.length===16383&&(n={_elements:[],_next:void 0}),r._elements.push(t),n!==r&&(this._back=n,r._next=n),++this._size}shift(){const t=this._front;let r=t;const n=this._cursor;let i=n+1;const s=t._elements,a=s[n];return i===16384&&(r=t._next,i=0),--this._size,this._cursor=i,t!==r&&(this._front=r),s[n]=void 0,a}forEach(t){let r=this._cursor,n=this._front,i=n._elements;for(;!(r===i.length&&n._next===void 0||r===i.length&&(n=n._next,i=n._elements,r=0,i.length===0));)t(i[r]),++r}peek(){const t=this._front,r=this._cursor;return t._elements[r]}}function cd(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?Xu(e):t._state==="closed"?function(r){Xu(r),ld(r)}(e):ud(e,t._storedError)}function I0(e,t){return Gi(e._ownerReadableStream,t)}function $i(e){e._ownerReadableStream._state==="readable"?U0(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,r){ud(t,r)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function Ps(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Xu(e){e._closedPromise=ar((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function ud(e,t){Xu(e),U0(e,t)}function U0(e,t){e._closedPromise_reject!==void 0&&(Ha(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function ld(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const hd=ae("[[AbortSteps]]"),fd=ae("[[ErrorSteps]]"),D0=ae("[[CancelSteps]]"),O0=ae("[[PullSteps]]"),Ol=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Np=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Ln(e,t){if(e!==void 0&&typeof(r=e)!="object"&&typeof r!="function")throw new TypeError(t+" is not an object.");var r}function Wr(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function.")}function dd(e,t){if(!function(r){return typeof r=="object"&&r!==null||typeof r=="function"}(e))throw new TypeError(t+" is not an object.")}function Vn(e,t,r){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function Zu(e,t,r){if(e===void 0)throw new TypeError(`${t} is required in '${r}'.`)}function N0(e){return Number(e)}function Nl(e){return e===0?0:e}function pd(e,t){const r=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=Nl(n),!Ol(n))throw new TypeError(t+" is not a finite number");if(n=function(i){return Nl(Np(i))}(n),n<0||n>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return Ol(n)&&n!==0?n:0}function B0(e,t){if(!ui(e))throw new TypeError(t+" is not a ReadableStream.")}function Ao(e){return new Vo(e)}function md(e,t){e._reader._readRequests.push(t)}function z0(e,t,r){const n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function Dc(e){return e._reader._readRequests.length}function yd(e){const t=e._reader;return t!==void 0&&!!Wi(t)}class Vo{constructor(t){if(Vn(t,1,"ReadableStreamDefaultReader"),B0(t,"First parameter"),bi(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");cd(this,t),this._readRequests=new En}get closed(){return Wi(this)?this._closedPromise:Wt(no("closed"))}cancel(t){return Wi(this)?this._ownerReadableStream===void 0?Wt(Ps("cancel")):I0(this,t):Wt(no("cancel"))}read(){if(!Wi(this))return Wt(no("read"));if(this._ownerReadableStream===void 0)return Wt(Ps("read from"));let t,r;const n=ar((i,s)=>{t=i,r=s});return Oc(this,{_chunkSteps:i=>t({value:i,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:i=>r(i)}),n}releaseLock(){if(!Wi(this))throw no("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");$i(this)}}}function Wi(e){return!!gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function Oc(e,t){const r=e._ownerReadableStream;r._disturbed=!0,r._state==="closed"?t._closeSteps():r._state==="errored"?t._errorSteps(r._storedError):r._readableStreamController[O0](t)}function no(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let Yo;Object.defineProperties(Vo.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof ae.toStringTag=="symbol"&&Object.defineProperty(Vo.prototype,ae.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),typeof ae.asyncIterator=="symbol"&&(Yo={[ae.asyncIterator](){return this}},Object.defineProperty(Yo,ae.asyncIterator,{enumerable:!1}));class Bp{constructor(t,r){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=r}next(){const t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?Hi(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){const r=()=>this._returnSteps(t);return this._ongoingPromise?Hi(this._ongoingPromise,r,r):r()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const t=this._reader;if(t._ownerReadableStream===void 0)return Wt(Ps("iterate"));let r,n;const i=ar((s,a)=>{r=s,n=a});return Oc(t,{_chunkSteps:s=>{this._ongoingPromise=void 0,od(()=>r({value:s,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,$i(t),r({value:void 0,done:!0})},_errorSteps:s=>{this._ongoingPromise=void 0,this._isFinished=!0,$i(t),n(s)}}),i}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;const r=this._reader;if(r._ownerReadableStream===void 0)return Wt(Ps("finish iterating"));if(!this._preventCancel){const n=I0(r,t);return $i(r),Hi(n,()=>({value:t,done:!0}))}return $i(r),_e({value:t,done:!0})}}const bd={next(){return Bl(this)?this._asyncIteratorImpl.next():Wt(zl("next"))},return(e){return Bl(this)?this._asyncIteratorImpl.return(e):Wt(zl("return"))}};function Bl(e){return!!gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl")}function zl(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}Yo!==void 0&&Object.setPrototypeOf(bd,Yo);const gd=Number.isNaN||function(e){return e!=e};function vd(e){return!!function(t){return!(typeof t!="number"||gd(t)||t<0)}(e)&&e!==1/0}function Qu(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function K0(e,t,r){if(!vd(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function Ti(e){e._queue=new En,e._queueTotalSize=0}function gu(e){return e.slice()}class Jo{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!vu(this))throw wu("view");return this._view}respond(t){if(!vu(this))throw wu("respond");if(Vn(t,1,"respond"),t=pd(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(r,n){if(!vd(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Kl(r,n)}(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!vu(this))throw wu("respondWithNewView");if(Vn(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");(function(r,n){const i=r._pendingPullIntos.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Kl(r,n.byteLength)})(this._associatedReadableByteStreamController,t)}}Object.defineProperties(Jo.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof ae.toStringTag=="symbol"&&Object.defineProperty(Jo.prototype,ae.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Xo{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ls(this))throw Ws("byobRequest");if(this._byobRequest===null&&this._pendingPullIntos.length>0){const t=this._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(Jo.prototype);(function(i,s,a){i._associatedReadableByteStreamController=s,i._view=a})(n,this,r),this._byobRequest=n}return this._byobRequest}get desiredSize(){if(!ls(this))throw Ws("desiredSize");return kd(this)}close(){if(!ls(this))throw Ws("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);(function(r){const n=r._controlledReadableByteStream;if(!(r._closeRequested||n._state!=="readable")){if(r._queueTotalSize>0)return void(r._closeRequested=!0);if(r._pendingPullIntos.length>0&&r._pendingPullIntos.peek().bytesFilled>0){const i=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Ra(r,i),i}Zo(r),Ga(n)}})(this)}enqueue(t){if(!ls(this))throw Ws("enqueue");if(Vn(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const r=this._controlledReadableByteStream._state;if(r!=="readable")throw new TypeError(`The stream (in ${r} state) is not in the readable state and cannot be enqueued to`);(function(n,i){const s=n._controlledReadableByteStream;if(n._closeRequested||s._state!=="readable")return;const a=i.buffer,o=i.byteOffset,c=i.byteLength,u=a;yd(s)?Dc(s)===0?So(n,u,o,c):z0(s,new Uint8Array(u,o,c),!1):L0(s)?(So(n,u,o,c),Ed(n)):So(n,u,o,c),Xi(n)})(this,t)}error(t){if(!ls(this))throw Ws("error");Ra(this,t)}[D0](t){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),Ti(this);const r=this._cancelAlgorithm(t);return Zo(this),r}[O0](t){const r=this._controlledReadableByteStream;if(this._queueTotalSize>0){const i=this._queue.shift();this._queueTotalSize-=i.byteLength,Sd(this);const s=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);return void t._chunkSteps(s)}const n=this._autoAllocateChunkSize;if(n!==void 0){let i;try{i=new ArrayBuffer(n)}catch(a){return void t._errorSteps(a)}const s={buffer:i,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(s)}md(r,t),Xi(this)}}function ls(e){return!!gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function vu(e){return!!gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function Xi(e){if(!!function(t){const r=t._controlledReadableByteStream;return r._state!=="readable"||t._closeRequested||!t._started?!1:!!(yd(r)&&Dc(r)>0||L0(r)&&Pd(r)>0||kd(t)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,$r(e._pullAlgorithm(),()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Xi(e))},t=>{Ra(e,t)})}}function t0(e,t){let r=!1;e._state==="closed"&&(r=!0);const n=wd(t);t.readerType==="default"?z0(e,n,r):function(i,s,a){const o=i._reader._readIntoRequests.shift();a?o._closeSteps(s):o._chunkSteps(s)}(e,n,r)}function wd(e){const t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function So(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function _d(e,t){const r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),s=t.bytesFilled+i,a=s-s%r;let o=i,c=!1;a>n&&(o=a-t.bytesFilled,c=!0);const u=e._queue;for(;o>0;){const A=u.peek(),S=Math.min(o,A.byteLength),C=t.byteOffset+t.bytesFilled;h=t.buffer,f=C,p=A.buffer,d=A.byteOffset,v=S,new Uint8Array(h).set(new Uint8Array(p,d,v),f),A.byteLength===S?u.shift():(A.byteOffset+=S,A.byteLength-=S),e._queueTotalSize-=S,Ad(e,S,t),o-=S}var h,f,p,d,v;return c}function Ad(e,t,r){F0(e),r.bytesFilled+=t}function Sd(e){e._queueTotalSize===0&&e._closeRequested?(Zo(e),Ga(e._controlledReadableByteStream)):Xi(e)}function F0(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Ed(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;const t=e._pendingPullIntos.peek();_d(e,t)&&(e0(e),t0(e._controlledReadableByteStream,t))}}function Kl(e,t){const r=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");(function(n,i){i.buffer=i.buffer;const s=n._controlledReadableByteStream;if(L0(s))for(;Pd(s)>0;)t0(s,e0(n))})(e,r)}else(function(n,i,s){if(s.bytesFilled+i>s.byteLength)throw new RangeError("bytesWritten out of range");if(Ad(n,i,s),s.bytesFilled<s.elementSize)return;e0(n);const a=s.bytesFilled%s.elementSize;if(a>0){const o=s.byteOffset+s.bytesFilled,c=s.buffer.slice(o-a,o);So(n,c,0,c.byteLength)}s.buffer=s.buffer,s.bytesFilled-=a,t0(n._controlledReadableByteStream,s),Ed(n)})(e,t,r);Xi(e)}function e0(e){const t=e._pendingPullIntos.shift();return F0(e),t}function Zo(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Ra(e,t){const r=e._controlledReadableByteStream;r._state==="readable"&&(function(n){F0(n),n._pendingPullIntos=new En}(e),Ti(e),Zo(e),Wd(r,t))}function kd(e){const t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function zp(e,t,r){const n=Object.create(Xo.prototype);let i=()=>{},s=()=>_e(void 0),a=()=>_e(void 0);t.start!==void 0&&(i=()=>t.start(n)),t.pull!==void 0&&(s=()=>t.pull(n)),t.cancel!==void 0&&(a=c=>t.cancel(c));const o=t.autoAllocateChunkSize;if(o===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");(function(c,u,h,f,p,d,v){u._controlledReadableByteStream=c,u._pullAgain=!1,u._pulling=!1,u._byobRequest=null,u._queue=u._queueTotalSize=void 0,Ti(u),u._closeRequested=!1,u._started=!1,u._strategyHWM=d,u._pullAlgorithm=f,u._cancelAlgorithm=p,u._autoAllocateChunkSize=v,u._pendingPullIntos=new En,c._readableStreamController=u,$r(_e(h()),()=>{u._started=!0,Xi(u)},A=>{Ra(u,A)})})(e,n,i,s,a,r,o)}function wu(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Ws(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Fl(e,t){e._reader._readIntoRequests.push(t)}function Pd(e){return e._reader._readIntoRequests.length}function L0(e){const t=e._reader;return t!==void 0&&!!ia(t)}Object.defineProperties(Xo.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof ae.toStringTag=="symbol"&&Object.defineProperty(Xo.prototype,ae.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class Qo{constructor(t){if(Vn(t,1,"ReadableStreamBYOBReader"),B0(t,"First parameter"),bi(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ls(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");cd(this,t),this._readIntoRequests=new En}get closed(){return ia(this)?this._closedPromise:Wt(io("closed"))}cancel(t){return ia(this)?this._ownerReadableStream===void 0?Wt(Ps("cancel")):I0(this,t):Wt(io("cancel"))}read(t){if(!ia(this))return Wt(io("read"));if(!ArrayBuffer.isView(t))return Wt(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return Wt(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return Wt(new TypeError("view's buffer must have non-zero byteLength"));if(this._ownerReadableStream===void 0)return Wt(Ps("read from"));let r,n;const i=ar((s,a)=>{r=s,n=a});return function(s,a,o){const c=s._ownerReadableStream;c._disturbed=!0,c._state==="errored"?o._errorSteps(c._storedError):function(u,h,f){const p=u._controlledReadableByteStream;let d=1;h.constructor!==DataView&&(d=h.constructor.BYTES_PER_ELEMENT);const v=h.constructor,A={buffer:h.buffer,byteOffset:h.byteOffset,byteLength:h.byteLength,bytesFilled:0,elementSize:d,viewConstructor:v,readerType:"byob"};if(u._pendingPullIntos.length>0)return u._pendingPullIntos.push(A),void Fl(p,f);if(p._state!=="closed"){if(u._queueTotalSize>0){if(_d(u,A)){const S=wd(A);return Sd(u),void f._chunkSteps(S)}if(u._closeRequested){const S=new TypeError("Insufficient bytes to fill elements in the given buffer");return Ra(u,S),void f._errorSteps(S)}}u._pendingPullIntos.push(A),Fl(p,f),Xi(u)}else{const S=new v(A.buffer,A.byteOffset,0);f._closeSteps(S)}}(c._readableStreamController,a,o)}(this,t,{_chunkSteps:s=>r({value:s,done:!1}),_closeSteps:s=>r({value:s,done:!0}),_errorSteps:s=>n(s)}),i}releaseLock(){if(!ia(this))throw io("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");$i(this)}}}function ia(e){return!!gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function io(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Ia(e,t){const{highWaterMark:r}=e;if(r===void 0)return t;if(gd(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function tc(e){const{size:t}=e;return t||(()=>1)}function ec(e,t){Ln(e,t);const r=e==null?void 0:e.highWaterMark,n=e==null?void 0:e.size;return{highWaterMark:r===void 0?void 0:N0(r),size:n===void 0?void 0:Kp(n,t+" has member 'size' that")}}function Kp(e,t){return Wr(e,t),r=>N0(e(r))}function Fp(e,t,r){return Wr(e,r),n=>is(e,t,[n])}function Lp(e,t,r){return Wr(e,r),()=>is(e,t,[])}function jp(e,t,r){return Wr(e,r),n=>Uc(e,t,[n])}function qp(e,t,r){return Wr(e,r),(n,i)=>is(e,t,[n,i])}function xd(e,t){if(!ds(e))throw new TypeError(t+" is not a WritableStream.")}Object.defineProperties(Qo.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof ae.toStringTag=="symbol"&&Object.defineProperty(Qo.prototype,ae.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class rc{constructor(t={},r={}){t===void 0?t=null:dd(t,"First parameter");const n=ec(r,"Second parameter"),i=function(a,o){Ln(a,o);const c=a==null?void 0:a.abort,u=a==null?void 0:a.close,h=a==null?void 0:a.start,f=a==null?void 0:a.type,p=a==null?void 0:a.write;return{abort:c===void 0?void 0:Fp(c,a,o+" has member 'abort' that"),close:u===void 0?void 0:Lp(u,a,o+" has member 'close' that"),start:h===void 0?void 0:jp(h,a,o+" has member 'start' that"),write:p===void 0?void 0:qp(p,a,o+" has member 'write' that"),type:f}}(t,"First parameter");if(Td(this),i.type!==void 0)throw new RangeError("Invalid type is specified");const s=tc(n);(function(a,o,c,u){const h=Object.create(Ua.prototype);let f=()=>{},p=()=>_e(void 0),d=()=>_e(void 0),v=()=>_e(void 0);o.start!==void 0&&(f=()=>o.start(h)),o.write!==void 0&&(p=A=>o.write(A,h)),o.close!==void 0&&(d=()=>o.close()),o.abort!==void 0&&(v=A=>o.abort(A)),Nd(a,h,f,p,d,v,c,u)})(this,i,Ia(n,1),s)}get locked(){if(!ds(this))throw ao("locked");return _s(this)}abort(t){return ds(this)?_s(this)?Wt(new TypeError("Cannot abort a stream that already has a writer")):nc(this,t):Wt(ao("abort"))}close(){return ds(this)?_s(this)?Wt(new TypeError("Cannot close a stream that already has a writer")):pn(this)?Wt(new TypeError("Cannot close an already-closing stream")):Cd(this):Wt(ao("close"))}getWriter(){if(!ds(this))throw ao("getWriter");return Md(this)}}function Md(e){return new ic(e)}function Td(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new En,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function ds(e){return!!gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function _s(e){return e._writer!==void 0}function nc(e,t){const r=e._state;if(r==="closed"||r==="errored")return _e(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let n=!1;r==="erroring"&&(n=!0,t=void 0);const i=ar((s,a)=>{e._pendingAbortRequest={_promise:void 0,_resolve:s,_reject:a,_reason:t,_wasAlreadyErroring:n}});return e._pendingAbortRequest._promise=i,n||j0(e,t),i}function Cd(e){const t=e._state;if(t==="closed"||t==="errored")return Wt(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=ar((s,a)=>{const o={_resolve:s,_reject:a};e._closeRequest=o}),n=e._writer;var i;return n!==void 0&&e._backpressure&&t==="writable"&&G0(n),K0(i=e._writableStreamController,Od,0),Nc(i),r}function r0(e,t){e._state!=="writable"?q0(e):j0(e,t)}function j0(e,t){const r=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;n!==void 0&&Id(n,t),!function(i){return!(i._inFlightWriteRequest===void 0&&i._inFlightCloseRequest===void 0)}(e)&&r._started&&q0(e)}function q0(e){e._state="errored",e._writableStreamController[fd]();const t=e._storedError;if(e._writeRequests.forEach(n=>{n._reject(t)}),e._writeRequests=new En,e._pendingAbortRequest===void 0)return void so(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void so(e);$r(e._writableStreamController[hd](r._reason),()=>{r._resolve(),so(e)},n=>{r._reject(n),so(e)})}function pn(e){return e._closeRequest!==void 0||e._inFlightCloseRequest!==void 0}function so(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;t!==void 0&&H0(t,e._storedError)}function $0(e,t){const r=e._writer;r!==void 0&&t!==e._backpressure&&(t?function(n){Bc(n)}(r):G0(r)),e._backpressure=t}Object.defineProperties(rc.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof ae.toStringTag=="symbol"&&Object.defineProperty(rc.prototype,ae.toStringTag,{value:"WritableStream",configurable:!0});class ic{constructor(t){if(Vn(t,1,"WritableStreamDefaultWriter"),xd(t,"First parameter"),_s(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;const r=t._state;if(r==="writable")!pn(t)&&t._backpressure?Bc(this):Ll(this),Eo(this);else if(r==="erroring")i0(this,t._storedError),Eo(this);else if(r==="closed")Ll(this),Eo(n=this),Fd(n);else{const i=t._storedError;i0(this,i),Kd(this,i)}var n}get closed(){return Ni(this)?this._closedPromise:Wt(Bi("closed"))}get desiredSize(){if(!Ni(this))throw Bi("desiredSize");if(this._ownerWritableStream===void 0)throw sa("desiredSize");return function(t){const r=t._ownerWritableStream,n=r._state;return n==="errored"||n==="erroring"?null:n==="closed"?0:Bd(r._writableStreamController)}(this)}get ready(){return Ni(this)?this._readyPromise:Wt(Bi("ready"))}abort(t){return Ni(this)?this._ownerWritableStream===void 0?Wt(sa("abort")):function(r,n){return nc(r._ownerWritableStream,n)}(this,t):Wt(Bi("abort"))}close(){if(!Ni(this))return Wt(Bi("close"));const t=this._ownerWritableStream;return t===void 0?Wt(sa("close")):pn(t)?Wt(new TypeError("Cannot close an already-closing stream")):Rd(this)}releaseLock(){if(!Ni(this))throw Bi("releaseLock");this._ownerWritableStream!==void 0&&Ud(this)}write(t){return Ni(this)?this._ownerWritableStream===void 0?Wt(sa("write to")):Dd(this,t):Wt(Bi("write"))}}function Ni(e){return!!gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function Rd(e){return Cd(e._ownerWritableStream)}function $p(e,t){e._closedPromiseState==="pending"?H0(e,t):function(r,n){Kd(r,n)}(e,t)}function Id(e,t){e._readyPromiseState==="pending"?Ld(e,t):function(r,n){i0(r,n)}(e,t)}function Ud(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Id(e,r),$p(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function Dd(e,t){const r=e._ownerWritableStream,n=r._writableStreamController,i=function(o,c){try{return o._strategySizeAlgorithm(c)}catch(u){return n0(o,u),1}}(n,t);if(r!==e._ownerWritableStream)return Wt(sa("write to"));const s=r._state;if(s==="errored")return Wt(r._storedError);if(pn(r)||s==="closed")return Wt(new TypeError("The stream is closing or closed and cannot be written to"));if(s==="erroring")return Wt(r._storedError);const a=function(o){return ar((c,u)=>{const h={_resolve:c,_reject:u};o._writeRequests.push(h)})}(r);return function(o,c,u){try{K0(o,c,u)}catch(f){return void n0(o,f)}const h=o._controlledWritableStream;!pn(h)&&h._state==="writable"&&$0(h,W0(o)),Nc(o)}(n,t,i),a}Object.defineProperties(ic.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof ae.toStringTag=="symbol"&&Object.defineProperty(ic.prototype,ae.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Od={};class Ua{constructor(){throw new TypeError("Illegal constructor")}error(t){if(!function(r){return!(!gr(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledWritableStream"))}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");this._controlledWritableStream._state==="writable"&&zd(this,t)}[hd](t){const r=this._abortAlgorithm(t);return sc(this),r}[fd](){Ti(this)}}function Nd(e,t,r,n,i,s,a,o){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Ti(t),t._started=!1,t._strategySizeAlgorithm=o,t._strategyHWM=a,t._writeAlgorithm=n,t._closeAlgorithm=i,t._abortAlgorithm=s;const c=W0(t);$0(e,c),$r(_e(r()),()=>{t._started=!0,Nc(t)},u=>{t._started=!0,r0(e,u)})}function sc(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Bd(e){return e._strategyHWM-e._queueTotalSize}function Nc(e){const t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring")return void q0(t);if(e._queue.length===0)return;const r=e._queue.peek().value;r===Od?function(n){const i=n._controlledWritableStream;(function(a){a._inFlightCloseRequest=a._closeRequest,a._closeRequest=void 0})(i),Qu(n);const s=n._closeAlgorithm();sc(n),$r(s,()=>{(function(a){a._inFlightCloseRequest._resolve(void 0),a._inFlightCloseRequest=void 0,a._state==="erroring"&&(a._storedError=void 0,a._pendingAbortRequest!==void 0&&(a._pendingAbortRequest._resolve(),a._pendingAbortRequest=void 0)),a._state="closed";const o=a._writer;o!==void 0&&Fd(o)})(i)},a=>{(function(o,c){o._inFlightCloseRequest._reject(c),o._inFlightCloseRequest=void 0,o._pendingAbortRequest!==void 0&&(o._pendingAbortRequest._reject(c),o._pendingAbortRequest=void 0),r0(o,c)})(i,a)})}(e):function(n,i){const s=n._controlledWritableStream;(function(a){a._inFlightWriteRequest=a._writeRequests.shift()})(s),$r(n._writeAlgorithm(i),()=>{(function(o){o._inFlightWriteRequest._resolve(void 0),o._inFlightWriteRequest=void 0})(s);const a=s._state;if(Qu(n),!pn(s)&&a==="writable"){const o=W0(n);$0(s,o)}Nc(n)},a=>{s._state==="writable"&&sc(n),function(o,c){o._inFlightWriteRequest._reject(c),o._inFlightWriteRequest=void 0,r0(o,c)}(s,a)})}(e,r)}function n0(e,t){e._controlledWritableStream._state==="writable"&&zd(e,t)}function W0(e){return Bd(e)<=0}function zd(e,t){const r=e._controlledWritableStream;sc(e),j0(r,t)}function ao(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Bi(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function sa(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Eo(e){e._closedPromise=ar((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function Kd(e,t){Eo(e),H0(e,t)}function H0(e,t){e._closedPromise_reject!==void 0&&(Ha(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Fd(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Bc(e){e._readyPromise=ar((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function i0(e,t){Bc(e),Ld(e,t)}function Ll(e){Bc(e),G0(e)}function Ld(e,t){e._readyPromise_reject!==void 0&&(Ha(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function G0(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(Ua.prototype,{error:{enumerable:!0}}),typeof ae.toStringTag=="symbol"&&Object.defineProperty(Ua.prototype,ae.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const jl=typeof DOMException!="undefined"?DOMException:void 0,Wp=function(e){if(typeof e!="function"&&typeof e!="object")return!1;try{return new e,!0}catch{return!1}}(jl)?jl:function(){const e=function(t,r){this.message=t||"",this.name=r||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return Object.defineProperty(e.prototype=Object.create(Error.prototype),"constructor",{value:e,writable:!0,configurable:!0}),e}();function ql(e,t,r,n,i,s){const a=Ao(e),o=Md(t);e._disturbed=!0;let c=!1,u=_e(void 0);return ar((h,f)=>{let p;if(s!==void 0){if(p=()=>{const B=new Wp("Aborted","AbortError"),U=[];n||U.push(()=>t._state==="writable"?nc(t,B):_e(void 0)),i||U.push(()=>e._state==="readable"?Gi(e,B):_e(void 0)),A(()=>Promise.all(U.map(O=>O())),!0,B)},s.aborted)return void p();s.addEventListener("abort",p)}if(v(e,a._closedPromise,B=>{n?S(!0,B):A(()=>nc(t,B),!0,B)}),v(t,o._closedPromise,B=>{i?S(!0,B):A(()=>Gi(e,B),!0,B)}),function(B,U,O){B._state==="closed"?O():bu(U,O)}(e,a._closedPromise,()=>{r?S():A(()=>function(B){const U=B._ownerWritableStream,O=U._state;return pn(U)||O==="closed"?_e(void 0):O==="errored"?Wt(U._storedError):Rd(B)}(o))}),pn(t)||t._state==="closed"){const B=new TypeError("the destination writable stream closed before all data could be piped to it");i?S(!0,B):A(()=>Gi(e,B),!0,B)}function d(){const B=u;return Fn(u,()=>B!==u?d():void 0)}function v(B,U,O){B._state==="errored"?O(B._storedError):ad(U,O)}function A(B,U,O){function q(){$r(B(),()=>C(U,O),g=>C(!0,g))}c||(c=!0,t._state!=="writable"||pn(t)?q():bu(d(),q))}function S(B,U){c||(c=!0,t._state!=="writable"||pn(t)?C(B,U):bu(d(),()=>C(B,U)))}function C(B,U){Ud(o),$i(a),s!==void 0&&s.removeEventListener("abort",p),B?f(U):h(void 0)}Ha(ar((B,U)=>{(function O(q){q?B():Fn(c?_e(!0):Fn(o._readyPromise,()=>ar((g,R)=>{Oc(a,{_chunkSteps:l=>{u=Fn(Dd(o,l),void 0,C0),g(!1)},_closeSteps:()=>g(!0),_errorSteps:R})})),O,U)})(!1)}))})}class Da{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!oo(this))throw co("desiredSize");return V0(this)}close(){if(!oo(this))throw co("close");if(!xs(this))throw new TypeError("The stream is not in a state that permits close");Na(this)}enqueue(t){if(!oo(this))throw co("enqueue");if(!xs(this))throw new TypeError("The stream is not in a state that permits enqueue");return oc(this,t)}error(t){if(!oo(this))throw co("error");ki(this,t)}[D0](t){Ti(this);const r=this._cancelAlgorithm(t);return ac(this),r}[O0](t){const r=this._controlledReadableStream;if(this._queue.length>0){const n=Qu(this);this._closeRequested&&this._queue.length===0?(ac(this),Ga(r)):Oa(this),t._chunkSteps(n)}else md(r,t),Oa(this)}}function oo(e){return!!gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function Oa(e){if(!!jd(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,$r(e._pullAlgorithm(),()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Oa(e))},t=>{ki(e,t)})}}function jd(e){const t=e._controlledReadableStream;return!xs(e)||!e._started?!1:bi(t)&&Dc(t)>0?!0:V0(e)>0}function ac(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Na(e){if(!xs(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(ac(e),Ga(t))}function oc(e,t){if(!xs(e))return;const r=e._controlledReadableStream;if(bi(r)&&Dc(r)>0)z0(r,t,!1);else{let n;try{n=e._strategySizeAlgorithm(t)}catch(i){throw ki(e,i),i}try{K0(e,t,n)}catch(i){throw ki(e,i),i}}Oa(e)}function ki(e,t){const r=e._controlledReadableStream;r._state==="readable"&&(Ti(e),ac(e),Wd(r,t))}function V0(e){const t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function xs(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function qd(e,t,r,n,i,s,a){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Ti(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=a,t._strategyHWM=s,t._pullAlgorithm=n,t._cancelAlgorithm=i,e._readableStreamController=t,$r(_e(r()),()=>{t._started=!0,Oa(t)},o=>{ki(t,o)})}function co(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Hp(e,t,r){return Wr(e,r),n=>is(e,t,[n])}function Gp(e,t,r){return Wr(e,r),n=>is(e,t,[n])}function Vp(e,t,r){return Wr(e,r),n=>Uc(e,t,[n])}function Yp(e,t){if((e=""+e)!="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function Jp(e,t){if((e=""+e)!="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function $l(e,t){Ln(e,t);const r=e==null?void 0:e.preventAbort,n=e==null?void 0:e.preventCancel,i=e==null?void 0:e.preventClose,s=e==null?void 0:e.signal;return s!==void 0&&function(a,o){if(!function(c){if(typeof c!="object"||c===null)return!1;try{return typeof c.aborted=="boolean"}catch{return!1}}(a))throw new TypeError(o+" is not an AbortSignal.")}(s,t+" has member 'signal' that"),{preventAbort:!!r,preventCancel:!!n,preventClose:!!i,signal:s}}Object.defineProperties(Da.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof ae.toStringTag=="symbol"&&Object.defineProperty(Da.prototype,ae.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class ps{constructor(t={},r={}){t===void 0?t=null:dd(t,"First parameter");const n=ec(r,"Second parameter"),i=function(s,a){Ln(s,a);const o=s,c=o==null?void 0:o.autoAllocateChunkSize,u=o==null?void 0:o.cancel,h=o==null?void 0:o.pull,f=o==null?void 0:o.start,p=o==null?void 0:o.type;return{autoAllocateChunkSize:c===void 0?void 0:pd(c,a+" has member 'autoAllocateChunkSize' that"),cancel:u===void 0?void 0:Hp(u,o,a+" has member 'cancel' that"),pull:h===void 0?void 0:Gp(h,o,a+" has member 'pull' that"),start:f===void 0?void 0:Vp(f,o,a+" has member 'start' that"),type:p===void 0?void 0:Yp(p,a+" has member 'type' that")}}(t,"First parameter");if($d(this),i.type==="bytes"){if(n.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");zp(this,i,Ia(n,0))}else{const s=tc(n);(function(a,o,c,u){const h=Object.create(Da.prototype);let f=()=>{},p=()=>_e(void 0),d=()=>_e(void 0);o.start!==void 0&&(f=()=>o.start(h)),o.pull!==void 0&&(p=()=>o.pull(h)),o.cancel!==void 0&&(d=v=>o.cancel(v)),qd(a,h,f,p,d,c,u)})(this,i,Ia(n,1),s)}}get locked(){if(!ui(this))throw zi("locked");return bi(this)}cancel(t){return ui(this)?bi(this)?Wt(new TypeError("Cannot cancel a stream that already has a reader")):Gi(this,t):Wt(zi("cancel"))}getReader(t){if(!ui(this))throw zi("getReader");return function(r,n){Ln(r,n);const i=r==null?void 0:r.mode;return{mode:i===void 0?void 0:Jp(i,n+" has member 'mode' that")}}(t,"First parameter").mode===void 0?Ao(this):function(r){return new Qo(r)}(this)}pipeThrough(t,r={}){if(!ui(this))throw zi("pipeThrough");Vn(t,1,"pipeThrough");const n=function(s,a){Ln(s,a);const o=s==null?void 0:s.readable;Zu(o,"readable","ReadableWritablePair"),B0(o,a+" has member 'readable' that");const c=s==null?void 0:s.writable;return Zu(c,"writable","ReadableWritablePair"),xd(c,a+" has member 'writable' that"),{readable:o,writable:c}}(t,"First parameter"),i=$l(r,"Second parameter");if(bi(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(_s(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Ha(ql(this,n.writable,i.preventClose,i.preventAbort,i.preventCancel,i.signal)),n.readable}pipeTo(t,r={}){if(!ui(this))return Wt(zi("pipeTo"));if(t===void 0)return Wt("Parameter 1 is required in 'pipeTo'.");if(!ds(t))return Wt(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let n;try{n=$l(r,"Second parameter")}catch(i){return Wt(i)}return bi(this)?Wt(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):_s(t)?Wt(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ql(this,t,n.preventClose,n.preventAbort,n.preventCancel,n.signal)}tee(){if(!ui(this))throw zi("tee");const t=function(r,n){const i=Ao(r);let s,a,o,c,u,h=!1,f=!1,p=!1;const d=ar(S=>{u=S});function v(){return h||(h=!0,Oc(i,{_chunkSteps:S=>{od(()=>{h=!1;const C=S,B=S;f||oc(o._readableStreamController,C),p||oc(c._readableStreamController,B)})},_closeSteps:()=>{h=!1,f||Na(o._readableStreamController),p||Na(c._readableStreamController),f&&p||u(void 0)},_errorSteps:()=>{h=!1}})),_e(void 0)}function A(){}return o=s0(A,v,function(S){if(f=!0,s=S,p){const C=gu([s,a]),B=Gi(r,C);u(B)}return d}),c=s0(A,v,function(S){if(p=!0,a=S,f){const C=gu([s,a]),B=Gi(r,C);u(B)}return d}),ad(i._closedPromise,S=>{ki(o._readableStreamController,S),ki(c._readableStreamController,S),f&&p||u(void 0)}),[o,c]}(this);return gu(t)}values(t){if(!ui(this))throw zi("values");return function(r,n){const i=Ao(r),s=new Bp(i,n),a=Object.create(bd);return a._asyncIteratorImpl=s,a}(this,function(r,n){return Ln(r,n),{preventCancel:!!(r!=null&&r.preventCancel)}}(t,"First parameter").preventCancel)}}function s0(e,t,r,n=1,i=()=>1){const s=Object.create(ps.prototype);return $d(s),qd(s,Object.create(Da.prototype),e,t,r,n,i),s}function $d(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function ui(e){return!!gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function bi(e){return e._reader!==void 0}function Gi(e,t){return e._disturbed=!0,e._state==="closed"?_e(void 0):e._state==="errored"?Wt(e._storedError):(Ga(e),Hi(e._readableStreamController[D0](t),C0))}function Ga(e){e._state="closed";const t=e._reader;t!==void 0&&(ld(t),Wi(t)&&(t._readRequests.forEach(r=>{r._closeSteps()}),t._readRequests=new En))}function Wd(e,t){e._state="errored",e._storedError=t;const r=e._reader;r!==void 0&&(U0(r,t),Wi(r)?(r._readRequests.forEach(n=>{n._errorSteps(t)}),r._readRequests=new En):(r._readIntoRequests.forEach(n=>{n._errorSteps(t)}),r._readIntoRequests=new En))}function zi(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Hd(e,t){Ln(e,t);const r=e==null?void 0:e.highWaterMark;return Zu(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:N0(r)}}Object.defineProperties(ps.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof ae.toStringTag=="symbol"&&Object.defineProperty(ps.prototype,ae.toStringTag,{value:"ReadableStream",configurable:!0}),typeof ae.asyncIterator=="symbol"&&Object.defineProperty(ps.prototype,ae.asyncIterator,{value:ps.prototype.values,writable:!0,configurable:!0});const Xp=function(e){return e.byteLength};class a0{constructor(t){Vn(t,1,"ByteLengthQueuingStrategy"),t=Hd(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Hl(this))throw Wl("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Hl(this))throw Wl("size");return Xp}}function Wl(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Hl(e){return!!gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")}Object.defineProperties(a0.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof ae.toStringTag=="symbol"&&Object.defineProperty(a0.prototype,ae.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const Zp=function(){return 1};class o0{constructor(t){Vn(t,1,"CountQueuingStrategy"),t=Hd(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Vl(this))throw Gl("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Vl(this))throw Gl("size");return Zp}}function Gl(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Vl(e){return!!gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")}function Qp(e,t,r){return Wr(e,r),n=>is(e,t,[n])}function t6(e,t,r){return Wr(e,r),n=>Uc(e,t,[n])}function e6(e,t,r){return Wr(e,r),(n,i)=>is(e,t,[n,i])}Object.defineProperties(o0.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof ae.toStringTag=="symbol"&&Object.defineProperty(o0.prototype,ae.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class c0{constructor(t={},r={},n={}){t===void 0&&(t=null);const i=ec(r,"Second parameter"),s=ec(n,"Third parameter"),a=function(p,d){Ln(p,d);const v=p==null?void 0:p.flush,A=p==null?void 0:p.readableType,S=p==null?void 0:p.start,C=p==null?void 0:p.transform,B=p==null?void 0:p.writableType;return{flush:v===void 0?void 0:Qp(v,p,d+" has member 'flush' that"),readableType:A,start:S===void 0?void 0:t6(S,p,d+" has member 'start' that"),transform:C===void 0?void 0:e6(C,p,d+" has member 'transform' that"),writableType:B}}(t,"First parameter");if(a.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(a.writableType!==void 0)throw new RangeError("Invalid writableType specified");const o=Ia(s,0),c=tc(s),u=Ia(i,1),h=tc(i);let f;(function(p,d,v,A,S,C){function B(){return d}function U(l){return function(m,y){const b=m._transformStreamController;return m._backpressure?Hi(m._backpressureChangePromise,()=>{const _=m._writable;if(_._state==="erroring")throw _._storedError;return Jl(b,y)}):Jl(b,y)}(p,l)}function O(l){return function(m,y){return cc(m,y),_e(void 0)}(p,l)}function q(){return function(l){const m=l._readable,y=l._transformStreamController,b=y._flushAlgorithm();return Gd(y),Hi(b,()=>{if(m._state==="errored")throw m._storedError;Na(m._readableStreamController)},_=>{throw cc(l,_),m._storedError})}(p)}function g(){return function(l){return uc(l,!1),l._backpressureChangePromise}(p)}function R(l){return zc(p,l),_e(void 0)}p._writable=function(l,m,y,b,_=1,D=()=>1){const N=Object.create(rc.prototype);return Td(N),Nd(N,Object.create(Ua.prototype),l,m,y,b,_,D),N}(B,U,q,O,v,A),p._readable=s0(B,g,R,S,C),p._backpressure=void 0,p._backpressureChangePromise=void 0,p._backpressureChangePromise_resolve=void 0,uc(p,!0),p._transformStreamController=void 0})(this,ar(p=>{f=p}),u,h,o,c),function(p,d){const v=Object.create(lc.prototype);let A=C=>{try{return Vd(v,C),_e(void 0)}catch(B){return Wt(B)}},S=()=>_e(void 0);d.transform!==void 0&&(A=C=>d.transform(C,v)),d.flush!==void 0&&(S=()=>d.flush(v)),function(C,B,U,O){B._controlledTransformStream=C,C._transformStreamController=B,B._transformAlgorithm=U,B._flushAlgorithm=O}(p,v,A,S)}(this,a),a.start!==void 0?f(a.start(this._transformStreamController)):f(void 0)}get readable(){if(!Yl(this))throw Xl("readable");return this._readable}get writable(){if(!Yl(this))throw Xl("writable");return this._writable}}function Yl(e){return!!gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function cc(e,t){ki(e._readable._readableStreamController,t),zc(e,t)}function zc(e,t){Gd(e._transformStreamController),n0(e._writable._writableStreamController,t),e._backpressure&&uc(e,!1)}function uc(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=ar(r=>{e._backpressureChangePromise_resolve=r}),e._backpressure=t}Object.defineProperties(c0.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof ae.toStringTag=="symbol"&&Object.defineProperty(c0.prototype,ae.toStringTag,{value:"TransformStream",configurable:!0});class lc{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!uo(this))throw lo("desiredSize");return V0(this._controlledTransformStream._readable._readableStreamController)}enqueue(t){if(!uo(this))throw lo("enqueue");Vd(this,t)}error(t){if(!uo(this))throw lo("error");var r;r=t,cc(this._controlledTransformStream,r)}terminate(){if(!uo(this))throw lo("terminate");(function(t){const r=t._controlledTransformStream;Na(r._readable._readableStreamController),zc(r,new TypeError("TransformStream terminated"))})(this)}}function uo(e){return!!gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function Gd(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Vd(e,t){const r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!xs(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{oc(n,t)}catch(i){throw zc(r,i),r._readable._storedError}(function(i){return!jd(i)})(n)!==r._backpressure&&uc(r,!0)}function Jl(e,t){return Hi(e._transformAlgorithm(t),void 0,r=>{throw cc(e._controlledTransformStream,r),r})}function lo(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Xl(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(lc.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof ae.toStringTag=="symbol"&&Object.defineProperty(lc.prototype,ae.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var r6=Object.freeze({__proto__:null,ByteLengthQueuingStrategy:a0,CountQueuingStrategy:o0,ReadableByteStreamController:Xo,ReadableStream:ps,ReadableStreamBYOBReader:Qo,ReadableStreamBYOBRequest:Jo,ReadableStreamDefaultController:Da,ReadableStreamDefaultReader:Vo,TransformStream:c0,TransformStreamDefaultController:lc,WritableStream:rc,WritableStreamDefaultController:Ua,WritableStreamDefaultWriter:ic}),Yd=function(e,t){return(Yd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(e,t)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Jd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+t+" is not a constructor or null");function r(){this.constructor=e}Yd(e,t),e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Er(e){if(!e)throw new TypeError("Assertion failed")}function ya(){}function Y0(e){return typeof e=="object"&&e!==null||typeof e=="function"}function _u(e){if(typeof e!="function")return!1;var t=!1;try{new e({start:function(){t=!0}})}catch{}return t}function J0(e){return!!Y0(e)&&typeof e.getReader=="function"}function X0(e){return!!Y0(e)&&typeof e.getWriter=="function"}function Xd(e){return!!Y0(e)&&!!J0(e.readable)&&!!X0(e.writable)}function Zd(e){try{return e.getReader({mode:"byob"}).releaseLock(),!0}catch{return!1}}function Au(e,t){var r=(t===void 0?{}:t).type;return Er(J0(e)),Er(e.locked===!1),(r=Qd(r))==="bytes"?new i6(e):new n6(e)}function Qd(e){var t=e+"";if(t==="bytes")return t;if(e===void 0)return e;throw new RangeError("Invalid type is specified")}var t2=function(){function e(t){this._underlyingReader=void 0,this._readerMode=void 0,this._readableStreamController=void 0,this._pendingRead=void 0,this._underlyingStream=t,this._attachDefaultReader()}return e.prototype.start=function(t){this._readableStreamController=t},e.prototype.cancel=function(t){return Er(this._underlyingReader!==void 0),this._underlyingReader.cancel(t)},e.prototype._attachDefaultReader=function(){if(this._readerMode!=="default"){this._detachReader();var t=this._underlyingStream.getReader();this._readerMode="default",this._attachReader(t)}},e.prototype._attachReader=function(t){var r=this;Er(this._underlyingReader===void 0),this._underlyingReader=t;var n=this._underlyingReader.closed;n&&n.then(function(){return r._finishPendingRead()}).then(function(){t===r._underlyingReader&&r._readableStreamController.close()},function(i){t===r._underlyingReader&&r._readableStreamController.error(i)}).catch(ya)},e.prototype._detachReader=function(){this._underlyingReader!==void 0&&(this._underlyingReader.releaseLock(),this._underlyingReader=void 0,this._readerMode=void 0)},e.prototype._pullWithDefaultReader=function(){var t=this;this._attachDefaultReader();var r=this._underlyingReader.read().then(function(n){var i=t._readableStreamController;n.done?t._tryClose():i.enqueue(n.value)});return this._setPendingRead(r),r},e.prototype._tryClose=function(){try{this._readableStreamController.close()}catch{}},e.prototype._setPendingRead=function(t){var r,n=this,i=function(){n._pendingRead===r&&(n._pendingRead=void 0)};this._pendingRead=r=t.then(i,i)},e.prototype._finishPendingRead=function(){var t=this;if(this._pendingRead){var r=function(){return t._finishPendingRead()};return this._pendingRead.then(r,r)}},e}(),n6=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Jd(t,e),t.prototype.pull=function(){return this._pullWithDefaultReader()},t}(t2);function Zl(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var i6=function(e){function t(r){var n=this,i=Zd(r);return(n=e.call(this,r)||this)._supportsByob=i,n}return Jd(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"bytes"},enumerable:!1,configurable:!0}),t.prototype._attachByobReader=function(){if(this._readerMode!=="byob"){Er(this._supportsByob),this._detachReader();var r=this._underlyingStream.getReader({mode:"byob"});this._readerMode="byob",this._attachReader(r)}},t.prototype.pull=function(){if(this._supportsByob){var r=this._readableStreamController.byobRequest;if(r)return this._pullWithByobRequest(r)}return this._pullWithDefaultReader()},t.prototype._pullWithByobRequest=function(r){var n=this;this._attachByobReader();var i=new Uint8Array(r.view.byteLength),s=this._underlyingReader.read(i).then(function(a){var o,c,u;n._readableStreamController,a.done?(n._tryClose(),r.respond(0)):(o=a.value,c=r.view,u=Zl(o),Zl(c).set(u,0),r.respond(a.value.byteLength))});return this._setPendingRead(s),s},t}(t2);function Ql(e){Er(X0(e)),Er(e.locked===!1);var t=e.getWriter();return new s6(t)}var s6=function(){function e(t){var r=this;this._writableStreamController=void 0,this._pendingWrite=void 0,this._state="writable",this._storedError=void 0,this._underlyingWriter=t,this._errorPromise=new Promise(function(n,i){r._errorPromiseReject=i}),this._errorPromise.catch(ya)}return e.prototype.start=function(t){var r=this;this._writableStreamController=t,this._underlyingWriter.closed.then(function(){r._state="closed"}).catch(function(n){return r._finishErroring(n)})},e.prototype.write=function(t){var r=this,n=this._underlyingWriter;if(n.desiredSize===null)return n.ready;var i=n.write(t);i.catch(function(a){return r._finishErroring(a)}),n.ready.catch(function(a){return r._startErroring(a)});var s=Promise.race([i,this._errorPromise]);return this._setPendingWrite(s),s},e.prototype.close=function(){var t=this;return this._pendingWrite===void 0?this._underlyingWriter.close():this._finishPendingWrite().then(function(){return t.close()})},e.prototype.abort=function(t){if(this._state!=="errored")return this._underlyingWriter.abort(t)},e.prototype._setPendingWrite=function(t){var r,n=this,i=function(){n._pendingWrite===r&&(n._pendingWrite=void 0)};this._pendingWrite=r=t.then(i,i)},e.prototype._finishPendingWrite=function(){var t=this;if(this._pendingWrite===void 0)return Promise.resolve();var r=function(){return t._finishPendingWrite()};return this._pendingWrite.then(r,r)},e.prototype._startErroring=function(t){var r=this;if(this._state==="writable"){this._state="erroring",this._storedError=t;var n=function(){return r._finishErroring(t)};this._pendingWrite===void 0?n():this._finishPendingWrite().then(n,n),this._writableStreamController.error(t)}},e.prototype._finishErroring=function(t){this._state==="writable"&&this._startErroring(t),this._state==="erroring"&&(this._state="errored",this._errorPromiseReject(this._storedError))},e}();function th(e){Er(Xd(e));var t=e.readable,r=e.writable;Er(t.locked===!1),Er(r.locked===!1);var n,i=t.getReader();try{n=r.getWriter()}catch(s){throw i.releaseLock(),s}return new a6(i,n)}var a6=function(){function e(t,r){var n=this;this._transformStreamController=void 0,this._onRead=function(i){if(!i.done)return n._transformStreamController.enqueue(i.value),n._reader.read().then(n._onRead)},this._onError=function(i){n._flushReject(i),n._transformStreamController.error(i),n._reader.cancel(i).catch(ya),n._writer.abort(i).catch(ya)},this._onTerminate=function(){n._flushResolve(),n._transformStreamController.terminate();var i=new TypeError("TransformStream terminated");n._writer.abort(i).catch(ya)},this._reader=t,this._writer=r,this._flushPromise=new Promise(function(i,s){n._flushResolve=i,n._flushReject=s})}return e.prototype.start=function(t){this._transformStreamController=t,this._reader.read().then(this._onRead).then(this._onTerminate,this._onError);var r=this._reader.closed;r&&r.then(this._onTerminate,this._onError)},e.prototype.transform=function(t){return this._writer.write(t)},e.prototype.flush=function(){var t=this;return this._writer.close().then(function(){return t._flushPromise})},e}(),o6=Object.freeze({__proto__:null,createReadableStreamWrapper:function(e){Er(function(r){return!!_u(r)&&!!J0(new r)}(e));var t=function(r){try{return new r({type:"bytes"}),!0}catch{return!1}}(e);return function(r,n){var i=(n===void 0?{}:n).type;if((i=Qd(i))!=="bytes"||t||(i=void 0),r.constructor===e&&(i!=="bytes"||Zd(r)))return r;if(i==="bytes"){var s=Au(r,{type:i});return new e(s)}return s=Au(r),new e(s)}},createTransformStreamWrapper:function(e){return Er(function(t){return!!_u(t)&&!!Xd(new t)}(e)),function(t){if(t.constructor===e)return t;var r=th(t);return new e(r)}},createWrappingReadableSource:Au,createWrappingTransformer:th,createWrappingWritableSink:Ql,createWritableStreamWrapper:function(e){return Er(function(t){return!!_u(t)&&!!X0(new t)}(e)),function(t){if(t.constructor===e)return t;var r=Ql(t);return new e(r)}}}),Ct=Mn(function(e){(function(t,r){function n(l,m){if(!l)throw Error(m||"Assertion failed")}function i(l,m){l.super_=m;var y=function(){};y.prototype=m.prototype,l.prototype=new y,l.prototype.constructor=l}function s(l,m,y){if(s.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&(m!=="le"&&m!=="be"||(y=m,m=10),this._init(l||0,m||10,y||"be"))}var a;typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{a=void 0}catch{}function o(l,m,y){for(var b=0,_=Math.min(l.length,y),D=m;D<_;D++){var N=l.charCodeAt(D)-48;b<<=4,b|=N>=49&&N<=54?N-49+10:N>=17&&N<=22?N-17+10:15&N}return b}function c(l,m,y,b){for(var _=0,D=Math.min(l.length,y),N=m;N<D;N++){var W=l.charCodeAt(N)-48;_*=b,_+=W>=49?W-49+10:W>=17?W-17+10:W}return _}s.isBN=function(l){return l instanceof s||l!==null&&typeof l=="object"&&l.constructor.wordSize===s.wordSize&&Array.isArray(l.words)},s.max=function(l,m){return l.cmp(m)>0?l:m},s.min=function(l,m){return l.cmp(m)<0?l:m},s.prototype._init=function(l,m,y){if(typeof l=="number")return this._initNumber(l,m,y);if(typeof l=="object")return this._initArray(l,m,y);m==="hex"&&(m=16),n(m===(0|m)&&m>=2&&m<=36);var b=0;(l=l.toString().replace(/\s+/g,""))[0]==="-"&&b++,m===16?this._parseHex(l,b):this._parseBase(l,m,b),l[0]==="-"&&(this.negative=1),this.strip(),y==="le"&&this._initArray(this.toArray(),m,y)},s.prototype._initNumber=function(l,m,y){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[67108863&l],this.length=1):l<4503599627370496?(this.words=[67108863&l,l/67108864&67108863],this.length=2):(n(l<9007199254740992),this.words=[67108863&l,l/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),m,y)},s.prototype._initArray=function(l,m,y){if(n(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var _,D,N=0;if(y==="be")for(b=l.length-1,_=0;b>=0;b-=3)D=l[b]|l[b-1]<<8|l[b-2]<<16,this.words[_]|=D<<N&67108863,this.words[_+1]=D>>>26-N&67108863,(N+=24)>=26&&(N-=26,_++);else if(y==="le")for(b=0,_=0;b<l.length;b+=3)D=l[b]|l[b+1]<<8|l[b+2]<<16,this.words[_]|=D<<N&67108863,this.words[_+1]=D>>>26-N&67108863,(N+=24)>=26&&(N-=26,_++);return this.strip()},s.prototype._parseHex=function(l,m){this.length=Math.ceil((l.length-m)/6),this.words=Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var b,_,D=0;for(y=l.length-6,b=0;y>=m;y-=6)_=o(l,y,y+6),this.words[b]|=_<<D&67108863,this.words[b+1]|=_>>>26-D&4194303,(D+=24)>=26&&(D-=26,b++);y+6!==m&&(_=o(l,m,y+6),this.words[b]|=_<<D&67108863,this.words[b+1]|=_>>>26-D&4194303),this.strip()},s.prototype._parseBase=function(l,m,y){this.words=[0],this.length=1;for(var b=0,_=1;_<=67108863;_*=m)b++;b--,_=_/m|0;for(var D=l.length-y,N=D%b,W=Math.min(D,D-N)+y,tt=0,w=y;w<W;w+=b)tt=c(l,w,w+b,m),this.imuln(_),this.words[0]+tt<67108864?this.words[0]+=tt:this._iaddn(tt);if(N!==0){var I=1;for(tt=c(l,w,l.length,m),w=0;w<N;w++)I*=m;this.imuln(I),this.words[0]+tt<67108864?this.words[0]+=tt:this._iaddn(tt)}},s.prototype.copy=function(l){l.words=Array(this.length);for(var m=0;m<this.length;m++)l.words[m]=this.words[m];l.length=this.length,l.negative=this.negative,l.red=this.red},s.prototype.clone=function(){var l=new s(null);return this.copy(l),l},s.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(l,m,y){y.negative=m.negative^l.negative;var b=l.length+m.length|0;y.length=b,b=b-1|0;var _=0|l.words[0],D=0|m.words[0],N=_*D,W=67108863&N,tt=N/67108864|0;y.words[0]=W;for(var w=1;w<b;w++){for(var I=tt>>>26,J=67108863&tt,Q=Math.min(w,m.length-1),nt=Math.max(0,w-l.length+1);nt<=Q;nt++){var ht=w-nt|0;I+=(N=(_=0|l.words[ht])*(D=0|m.words[nt])+J)/67108864|0,J=67108863&N}y.words[w]=0|J,tt=0|I}return tt!==0?y.words[w]=0|tt:y.length--,y.strip()}s.prototype.toString=function(l,m){var y;if(m=0|m||1,(l=l||10)===16||l==="hex"){y="";for(var b=0,_=0,D=0;D<this.length;D++){var N=this.words[D],W=(16777215&(N<<b|_)).toString(16);y=(_=N>>>24-b&16777215)!==0||D!==this.length-1?u[6-W.length]+W+y:W+y,(b+=2)>=26&&(b-=26,D--)}for(_!==0&&(y=_.toString(16)+y);y.length%m!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(l===(0|l)&&l>=2&&l<=36){var tt=h[l],w=f[l];y="";var I=this.clone();for(I.negative=0;!I.isZero();){var J=I.modn(w).toString(l);y=(I=I.idivn(w)).isZero()?J+y:u[tt-J.length]+J+y}for(this.isZero()&&(y="0"+y);y.length%m!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=67108864*this.words[1]:this.length===3&&this.words[2]===1?l+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(l,m){return n(a!==void 0),this.toArrayLike(a,l,m)},s.prototype.toArray=function(l,m){return this.toArrayLike(Array,l,m)},s.prototype.toArrayLike=function(l,m,y){var b=this.byteLength(),_=y||Math.max(1,b);n(b<=_,"byte array longer than desired length"),n(_>0,"Requested array length <= 0"),this.strip();var D,N,W=m==="le",tt=new l(_),w=this.clone();if(W){for(N=0;!w.isZero();N++)D=w.andln(255),w.iushrn(8),tt[N]=D;for(;N<_;N++)tt[N]=0}else{for(N=0;N<_-b;N++)tt[N]=0;for(N=0;!w.isZero();N++)D=w.andln(255),w.iushrn(8),tt[_-N-1]=D}return tt},s.prototype._countBits=Math.clz32?function(l){return 32-Math.clz32(l)}:function(l){var m=l,y=0;return m>=4096&&(y+=13,m>>>=13),m>=64&&(y+=7,m>>>=7),m>=8&&(y+=4,m>>>=4),m>=2&&(y+=2,m>>>=2),y+m},s.prototype._zeroBits=function(l){if(l===0)return 26;var m=l,y=0;return(8191&m)==0&&(y+=13,m>>>=13),(127&m)==0&&(y+=7,m>>>=7),(15&m)==0&&(y+=4,m>>>=4),(3&m)==0&&(y+=2,m>>>=2),(1&m)==0&&y++,y},s.prototype.bitLength=function(){var l=this.words[this.length-1],m=this._countBits(l);return 26*(this.length-1)+m},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,m=0;m<this.length;m++){var y=this._zeroBits(this.words[m]);if(l+=y,y!==26)break}return l},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},s.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var m=0;m<l.length;m++)this.words[m]=this.words[m]|l.words[m];return this.strip()},s.prototype.ior=function(l){return n((this.negative|l.negative)==0),this.iuor(l)},s.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},s.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},s.prototype.iuand=function(l){var m;m=this.length>l.length?l:this;for(var y=0;y<m.length;y++)this.words[y]=this.words[y]&l.words[y];return this.length=m.length,this.strip()},s.prototype.iand=function(l){return n((this.negative|l.negative)==0),this.iuand(l)},s.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},s.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},s.prototype.iuxor=function(l){var m,y;this.length>l.length?(m=this,y=l):(m=l,y=this);for(var b=0;b<y.length;b++)this.words[b]=m.words[b]^y.words[b];if(this!==m)for(;b<m.length;b++)this.words[b]=m.words[b];return this.length=m.length,this.strip()},s.prototype.ixor=function(l){return n((this.negative|l.negative)==0),this.iuxor(l)},s.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},s.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},s.prototype.inotn=function(l){n(typeof l=="number"&&l>=0);var m=0|Math.ceil(l/26),y=l%26;this._expand(m),y>0&&m--;for(var b=0;b<m;b++)this.words[b]=67108863&~this.words[b];return y>0&&(this.words[b]=~this.words[b]&67108863>>26-y),this.strip()},s.prototype.notn=function(l){return this.clone().inotn(l)},s.prototype.setn=function(l,m){n(typeof l=="number"&&l>=0);var y=l/26|0,b=l%26;return this._expand(y+1),this.words[y]=m?this.words[y]|1<<b:this.words[y]&~(1<<b),this.strip()},s.prototype.iadd=function(l){var m,y,b;if(this.negative!==0&&l.negative===0)return this.negative=0,m=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,m=this.isub(l),l.negative=1,m._normSign();this.length>l.length?(y=this,b=l):(y=l,b=this);for(var _=0,D=0;D<b.length;D++)m=(0|y.words[D])+(0|b.words[D])+_,this.words[D]=67108863&m,_=m>>>26;for(;_!==0&&D<y.length;D++)m=(0|y.words[D])+_,this.words[D]=67108863&m,_=m>>>26;if(this.length=y.length,_!==0)this.words[this.length]=_,this.length++;else if(y!==this)for(;D<y.length;D++)this.words[D]=y.words[D];return this},s.prototype.add=function(l){var m;return l.negative!==0&&this.negative===0?(l.negative=0,m=this.sub(l),l.negative^=1,m):l.negative===0&&this.negative!==0?(this.negative=0,m=l.sub(this),this.negative=1,m):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},s.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var m=this.iadd(l);return l.negative=1,m._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var y,b,_=this.cmp(l);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;_>0?(y=this,b=l):(y=l,b=this);for(var D=0,N=0;N<b.length;N++)D=(m=(0|y.words[N])-(0|b.words[N])+D)>>26,this.words[N]=67108863&m;for(;D!==0&&N<y.length;N++)D=(m=(0|y.words[N])+D)>>26,this.words[N]=67108863&m;if(D===0&&N<y.length&&y!==this)for(;N<y.length;N++)this.words[N]=y.words[N];return this.length=Math.max(this.length,N),y!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(l){return this.clone().isub(l)};var d=function(l,m,y){var b,_,D,N=l.words,W=m.words,tt=y.words,w=0,I=0|N[0],J=8191&I,Q=I>>>13,nt=0|N[1],ht=8191&nt,lt=nt>>>13,ut=0|N[2],z=8191&ut,H=ut>>>13,F=0|N[3],P=8191&F,G=F>>>13,k=0|N[4],T=8191&k,K=k>>>13,x=0|N[5],E=8191&x,M=x>>>13,L=0|N[6],Z=8191&L,X=L>>>13,it=0|N[7],pt=8191&it,bt=it>>>13,_t=0|N[8],et=8191&_t,rt=_t>>>13,ot=0|N[9],st=8191&ot,at=ot>>>13,ct=0|W[0],$=8191&ct,j=ct>>>13,wt=0|W[1],gt=8191&wt,Dt=wt>>>13,ie=0|W[2],zt=8191&ie,Bt=ie>>>13,pe=0|W[3],Zt=8191&pe,ee=pe>>>13,Te=0|W[4],Nt=8191&Te,Ft=Te>>>13,se=0|W[5],Ut=8191&se,Ht=se>>>13,fe=0|W[6],qt=8191&fe,mt=fe>>>13,yt=0|W[7],vt=8191&yt,xt=yt>>>13,Kt=0|W[8],Ot=8191&Kt,It=Kt>>>13,ce=0|W[9],Gt=8191&ce,le=ce>>>13;y.negative=l.negative^m.negative,y.length=19;var er=(w+(b=Math.imul(J,$))|0)+((8191&(_=(_=Math.imul(J,j))+Math.imul(Q,$)|0))<<13)|0;w=((D=Math.imul(Q,j))+(_>>>13)|0)+(er>>>26)|0,er&=67108863,b=Math.imul(ht,$),_=(_=Math.imul(ht,j))+Math.imul(lt,$)|0,D=Math.imul(lt,j);var rr=(w+(b=b+Math.imul(J,gt)|0)|0)+((8191&(_=(_=_+Math.imul(J,Dt)|0)+Math.imul(Q,gt)|0))<<13)|0;w=((D=D+Math.imul(Q,Dt)|0)+(_>>>13)|0)+(rr>>>26)|0,rr&=67108863,b=Math.imul(z,$),_=(_=Math.imul(z,j))+Math.imul(H,$)|0,D=Math.imul(H,j),b=b+Math.imul(ht,gt)|0,_=(_=_+Math.imul(ht,Dt)|0)+Math.imul(lt,gt)|0,D=D+Math.imul(lt,Dt)|0;var lr=(w+(b=b+Math.imul(J,zt)|0)|0)+((8191&(_=(_=_+Math.imul(J,Bt)|0)+Math.imul(Q,zt)|0))<<13)|0;w=((D=D+Math.imul(Q,Bt)|0)+(_>>>13)|0)+(lr>>>26)|0,lr&=67108863,b=Math.imul(P,$),_=(_=Math.imul(P,j))+Math.imul(G,$)|0,D=Math.imul(G,j),b=b+Math.imul(z,gt)|0,_=(_=_+Math.imul(z,Dt)|0)+Math.imul(H,gt)|0,D=D+Math.imul(H,Dt)|0,b=b+Math.imul(ht,zt)|0,_=(_=_+Math.imul(ht,Bt)|0)+Math.imul(lt,zt)|0,D=D+Math.imul(lt,Bt)|0;var Hr=(w+(b=b+Math.imul(J,Zt)|0)|0)+((8191&(_=(_=_+Math.imul(J,ee)|0)+Math.imul(Q,Zt)|0))<<13)|0;w=((D=D+Math.imul(Q,ee)|0)+(_>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,b=Math.imul(T,$),_=(_=Math.imul(T,j))+Math.imul(K,$)|0,D=Math.imul(K,j),b=b+Math.imul(P,gt)|0,_=(_=_+Math.imul(P,Dt)|0)+Math.imul(G,gt)|0,D=D+Math.imul(G,Dt)|0,b=b+Math.imul(z,zt)|0,_=(_=_+Math.imul(z,Bt)|0)+Math.imul(H,zt)|0,D=D+Math.imul(H,Bt)|0,b=b+Math.imul(ht,Zt)|0,_=(_=_+Math.imul(ht,ee)|0)+Math.imul(lt,Zt)|0,D=D+Math.imul(lt,ee)|0;var Gr=(w+(b=b+Math.imul(J,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(J,Ft)|0)+Math.imul(Q,Nt)|0))<<13)|0;w=((D=D+Math.imul(Q,Ft)|0)+(_>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,b=Math.imul(E,$),_=(_=Math.imul(E,j))+Math.imul(M,$)|0,D=Math.imul(M,j),b=b+Math.imul(T,gt)|0,_=(_=_+Math.imul(T,Dt)|0)+Math.imul(K,gt)|0,D=D+Math.imul(K,Dt)|0,b=b+Math.imul(P,zt)|0,_=(_=_+Math.imul(P,Bt)|0)+Math.imul(G,zt)|0,D=D+Math.imul(G,Bt)|0,b=b+Math.imul(z,Zt)|0,_=(_=_+Math.imul(z,ee)|0)+Math.imul(H,Zt)|0,D=D+Math.imul(H,ee)|0,b=b+Math.imul(ht,Nt)|0,_=(_=_+Math.imul(ht,Ft)|0)+Math.imul(lt,Nt)|0,D=D+Math.imul(lt,Ft)|0;var Vr=(w+(b=b+Math.imul(J,Ut)|0)|0)+((8191&(_=(_=_+Math.imul(J,Ht)|0)+Math.imul(Q,Ut)|0))<<13)|0;w=((D=D+Math.imul(Q,Ht)|0)+(_>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,b=Math.imul(Z,$),_=(_=Math.imul(Z,j))+Math.imul(X,$)|0,D=Math.imul(X,j),b=b+Math.imul(E,gt)|0,_=(_=_+Math.imul(E,Dt)|0)+Math.imul(M,gt)|0,D=D+Math.imul(M,Dt)|0,b=b+Math.imul(T,zt)|0,_=(_=_+Math.imul(T,Bt)|0)+Math.imul(K,zt)|0,D=D+Math.imul(K,Bt)|0,b=b+Math.imul(P,Zt)|0,_=(_=_+Math.imul(P,ee)|0)+Math.imul(G,Zt)|0,D=D+Math.imul(G,ee)|0,b=b+Math.imul(z,Nt)|0,_=(_=_+Math.imul(z,Ft)|0)+Math.imul(H,Nt)|0,D=D+Math.imul(H,Ft)|0,b=b+Math.imul(ht,Ut)|0,_=(_=_+Math.imul(ht,Ht)|0)+Math.imul(lt,Ut)|0,D=D+Math.imul(lt,Ht)|0;var Yr=(w+(b=b+Math.imul(J,qt)|0)|0)+((8191&(_=(_=_+Math.imul(J,mt)|0)+Math.imul(Q,qt)|0))<<13)|0;w=((D=D+Math.imul(Q,mt)|0)+(_>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,b=Math.imul(pt,$),_=(_=Math.imul(pt,j))+Math.imul(bt,$)|0,D=Math.imul(bt,j),b=b+Math.imul(Z,gt)|0,_=(_=_+Math.imul(Z,Dt)|0)+Math.imul(X,gt)|0,D=D+Math.imul(X,Dt)|0,b=b+Math.imul(E,zt)|0,_=(_=_+Math.imul(E,Bt)|0)+Math.imul(M,zt)|0,D=D+Math.imul(M,Bt)|0,b=b+Math.imul(T,Zt)|0,_=(_=_+Math.imul(T,ee)|0)+Math.imul(K,Zt)|0,D=D+Math.imul(K,ee)|0,b=b+Math.imul(P,Nt)|0,_=(_=_+Math.imul(P,Ft)|0)+Math.imul(G,Nt)|0,D=D+Math.imul(G,Ft)|0,b=b+Math.imul(z,Ut)|0,_=(_=_+Math.imul(z,Ht)|0)+Math.imul(H,Ut)|0,D=D+Math.imul(H,Ht)|0,b=b+Math.imul(ht,qt)|0,_=(_=_+Math.imul(ht,mt)|0)+Math.imul(lt,qt)|0,D=D+Math.imul(lt,mt)|0;var Jr=(w+(b=b+Math.imul(J,vt)|0)|0)+((8191&(_=(_=_+Math.imul(J,xt)|0)+Math.imul(Q,vt)|0))<<13)|0;w=((D=D+Math.imul(Q,xt)|0)+(_>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,b=Math.imul(et,$),_=(_=Math.imul(et,j))+Math.imul(rt,$)|0,D=Math.imul(rt,j),b=b+Math.imul(pt,gt)|0,_=(_=_+Math.imul(pt,Dt)|0)+Math.imul(bt,gt)|0,D=D+Math.imul(bt,Dt)|0,b=b+Math.imul(Z,zt)|0,_=(_=_+Math.imul(Z,Bt)|0)+Math.imul(X,zt)|0,D=D+Math.imul(X,Bt)|0,b=b+Math.imul(E,Zt)|0,_=(_=_+Math.imul(E,ee)|0)+Math.imul(M,Zt)|0,D=D+Math.imul(M,ee)|0,b=b+Math.imul(T,Nt)|0,_=(_=_+Math.imul(T,Ft)|0)+Math.imul(K,Nt)|0,D=D+Math.imul(K,Ft)|0,b=b+Math.imul(P,Ut)|0,_=(_=_+Math.imul(P,Ht)|0)+Math.imul(G,Ut)|0,D=D+Math.imul(G,Ht)|0,b=b+Math.imul(z,qt)|0,_=(_=_+Math.imul(z,mt)|0)+Math.imul(H,qt)|0,D=D+Math.imul(H,mt)|0,b=b+Math.imul(ht,vt)|0,_=(_=_+Math.imul(ht,xt)|0)+Math.imul(lt,vt)|0,D=D+Math.imul(lt,xt)|0;var Xr=(w+(b=b+Math.imul(J,Ot)|0)|0)+((8191&(_=(_=_+Math.imul(J,It)|0)+Math.imul(Q,Ot)|0))<<13)|0;w=((D=D+Math.imul(Q,It)|0)+(_>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,b=Math.imul(st,$),_=(_=Math.imul(st,j))+Math.imul(at,$)|0,D=Math.imul(at,j),b=b+Math.imul(et,gt)|0,_=(_=_+Math.imul(et,Dt)|0)+Math.imul(rt,gt)|0,D=D+Math.imul(rt,Dt)|0,b=b+Math.imul(pt,zt)|0,_=(_=_+Math.imul(pt,Bt)|0)+Math.imul(bt,zt)|0,D=D+Math.imul(bt,Bt)|0,b=b+Math.imul(Z,Zt)|0,_=(_=_+Math.imul(Z,ee)|0)+Math.imul(X,Zt)|0,D=D+Math.imul(X,ee)|0,b=b+Math.imul(E,Nt)|0,_=(_=_+Math.imul(E,Ft)|0)+Math.imul(M,Nt)|0,D=D+Math.imul(M,Ft)|0,b=b+Math.imul(T,Ut)|0,_=(_=_+Math.imul(T,Ht)|0)+Math.imul(K,Ut)|0,D=D+Math.imul(K,Ht)|0,b=b+Math.imul(P,qt)|0,_=(_=_+Math.imul(P,mt)|0)+Math.imul(G,qt)|0,D=D+Math.imul(G,mt)|0,b=b+Math.imul(z,vt)|0,_=(_=_+Math.imul(z,xt)|0)+Math.imul(H,vt)|0,D=D+Math.imul(H,xt)|0,b=b+Math.imul(ht,Ot)|0,_=(_=_+Math.imul(ht,It)|0)+Math.imul(lt,Ot)|0,D=D+Math.imul(lt,It)|0;var Zr=(w+(b=b+Math.imul(J,Gt)|0)|0)+((8191&(_=(_=_+Math.imul(J,le)|0)+Math.imul(Q,Gt)|0))<<13)|0;w=((D=D+Math.imul(Q,le)|0)+(_>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,b=Math.imul(st,gt),_=(_=Math.imul(st,Dt))+Math.imul(at,gt)|0,D=Math.imul(at,Dt),b=b+Math.imul(et,zt)|0,_=(_=_+Math.imul(et,Bt)|0)+Math.imul(rt,zt)|0,D=D+Math.imul(rt,Bt)|0,b=b+Math.imul(pt,Zt)|0,_=(_=_+Math.imul(pt,ee)|0)+Math.imul(bt,Zt)|0,D=D+Math.imul(bt,ee)|0,b=b+Math.imul(Z,Nt)|0,_=(_=_+Math.imul(Z,Ft)|0)+Math.imul(X,Nt)|0,D=D+Math.imul(X,Ft)|0,b=b+Math.imul(E,Ut)|0,_=(_=_+Math.imul(E,Ht)|0)+Math.imul(M,Ut)|0,D=D+Math.imul(M,Ht)|0,b=b+Math.imul(T,qt)|0,_=(_=_+Math.imul(T,mt)|0)+Math.imul(K,qt)|0,D=D+Math.imul(K,mt)|0,b=b+Math.imul(P,vt)|0,_=(_=_+Math.imul(P,xt)|0)+Math.imul(G,vt)|0,D=D+Math.imul(G,xt)|0,b=b+Math.imul(z,Ot)|0,_=(_=_+Math.imul(z,It)|0)+Math.imul(H,Ot)|0,D=D+Math.imul(H,It)|0;var Tn=(w+(b=b+Math.imul(ht,Gt)|0)|0)+((8191&(_=(_=_+Math.imul(ht,le)|0)+Math.imul(lt,Gt)|0))<<13)|0;w=((D=D+Math.imul(lt,le)|0)+(_>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,b=Math.imul(st,zt),_=(_=Math.imul(st,Bt))+Math.imul(at,zt)|0,D=Math.imul(at,Bt),b=b+Math.imul(et,Zt)|0,_=(_=_+Math.imul(et,ee)|0)+Math.imul(rt,Zt)|0,D=D+Math.imul(rt,ee)|0,b=b+Math.imul(pt,Nt)|0,_=(_=_+Math.imul(pt,Ft)|0)+Math.imul(bt,Nt)|0,D=D+Math.imul(bt,Ft)|0,b=b+Math.imul(Z,Ut)|0,_=(_=_+Math.imul(Z,Ht)|0)+Math.imul(X,Ut)|0,D=D+Math.imul(X,Ht)|0,b=b+Math.imul(E,qt)|0,_=(_=_+Math.imul(E,mt)|0)+Math.imul(M,qt)|0,D=D+Math.imul(M,mt)|0,b=b+Math.imul(T,vt)|0,_=(_=_+Math.imul(T,xt)|0)+Math.imul(K,vt)|0,D=D+Math.imul(K,xt)|0,b=b+Math.imul(P,Ot)|0,_=(_=_+Math.imul(P,It)|0)+Math.imul(G,Ot)|0,D=D+Math.imul(G,It)|0;var Cn=(w+(b=b+Math.imul(z,Gt)|0)|0)+((8191&(_=(_=_+Math.imul(z,le)|0)+Math.imul(H,Gt)|0))<<13)|0;w=((D=D+Math.imul(H,le)|0)+(_>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,b=Math.imul(st,Zt),_=(_=Math.imul(st,ee))+Math.imul(at,Zt)|0,D=Math.imul(at,ee),b=b+Math.imul(et,Nt)|0,_=(_=_+Math.imul(et,Ft)|0)+Math.imul(rt,Nt)|0,D=D+Math.imul(rt,Ft)|0,b=b+Math.imul(pt,Ut)|0,_=(_=_+Math.imul(pt,Ht)|0)+Math.imul(bt,Ut)|0,D=D+Math.imul(bt,Ht)|0,b=b+Math.imul(Z,qt)|0,_=(_=_+Math.imul(Z,mt)|0)+Math.imul(X,qt)|0,D=D+Math.imul(X,mt)|0,b=b+Math.imul(E,vt)|0,_=(_=_+Math.imul(E,xt)|0)+Math.imul(M,vt)|0,D=D+Math.imul(M,xt)|0,b=b+Math.imul(T,Ot)|0,_=(_=_+Math.imul(T,It)|0)+Math.imul(K,Ot)|0,D=D+Math.imul(K,It)|0;var Jn=(w+(b=b+Math.imul(P,Gt)|0)|0)+((8191&(_=(_=_+Math.imul(P,le)|0)+Math.imul(G,Gt)|0))<<13)|0;w=((D=D+Math.imul(G,le)|0)+(_>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,b=Math.imul(st,Nt),_=(_=Math.imul(st,Ft))+Math.imul(at,Nt)|0,D=Math.imul(at,Ft),b=b+Math.imul(et,Ut)|0,_=(_=_+Math.imul(et,Ht)|0)+Math.imul(rt,Ut)|0,D=D+Math.imul(rt,Ht)|0,b=b+Math.imul(pt,qt)|0,_=(_=_+Math.imul(pt,mt)|0)+Math.imul(bt,qt)|0,D=D+Math.imul(bt,mt)|0,b=b+Math.imul(Z,vt)|0,_=(_=_+Math.imul(Z,xt)|0)+Math.imul(X,vt)|0,D=D+Math.imul(X,xt)|0,b=b+Math.imul(E,Ot)|0,_=(_=_+Math.imul(E,It)|0)+Math.imul(M,Ot)|0,D=D+Math.imul(M,It)|0;var Xn=(w+(b=b+Math.imul(T,Gt)|0)|0)+((8191&(_=(_=_+Math.imul(T,le)|0)+Math.imul(K,Gt)|0))<<13)|0;w=((D=D+Math.imul(K,le)|0)+(_>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,b=Math.imul(st,Ut),_=(_=Math.imul(st,Ht))+Math.imul(at,Ut)|0,D=Math.imul(at,Ht),b=b+Math.imul(et,qt)|0,_=(_=_+Math.imul(et,mt)|0)+Math.imul(rt,qt)|0,D=D+Math.imul(rt,mt)|0,b=b+Math.imul(pt,vt)|0,_=(_=_+Math.imul(pt,xt)|0)+Math.imul(bt,vt)|0,D=D+Math.imul(bt,xt)|0,b=b+Math.imul(Z,Ot)|0,_=(_=_+Math.imul(Z,It)|0)+Math.imul(X,Ot)|0,D=D+Math.imul(X,It)|0;var Zn=(w+(b=b+Math.imul(E,Gt)|0)|0)+((8191&(_=(_=_+Math.imul(E,le)|0)+Math.imul(M,Gt)|0))<<13)|0;w=((D=D+Math.imul(M,le)|0)+(_>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,b=Math.imul(st,qt),_=(_=Math.imul(st,mt))+Math.imul(at,qt)|0,D=Math.imul(at,mt),b=b+Math.imul(et,vt)|0,_=(_=_+Math.imul(et,xt)|0)+Math.imul(rt,vt)|0,D=D+Math.imul(rt,xt)|0,b=b+Math.imul(pt,Ot)|0,_=(_=_+Math.imul(pt,It)|0)+Math.imul(bt,Ot)|0,D=D+Math.imul(bt,It)|0;var Qn=(w+(b=b+Math.imul(Z,Gt)|0)|0)+((8191&(_=(_=_+Math.imul(Z,le)|0)+Math.imul(X,Gt)|0))<<13)|0;w=((D=D+Math.imul(X,le)|0)+(_>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,b=Math.imul(st,vt),_=(_=Math.imul(st,xt))+Math.imul(at,vt)|0,D=Math.imul(at,xt),b=b+Math.imul(et,Ot)|0,_=(_=_+Math.imul(et,It)|0)+Math.imul(rt,Ot)|0,D=D+Math.imul(rt,It)|0;var ti=(w+(b=b+Math.imul(pt,Gt)|0)|0)+((8191&(_=(_=_+Math.imul(pt,le)|0)+Math.imul(bt,Gt)|0))<<13)|0;w=((D=D+Math.imul(bt,le)|0)+(_>>>13)|0)+(ti>>>26)|0,ti&=67108863,b=Math.imul(st,Ot),_=(_=Math.imul(st,It))+Math.imul(at,Ot)|0,D=Math.imul(at,It);var ei=(w+(b=b+Math.imul(et,Gt)|0)|0)+((8191&(_=(_=_+Math.imul(et,le)|0)+Math.imul(rt,Gt)|0))<<13)|0;w=((D=D+Math.imul(rt,le)|0)+(_>>>13)|0)+(ei>>>26)|0,ei&=67108863;var Ii=(w+(b=Math.imul(st,Gt))|0)+((8191&(_=(_=Math.imul(st,le))+Math.imul(at,Gt)|0))<<13)|0;return w=((D=Math.imul(at,le))+(_>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,tt[0]=er,tt[1]=rr,tt[2]=lr,tt[3]=Hr,tt[4]=Gr,tt[5]=Vr,tt[6]=Yr,tt[7]=Jr,tt[8]=Xr,tt[9]=Zr,tt[10]=Tn,tt[11]=Cn,tt[12]=Jn,tt[13]=Xn,tt[14]=Zn,tt[15]=Qn,tt[16]=ti,tt[17]=ei,tt[18]=Ii,w!==0&&(tt[19]=w,y.length++),y};function v(l,m,y){return new A().mulp(l,m,y)}function A(l,m){this.x=l,this.y=m}Math.imul||(d=p),s.prototype.mulTo=function(l,m){var y=this.length+l.length;return this.length===10&&l.length===10?d(this,l,m):y<63?p(this,l,m):y<1024?function(b,_,D){D.negative=_.negative^b.negative,D.length=b.length+_.length;for(var N=0,W=0,tt=0;tt<D.length-1;tt++){var w=W;W=0;for(var I=67108863&N,J=Math.min(tt,_.length-1),Q=Math.max(0,tt-b.length+1);Q<=J;Q++){var nt=tt-Q,ht=(0|b.words[nt])*(0|_.words[Q]),lt=67108863&ht;I=67108863&(lt=lt+I|0),W+=(w=(w=w+(ht/67108864|0)|0)+(lt>>>26)|0)>>>26,w&=67108863}D.words[tt]=I,N=w,w=W}return N!==0?D.words[tt]=N:D.length--,D.strip()}(this,l,m):v(this,l,m)},A.prototype.makeRBT=function(l){for(var m=Array(l),y=s.prototype._countBits(l)-1,b=0;b<l;b++)m[b]=this.revBin(b,y,l);return m},A.prototype.revBin=function(l,m,y){if(l===0||l===y-1)return l;for(var b=0,_=0;_<m;_++)b|=(1&l)<<m-_-1,l>>=1;return b},A.prototype.permute=function(l,m,y,b,_,D){for(var N=0;N<D;N++)b[N]=m[l[N]],_[N]=y[l[N]]},A.prototype.transform=function(l,m,y,b,_,D){this.permute(D,l,m,y,b,_);for(var N=1;N<_;N<<=1)for(var W=N<<1,tt=Math.cos(2*Math.PI/W),w=Math.sin(2*Math.PI/W),I=0;I<_;I+=W)for(var J=tt,Q=w,nt=0;nt<N;nt++){var ht=y[I+nt],lt=b[I+nt],ut=y[I+nt+N],z=b[I+nt+N],H=J*ut-Q*z;z=J*z+Q*ut,ut=H,y[I+nt]=ht+ut,b[I+nt]=lt+z,y[I+nt+N]=ht-ut,b[I+nt+N]=lt-z,nt!==W&&(H=tt*J-w*Q,Q=tt*Q+w*J,J=H)}},A.prototype.guessLen13b=function(l,m){var y=1|Math.max(m,l),b=1&y,_=0;for(y=y/2|0;y;y>>>=1)_++;return 1<<_+1+b},A.prototype.conjugate=function(l,m,y){if(!(y<=1))for(var b=0;b<y/2;b++){var _=l[b];l[b]=l[y-b-1],l[y-b-1]=_,_=m[b],m[b]=-m[y-b-1],m[y-b-1]=-_}},A.prototype.normalize13b=function(l,m){for(var y=0,b=0;b<m/2;b++){var _=8192*Math.round(l[2*b+1]/m)+Math.round(l[2*b]/m)+y;l[b]=67108863&_,y=_<67108864?0:_/67108864|0}return l},A.prototype.convert13b=function(l,m,y,b){for(var _=0,D=0;D<m;D++)_+=0|l[D],y[2*D]=8191&_,_>>>=13,y[2*D+1]=8191&_,_>>>=13;for(D=2*m;D<b;++D)y[D]=0;n(_===0),n((-8192&_)==0)},A.prototype.stub=function(l){for(var m=Array(l),y=0;y<l;y++)m[y]=0;return m},A.prototype.mulp=function(l,m,y){var b=2*this.guessLen13b(l.length,m.length),_=this.makeRBT(b),D=this.stub(b),N=Array(b),W=Array(b),tt=Array(b),w=Array(b),I=Array(b),J=Array(b),Q=y.words;Q.length=b,this.convert13b(l.words,l.length,N,b),this.convert13b(m.words,m.length,w,b),this.transform(N,D,W,tt,b,_),this.transform(w,D,I,J,b,_);for(var nt=0;nt<b;nt++){var ht=W[nt]*I[nt]-tt[nt]*J[nt];tt[nt]=W[nt]*J[nt]+tt[nt]*I[nt],W[nt]=ht}return this.conjugate(W,tt,b),this.transform(W,tt,Q,D,b,_),this.conjugate(Q,D,b),this.normalize13b(Q,b),y.negative=l.negative^m.negative,y.length=l.length+m.length,y.strip()},s.prototype.mul=function(l){var m=new s(null);return m.words=Array(this.length+l.length),this.mulTo(l,m)},s.prototype.mulf=function(l){var m=new s(null);return m.words=Array(this.length+l.length),v(this,l,m)},s.prototype.imul=function(l){return this.clone().mulTo(l,this)},s.prototype.imuln=function(l){n(typeof l=="number"),n(l<67108864);for(var m=0,y=0;y<this.length;y++){var b=(0|this.words[y])*l,_=(67108863&b)+(67108863&m);m>>=26,m+=b/67108864|0,m+=_>>>26,this.words[y]=67108863&_}return m!==0&&(this.words[y]=m,this.length++),this},s.prototype.muln=function(l){return this.clone().imuln(l)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(l){var m=function(D){for(var N=Array(D.bitLength()),W=0;W<N.length;W++){var tt=W/26|0,w=W%26;N[W]=(D.words[tt]&1<<w)>>>w}return N}(l);if(m.length===0)return new s(1);for(var y=this,b=0;b<m.length&&m[b]===0;b++,y=y.sqr());if(++b<m.length)for(var _=y.sqr();b<m.length;b++,_=_.sqr())m[b]!==0&&(y=y.mul(_));return y},s.prototype.iushln=function(l){n(typeof l=="number"&&l>=0);var m,y=l%26,b=(l-y)/26,_=67108863>>>26-y<<26-y;if(y!==0){var D=0;for(m=0;m<this.length;m++){var N=this.words[m]&_,W=(0|this.words[m])-N<<y;this.words[m]=W|D,D=N>>>26-y}D&&(this.words[m]=D,this.length++)}if(b!==0){for(m=this.length-1;m>=0;m--)this.words[m+b]=this.words[m];for(m=0;m<b;m++)this.words[m]=0;this.length+=b}return this.strip()},s.prototype.ishln=function(l){return n(this.negative===0),this.iushln(l)},s.prototype.iushrn=function(l,m,y){var b;n(typeof l=="number"&&l>=0),b=m?(m-m%26)/26:0;var _=l%26,D=Math.min((l-_)/26,this.length),N=67108863^67108863>>>_<<_,W=y;if(b=Math.max(0,b-=D),W){for(var tt=0;tt<D;tt++)W.words[tt]=this.words[tt];W.length=D}if(D!==0)if(this.length>D)for(this.length-=D,tt=0;tt<this.length;tt++)this.words[tt]=this.words[tt+D];else this.words[0]=0,this.length=1;var w=0;for(tt=this.length-1;tt>=0&&(w!==0||tt>=b);tt--){var I=0|this.words[tt];this.words[tt]=w<<26-_|I>>>_,w=I&N}return W&&w!==0&&(W.words[W.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(l,m,y){return n(this.negative===0),this.iushrn(l,m,y)},s.prototype.shln=function(l){return this.clone().ishln(l)},s.prototype.ushln=function(l){return this.clone().iushln(l)},s.prototype.shrn=function(l){return this.clone().ishrn(l)},s.prototype.ushrn=function(l){return this.clone().iushrn(l)},s.prototype.testn=function(l){n(typeof l=="number"&&l>=0);var m=l%26,y=(l-m)/26,b=1<<m;return!(this.length<=y)&&!!(this.words[y]&b)},s.prototype.imaskn=function(l){n(typeof l=="number"&&l>=0);var m=l%26,y=(l-m)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(m!==0&&y++,this.length=Math.min(y,this.length),m!==0){var b=67108863^67108863>>>m<<m;this.words[this.length-1]&=b}return this.strip()},s.prototype.maskn=function(l){return this.clone().imaskn(l)},s.prototype.iaddn=function(l){return n(typeof l=="number"),n(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(0|this.words[0])<l?(this.words[0]=l-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},s.prototype._iaddn=function(l){this.words[0]+=l;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},s.prototype.isubn=function(l){if(n(typeof l=="number"),n(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},s.prototype.addn=function(l){return this.clone().iaddn(l)},s.prototype.subn=function(l){return this.clone().isubn(l)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(l,m,y){var b,_,D=l.length+y;this._expand(D);var N=0;for(b=0;b<l.length;b++){_=(0|this.words[b+y])+N;var W=(0|l.words[b])*m;N=((_-=67108863&W)>>26)-(W/67108864|0),this.words[b+y]=67108863&_}for(;b<this.length-y;b++)N=(_=(0|this.words[b+y])+N)>>26,this.words[b+y]=67108863&_;if(N===0)return this.strip();for(n(N===-1),N=0,b=0;b<this.length;b++)N=(_=-(0|this.words[b])+N)>>26,this.words[b]=67108863&_;return this.negative=1,this.strip()},s.prototype._wordDiv=function(l,m){var y=(this.length,l.length),b=this.clone(),_=l,D=0|_.words[_.length-1];(y=26-this._countBits(D))!==0&&(_=_.ushln(y),b.iushln(y),D=0|_.words[_.length-1]);var N,W=b.length-_.length;if(m!=="mod"){(N=new s(null)).length=W+1,N.words=Array(N.length);for(var tt=0;tt<N.length;tt++)N.words[tt]=0}var w=b.clone()._ishlnsubmul(_,1,W);w.negative===0&&(b=w,N&&(N.words[W]=1));for(var I=W-1;I>=0;I--){var J=67108864*(0|b.words[_.length+I])+(0|b.words[_.length+I-1]);for(J=Math.min(J/D|0,67108863),b._ishlnsubmul(_,J,I);b.negative!==0;)J--,b.negative=0,b._ishlnsubmul(_,1,I),b.isZero()||(b.negative^=1);N&&(N.words[I]=J)}return N&&N.strip(),b.strip(),m!=="div"&&y!==0&&b.iushrn(y),{div:N||null,mod:b}},s.prototype.divmod=function(l,m,y){return n(!l.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:this.negative!==0&&l.negative===0?(D=this.neg().divmod(l,m),m!=="mod"&&(b=D.div.neg()),m!=="div"&&(_=D.mod.neg(),y&&_.negative!==0&&_.iadd(l)),{div:b,mod:_}):this.negative===0&&l.negative!==0?(D=this.divmod(l.neg(),m),m!=="mod"&&(b=D.div.neg()),{div:b,mod:D.mod}):(this.negative&l.negative)!=0?(D=this.neg().divmod(l.neg(),m),m!=="div"&&(_=D.mod.neg(),y&&_.negative!==0&&_.isub(l)),{div:D.div,mod:_}):l.length>this.length||this.cmp(l)<0?{div:new s(0),mod:this}:l.length===1?m==="div"?{div:this.divn(l.words[0]),mod:null}:m==="mod"?{div:null,mod:new s(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new s(this.modn(l.words[0]))}:this._wordDiv(l,m);var b,_,D},s.prototype.div=function(l){return this.divmod(l,"div",!1).div},s.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},s.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},s.prototype.divRound=function(l){var m=this.divmod(l);if(m.mod.isZero())return m.div;var y=m.div.negative!==0?m.mod.isub(l):m.mod,b=l.ushrn(1),_=l.andln(1),D=y.cmp(b);return D<0||_===1&&D===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},s.prototype.modn=function(l){n(l<=67108863);for(var m=(1<<26)%l,y=0,b=this.length-1;b>=0;b--)y=(m*y+(0|this.words[b]))%l;return y},s.prototype.idivn=function(l){n(l<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var b=(0|this.words[y])+67108864*m;this.words[y]=b/l|0,m=b%l}return this.strip()},s.prototype.divn=function(l){return this.clone().idivn(l)},s.prototype.egcd=function(l){n(l.negative===0),n(!l.isZero());var m=this,y=l.clone();m=m.negative!==0?m.umod(l):m.clone();for(var b=new s(1),_=new s(0),D=new s(0),N=new s(1),W=0;m.isEven()&&y.isEven();)m.iushrn(1),y.iushrn(1),++W;for(var tt=y.clone(),w=m.clone();!m.isZero();){for(var I=0,J=1;(m.words[0]&J)==0&&I<26;++I,J<<=1);if(I>0)for(m.iushrn(I);I-- >0;)(b.isOdd()||_.isOdd())&&(b.iadd(tt),_.isub(w)),b.iushrn(1),_.iushrn(1);for(var Q=0,nt=1;(y.words[0]&nt)==0&&Q<26;++Q,nt<<=1);if(Q>0)for(y.iushrn(Q);Q-- >0;)(D.isOdd()||N.isOdd())&&(D.iadd(tt),N.isub(w)),D.iushrn(1),N.iushrn(1);m.cmp(y)>=0?(m.isub(y),b.isub(D),_.isub(N)):(y.isub(m),D.isub(b),N.isub(_))}return{a:D,b:N,gcd:y.iushln(W)}},s.prototype._invmp=function(l){n(l.negative===0),n(!l.isZero());var m=this,y=l.clone();m=m.negative!==0?m.umod(l):m.clone();for(var b,_=new s(1),D=new s(0),N=y.clone();m.cmpn(1)>0&&y.cmpn(1)>0;){for(var W=0,tt=1;(m.words[0]&tt)==0&&W<26;++W,tt<<=1);if(W>0)for(m.iushrn(W);W-- >0;)_.isOdd()&&_.iadd(N),_.iushrn(1);for(var w=0,I=1;(y.words[0]&I)==0&&w<26;++w,I<<=1);if(w>0)for(y.iushrn(w);w-- >0;)D.isOdd()&&D.iadd(N),D.iushrn(1);m.cmp(y)>=0?(m.isub(y),_.isub(D)):(y.isub(m),D.isub(_))}return(b=m.cmpn(1)===0?_:D).cmpn(0)<0&&b.iadd(l),b},s.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var m=this.clone(),y=l.clone();m.negative=0,y.negative=0;for(var b=0;m.isEven()&&y.isEven();b++)m.iushrn(1),y.iushrn(1);for(;;){for(;m.isEven();)m.iushrn(1);for(;y.isEven();)y.iushrn(1);var _=m.cmp(y);if(_<0){var D=m;m=y,y=D}else if(_===0||y.cmpn(1)===0)break;m.isub(y)}return y.iushln(b)},s.prototype.invm=function(l){return this.egcd(l).a.umod(l)},s.prototype.isEven=function(){return(1&this.words[0])==0},s.prototype.isOdd=function(){return(1&this.words[0])==1},s.prototype.andln=function(l){return this.words[0]&l},s.prototype.bincn=function(l){n(typeof l=="number");var m=l%26,y=(l-m)/26,b=1<<m;if(this.length<=y)return this._expand(y+1),this.words[y]|=b,this;for(var _=b,D=y;_!==0&&D<this.length;D++){var N=0|this.words[D];_=(N+=_)>>>26,N&=67108863,this.words[D]=N}return _!==0&&(this.words[D]=_,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(l){var m,y=l<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;if(this.strip(),this.length>1)m=1;else{y&&(l=-l),n(l<=67108863,"Number is too big");var b=0|this.words[0];m=b===l?0:b<l?-1:1}return this.negative!==0?0|-m:m},s.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var m=this.ucmp(l);return this.negative!==0?0|-m:m},s.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var m=0,y=this.length-1;y>=0;y--){var b=0|this.words[y],_=0|l.words[y];if(b!==_){b<_?m=-1:b>_&&(m=1);break}}return m},s.prototype.gtn=function(l){return this.cmpn(l)===1},s.prototype.gt=function(l){return this.cmp(l)===1},s.prototype.gten=function(l){return this.cmpn(l)>=0},s.prototype.gte=function(l){return this.cmp(l)>=0},s.prototype.ltn=function(l){return this.cmpn(l)===-1},s.prototype.lt=function(l){return this.cmp(l)===-1},s.prototype.lten=function(l){return this.cmpn(l)<=0},s.prototype.lte=function(l){return this.cmp(l)<=0},s.prototype.eqn=function(l){return this.cmpn(l)===0},s.prototype.eq=function(l){return this.cmp(l)===0},s.red=function(l){return new g(l)},s.prototype.toRed=function(l){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(l){return this.red=l,this},s.prototype.forceRed=function(l){return n(!this.red,"Already a number in reduction context"),this._forceRed(l)},s.prototype.redAdd=function(l){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},s.prototype.redIAdd=function(l){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},s.prototype.redSub=function(l){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},s.prototype.redISub=function(l){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},s.prototype.redShl=function(l){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},s.prototype.redMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},s.prototype.redIMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(l){return n(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var S={k256:null,p224:null,p192:null,p25519:null};function C(l,m){this.name=l,this.p=new s(m,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function B(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function U(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function q(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function g(l){if(typeof l=="string"){var m=s._prime(l);this.m=m.p,this.prime=m}else n(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}function R(l){g.call(this,l),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}C.prototype._tmp=function(){var l=new s(null);return l.words=Array(Math.ceil(this.n/13)),l},C.prototype.ireduce=function(l){var m,y=l;do this.split(y,this.tmp),m=(y=(y=this.imulK(y)).iadd(this.tmp)).bitLength();while(m>this.n);var b=m<this.n?-1:y.ucmp(this.p);return b===0?(y.words[0]=0,y.length=1):b>0?y.isub(this.p):y.strip(),y},C.prototype.split=function(l,m){l.iushrn(this.n,0,m)},C.prototype.imulK=function(l){return l.imul(this.k)},i(B,C),B.prototype.split=function(l,m){for(var y=4194303,b=Math.min(l.length,9),_=0;_<b;_++)m.words[_]=l.words[_];if(m.length=b,l.length<=9)return l.words[0]=0,void(l.length=1);var D=l.words[9];for(m.words[m.length++]=D&y,_=10;_<l.length;_++){var N=0|l.words[_];l.words[_-10]=(N&y)<<4|D>>>22,D=N}D>>>=22,l.words[_-10]=D,D===0&&l.length>10?l.length-=10:l.length-=9},B.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var m=0,y=0;y<l.length;y++){var b=0|l.words[y];m+=977*b,l.words[y]=67108863&m,m=64*b+(m/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l},i(U,C),i(O,C),i(q,C),q.prototype.imulK=function(l){for(var m=0,y=0;y<l.length;y++){var b=19*(0|l.words[y])+m,_=67108863&b;b>>>=26,l.words[y]=_,m=b}return m!==0&&(l.words[l.length++]=m),l},s._prime=function(l){if(S[l])return S[l];var m;if(l==="k256")m=new B;else if(l==="p224")m=new U;else if(l==="p192")m=new O;else{if(l!=="p25519")throw Error("Unknown prime "+l);m=new q}return S[l]=m,m},g.prototype._verify1=function(l){n(l.negative===0,"red works only with positives"),n(l.red,"red works only with red numbers")},g.prototype._verify2=function(l,m){n((l.negative|m.negative)==0,"red works only with positives"),n(l.red&&l.red===m.red,"red works only with red numbers")},g.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},g.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},g.prototype.add=function(l,m){this._verify2(l,m);var y=l.add(m);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},g.prototype.iadd=function(l,m){this._verify2(l,m);var y=l.iadd(m);return y.cmp(this.m)>=0&&y.isub(this.m),y},g.prototype.sub=function(l,m){this._verify2(l,m);var y=l.sub(m);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},g.prototype.isub=function(l,m){this._verify2(l,m);var y=l.isub(m);return y.cmpn(0)<0&&y.iadd(this.m),y},g.prototype.shl=function(l,m){return this._verify1(l),this.imod(l.ushln(m))},g.prototype.imul=function(l,m){return this._verify2(l,m),this.imod(l.imul(m))},g.prototype.mul=function(l,m){return this._verify2(l,m),this.imod(l.mul(m))},g.prototype.isqr=function(l){return this.imul(l,l.clone())},g.prototype.sqr=function(l){return this.mul(l,l)},g.prototype.sqrt=function(l){if(l.isZero())return l.clone();var m=this.m.andln(3);if(n(m%2==1),m===3){var y=this.m.add(new s(1)).iushrn(2);return this.pow(l,y)}for(var b=this.m.subn(1),_=0;!b.isZero()&&b.andln(1)===0;)_++,b.iushrn(1);n(!b.isZero());var D=new s(1).toRed(this),N=D.redNeg(),W=this.m.subn(1).iushrn(1),tt=this.m.bitLength();for(tt=new s(2*tt*tt).toRed(this);this.pow(tt,W).cmp(N)!==0;)tt.redIAdd(N);for(var w=this.pow(tt,b),I=this.pow(l,b.addn(1).iushrn(1)),J=this.pow(l,b),Q=_;J.cmp(D)!==0;){for(var nt=J,ht=0;nt.cmp(D)!==0;ht++)nt=nt.redSqr();n(ht<Q);var lt=this.pow(w,new s(1).iushln(Q-ht-1));I=I.redMul(lt),w=lt.redSqr(),J=J.redMul(w),Q=ht}return I},g.prototype.invm=function(l){var m=l._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},g.prototype.pow=function(l,m){if(m.isZero())return new s(1).toRed(this);if(m.cmpn(1)===0)return l.clone();var y=Array(16);y[0]=new s(1).toRed(this),y[1]=l;for(var b=2;b<y.length;b++)y[b]=this.mul(y[b-1],l);var _=y[0],D=0,N=0,W=m.bitLength()%26;for(W===0&&(W=26),b=m.length-1;b>=0;b--){for(var tt=m.words[b],w=W-1;w>=0;w--){var I=tt>>w&1;_!==y[0]&&(_=this.sqr(_)),I!==0||D!==0?(D<<=1,D|=I,(++N===4||b===0&&w===0)&&(_=this.mul(_,y[D]),N=0,D=0)):N=0}W=26}return _},g.prototype.convertTo=function(l){var m=l.umod(this.m);return m===l?m.clone():m},g.prototype.convertFrom=function(l){var m=l.clone();return m.red=null,m},s.mont=function(l){return new R(l)},i(R,g),R.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},R.prototype.convertFrom=function(l){var m=this.imod(l.mul(this.rinv));return m.red=null,m},R.prototype.imul=function(l,m){if(l.isZero()||m.isZero())return l.words[0]=0,l.length=1,l;var y=l.imul(m),b=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=y.isub(b).iushrn(this.shift),D=_;return _.cmp(this.m)>=0?D=_.isub(this.m):_.cmpn(0)<0&&(D=_.iadd(this.m)),D._forceRed(this)},R.prototype.mul=function(l,m){if(l.isZero()||m.isZero())return new s(0)._forceRed(this);var y=l.mul(m),b=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=y.isub(b).iushrn(this.shift),D=_;return _.cmp(this.m)>=0?D=_.isub(this.m):_.cmpn(0)<0&&(D=_.iadd(this.m)),D._forceRed(this)},R.prototype.invm=function(l){return this.imod(l._invmp(this.m).mul(this.r2))._forceRed(this)}})(e,I3)}),aa=Object.freeze({__proto__:null,default:Ct,__moduleExports:Ct});class ba{constructor(t){if(t===void 0)throw Error("Invalid BigInteger input");this.value=new Ct(t)}clone(){const t=new ba(null);return this.value.copy(t.value),t}iinc(){return this.value.iadd(new Ct(1)),this}inc(){return this.clone().iinc()}idec(){return this.value.isub(new Ct(1)),this}dec(){return this.clone().idec()}iadd(t){return this.value.iadd(t.value),this}add(t){return this.clone().iadd(t)}isub(t){return this.value.isub(t.value),this}sub(t){return this.clone().isub(t)}imul(t){return this.value.imul(t.value),this}mul(t){return this.clone().imul(t)}imod(t){return this.value=this.value.umod(t.value),this}mod(t){return this.clone().imod(t)}modExp(t,r){const n=r.isEven()?Ct.red(r.value):Ct.mont(r.value),i=this.clone();return i.value=i.value.toRed(n).redPow(t.value).fromRed(),i}modInv(t){if(!this.gcd(t).isOne())throw Error("Inverse does not exist");return new ba(this.value.invm(t.value))}gcd(t){return new ba(this.value.gcd(t.value))}ileftShift(t){return this.value.ishln(t.value.toNumber()),this}leftShift(t){return this.clone().ileftShift(t)}irightShift(t){return this.value.ishrn(t.value.toNumber()),this}rightShift(t){return this.clone().irightShift(t)}equal(t){return this.value.eq(t.value)}lt(t){return this.value.lt(t.value)}lte(t){return this.value.lte(t.value)}gt(t){return this.value.gt(t.value)}gte(t){return this.value.gte(t.value)}isZero(){return this.value.isZero()}isOne(){return this.value.eq(new Ct(1))}isNegative(){return this.value.isNeg()}isEven(){return this.value.isEven()}abs(){const t=this.clone();return t.value=t.value.abs(),t}toString(){return this.value.toString()}toNumber(){return this.value.toNumber()}getBit(t){return this.value.testn(t)?1:0}bitLength(){return this.value.bitLength()}byteLength(){return this.value.byteLength()}toUint8Array(t="be",r){return this.value.toArrayLike(Uint8Array,t,r)}}var Su,c6=Object.freeze({__proto__:null,default:ba}),Lr=Mn(function(e,t){var r=t;function n(s){return s.length===1?"0"+s:s}function i(s){for(var a="",o=0;o<s.length;o++)a+=n(s[o].toString(16));return a}r.toArray=function(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var o=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)o[c]=0|s[c];return o}if(a==="hex")for((s=s.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(s="0"+s),c=0;c<s.length;c+=2)o.push(parseInt(s[c]+s[c+1],16));else for(c=0;c<s.length;c++){var u=s.charCodeAt(c),h=u>>8,f=255&u;h?o.push(h,f):o.push(f)}return o},r.zero2=n,r.toHex=i,r.encode=function(s,a){return a==="hex"?i(s):s}}),de=Mn(function(e,t){var r=t;r.assert=Mi,r.toArray=Lr.toArray,r.zero2=Lr.zero2,r.toHex=Lr.toHex,r.encode=Lr.encode,r.getNAF=function(n,i){for(var s=[],a=1<<i+1,o=n.clone();o.cmpn(1)>=0;){var c;if(o.isOdd()){var u=o.andln(a-1);c=u>(a>>1)-1?(a>>1)-u:u,o.isubn(c)}else c=0;s.push(c);for(var h=o.cmpn(0)!==0&&o.andln(a-1)===0?i+1:1,f=1;f<h;f++)s.push(0);o.iushrn(h)}return s},r.getJSF=function(n,i){var s=[[],[]];n=n.clone(),i=i.clone();for(var a=0,o=0;n.cmpn(-a)>0||i.cmpn(-o)>0;){var c,u,h,f=n.andln(3)+a&3,p=i.andln(3)+o&3;f===3&&(f=-1),p===3&&(p=-1),(1&f)==0?c=0:c=(h=n.andln(7)+a&7)!==3&&h!==5||p!==2?f:-f,s[0].push(c),(1&p)==0?u=0:u=(h=i.andln(7)+o&7)!==3&&h!==5||f!==2?p:-p,s[1].push(u),2*a===c+1&&(a=1-a),2*o===u+1&&(o=1-o),n.iushrn(1),i.iushrn(1)}return s},r.cachedProperty=function(n,i,s){var a="_"+i;n.prototype[i]=function(){return this[a]!==void 0?this[a]:this[a]=s.call(this)}},r.parseBytes=function(n){return typeof n=="string"?r.toArray(n,"hex"):n},r.intFromLE=function(n){return new Ct(n,"hex","le")}}),Kc=function(e){return Su||(Su=new hi(null)),Su.generate(e)};function hi(e){this.rand=e}var u6=hi;if(hi.prototype.generate=function(e){return this._rand(e)},hi.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},typeof self=="object")self.crypto&&self.crypto.getRandomValues?hi.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?hi.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:typeof window=="object"&&(hi.prototype._rand=function(){throw Error("Not implemented yet")});else try{if(typeof(void 0).randomBytes!="function")throw Error("Not supported");hi.prototype._rand=function(e){return(void 0).randomBytes(e)}}catch{}Kc.Rand=u6;var ho=de.getNAF,l6=de.getJSF,fo=de.assert;function li(e,t){this.type=e,this.p=new Ct(t.p,16),this.red=t.prime?Ct.red(t.prime):Ct.mont(this.p),this.zero=new Ct(0).toRed(this.red),this.one=new Ct(1).toRed(this.red),this.two=new Ct(2).toRed(this.red),this.n=t.n&&new Ct(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,];var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var or=li;function xr(e,t){this.curve=e,this.type=t,this.precomputed=null}li.prototype.point=function(){throw Error("Not implemented")},li.prototype.validate=function(){throw Error("Not implemented")},li.prototype._fixedNafMul=function(e,t){fo(e.precomputed);var r=e._getDoubles(),n=ho(t,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var s=[],a=0;a<n.length;a+=r.step){var o=0;for(t=a+r.step-1;t>=a;t--)o=(o<<1)+n[t];s.push(o)}for(var c=this.jpoint(null,null,null),u=this.jpoint(null,null,null),h=i;h>0;h--){for(a=0;a<s.length;a++)(o=s[a])===h?u=u.mixedAdd(r.points[a]):o===-h&&(u=u.mixedAdd(r.points[a].neg()));c=c.add(u)}return c.toP()},li.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=ho(t,r),a=this.jpoint(null,null,null),o=s.length-1;o>=0;o--){for(t=0;o>=0&&s[o]===0;o--)t++;if(o>=0&&t++,a=a.dblp(t),o<0)break;var c=s[o];fo(c!==0),a=e.type==="affine"?c>0?a.mixedAdd(i[c-1>>1]):a.mixedAdd(i[-c-1>>1].neg()):c>0?a.add(i[c-1>>1]):a.add(i[-c-1>>1].neg())}return e.type==="affine"?a.toP():a},li.prototype._wnafMulAdd=function(e,t,r,n,i){for(var s=this._wnafT1,a=this._wnafT2,o=this._wnafT3,c=0,u=0;u<n;u++){var h=(R=t[u])._getNAFPoints(e);s[u]=h.wnd,a[u]=h.points}for(u=n-1;u>=1;u-=2){var f=u-1,p=u;if(s[f]===1&&s[p]===1){var d=[t[f],null,null,t[p]];t[f].y.cmp(t[p].y)===0?(d[1]=t[f].add(t[p]),d[2]=t[f].toJ().mixedAdd(t[p].neg())):t[f].y.cmp(t[p].y.redNeg())===0?(d[1]=t[f].toJ().mixedAdd(t[p]),d[2]=t[f].add(t[p].neg())):(d[1]=t[f].toJ().mixedAdd(t[p]),d[2]=t[f].toJ().mixedAdd(t[p].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],A=l6(r[f],r[p]);c=Math.max(A[0].length,c),o[f]=Array(c),o[p]=Array(c);for(var S=0;S<c;S++){var C=0|A[0][S],B=0|A[1][S];o[f][S]=v[3*(C+1)+(B+1)],o[p][S]=0,a[f]=d}}else o[f]=ho(r[f],s[f]),o[p]=ho(r[p],s[p]),c=Math.max(o[f].length,c),c=Math.max(o[p].length,c)}var U=this.jpoint(null,null,null),O=this._wnafT4;for(u=c;u>=0;u--){for(var q=0;u>=0;){var g=!0;for(S=0;S<n;S++)O[S]=0|o[S][u],O[S]!==0&&(g=!1);if(!g)break;q++,u--}if(u>=0&&q++,U=U.dblp(q),u<0)break;for(S=0;S<n;S++){var R,l=O[S];l!==0&&(l>0?R=a[S][l-1>>1]:l<0&&(R=a[S][-l-1>>1].neg()),U=R.type==="affine"?U.mixedAdd(R):U.add(R))}}for(u=0;u<n;u++)a[u]=null;return i?U:U.toP()},li.BasePoint=xr,xr.prototype.eq=function(){throw Error("Not implemented")},xr.prototype.validate=function(){return this.curve.validate(this)},li.prototype.decodePoint=function(e,t){e=de.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*r)return e[0]===6?fo(e[e.length-1]%2==0):e[0]===7&&fo(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw Error("Unknown point format")},xr.prototype.encodeCompressed=function(e){return this.encode(e,!0)},xr.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},xr.prototype.encode=function(e,t){return de.encode(this._encode(t),e)},xr.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},xr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},xr.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},xr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=r===1?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},xr.prototype._getBeta=function(){return null},xr.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var h6=de.assert;function Cr(e){or.call(this,"short",e),this.a=new Ct(e.a,16).toRed(this.red),this.b=new Ct(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}vi(Cr,or);var f6=Cr;function Ne(e,t,r,n){or.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ct(t,16),this.y=new Ct(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function je(e,t,r,n){or.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ct(0)):(this.x=new Ct(t,16),this.y=new Ct(r,16),this.z=new Ct(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}function ms(e){or.call(this,"mont",e),this.a=new Ct(e.a,16).toRed(this.red),this.b=new Ct(e.b,16).toRed(this.red),this.i4=new Ct(4).toRed(this.red).redInvm(),this.two=new Ct(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Cr.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var t,r;if(e.beta)t=new Ct(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new Ct(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))===0?r=i[0]:(r=i[1],h6(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}return{beta:t,lambda:r,basis:e.basis?e.basis.map(function(s){return{a:new Ct(s.a,16),b:new Ct(s.b,16)}}):this._getEndoBasis(r)}}},Cr.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Ct.mont(e),r=new Ct(2).toRed(t).redInvm(),n=r.redNeg(),i=new Ct(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Cr.prototype._getEndoBasis=function(e){for(var t,r,n,i,s,a,o,c,u,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,p=this.n.clone(),d=new Ct(1),v=new Ct(0),A=new Ct(0),S=new Ct(1),C=0;f.cmpn(0)!==0;){var B=p.div(f);c=p.sub(B.mul(f)),u=A.sub(B.mul(d));var U=S.sub(B.mul(v));if(!n&&c.cmp(h)<0)t=o.neg(),r=d,n=c.neg(),i=u;else if(n&&++C==2)break;o=c,p=f,f=c,A=d,d=u,S=v,v=U}s=c.neg(),a=u;var O=n.sqr().add(i.sqr());return s.sqr().add(a.sqr()).cmp(O)>=0&&(s=t,a=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:i},{a:s,b:a}]},Cr.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),o=s.mul(n.a),c=i.mul(r.b),u=s.mul(n.b);return{k1:e.sub(a).sub(o),k2:c.add(u).neg()}},Cr.prototype.pointFromX=function(e,t){(e=new Ct(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(n.redSqr().redSub(r).cmp(this.zero)!==0)throw Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},Cr.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return r.redSqr().redISub(i).cmpn(0)===0},Cr.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(t[s]),o=e[s],c=o._getBeta();a.k1.negative&&(a.k1.ineg(),o=o.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[2*s]=o,n[2*s+1]=c,i[2*s]=a.k1,i[2*s+1]=a.k2}for(var u=this._wnafMulAdd(1,n,i,2*s,r),h=0;h<2*s;h++)n[h]=null,i[h]=null;return u},vi(Ne,or.BasePoint),Cr.prototype.point=function(e,t,r){return new Ne(this,e,t,r)},Cr.prototype.pointFromJSON=function(e,t){return Ne.fromJSON(this,e,t)},Ne.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(i){return r.point(i.x.redMul(r.endo.beta),i.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Ne.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Ne.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(a){return e.point(a[0],a[1],r)}var s=t[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},Ne.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Ne.prototype.isInfinity=function(){return this.inf},Ne.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Ne.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)},Ne.prototype.getX=function(){return this.x.fromRed()},Ne.prototype.getY=function(){return this.y.fromRed()},Ne.prototype.mul=function(e){return e=new Ct(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Ne.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Ne.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Ne.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},Ne.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(i){return i.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Ne.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},vi(je,or.BasePoint),Cr.prototype.jpoint=function(e,t,r){return new je(this,e,t,r)},je.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},je.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},je.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),o=n.redSub(i),c=s.redSub(a);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),h=u.redMul(o),f=n.redMul(u),p=c.redSqr().redIAdd(h).redISub(f).redISub(f),d=c.redMul(f.redISub(p)).redISub(s.redMul(h)),v=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(p,d,v)},je.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),a=r.redSub(n),o=i.redSub(s);if(a.cmpn(0)===0)return o.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),h=r.redMul(c),f=o.redSqr().redIAdd(u).redISub(h).redISub(h),p=o.redMul(h.redISub(f)).redISub(i.redMul(u)),d=this.z.redMul(a);return this.curve.jpoint(f,p,d)},je.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,s=this.x,a=this.y,o=this.z,c=o.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var h=s.redSqr(),f=u.redSqr(),p=f.redSqr(),d=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(c)),v=s.redMul(f),A=d.redSqr().redISub(v.redAdd(v)),S=v.redISub(A),C=d.redMul(S);C=C.redIAdd(C).redISub(p);var B=u.redMul(o);r+1<e&&(c=c.redMul(p)),s=A,o=B,u=C}return this.curve.jpoint(s,u.redMul(i),o)},je.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},je.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(s);a=a.redIAdd(a);var o=n.redAdd(n).redIAdd(n),c=o.redSqr().redISub(a).redISub(a),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=o.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),f=this.y.redSqr(),p=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(h).redISub(p);d=d.redIAdd(d);var v=h.redAdd(h).redIAdd(h),A=v.redSqr(),S=p.redIAdd(p);S=(S=S.redIAdd(S)).redIAdd(S),e=A.redISub(d).redISub(d),t=v.redMul(d.redISub(e)).redISub(S),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},je.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(s);a=a.redIAdd(a);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=o.redSqr().redISub(a).redISub(a);e=c;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=o.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),f=this.y.redSqr(),p=this.x.redMul(f),d=this.x.redSub(h).redMul(this.x.redAdd(h));d=d.redAdd(d).redIAdd(d);var v=p.redIAdd(p),A=(v=v.redIAdd(v)).redAdd(v);e=d.redSqr().redISub(A),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(h);var S=f.redSqr();S=(S=(S=S.redIAdd(S)).redIAdd(S)).redIAdd(S),t=d.redMul(v.redISub(e)).redISub(S)}return this.curve.jpoint(e,t,r)},je.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),a=r.redSqr(),o=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(a),h=o.redSqr().redISub(u.redAdd(u)),f=u.redISub(h),p=a.redSqr();p=(p=(p=p.redIAdd(p)).redIAdd(p)).redIAdd(p);var d=o.redMul(f).redISub(p),v=r.redAdd(r).redMul(n);return this.curve.jpoint(h,d,v)},je.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),o=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(s)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(a).redSqr().redISub(s).redISub(o).redISub(c),h=t.redMul(u);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.x.redMul(o).redISub(h);f=(f=f.redIAdd(f)).redIAdd(f);var p=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(o)));p=(p=(p=p.redIAdd(p)).redIAdd(p)).redIAdd(p);var d=this.z.redAdd(a).redSqr().redISub(r).redISub(o);return this.curve.jpoint(f,p,d)},je.prototype.mul=function(e,t){return e=new Ct(e,t),this.curve._wnafMul(this,e)},je.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)===0},je.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}},je.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},je.prototype.isInfinity=function(){return this.z.cmpn(0)===0},vi(ms,or);var d6=ms;function Be(e,t,r){or.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Ct(t,16),this.z=new Ct(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}ms.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return n.redSqrt().redSqr().cmp(n)===0},vi(Be,or.BasePoint),ms.prototype.decodePoint=function(e,t){if((e=de.toArray(e,t)).length===33&&e[0]===64&&(e=e.slice(1,33).reverse()),e.length!==32)throw Error("Unknown point compression format");return this.point(e,1)},ms.prototype.point=function(e,t){return new Be(this,e,t)},ms.prototype.pointFromJSON=function(e){return Be.fromJSON(this,e)},Be.prototype.precompute=function(){},Be.prototype._encode=function(e){var t=this.curve.p.byteLength();return e?[64].concat(this.getX().toArray("le",t)):this.getX().toArray("be",t)},Be.fromJSON=function(e,t){return new Be(e,t[0],t[1]||e.one)},Be.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Be.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Be.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},Be.prototype.add=function(){throw Error("Not supported on Montgomery curve")},Be.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(r),a=i.redMul(n),o=t.z.redMul(s.redAdd(a).redSqr()),c=t.x.redMul(s.redISub(a).redSqr());return this.curve.point(o,c)},Be.prototype.mul=function(e){for(var t=(e=new Ct(e,16)).clone(),r=this,n=this.curve.point(null,null),i=[];t.cmpn(0)!==0;t.iushrn(1))i.push(t.andln(1));for(var s=i.length-1;s>=0;s--)i[s]===0?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},Be.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},Be.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},Be.prototype.eq=function(e){return this.getX().cmp(e.getX())===0},Be.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Be.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var p6=de.assert;function nn(e){this.twisted=(0|e.a)!=1,this.mOneA=this.twisted&&(0|e.a)==-1,this.extended=this.mOneA,or.call(this,"edwards",e),this.a=new Ct(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Ct(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Ct(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),p6(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|e.c)==1}vi(nn,or);var m6=nn;function be(e,t,r,n,i){or.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Ct(t,16),this.y=new Ct(r,16),this.z=n?new Ct(n,16):this.curve.one,this.t=i&&new Ct(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}nn.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},nn.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},nn.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},nn.prototype.pointFromX=function(e,t){(e=new Ct(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(i.redInvm()),a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw Error("invalid point");var o=a.fromRed().isOdd();return(t&&!o||!t&&o)&&(a=a.redNeg()),this.point(e,a)},nn.prototype.pointFromY=function(e,t){(e=new Ct(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(i.redInvm());if(s.cmp(this.zero)===0){if(t)throw Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},nn.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return n.cmp(i)===0},vi(be,or.BasePoint),nn.prototype.pointFromJSON=function(e){return be.fromJSON(this,e)},nn.prototype.point=function(e,t,r,n){return new be(this,e,t,r,n)},be.fromJSON=function(e,t){return new be(e,t[0],t[1],t[2])},be.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},be.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},be.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=n.redAdd(t),a=s.redSub(r),o=n.redSub(t),c=i.redMul(a),u=s.redMul(o),h=i.redMul(o),f=a.redMul(s);return this.curve.point(c,u,f,h)},be.prototype._projDbl=function(){var e,t,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var a=(u=this.curve._mulA(i)).redAdd(s);if(this.zOne)e=n.redSub(i).redSub(s).redMul(a.redSub(this.curve.two)),t=a.redMul(u.redSub(s)),r=a.redSqr().redSub(a).redSub(a);else{var o=this.z.redSqr(),c=a.redSub(o).redISub(o);e=n.redSub(i).redISub(s).redMul(c),t=a.redMul(u.redSub(s)),r=a.redMul(c)}}else{var u=i.redAdd(s);o=this.curve._mulC(this.z).redSqr(),c=u.redSub(o).redSub(o),e=this.curve._mulC(n.redISub(u)).redMul(c),t=this.curve._mulC(u).redMul(i.redISub(s)),r=u.redMul(c)}return this.curve.point(e,t,r)},be.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},be.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),a=i.redSub(n),o=i.redAdd(n),c=r.redAdd(t),u=s.redMul(a),h=o.redMul(c),f=s.redMul(c),p=a.redMul(o);return this.curve.point(u,h,p,f)},be.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),s=this.x.redMul(e.x),a=this.y.redMul(e.y),o=this.curve.d.redMul(s).redMul(a),c=i.redSub(o),u=i.redAdd(o),h=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(a),f=n.redMul(c).redMul(h);return this.curve.twisted?(t=n.redMul(u).redMul(a.redSub(this.curve._mulA(s))),r=c.redMul(u)):(t=n.redMul(u).redMul(a.redSub(s)),r=this.curve._mulC(c).redMul(u)),this.curve.point(f,t,r)},be.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},be.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},be.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},be.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},be.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},be.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},be.prototype.getX=function(){return this.normalize(),this.x.fromRed()},be.prototype.getY=function(){return this.normalize(),this.y.fromRed()},be.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0},be.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),this.x.cmp(t)===0)return!0}},be.prototype.toP=be.prototype.normalize,be.prototype.mixedAdd=be.prototype.add;var ko=Mn(function(e,t){var r=t;r.base=or,r.short=f6,r.mont=d6,r.edwards=m6}),Eu=te.rotl32,Hs=te.sum32,y6=te.sum32_5,b6=ns.ft_1,e2=ja.BlockHash,g6=[1518500249,1859775393,2400959708,3395469782];function un(){if(!(this instanceof un))return new un;e2.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}te.inherits(un,e2);var v6=un;un.blockSize=512,un.outSize=160,un.hmacStrength=80,un.padLength=64,un.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=Eu(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],a=this.h[2],o=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),h=y6(Eu(i,5),b6(u,s,a,o),c,r[n],g6[u]);c=o,o=a,a=Eu(s,30),s=i,i=h}this.h[0]=Hs(this.h[0],i),this.h[1]=Hs(this.h[1],s),this.h[2]=Hs(this.h[2],a),this.h[3]=Hs(this.h[3],o),this.h[4]=Hs(this.h[4],c)},un.prototype._digest=function(e){return e==="hex"?te.toHex32(this.h,"big"):te.split32(this.h,"big")};var w6={sha1:v6,sha224:yf,sha256:k0,sha384:wf,sha512:qa};function As(e,t,r){if(!(this instanceof As))return new As(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(te.toArray(t,r))}var _6=As;As.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Mi(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},As.prototype.update=function(e,t){return this.inner.update(e,t),this},As.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};var vr=Mn(function(e,t){var r=t;r.utils=te,r.common=ja,r.sha=w6,r.ripemd=f5,r.hmac=_6,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160}),A6={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}},ga=Mn(function(e,t){var r,n=t,i=de.assert;function s(o){if(o.type==="short")this.curve=new ko.short(o);else if(o.type==="edwards")this.curve=new ko.edwards(o);else{if(o.type!=="mont")throw Error("Unknown curve type.");this.curve=new ko.mont(o)}this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, n*G != O")}function a(o,c){Object.defineProperty(n,o,{configurable:!0,enumerable:!0,get:function(){var u=new s(c);return Object.defineProperty(n,o,{configurable:!0,enumerable:!0,value:u}),u}})}n.PresetCurve=s,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:vr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:vr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:vr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:vr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:vr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:vr.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:vr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]}),a("brainpoolP256r1",{type:"short",prime:null,p:"A9FB57DB A1EEA9BC 3E660A90 9D838D72 6E3BF623 D5262028 2013481D 1F6E5377",a:"7D5A0975 FC2C3057 EEF67530 417AFFE7 FB8055C1 26DC5C6C E94A4B44 F330B5D9",b:"26DC5C6C E94A4B44 F330B5D9 BBD77CBF 95841629 5CF7E1CE 6BCCDC18 FF8C07B6",n:"A9FB57DB A1EEA9BC 3E660A90 9D838D71 8C397AA3 B561A6F7 901E0E82 974856A7",hash:vr.sha256,gRed:!1,g:["8BD2AEB9CB7E57CB2C4B482FFC81B7AFB9DE27E1E3BD23C23A4453BD9ACE3262","547EF835C3DAC4FD97F8461A14611DC9C27745132DED8E545C1D54C72F046997"]}),a("brainpoolP384r1",{type:"short",prime:null,p:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B4 12B1DA19 7FB71123ACD3A729 901D1A71 87470013 3107EC53",a:"7BC382C6 3D8C150C 3C72080A CE05AFA0 C2BEA28E 4FB22787 139165EF BA91F90F8AA5814A 503AD4EB 04A8C7DD 22CE2826",b:"04A8C7DD 22CE2826 8B39B554 16F0447C 2FB77DE1 07DCD2A6 2E880EA5 3EEB62D57CB43902 95DBC994 3AB78696 FA504C11",n:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B3 1F166E6C AC0425A7CF3AB6AF 6B7FC310 3B883202 E9046565",hash:vr.sha384,gRed:!1,g:["1D1C64F068CF45FFA2A63A81B7C13F6B8847A3E77EF14FE3DB7FCAFE0CBD10E8E826E03436D646AAEF87B2E247D4AF1E","8ABE1D7520F9C2A45CB1EB8E95CFD55262B70B29FEEC5864E19C054FF99129280E4646217791811142820341263C5315"]}),a("brainpoolP512r1",{type:"short",prime:null,p:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 703308717D4D9B00 9BC66842 AECDA12A E6A380E6 2881FF2F 2D82C685 28AA6056 583A48F3",a:"7830A331 8B603B89 E2327145 AC234CC5 94CBDD8D 3DF91610 A83441CA EA9863BC2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A7 2BF2C7B9 E7C1AC4D 77FC94CA",b:"3DF91610 A83441CA EA9863BC 2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A72BF2C7B9 E7C1AC4D 77FC94CA DC083E67 984050B7 5EBAE5DD 2809BD63 8016F723",n:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 70330870553E5C41 4CA92619 41866119 7FAC1047 1DB1D381 085DDADD B5879682 9CA90069",hash:vr.sha512,gRed:!1,g:["81AEE4BDD82ED9645A21322E9C4C6A9385ED9F70B5D916C1B43B62EEF4D0098EFF3B1F78E2D0D48D50D1687B93B97D5F7C6D5047406A5E688B352209BCB9F822","7DDE385D566332ECC0EABFA9CF7822FDF209F70024A57B1AA000C55B881F8111B2DCDE494A5F485E5BCA4BD88A2763AED1CA2B2FA8F0540678CD1E0F3AD80892"]});try{r=A6}catch{r=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:vr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})});function di(e){if(!(this instanceof di))return new di(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Lr.toArray(e.entropy,e.entropyEnc||"hex"),r=Lr.toArray(e.nonce,e.nonceEnc||"hex"),n=Lr.toArray(e.pers,e.persEnc||"hex");Mi(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var u0=di;di.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},di.prototype._hmac=function(){return new vr.hmac(this.hash,this.K)},di.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},di.prototype.reseed=function(e,t,r,n){typeof t!="string"&&(n=r,r=t,t=null),e=Lr.toArray(e,t),r=Lr.toArray(r,n),Mi(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},di.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");typeof t!="string"&&(n=r,r=t,t=null),r&&(r=Lr.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(r),this._reseed++,Lr.encode(s,t)};var eh=de.assert;function Xe(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var ku=Xe;Xe.fromPublic=function(e,t,r){return t instanceof Xe?t:new Xe(e,{pub:t,pubEnc:r})},Xe.fromPrivate=function(e,t,r){return t instanceof Xe?t:new Xe(e,{priv:t,privEnc:r})},Xe.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Xe.prototype.getPublic=function(e,t){return this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Xe.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},Xe.prototype._importPrivate=function(e,t){if(this.priv=new Ct(e,t||16),this.ec.curve.type==="mont"){var r=this.ec.curve.one,n=r.ushln(252).sub(r).ushln(3);this.priv=this.priv.or(r.ushln(254)),this.priv=this.priv.and(n)}else this.priv=this.priv.umod(this.ec.curve.n)},Xe.prototype._importPublic=function(e,t){if(e.x||e.y)return this.ec.curve.type==="mont"?eh(e.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||eh(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},Xe.prototype.derive=function(e){return e.mul(this.priv).getX()},Xe.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Xe.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Xe.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var S6=de.assert;function hc(e,t){if(e instanceof hc)return e;this._importDER(e,t)||(S6(e.r&&e.s,"Signature without r or s"),this.r=new Ct(e.r,16),this.s=new Ct(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var po=hc;function E6(){this.place=0}function Pu(e,t){var r=e[t.place++];if(!(128&r))return r;for(var n=15&r,i=0,s=0,a=t.place;s<n;s++,a++)i<<=8,i|=e[a];return t.place=a,i}function rh(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return t===0?e:e.slice(t)}function xu(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}hc.prototype._importDER=function(e,t){e=de.toArray(e,t);var r=new E6;if(e[r.place++]!==48||Pu(e,r)+r.place!==e.length||e[r.place++]!==2)return!1;var n=Pu(e,r),i=e.slice(r.place,n+r.place);if(r.place+=n,e[r.place++]!==2)return!1;var s=Pu(e,r);if(e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);return i[0]===0&&128&i[1]&&(i=i.slice(1)),a[0]===0&&128&a[1]&&(a=a.slice(1)),this.r=new Ct(i),this.s=new Ct(a),this.recoveryParam=null,!0},hc.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=rh(t),r=rh(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];xu(n,t.length),(n=n.concat(t)).push(2),xu(n,r.length);var i=n.concat(r),s=[48];return xu(s,i.length),s=s.concat(i),de.encode(s,e)};var r2=de.assert;function fr(e){if(!(this instanceof fr))return new fr(e);typeof e=="string"&&(r2(ga.hasOwnProperty(e),"Unknown curve "+e),e=ga[e]),e instanceof ga.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var k6=fr;fr.prototype.keyPair=function(e){return new ku(this,e)},fr.prototype.keyFromPrivate=function(e,t){return ku.fromPrivate(this,e,t)},fr.prototype.keyFromPublic=function(e,t){return ku.fromPublic(this,e,t)},fr.prototype.genKeyPair=function(e){e||(e={});var t=new u0({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Kc(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()});if(this.curve.type==="mont"){var r=new Ct(t.generate(32));return this.keyFromPrivate(r)}for(var n=this.n.byteLength(),i=this.n.sub(new Ct(2));;)if(!((r=new Ct(t.generate(n))).cmp(i)>0))return r.iaddn(1),this.keyFromPrivate(r)},fr.prototype._truncateToN=function(e,t,r){var n=(r=r||8*e.byteLength())-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},fr.prototype.truncateMsg=function(e){var t;return e instanceof Uint8Array?(t=8*e.byteLength,e=this._truncateToN(new Ct(e,16),!1,t)):typeof e=="string"?(t=4*e.length,e=this._truncateToN(new Ct(e,16),!1,t)):e=this._truncateToN(new Ct(e,16)),e},fr.prototype.sign=function(e,t,r,n){typeof r=="object"&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this.truncateMsg(e);for(var i=this.n.byteLength(),s=t.getPrivate().toArray("be",i),a=e.toArray("be",i),o=new u0({hash:this.hash,entropy:s,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new Ct(1)),u=0;;u++){var h=n.k?n.k(u):new Ct(o.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(c)>=0)){var f=this.g.mul(h);if(!f.isInfinity()){var p=f.getX(),d=p.umod(this.n);if(d.cmpn(0)!==0){var v=h.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if((v=v.umod(this.n)).cmpn(0)!==0){var A=(f.getY().isOdd()?1:0)|(p.cmp(d)!==0?2:0);return n.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),A^=1),new po({r:d,s:v,recoveryParam:A})}}}}}},fr.prototype.verify=function(e,t,r,n){return r=this.keyFromPublic(r,n),t=new po(t,"hex"),this._verify(this.truncateMsg(e),t,r)||this._verify(this._truncateToN(new Ct(e,16)),t,r)},fr.prototype._verify=function(e,t,r){var n=t.r,i=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;var s,a=i.invm(this.n),o=a.mul(e).umod(this.n),c=a.mul(n).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(o,r.getPublic(),c)).isInfinity()&&s.eqXToP(n):!(s=this.g.mulAdd(o,r.getPublic(),c)).isInfinity()&&s.getX().umod(this.n).cmp(n)===0},fr.prototype.recoverPubKey=function(e,t,r,n){r2((3&r)===r,"The recovery param is more than two bits"),t=new po(t,n);var i=this.n,s=new Ct(e),a=t.r,o=t.s,c=1&r,u=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw Error("Unable to find sencond key candinate");a=u?this.curve.pointFromX(a.add(this.curve.n),c):this.curve.pointFromX(a,c);var h=t.r.invm(i),f=i.sub(s).mul(h).umod(i),p=o.mul(h).umod(i);return this.g.mulAdd(f,a,p)},fr.prototype.getKeyRecoveryParam=function(e,t,r,n){if((t=new po(t,n)).recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch{continue}if(s.eq(r))return i}throw Error("Unable to find valid recovery factor")};var nh=de.assert,ih=de.parseBytes,us=de.cachedProperty;function ze(e,t){if(this.eddsa=e,t.hasOwnProperty("secret")&&(this._secret=ih(t.secret)),e.isPoint(t.pub))this._pub=t.pub;else if(this._pubBytes=ih(t.pub),this._pubBytes&&this._pubBytes.length===33&&this._pubBytes[0]===64&&(this._pubBytes=this._pubBytes.slice(1,33)),this._pubBytes&&this._pubBytes.length!==32)throw Error("Unknown point compression format")}ze.fromPublic=function(e,t){return t instanceof ze?t:new ze(e,{pub:t})},ze.fromSecret=function(e,t){return t instanceof ze?t:new ze(e,{secret:t})},ze.prototype.secret=function(){return this._secret},us(ze,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),us(ze,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),us(ze,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),us(ze,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),us(ze,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),us(ze,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),ze.prototype.sign=function(e){return nh(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},ze.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},ze.prototype.getSecret=function(e){return nh(this._secret,"KeyPair is public only"),de.encode(this.secret(),e)},ze.prototype.getPublic=function(e,t){return de.encode((t?[64]:[]).concat(this.pubBytes()),e)};var Mu=ze,P6=de.assert,mo=de.cachedProperty,x6=de.parseBytes;function Fi(e,t){this.eddsa=e,typeof t!="object"&&(t=x6(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),P6(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof Ct&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}mo(Fi,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),mo(Fi,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),mo(Fi,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),mo(Fi,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Fi.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Fi.prototype.toHex=function(){return de.encode(this.toBytes(),"hex").toUpperCase()};var sh=Fi,M6=de.assert,ah=de.parseBytes;function Qe(e){if(M6(e==="ed25519","only tested with ed25519 so far"),!(this instanceof Qe))return new Qe(e);e=ga[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=vr.sha512}var T6=Qe;Qe.prototype.sign=function(e,t){e=ah(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),s=this.encodePoint(i),a=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),o=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:o,Rencoded:s})},Qe.prototype.verify=function(e,t,r){e=ah(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(s)},Qe.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return de.intFromLE(e.digest()).umod(this.curve.n)},Qe.prototype.keyPair=function(e){return new Mu(this,e)},Qe.prototype.keyFromPublic=function(e){return Mu.fromPublic(this,e)},Qe.prototype.keyFromSecret=function(e){return Mu.fromSecret(this,e)},Qe.prototype.genKeyPair=function(e){e||(e={});var t=new u0({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Kc(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.curve.n.toArray()});return this.keyFromSecret(t.generate(32))},Qe.prototype.makeSignature=function(e){return e instanceof sh?e:new sh(this,e)},Qe.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},Qe.prototype.decodePoint=function(e){var t=(e=de.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=(128&e[t])!=0,i=de.intFromLE(r);return this.curve.pointFromY(i,n)},Qe.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},Qe.prototype.decodeInt=function(e){return de.intFromLE(e)},Qe.prototype.isPoint=function(e){return e instanceof this.pointClass};var oh=Mn(function(e,t){var r=t;r.utils=de,r.rand=Kc,r.curve=ko,r.curves=ga,r.ec=k6,r.eddsa=T6}),C6=Object.freeze({__proto__:null,default:oh,__moduleExports:oh}),n2={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function s(c,u,h,f,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var d=new i(h,f||c,p),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],d]:c._events[v].push(d):(c._events[v]=d,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],h,f;if(this._eventsCount===0)return u;for(f in h=this._events)t.call(h,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},o.prototype.listeners=function(u){var h=r?r+u:u,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,d=f.length,v=new Array(d);p<d;p++)v[p]=f[p].fn;return v},o.prototype.listenerCount=function(u){var h=r?r+u:u,f=this._events[h];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,h,f,p,d,v){var A=r?r+u:u;if(!this._events[A])return!1;var S=this._events[A],C=arguments.length,B,U;if(S.fn){switch(S.once&&this.removeListener(u,S.fn,void 0,!0),C){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,f),!0;case 4:return S.fn.call(S.context,h,f,p),!0;case 5:return S.fn.call(S.context,h,f,p,d),!0;case 6:return S.fn.call(S.context,h,f,p,d,v),!0}for(U=1,B=new Array(C-1);U<C;U++)B[U-1]=arguments[U];S.fn.apply(S.context,B)}else{var O=S.length,q;for(U=0;U<O;U++)switch(S[U].once&&this.removeListener(u,S[U].fn,void 0,!0),C){case 1:S[U].fn.call(S[U].context);break;case 2:S[U].fn.call(S[U].context,h);break;case 3:S[U].fn.call(S[U].context,h,f);break;case 4:S[U].fn.call(S[U].context,h,f,p);break;default:if(!B)for(q=1,B=new Array(C-1);q<C;q++)B[q-1]=arguments[q];S[U].fn.apply(S[U].context,B)}}return!0},o.prototype.on=function(u,h,f){return s(this,u,h,f,!1)},o.prototype.once=function(u,h,f){return s(this,u,h,f,!0)},o.prototype.removeListener=function(u,h,f,p){var d=r?r+u:u;if(!this._events[d])return this;if(!h)return a(this,d),this;var v=this._events[d];if(v.fn)v.fn===h&&(!p||v.once)&&(!f||v.context===f)&&a(this,d);else{for(var A=0,S=[],C=v.length;A<C;A++)(v[A].fn!==h||p&&!v[A].once||f&&v[A].context!==f)&&S.push(v[A]);S.length?this._events[d]=S.length===1?S[0]:S:a(this,d)}return this},o.prototype.removeAllListeners=function(u){var h;return u?(h=r?r+u:u,this._events[h]&&a(this,h)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(n2);var R6=n2.exports;const va=new R6.EventEmitter,Z0=wc(null),I6=Ka(Z0,e=>e),wa=wc(!1);function U6(e){Z0.set(e),va.emit("password",e)}function D6(){va.emit("cancel"),wa.set(!1)}async function i2(){return new Promise((e,t)=>{const r=i3(I6);r?e(r):(wa.set(!0),va.once("password",e),va.once("cancel",()=>{t(new Error("Cancelled"))}),va.once("error",t))})}async function s2(e){const t=await i2(),r=await xp({text:e,format:"utf8"});return await Mp({passwords:[t],message:r,format:"armored"})}async function O6(e){try{const t=await i2(),r=await Pp({armoredMessage:e});return(await Tp({passwords:[t],message:r})).data}catch(t){throw Z0.set(null),t}}Pn.access.claim("secrets","rw");Pn.caching.enable("/secrets/");const a2="secret",Fc=Pn.scope("/secrets/");Fc.declareType(a2,{type:"object",properties:{id:{type:"string",format:"uuid"},type:{type:"string",enum:["password","text"]},application:{type:"string",format:{type:"oneOf",items:[{type:"uri"},{type:"string"}]}},username:{type:"string"},encryptedSecret:{type:"string"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"}},required:["id","type","application","username","encryptedSecret","createdAt","updatedAt"]});function N6(e){return{id:e.id,type:e.type,application:e.application,username:e.username,encryptedSecret:e.encryptedSecret,createdAt:e.createdAt.toJSON(),updatedAt:e.updatedAt.toJSON()}}function B6(e){return{id:e.id,type:e.type,application:e.application,username:e.username,encryptedSecret:e.encryptedSecret,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}}const Ci=wc({});Ka(Ci,e=>Object.values(e));Ka(Ci,e=>e);const Q0=Ka(Ci,e=>Object.values(e).reduce((t,r)=>((t[r.application]||(t[r.application]=[])).push(r),t),{}));async function z6(e){const r={id:g3(),type:e.type,application:ka(e.application),username:e.username,secret:e.secret,encryptedSecret:await s2(e.secret),createdAt:new Date,updatedAt:new Date};let n;Ci.update(i=>{const s=ss(Oe({},i),{[r.id]:r});return n=o2(r),s}),n&&await n}async function K6(e,t){let r;const n=await s2(t.secret);Ci.update(i=>{const s=i[e];if(s){const a=ss(Oe(Oe({},s),t),{id:e,updatedAt:new Date});a.application=ka(a.application),a.encryptedSecret=n;const o=ss(Oe({},i),{[e]:a});return r=o2(a),o}else return i}),r&&await r}async function F6(e){if(!e.secret){const t=await O6(e.encryptedSecret);Ci.update(r=>{const n=r[e.id];if(e){const i=Oe({},n);return i.secret=t,ss(Oe({},r),{[n.id]:i})}else return r})}}async function L6(e){let t;Ci.update(r=>{const n=Oe({},r);return delete n[e],t=j6(e),n}),t&&await t}async function o2(e){await Fc.storeObject(a2,`${e.id}.json`,N6(e))}async function j6(e){await Fc.remove(`${e}.json`)}async function q6(){const e=await Fc.getAll("",!1);Ci.update(t=>{const r=Oe({},t);return Object.values(e).forEach(n=>{const i=r[n.id],s=B6(n);(!i||i.updatedAt<s.updatedAt)&&(r[n.id]=s)}),r})}Pn.on("sync-done",q6);function $6(e){let t,r,n,i,s;const a=e[2].default,o=b0(a,e,e[1],null);return{c(){t=At("div"),o&&o.c(),this.h()},l(c){t=St(c,"DIV",{});var u=Pt(t);o&&o.l(u),u.forEach(ft),this.h()},h(){t.hidden=!0},m(c,u){Et(c,t,u),o&&o.m(t,null),n=!0,i||(s=s3(r=W6.call(null,t,e[0])),i=!0)},p(c,[u]){o&&o.p&&(!n||u&2)&&g0(o,a,c,c[1],n?w0(a,c[1],u,null):v0(c[1]),null),r&&Pi(r.update)&&u&1&&r.update.call(null,c[0])},i(c){n||(Mt(o,c),n=!0)},o(c){Tt(o,c),n=!1},d(c){c&&ft(t),o&&o.d(c),i=!1,s()}}}function W6(e,t="body"){let r;async function n(s){if(t=s,typeof t=="string"){if(r=document.querySelector(t),r===null&&(await a3(),r=document.querySelector(t)),r===null)throw new Error(`No element found matching css selector: "${t}"`)}else if(t instanceof HTMLElement)r=t;else throw new TypeError(`Unknown portal target type: ${t===null?"null":typeof t}. Allowed types: string (CSS selector) or HTMLElement.`);r.appendChild(e),e.hidden=!1}function i(){e.parentNode&&e.parentNode.removeChild(e)}return n(t),{update:n,destroy:i}}function H6(e,t,r){let{$$slots:n={},$$scope:i}=t,{target:s="body"}=t;return e.$$set=a=>{"target"in a&&r(0,s=a.target),"$$scope"in a&&r(1,i=a.$$scope)},[s,i,n]}class G6 extends Ee{constructor(t){super(),ke(this,t,H6,$6,Yn,{target:0})}}function V6(e){let t;return{c(){t=jn("path"),this.h()},l(r){t=qn(r,"path",{d:!0}),Pt(t).forEach(ft),this.h()},h(){dt(t,"d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z")},m(r,n){Et(r,t,n)},p:Pe,d(r){r&&ft(t)}}}function Y6(e){let t,r;const n=[{viewBox:"0 0 24 24"},e[0]];let i={$$slots:{default:[V6]},$$scope:{ctx:e}};for(let s=0;s<n.length;s+=1)i=Re(i,n[s]);return t=new rs({props:i}),{c(){Vt(t.$$.fragment)},l(s){Yt(t.$$.fragment,s)},m(s,a){Jt(t,s,a),r=!0},p(s,[a]){const o=a&1?ts(n,[n[0],es(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),t.$set(o)},i(s){r||(Mt(t.$$.fragment,s),r=!0)},o(s){Tt(t.$$.fragment,s),r=!1},d(s){Xt(t,s)}}}function J6(e,t,r){return e.$$set=n=>{r(0,t=Re(Re({},t),mr(n)))},t=mr(t),[t]}class c2 extends Ee{constructor(t){super(),ke(this,t,J6,Y6,Yn,{})}}const X6=e=>({}),ch=e=>({});function uh(e){let t;const r=e[5].title,n=b0(r,e,e[6],ch);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),t=!0},p(i,s){n&&n.p&&(!t||s&64)&&g0(n,r,i,i[6],t?w0(r,i[6],s,X6):v0(i[6]),ch)},i(i){t||(Mt(n,i),t=!0)},o(i){Tt(n,i),t=!1},d(i){n&&n.d(i)}}}function lh(e){let t;const r=e[5].default,n=b0(r,e,e[6],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),t=!0},p(i,s){n&&n.p&&(!t||s&64)&&g0(n,r,i,i[6],t?w0(r,i[6],s,null):v0(i[6]),null)},i(i){t||(Mt(n,i),t=!0)},o(i){Tt(n,i),t=!1},d(i){n&&n.d(i)}}}function Z6(e){let t,r,n,i,s,a,o,c,u=e[1],h,f,p,d,v,A,S=e[1],C,B,U,O=uh(e);d=new c2({});let q=lh(e);return{c(){t=At("div"),r=At("div"),n=Lt(),i=At("div"),s=At("div"),a=At("div"),o=At("div"),c=At("div"),O.c(),h=Lt(),f=At("button"),p=At("div"),Vt(d.$$.fragment),v=Lt(),A=At("div"),q.c(),this.h()},l(g){t=St(g,"DIV",{class:!0,role:!0,"aria-modal":!0});var R=Pt(t);r=St(R,"DIV",{class:!0}),Pt(r).forEach(ft),n=jt(R),i=St(R,"DIV",{class:!0});var l=Pt(i);s=St(l,"DIV",{class:!0});var m=Pt(s);a=St(m,"DIV",{class:!0});var y=Pt(a);o=St(y,"DIV",{class:!0});var b=Pt(o);c=St(b,"DIV",{class:!0});var _=Pt(c);O.l(_),_.forEach(ft),h=jt(b),f=St(b,"BUTTON",{class:!0});var D=Pt(f);p=St(D,"DIV",{class:!0});var N=Pt(p);Yt(d.$$.fragment,N),N.forEach(ft),D.forEach(ft),b.forEach(ft),v=jt(y),A=St(y,"DIV",{class:!0});var W=Pt(A);q.l(W),W.forEach(ft),y.forEach(ft),m.forEach(ft),l.forEach(ft),R.forEach(ft),this.h()},h(){dt(r,"class","as-fixed as-inset-0 as-bg-gray-500 as-bg-opacity-25"),Ur(r,"as-hidden",!e[0]),dt(c,"class","as-flex-grow"),dt(p,"class","as-w-6 as-h-6"),dt(f,"class","as-bg-transparent as-border-0 as-text-black as-outline-none focus:as-outline-none"),dt(o,"class","as-flex as-items-start as-justify-between as-px-4 as-pt-4"),dt(A,"class","as-relative as-p-4 as-flex-auto"),dt(a,"class","as-relative as-bg-white as-text-left as-overflow-hidden as-shadow-xl sm:as-my-8 sm:as-container"),dt(s,"class","as-flex as-items-end sm:as-items-center as-justify-center as-min-h-full as-p-4 as-text-center sm:as-p-0"),dt(i,"class","as-fixed as-z-10 as-inset-0 as-overflow-y-auto"),Ur(i,"as-hidden",!e[0]),dt(t,"class","as-relative as-z-10"),dt(t,"role","dialog"),dt(t,"aria-modal","true")},m(g,R){Et(g,t,R),kt(t,r),kt(t,n),kt(t,i),kt(i,s),kt(s,a),kt(a,o),kt(o,c),O.m(c,null),kt(o,h),kt(o,f),kt(f,p),Jt(d,p,null),kt(a,v),kt(a,A),q.m(A,null),C=!0,B||(U=re(f,"click",e[2]),B=!0)},p(g,R){R&1&&Ur(r,"as-hidden",!g[0]),R&2&&tr(u,u=g[1])?(kr(),Tt(O,1,1,Pe),Pr(),O=uh(g),O.c(),Mt(O,1),O.m(c,null)):O.p(g,R),R&2&&tr(S,S=g[1])?(kr(),Tt(q,1,1,Pe),Pr(),q=lh(g),q.c(),Mt(q,1),q.m(A,null)):q.p(g,R),R&1&&Ur(i,"as-hidden",!g[0])},i(g){C||(Mt(O),Mt(d.$$.fragment,g),Mt(q),C=!0)},o(g){Tt(O),Tt(d.$$.fragment,g),Tt(q),C=!1},d(g){g&&ft(t),O.d(g),Xt(d),q.d(g),B=!1,U()}}}function Q6(e){let t,r;return t=new G6({props:{$$slots:{default:[Z6]},$$scope:{ctx:e}}}),{c(){Vt(t.$$.fragment)},l(n){Yt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},p(n,[i]){const s={};i&67&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){r||(Mt(t.$$.fragment,n),r=!0)},o(n){Tt(t.$$.fragment,n),r=!1},d(n){Xt(t,n)}}}function t4(e,t,r){let{$$slots:n={},$$scope:i}=t,{onClose:s=()=>{}}=t,{open:a=!1}=t,o=k1(),c;function u(){r(0,a=!1),s()}return e.$$set=h=>{"onClose"in h&&r(3,s=h.onClose),"open"in h&&r(0,a=h.open),"$$scope"in h&&r(6,i=h.$$scope)},e.$$.update=()=>{e.$$.dirty&17&&c!==a&&(r(1,o=k1()),r(4,c=a))},[a,o,u,s,c,n,i]}class Tu extends Ee{constructor(t){super(),ke(this,t,t4,Q6,tr,{onClose:3,open:0})}}var e4=Object.assign;function Cu(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return typeof e=="function"?e.apply(void 0,t):e}function u2(e){function t(i,s){var a,o,c=r();return i=e4({},c||{},(a=Cu(e,i,c))!==null&&a!==void 0?a:i),a=n.ctx=Object.freeze(i),n.ancestry.unshift(a),s=s(a),n.ancestry.shift(),n.ctx=(o=n.ancestry[0])!==null&&o!==void 0?o:null,s}function r(){return n.ctx}var n={ancestry:[]};return{bind:function(i,s){return function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return t(i,function(){return s.apply(void 0,a)})}},run:t,use:r,useX:function(i){var s,a=n.ctx;if(i=(s=Cu(i))!==null&&s!==void 0?s:"Context was used after it was closed",!a)throw i instanceof String?i.valueOf():Error(i&&Cu(i));return n.ctx}}}var _a=Object.assign;function t1(e){return typeof e=="function"}function Me(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return!e.apply(void 0,t)}}function l2(e){return e===null}var r4=Me(l2);function e1(e){return e===void 0}var n4=Me(e1);function Lc(e){return e===null||e1(e)}var i4=Me(Lc);function kn(e){return String(e)===e}function h2(e,t){return kn(e)&&kn(t)&&e.endsWith(t)}var s4=Me(h2);function f2(e,t){return e===t}var a4=Me(f2);function Sn(e){var t=Number(e);return!(isNaN(parseFloat(String(e)))||isNaN(Number(e))||!isFinite(t))}var o4=Me(Sn);function oa(e,t){return Sn(e)&&Sn(t)&&Number(e)>Number(t)}function Va(e,t){return Sn(e)&&Sn(t)&&Number(e)===Number(t)}var c4=Me(Va);function Po(e,t){return Va(e,t)||oa(e,t)}function r1(e){return!!Array.isArray(e)}var u4=Me(r1);function d2(e,t){return!!(r1(t)||kn(t)&&kn(e))&&t.indexOf(e)!==-1}var l4=Me(d2);function ca(e,t){return Sn(e)&&Sn(t)&&Number(e)<Number(t)}function xo(e,t){return Va(e,t)||ca(e,t)}function p2(e,t,r){return Po(e,t)&&xo(e,r)}var h4=Me(p2);function m2(e){return Lc(e)||kn(e)&&!e.trim()}var f4=Me(m2);function Aa(e){return!!e===e}var d4=Me(Aa);function n1(e){return typeof e=="number"}var p4=Me(n1);function fc(e,t){return Va(e.length,t)}var m4=Me(fc);function i1(e){return!e||(n1(e)?e===0:Object.prototype.hasOwnProperty.call(e,"length")?fc(e,0):typeof e=="object"&&fc(Object.keys(e),0))}var y4=Me(i1);function y2(e,t){return e in t}var b4=Me(y2);function b2(e){return Number.isNaN(e)}var g4=Me(b2),v4=Me(kn);function g2(e){return!!e}var w4=Me(g2);function v2(e,t){if(Lc(t))return!1;for(var r in t)if(t[r]===e)return!0;return!1}var _4=Me(v2);function w2(e,t){return t instanceof RegExp?t.test(e):!!kn(t)&&new RegExp(t).test(e)}var A4=Me(w2);function hh(e,t){return kn(e)&&kn(t)&&e.startsWith(t)}var Zi={condition:function(e,t){try{return t(e)}catch{return!1}},doesNotEndWith:s4,doesNotStartWith:Me(hh),endsWith:h2,equals:f2,greaterThan:oa,greaterThanOrEquals:Po,gt:oa,gte:Po,inside:d2,isArray:r1,isBetween:p2,isBlank:m2,isBoolean:Aa,isEmpty:i1,isEven:function(e){return!!Sn(e)&&e%2==0},isFalsy:w4,isKeyOf:y2,isNaN:b2,isNegative:function(e){return ca(e,0)},isNotArray:u4,isNotBetween:h4,isNotBlank:f4,isNotBoolean:d4,isNotEmpty:y4,isNotKeyOf:b4,isNotNaN:g4,isNotNull:r4,isNotNullish:i4,isNotNumber:p4,isNotNumeric:o4,isNotString:v4,isNotUndefined:n4,isNotValueOf:_4,isNull:l2,isNullish:Lc,isNumber:n1,isNumeric:Sn,isOdd:function(e){return!!Sn(e)&&e%2!=0},isPositive:function(e){return oa(e,0)},isString:kn,isTruthy:g2,isUndefined:e1,isValueOf:v2,lengthEquals:fc,lengthNotEquals:m4,lessThan:ca,lessThanOrEquals:xo,longerThan:function(e,t){return oa(e.length,t)},longerThanOrEquals:function(e,t){return Po(e.length,t)},lt:ca,lte:xo,matches:w2,notEquals:a4,notInside:l4,notMatches:A4,numberEquals:Va,numberNotEquals:c4,shorterThan:function(e,t){return ca(e.length,t)},shorterThanOrEquals:function(e,t){return xo(e.length,t)},startsWith:hh};function s1(e){for(var t in Zi){var r=Zi[t];t1(r)&&e(t,r)}}var a1=u2(function(e,t){var r={value:e.value,meta:e.meta||{}};return t?e.set?_a(r,{parent:function(){return t&&{value:t.value,meta:t.meta,parent:t.parent}}}):t:_a(r,{parent:S4})});function S4(){return null}function Ba(e,t,r){if(r||arguments.length===2)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function jc(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t1(e)?e.apply(void 0,t):e}function _2(e,t){if(!e)throw t instanceof String?t.valueOf():Error(t&&jc(t))}function o1(){try{return t1(Proxy)}catch{return!1}}function E4(e,t){var r;return(r=jc(e))!==null&&r!==void 0?r:t}function dc(e,t){return e={pass:e},t&&(e.message=t),e}function A2(e,t,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];return _2(Aa(e)||e&&Aa(e.pass),"Incorrect return value for rule: "+JSON.stringify(e)),Aa(e)?dc(e):dc(e.pass,jc.apply(void 0,Ba([e.message,t,r],n,!1)))}function fh(e){function t(i,s,a){return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return _2((c=A2.apply(void 0,Ba([a1.run({value:e},function(){return s.apply(void 0,Ba([e],o,!1))}),a,e],o,!1))).pass,i1(c.message)?"enforce/".concat(a," failed with ").concat(JSON.stringify(e)):new String(c.message)),i}}var r={};if(!o1())return s1(function(i,s){r[i]=t(r,s,i)}),r;var n=new Proxy(r,{get:function(i,s){if(i=Zi[s])return t(n,i,s)}});return n}function k4(e,t){function r(a){n=!0,i=a}for(var n=!1,i=null,s=0;s<e.length;s++)if(t(e[s],r,s),n)return i}function dh(e){var t,r=[];return function n(i){return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var o=Zi[i];r.push(function(u){return A2.apply(void 0,Ba([o.apply(void 0,Ba([u],s,!1)),i,u],s,!1))});var c={run:function(u){return E4(k4(r,function(h,f){var p,d=a1.run({value:u},function(){return h(u)});d.pass||f(dc(!!d.pass,(p=jc(t,u,d.message))!==null&&p!==void 0?p:d.message))}),dc(!0))},test:function(u){return c.run(u).pass},message:function(u){return u&&(t=u),c}};return o1()?c=new Proxy(c,{get:function(u,h){return Zi[h]?n(h):u[h]}}):(s1(function(u){c[u]=n(u)}),c)}}(e)}var Ru=function(){function e(){if(!o1())return s1(function(r){t[r]=dh(r)}),_a(fh,t)}var t={context:function(){return a1.useX()},extend:function(r){_a(Zi,r),e()}};return e(),new Proxy(_a(fh,t),{get:function(r,n){return n in r?r[n]:Zi[n]?dh(n):void 0}})}(),ph,S2=(ph=0,function(){return"".concat(ph++)});function qc(e){return String(e)===e}function c1(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return!e.apply(void 0,t)}}var Ri=Object.assign;function pc(e){var t=Number(e);return!(isNaN(parseFloat(String(e)))||isNaN(Number(e))||!isFinite(t))}function l0(e,t){return pc(e)&&pc(t)&&Number(e)===Number(t)}function za(e,t){return pc(e)&&pc(t)&&Number(e)>Number(t)}function $c(e){function t(i,s){var a=t.get(i);return a?a[1]:(s=s(),n.unshift([i.concat(),s]),za(n.length,e)&&(n.length=e),s)}function r(i){return n.findIndex(function(s){var a=s[0];return l0(i.length,a.length)&&i.every(function(o,c){return o===a[c]})})}e===void 0&&(e=1);var n=[];return t.invalidate=function(i){-1<(i=r(i))&&n.splice(i,1)},t.get=function(i){return n[r(i)]||null},t}var P4=c1(function(e){return e===null});function Or(e){return typeof e=="function"}function Ms(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Or(e)?e.apply(void 0,t):e}function E2(e,t){var r;return(r=Ms(e))!==null&&r!==void 0?r:t}function u1(e){return(e=[].concat(e))[e.length-1]}function h0(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n];Array.isArray(i)?r.push(h0(i,t)):(i=t(i),P4(i)&&r.push(i))}return r}function k2(e){return[].concat(e).reduce(function(t,r){return Array.isArray(r)?t.concat(k2(r)):[].concat(t).concat(r)},[])}function mc(e,t){var r=0;for(t=t.slice(0,-1);r<t.length;r++){var n=t[r];e[n]=E2(e[n],[]),e=e[n]}return e}var Ts,Mr=Ts||(Ts={});Mr[Mr.DEFAULT=0]="DEFAULT",Mr[Mr.SUITE=1]="SUITE",Mr[Mr.EACH=2]="EACH",Mr[Mr.SKIP_WHEN=3]="SKIP_WHEN",Mr[Mr.OMIT_WHEN=4]="OMIT_WHEN",Mr[Mr.GROUP=5]="GROUP";var yc,yo=yc||(yc={});function x4(){var e=0;return{current:function(){return e},next:function(){e++}}}function P2(e,t){return t===void 0&&(t=[]),{cursor:x4(),keys:{current:{},prev:{}},path:t,type:e}}yo[yo.ALL=0]="ALL",yo[yo.EAGER=1]="EAGER";var oe=u2(function(e,t){return t?null:Ri({},{exclusion:{tests:{},groups:{}},inclusion:{},isolate:P2(Ts.DEFAULT),mode:[yc.ALL]},e)});function cr(){return oe.useX().stateRef}function x2(e){return cr().optionalFields()[0][e]}function M4(e,t){(0,cr().optionalFields()[1])(function(r){var n;return Ri(r,((n={})[e]=Ms(t,r[e]),n))})}function l1(e){var t;return(t=x2(e))===null||t===void 0?void 0:t[0]}function f0(){Cs(function(e){return e})}function Cs(e){(0,cr().testObjects()[1])(function(t){return{prev:t.prev,current:[].concat(e(t.current))}})}function h1(){return qr().filter(function(e){return e.isPending()})}var T4=$c();function qr(){var e=cr().testObjects()[0].current;return T4([e],function(){return k2(e)})}var Sa,mh=Sa||(Sa={});mh.Error="error",mh.Warning="warning";var M2=function(){function e(t,r,n){var i=n===void 0?{}:n;n=i.message;var s=i.groupName;i=i.key,this.key=null,this.id=S2(),this.severity=Sa.Error,this.status=Iu,this.fieldName=t,this.testFn=r,s&&(this.groupName=s),n&&(this.message=n),i&&(this.key=i)}return e.prototype.run=function(){try{var t=this.testFn()}catch(r){t=r,this.message===void 0&&qc(t)&&(this.message=r),t=!1}return t===!1&&this.fail(),t},e.prototype.setStatus=function(t){this.isFinalStatus()&&t!==Uu||(this.status=t)},e.prototype.warns=function(){return this.severity===Sa.Warning},e.prototype.setPending=function(){this.setStatus(wh)},e.prototype.fail=function(){this.setStatus(this.warns()?gh:bh)},e.prototype.done=function(){this.isFinalStatus()||this.setStatus(vh)},e.prototype.warn=function(){this.severity=Sa.Warning},e.prototype.isFinalStatus=function(){return this.hasFailures()||this.isCanceled()||this.isPassing()},e.prototype.skip=function(t){this.isPending()&&!t||this.setStatus(yh)},e.prototype.cancel=function(){this.setStatus(_h),f0()},e.prototype.reset=function(){this.status=Iu,f0()},e.prototype.omit=function(){this.setStatus(Uu)},e.prototype.valueOf=function(){return!this.isFailing()},e.prototype.hasFailures=function(){return this.isFailing()||this.isWarning()},e.prototype.isNonActionable=function(){return this.isSkipped()||this.isOmitted()||this.isCanceled()},e.prototype.isPending=function(){return this.statusEquals(wh)},e.prototype.isTested=function(){return this.hasFailures()||this.isPassing()},e.prototype.isOmitted=function(){return this.statusEquals(Uu)},e.prototype.isUntested=function(){return this.statusEquals(Iu)},e.prototype.isFailing=function(){return this.statusEquals(bh)},e.prototype.isCanceled=function(){return this.statusEquals(_h)},e.prototype.isSkipped=function(){return this.statusEquals(yh)},e.prototype.isPassing=function(){return this.statusEquals(vh)},e.prototype.isWarning=function(){return this.statusEquals(gh)},e.prototype.statusEquals=function(t){return this.status===t},e}(),Iu="UNTESTED",yh="SKIPPED",bh="FAILED",gh="WARNING",vh="PASSING",wh="PENDING",_h="CANCELED",Uu="OMITTED";function Rs(e,t){if(!e)throw t instanceof String?t.valueOf():Error(t&&Ms(t))}function C4(e){function t(s,a,o){return n.references.push(),r(s,Ms(a,o)),function(){return[n.references[s],function(c){return r(s,Ms(c,n.references[s]))}]}}function r(s,a){var o=n.references[s];n.references[s]=a,Or(s=i[s][1])&&s(a,o),Or(e)&&e()}var n={references:[]},i=[];return{registerStateKey:function(s,a){var o=i.length;return i.push([s,a]),t(o,s)},reset:function(){var s=n.references;n.references=[],i.forEach(function(a,o){return t(o,a[0],s[o])})}}}function R4(e,t){var r=t.suiteId;return t=t.suiteName,{optionalFields:e.registerStateKey(function(){return{}}),suiteId:e.registerStateKey(r),suiteName:e.registerStateKey(t),testCallbacks:e.registerStateKey(function(){return{fieldCallbacks:{},doneCallbacks:[]}}),testObjects:e.registerStateKey(function(n){return{prev:n?n.current:[],current:[]}})}}function d0(e){return e==null}function Ah(e){setTimeout(function(){throw Error(e)},0)}function I4(e,t){e=(e=e.type)===void 0?Ts.DEFAULT:e,Rs(Or(t));var r=P2(e,bc());return e=oe.run({isolate:r},function(){return r.keys.prev=function(){var n=cr().testObjects()[0].prev;return[].concat(mc(n,bc())).reduce(function(i,s){return s instanceof M2&&!d0(s.key)&&(i[s.key]=s),i},{})}(),Cs(function(n){var i=r.path;return mc(n,i)[u1(i)]=[],n}),t()}),gi().cursor.next(),e}function gi(){return oe.useX().isolate}function bc(){var e=gi();return e.path.concat(e.cursor.current())}var ur,Sh=ur||(ur={});Sh.WARNINGS="warnings",Sh.ERRORS="errors";var Is,Eh=Is||(Is={});function f1(e){return e===ur.ERRORS?Is.ERROR_COUNT:Is.WARN_COUNT}function Bs(e){return!e||(typeof e=="number"?e===0:Object.prototype.hasOwnProperty.call(e,"length")?l0(e.length,0):typeof e=="object"&&l0((e=Object.keys(e)).length,0))}Eh.ERROR_COUNT="errorCount",Eh.WARN_COUNT="warnCount";var Wc=c1(Bs);function Qi(e,t){return!(!t||e.fieldName!==t)}var Du=c1(function(e,t){return e.groupName===t});function T2(e,t){return qr().some(function(r){return C2(r,e,t)})}function C2(e,t,r){return(r=!e.hasFailures()||r&&!Qi(e,r))||(e=e.warns(),r=t===ur.WARNINGS!=!!e),!r}function kh(e){return!!R2(e)||!T2(ur.ERRORS,e)&&!Bs(qr())&&!function(t){return Wc(h1().filter(function(r){return I2(r,t)}))}(e)&&function(t){return qr().every(function(r){return!(!t||Qi(r,t))||U2(r,t)})}(e)}function R2(e){return!!e&&((t=x2(e))===null||t===void 0?void 0:t[1])===!0;var t}function I2(e,t){return!(t&&!Qi(e,t))&&l1(e.fieldName)!==!0}function U2(e,t){return!(!t||Qi(e,t))||l1(e.fieldName)===!0||e.isTested()||e.isOmitted()}function zs(){var e=oe.useX().summary;return Rs(e),e}function U4(){var e=qr(),t=Ri({errorCount:0,warnCount:0,testCount:0},{groups:{},tests:{},valid:!1});return e.reduce(function(r,n){var i=r.tests;i[n.fieldName]=Ph(i,n),i[n.fieldName].valid=i[n.fieldName].valid!==!1&&kh(n.fieldName);var s=r.groups,a=n.groupName;return a&&(s[a]=s[a]||{},s[a][n.fieldName]=Ph(s[a],n),i=s[a][n.fieldName],s[a][n.fieldName].valid===!1?n=!1:n=!!R2(n=n.fieldName)||!function(o,c,u){return qr().some(function(h){return!Du(h,c)&&C2(h,o,u)})}(ur.ERRORS,a,n)&&!function(o,c){return Wc(h1().filter(function(u){return!Du(u,o)&&I2(u,c)}))}(a,n)&&function(o,c){return qr().every(function(u){return!!Du(u,o)||U2(u,c)})}(a,n),i.valid=n),r},t),t.valid=kh(),function(r){for(var n in r.tests)r.errorCount+=r.tests[n].errorCount,r.warnCount+=r.tests[n].warnCount,r.testCount+=r.tests[n].testCount;return r}(t)}function Ph(e,t){function r(a){var o=f1(a);s[o]++,i&&(s[a]=(s[a]||[]).concat(i))}var n=t.fieldName,i=t.message;e[n]=e[n]||Ri({errorCount:0,warnCount:0,testCount:0},{errors:[],warnings:[]});var s=e[n];return t.isNonActionable()||(e[n].testCount++,t.isFailing()?r(ur.ERRORS):t.isWarning()&&r(ur.WARNINGS)),s}function D2(e,t,r){var n;return((n=e==null?void 0:e[r])===null||n===void 0?void 0:n[t])||[]}function O2(e,t){var r,n={},i=f1(t);for(r in e)za(e[r][i],0)&&(n[r]=e[r][t]||[]);return n}function D4(e){return N2(ur.ERRORS,e)}function O4(e){return N2(ur.WARNINGS,e)}function N2(e,t){var r=zs().tests;return t?D2(r,e,t):O2(r,e)}function N4(e,t){return B2(e,ur.ERRORS,t)}function B4(e,t){return B2(e,ur.WARNINGS,t)}function B2(e,t,r){return e=zs().groups[e],r?D2(e,t,r):O2(e,t)}function z4(e){return z2(Is.ERROR_COUNT,e)}function K4(e){return z2(Is.WARN_COUNT,e)}function z2(e,t){var r,n=zs();return za(t?(r=n.tests[t])===null||r===void 0?void 0:r[e]:n[e],0)}function F4(e,t){return K2(ur.ERRORS,e,t)}function L4(e,t){return K2(ur.WARNINGS,e,t)}function K2(e,t,r){var n,i,s=zs();if(e=f1(e),!(t=s.groups[t]))return!1;if(r)return za((n=t[r])===null||n===void 0?void 0:n[e],0);for(var a in t)if(za((i=t[a])===null||i===void 0?void 0:i[e],0))return!0;return!1}function j4(e){var t=zs();return e?!!p0(t.tests,e):t.valid}function q4(e,t){if(!(e=zs().groups[e]))return!1;if(t)return p0(e,t);for(var r in e)if(!p0(e,r))return!1;return!0}function p0(e,t){var r;return!((r=e[t])===null||r===void 0||!r.valid)}var $4=$c(1);function d1(){var e=qr(),t={stateRef:cr()};return $4([e],oe.bind(t,function(){var r=U4(),n=cr().suiteName()[0],i={summary:r};return Ri(r,{getErrors:oe.bind(i,D4),getErrorsByGroup:oe.bind(i,N4),getWarnings:oe.bind(i,O4),getWarningsByGroup:oe.bind(i,B4),hasErrors:oe.bind(i,z4),hasErrorsByGroup:oe.bind(i,F4),hasWarnings:oe.bind(i,K4),hasWarningsByGroup:oe.bind(i,L4),isValid:oe.bind(i,j4),isValidByGroup:oe.bind(i,q4),suiteName:n})}))}function gc(e){var t=h1();return!Bs(t)&&(e?t.some(function(r){return Qi(r,e)}):Wc(t))}var W4=$c(20);function F2(){var e=qr(),t={stateRef:cr()};return W4([e],oe.bind(t,function(){return Ri({},d1(),{done:oe.bind(t,V4)})}))}function H4(e,t,r){return!(Or(e)&&(!t||r.tests[t]&&!Bs(r.tests[t].testCount)))}function G4(e){return!(gc()&&(!e||gc(e)))}function V4(){function e(){return n(d1())}for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=(t=t.reverse())[0];return t=t[1],r=F2(),H4(n,t,r)?r:G4(t)?(e(),r):(Y4(e,t),r)}function Y4(e,t){(0,cr().testCallbacks()[1])(function(r){return t?r.fieldCallbacks[t]=(r.fieldCallbacks[t]||[]).concat(e):r.doneCallbacks.push(e),r})}function xh(e){return e.forEach(function(t){return t()})}function J4(){var e=function(){var t={};return{emit:function(r,n){(t[r]||[]).forEach(function(i){i(n)})},on:function(r,n){return t[r]=(t[r]||[]).concat(n),{off:function(){t[r]=(t[r]||[]).filter(function(i){return i!==n})}}}}}();return e.on(_r.TEST_COMPLETED,function(t){if(!t.isCanceled()){t.done(),t=t.fieldName;var r=cr().testCallbacks()[0].fieldCallbacks;t&&!gc(t)&&Array.isArray(r[t])&&xh(r[t]),gc()||e.emit(_r.ALL_RUNNING_TESTS_FINISHED)}}),e.on(_r.SUITE_CALLBACK_DONE_RUNNING,function(){(function(){function t(n){r[n.fieldName]&&(n.omit(),M4(n.fieldName,function(i){return[i[0],!0]}))}if(!Bs(cr().optionalFields()[0])){var r={};Cs(function(n){return h0(n,function(i){if(Object.prototype.hasOwnProperty.call(r,i.fieldName))t(i);else{var s=l1(i.fieldName);Or(s)&&(r[i.fieldName]=s(),t(i))}return i})})}})()}),e.on(_r.ALL_RUNNING_TESTS_FINISHED,function(){xh(cr().testCallbacks()[0].doneCallbacks)}),e.on(_r.REMOVE_FIELD,function(t){qr().forEach(function(r){Qi(r,t)&&(r.cancel(),function(n){Cs(function(i){return h0(i,function(s){return n!==s?s:null})})}(r))})}),e.on(_r.RESET_FIELD,function(t){qr().forEach(function(r){Qi(r,t)&&r.reset()})}),e}function L2(){var e=oe.useX();return Rs(e.bus),e.bus}var _r,Gs=_r||(_r={});function j2(e){return q2(0,"tests",e)}function q2(e,t,r){var n=oe.useX("hook called outside of a running suite.");r&&[].concat(r).forEach(function(i){qc(i)&&(n.exclusion[t][i]=e===0)})}function Mh(e){for(var t in e)if(e[t]===!0)return!0;return!1}function Th(){var e,t=oe.useX().exclusion;for(e in t.groups)if(t.groups[e])return!0;return!1}function X4(e,t,r){if(r||arguments.length===2)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function Ch(e){var t=e.asyncTest,r=e.message;if(t&&Or(t.then)){var n=L2().emit,i=cr(),s=oe.bind({stateRef:i},function(){f0(),n(_r.TEST_COMPLETED,e)});i=oe.bind({stateRef:i},function(a){e.isCanceled()||(e.message=qc(a)?a:r,e.fail(),s())});try{t.then(s,i)}catch{i()}}}function Rh(e){var t=cr().testObjects()[0].prev;if(Bs(t))return Mo(e),e;var r=bc();if(t=mc(t,r)[u1(r)],!d0(e.key)){t=e.key,(r=gi().keys.prev[t])&&(e=r),r=e;var n=gi().keys.current;return d0(n[t])?n[t]=r:Ah('Encountered the same test key "'.concat(t,`" twice. This may lead to tests overriding each other's results, or to tests being unexpectedly omitted.`)),Mo(e),e}return!Wc(r=t)||r.fieldName===e.fieldName&&r.groupName===e.groupName||(gi().type===Ts.EACH||Ah(`Vest Critical Error: Tests called in different order than previous run.
    expected: `.concat(t.fieldName,`
    received: `).concat(e.fieldName,`
    This can happen on one of two reasons:
    1. You're using if/else statements to conditionally select tests. Instead, use "skipWhen".
    2. You are iterating over a list of tests, and their order changed. Use "each" and a custom key prop so that Vest retains their state.`)),function(){var i=gi().cursor.current();Cs(function(s){return s.splice(i),s})}(),t=null),Mo(e=E2(t,e)),e}function Mo(e){var t=bc();Cs(function(r){return mc(r,t)[u1(t)]=e,r})}function $2(e){var t=gi().cursor,r=yc.EAGER;if(r=!(oe.useX().mode[0]!==r||!T2(ur.ERRORS,e.fieldName)))return e.skip(),Rh(e),t.next(),e;if(r=Rh(e),oe.useX().omitted)return r.omit(),t.next(),r;if(function(i){var s=i.fieldName;if(i=i.groupName,oe.useX().skipped)return!0;var a=oe.useX(),o=a.exclusion;a=a.inclusion;var c=o.tests,u=c[s];if(u===!1)return!0;if(u=u===!0,i){var h=oe.useX().exclusion.groups;if(h=Object.prototype.hasOwnProperty.call(h,i)?h[i]===!1:Th())return!0;if(o.groups[i]===!0)return!(u||!Mh(c)&&c[s]!==!1)}return(i=!!Th()&&!i)||!u&&!!Mh(c)&&!Ms(a[s])}(e))return r.skip(!!oe.useX().skipped),t.next(),r;if(e!==r&&r.fieldName===e.fieldName&&r.groupName===e.groupName&&r.isPending()&&r.cancel(),Mo(e),e.isUntested()){r=L2();var n=function(i){return oe.run({currentTest:i},function(){return i.run()})}(e);try{n&&Or(n.then)?(e.asyncTest=n,e.setPending(),Ch(e)):r.emit(_r.TEST_COMPLETED,e)}catch(i){throw Error(`Unexpected error encountered during test registration.
      Test Object: `.concat(JSON.stringify(e),`.
      Error: `).concat(i,"."))}}else(r=e.asyncTest)&&Or(r.then)&&(e.setPending(),Ch(e));return t.next(),e}function Ih(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Or(t[1])?t:X4([void 0],t,!0);t=n[0],r=n[1],n=n[2],Rs(qc(e),Uh("fieldName","string")),Rs(Or(r),Uh("Test callback","function"));var i=oe.useX();return $2(t=new M2(e,r,{message:t,groupName:i.groupName,key:n}))}Gs.TEST_COMPLETED="test_completed",Gs.ALL_RUNNING_TESTS_FINISHED="all_running_tests_finished",Gs.REMOVE_FIELD="remove_field",Gs.RESET_FIELD="reset_field",Gs.SUITE_CALLBACK_DONE_RUNNING="suite_callback_done_running",j2.group=function(e){return q2(0,"groups",e)};var Ou=Ri(Ih,{memo:function(e){var t=$c(10);return function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];i=gi().cursor.current();var s=(n=n.reverse())[0],a=n[1],o=n[2];return i=[cr().suiteId()[0],r,i].concat(s),(n=t.get(i))===null?t(i,function(){return e(r,o,a)}):n[1].isCanceled()?(t.invalidate(i),t(i,function(){return e(r,o,a)})):$2(n[1])}}(Ih)});function Uh(e,t){return"Incompatible params passed to test function. ".concat(e," must be a ").concat(t)}function Z4(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(e=e.reverse())[0];e=e[1],Rs(Or(r),"vest.create: Expected callback to be a function.");var n=J4(),i=C4();return e={stateRef:R4(i,{suiteId:S2(),suiteName:e}),bus:n},Ri(oe.bind(e,function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return i.reset(),I4({type:Ts.SUITE},function(){r.apply(void 0,s)}),n.emit(_r.SUITE_CALLBACK_DONE_RUNNING),F2()}),{get:oe.bind(e,d1),remove:oe.bind(e,function(s){n.emit(_r.REMOVE_FIELD,s)}),reset:i.reset,resetField:oe.bind(e,function(s){n.emit(_r.RESET_FIELD,s)})})}function Q4(e){let t;return{c(){t=jn("path"),this.h()},l(r){t=qn(r,"path",{d:!0}),Pt(t).forEach(ft),this.h()},h(){dt(t,"d","M256 105c-101.8 0-188.4 62.4-224 151 35.6 88.6 122.2 151 224 151s188.4-62.4 224-151c-35.6-88.6-122.2-151-224-151zm0 251.7c-56 0-101.8-45.3-101.8-100.7S200 155.3 256 155.3 357.8 200.6 357.8 256 312 356.7 256 356.7zm0-161.1c-33.6 0-61.1 27.2-61.1 60.4s27.5 60.4 61.1 60.4 61.1-27.2 61.1-60.4-27.5-60.4-61.1-60.4z")},m(r,n){Et(r,t,n)},p:Pe,d(r){r&&ft(t)}}}function t8(e){let t,r;const n=[{viewBox:"0 0 512 512"},e[0]];let i={$$slots:{default:[Q4]},$$scope:{ctx:e}};for(let s=0;s<n.length;s+=1)i=Re(i,n[s]);return t=new rs({props:i}),{c(){Vt(t.$$.fragment)},l(s){Yt(t.$$.fragment,s)},m(s,a){Jt(t,s,a),r=!0},p(s,[a]){const o=a&1?ts(n,[n[0],es(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),t.$set(o)},i(s){r||(Mt(t.$$.fragment,s),r=!0)},o(s){Tt(t.$$.fragment,s),r=!1},d(s){Xt(t,s)}}}function e8(e,t,r){return e.$$set=n=>{r(0,t=Re(Re({},t),mr(n)))},t=mr(t),[t]}class p1 extends Ee{constructor(t){super(),ke(this,t,e8,t8,Yn,{})}}function r8(e){let t;return{c(){t=jn("path"),this.h()},l(r){t=qn(r,"path",{d:!0}),Pt(t).forEach(ft),this.h()},h(){dt(t,"d","M256.1 144.8c56.2 0 101.9 45.3 101.9 101.1 0 13.1-2.6 25.5-7.3 37l59.5 59c30.8-25.5 55-58.4 69.9-96-35.3-88.7-122.3-151.6-224.2-151.6-28.5 0-55.8 5.1-81.1 14.1l44 43.7c11.6-4.6 24.1-7.3 37.3-7.3zM52.4 89.7l46.5 46.1 9.4 9.3c-33.9 26-60.4 60.8-76.3 100.8 35.2 88.7 122.2 151.6 224.1 151.6 31.6 0 61.7-6.1 89.2-17l8.6 8.5 59.7 59 25.9-25.7L78.2 64 52.4 89.7zM165 201.4l31.6 31.3c-1 4.2-1.6 8.7-1.6 13.1 0 33.5 27.3 60.6 61.1 60.6 4.5 0 9-.6 13.2-1.6l31.6 31.3c-13.6 6.7-28.7 10.7-44.8 10.7-56.2 0-101.9-45.3-101.9-101.1 0-15.8 4.1-30.7 10.8-44.3zm87.8-15.7l64.2 63.7.4-3.2c0-33.5-27.3-60.6-61.1-60.6l-3.5.1z")},m(r,n){Et(r,t,n)},p:Pe,d(r){r&&ft(t)}}}function n8(e){let t,r;const n=[{viewBox:"0 0 512 512"},e[0]];let i={$$slots:{default:[r8]},$$scope:{ctx:e}};for(let s=0;s<n.length;s+=1)i=Re(i,n[s]);return t=new rs({props:i}),{c(){Vt(t.$$.fragment)},l(s){Yt(t.$$.fragment,s)},m(s,a){Jt(t,s,a),r=!0},p(s,[a]){const o=a&1?ts(n,[n[0],es(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),t.$set(o)},i(s){r||(Mt(t.$$.fragment,s),r=!0)},o(s){Tt(t.$$.fragment,s),r=!1},d(s){Xt(t,s)}}}function i8(e,t,r){return e.$$set=n=>{r(0,t=Re(Re({},t),mr(n)))},t=mr(t),[t]}class Hc extends Ee{constructor(t){super(),ke(this,t,i8,n8,Yn,{})}}function s8(e){let t,r,n,i,s;return{c(){t=jn("path"),r=Lt(),n=jn("path"),i=Lt(),s=jn("path"),this.h()},l(a){t=qn(a,"path",{d:!0}),Pt(t).forEach(ft),r=jt(a),n=qn(a,"path",{d:!0}),Pt(n).forEach(ft),i=jt(a),s=qn(a,"path",{d:!0}),Pt(s).forEach(ft),this.h()},h(){dt(t,"d","M352 115h90c3.3 0 6-2.7 6-6 0-8.2-3.7-16-10-21.3l-77.1-64.2c-4.9-4.1-14.2-7.4-20.6-7.4-4.1 0-7.4 3.3-7.4 7.4V96c.1 10.5 8.6 19 19.1 19z"),dt(n,"d","M307 96V16H176c-17.6 0-32 14.4-32 32v336c0 17.6 14.4 32 32 32h240c17.6 0 32-14.4 32-32V141h-96c-24.8 0-45-20.2-45-45z"),dt(s,"d","M116 412V80H96c-17.6 0-32 14.4-32 32v352c0 17.6 14.4 32 32 32h256c17.6 0 32-14.4 32-32v-20H148c-17.6 0-32-14.4-32-32z")},m(a,o){Et(a,t,o),Et(a,r,o),Et(a,n,o),Et(a,i,o),Et(a,s,o)},p:Pe,d(a){a&&ft(t),a&&ft(r),a&&ft(n),a&&ft(i),a&&ft(s)}}}function a8(e){let t,r;const n=[{viewBox:"0 0 512 512"},e[0]];let i={$$slots:{default:[s8]},$$scope:{ctx:e}};for(let s=0;s<n.length;s+=1)i=Re(i,n[s]);return t=new rs({props:i}),{c(){Vt(t.$$.fragment)},l(s){Yt(t.$$.fragment,s)},m(s,a){Jt(t,s,a),r=!0},p(s,[a]){const o=a&1?ts(n,[n[0],es(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),t.$set(o)},i(s){r||(Mt(t.$$.fragment,s),r=!0)},o(s){Tt(t.$$.fragment,s),r=!1},d(s){Xt(t,s)}}}function o8(e,t,r){return e.$$set=n=>{r(0,t=Re(Re({},t),mr(n)))},t=mr(t),[t]}class W2 extends Ee{constructor(t){super(),ke(this,t,o8,a8,Yn,{})}}function c8(e){let t;return{c(){t=jn("path"),this.h()},l(r){t=qn(r,"path",{d:!0}),Pt(t).forEach(ft),this.h()},h(){dt(t,"d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z")},m(r,n){Et(r,t,n)},p:Pe,d(r){r&&ft(t)}}}function u8(e){let t,r;const n=[{viewBox:"0 0 24 24"},e[0]];let i={$$slots:{default:[c8]},$$scope:{ctx:e}};for(let s=0;s<n.length;s+=1)i=Re(i,n[s]);return t=new rs({props:i}),{c(){Vt(t.$$.fragment)},l(s){Yt(t.$$.fragment,s)},m(s,a){Jt(t,s,a),r=!0},p(s,[a]){const o=a&1?ts(n,[n[0],es(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),t.$set(o)},i(s){r||(Mt(t.$$.fragment,s),r=!0)},o(s){Tt(t.$$.fragment,s),r=!1},d(s){Xt(t,s)}}}function l8(e,t,r){return e.$$set=n=>{r(0,t=Re(Re({},t),mr(n)))},t=mr(t),[t]}class H2 extends Ee{constructor(t){super(),ke(this,t,l8,u8,Yn,{})}}function h8(e){let t,r,n,i;return{c(){t=At("input"),this.h()},l(s){t=St(s,"INPUT",{id:!0,name:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){dt(t,"id",e[2]),dt(t,"name",e[3]),dt(t,"class","as-input as-flex-1"),dt(t,"type","password"),dt(t,"placeholder","Enter a Password"),t.disabled=r=!e[6]},m(s,a){Et(s,t,a),Ue(t,e[0]),n||(i=[re(t,"input",e[12]),re(t,"input",function(){Pi(e[4])&&e[4].apply(this,arguments)})],n=!0)},p(s,a){e=s,a&4&&dt(t,"id",e[2]),a&8&&dt(t,"name",e[3]),a&64&&r!==(r=!e[6])&&(t.disabled=r),a&1&&t.value!==e[0]&&Ue(t,e[0])},d(s){s&&ft(t),n=!1,Nr(i)}}}function f8(e){let t,r,n,i;return{c(){t=At("input"),this.h()},l(s){t=St(s,"INPUT",{id:!0,name:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){dt(t,"id",e[2]),dt(t,"name",e[3]),dt(t,"class","as-input as-flex-1"),dt(t,"type","text"),dt(t,"placeholder","Enter a Password"),t.disabled=r=!e[6]},m(s,a){Et(s,t,a),Ue(t,e[0]),n||(i=[re(t,"input",e[11]),re(t,"input",function(){Pi(e[4])&&e[4].apply(this,arguments)})],n=!0)},p(s,a){e=s,a&4&&dt(t,"id",e[2]),a&8&&dt(t,"name",e[3]),a&64&&r!==(r=!e[6])&&(t.disabled=r),a&1&&t.value!==e[0]&&Ue(t,e[0])},d(s){s&&ft(t),n=!1,Nr(i)}}}function d8(e){let t,r;return t=new Hc({}),{c(){Vt(t.$$.fragment)},l(n){Yt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},i(n){r||(Mt(t.$$.fragment,n),r=!0)},o(n){Tt(t.$$.fragment,n),r=!1},d(n){Xt(t,n)}}}function p8(e){let t,r;return t=new p1({}),{c(){Vt(t.$$.fragment)},l(n){Yt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},i(n){r||(Mt(t.$$.fragment,n),r=!0)},o(n){Tt(t.$$.fragment,n),r=!1},d(n){Xt(t,n)}}}function m8(e){let t,r,n,i,s,a,o,c,u,h,f,p,d,v,A,S,C,B;function U(m,y){return m[1]?f8:h8}let O=U(e),q=O(e);a=new H2({}),h=new W2({});const g=[p8,d8],R=[];function l(m,y){return m[1]?0:1}return v=l(e),A=R[v]=g[v](e),{c(){t=At("div"),q.c(),r=Lt(),n=At("div"),i=At("button"),s=At("div"),Vt(a.$$.fragment),o=Lt(),c=At("button"),u=At("div"),Vt(h.$$.fragment),f=Lt(),p=At("button"),d=At("div"),A.c(),this.h()},l(m){t=St(m,"DIV",{class:!0});var y=Pt(t);q.l(y),r=jt(y),n=St(y,"DIV",{class:!0});var b=Pt(n);i=St(b,"BUTTON",{class:!0});var _=Pt(i);s=St(_,"DIV",{class:!0});var D=Pt(s);Yt(a.$$.fragment,D),D.forEach(ft),_.forEach(ft),o=jt(b),c=St(b,"BUTTON",{class:!0});var N=Pt(c);u=St(N,"DIV",{class:!0});var W=Pt(u);Yt(h.$$.fragment,W),W.forEach(ft),N.forEach(ft),f=jt(b),p=St(b,"BUTTON",{class:!0});var tt=Pt(p);d=St(tt,"DIV",{class:!0});var w=Pt(d);A.l(w),w.forEach(ft),tt.forEach(ft),b.forEach(ft),y.forEach(ft),this.h()},h(){dt(s,"class","as-w-5 as-h-5"),dt(i,"class","as-btn as-primary as-p-2"),i.disabled=e[5],Ur(i,"as-secondary",e[6]),dt(u,"class","as-w-5 as-h-5"),dt(c,"class","as-btn as-primary as-p-2"),c.disabled=e[5],dt(d,"class","as-w-5 as-h-5"),dt(p,"class","as-btn as-primary as-p-2"),dt(n,"class","as-grow-0 as-flex-row as-flex"),dt(t,"class","as-flex")},m(m,y){Et(m,t,y),q.m(t,null),kt(t,r),kt(t,n),kt(n,i),kt(i,s),Jt(a,s,null),kt(n,o),kt(n,c),kt(c,u),Jt(h,u,null),kt(n,f),kt(n,p),kt(p,d),R[v].m(d,null),S=!0,C||(B=[re(i,"click",e[9]),re(c,"click",e[8]),re(p,"click",e[7])],C=!0)},p(m,[y]){O===(O=U(m))&&q?q.p(m,y):(q.d(1),q=O(m),q&&(q.c(),q.m(t,r))),(!S||y&32)&&(i.disabled=m[5]),y&64&&Ur(i,"as-secondary",m[6]),(!S||y&32)&&(c.disabled=m[5]);let b=v;v=l(m),v!==b&&(kr(),Tt(R[b],1,1,()=>{R[b]=null}),Pr(),A=R[v],A||(A=R[v]=g[v](m),A.c()),Mt(A,1),A.m(d,null))},i(m){S||(Mt(a.$$.fragment,m),Mt(h.$$.fragment,m),Mt(A),S=!0)},o(m){Tt(a.$$.fragment,m),Tt(h.$$.fragment,m),Tt(A),S=!1},d(m){m&&ft(t),q.d(),Xt(a),Xt(h),R[v].d(),C=!1,Nr(B)}}}function y8(e,t,r){let{id:n=void 0}=t,{name:i=void 0}=t,{password:s}=t,{onInput:a=()=>{}}=t,{onShow:o=()=>{}}=t,{show:c=!1}=t,{disabled:u=!1}=t;function h(){r(1,c=!c),c===!1?r(6,p=!0):o()}async function f(){navigator.clipboard.writeText(s)}let p=c;function d(){r(6,p=!p),p===!1&&r(1,c=!0)}function v(){s=this.value,r(0,s)}function A(){s=this.value,r(0,s)}return e.$$set=S=>{"id"in S&&r(2,n=S.id),"name"in S&&r(3,i=S.name),"password"in S&&r(0,s=S.password),"onInput"in S&&r(4,a=S.onInput),"onShow"in S&&r(10,o=S.onShow),"show"in S&&r(1,c=S.show),"disabled"in S&&r(5,u=S.disabled)},[s,c,n,i,a,u,p,h,f,d,o,v,A]}class G2 extends Ee{constructor(t){super(),ke(this,t,y8,m8,tr,{id:2,name:3,password:0,onInput:4,onShow:10,show:1,disabled:5})}}function Dh(e,t,r){const n=e.slice();return n[1]=t[r],n}function Oh(e){let t,r=e[1]+"",n;return{c(){t=At("li"),n=me(r),this.h()},l(i){t=St(i,"LI",{class:!0});var s=Pt(t);n=ye(s,r),s.forEach(ft),this.h()},h(){dt(t,"class","as-text-red-500")},m(i,s){Et(i,t,s),kt(t,n)},p(i,s){s&1&&r!==(r=i[1]+"")&&Ea(n,r)},d(i){i&&ft(t)}}}function b8(e){let t,r=e[0],n=[];for(let i=0;i<r.length;i+=1)n[i]=Oh(Dh(e,r,i));return{c(){t=At("ul");for(let i=0;i<n.length;i+=1)n[i].c()},l(i){t=St(i,"UL",{});var s=Pt(t);for(let a=0;a<n.length;a+=1)n[a].l(s);s.forEach(ft)},m(i,s){Et(i,t,s);for(let a=0;a<n.length;a+=1)n[a].m(t,null)},p(i,[s]){if(s&1){r=i[0];let a;for(a=0;a<r.length;a+=1){const o=Dh(i,r,a);n[a]?n[a].p(o,s):(n[a]=Oh(o),n[a].c(),n[a].m(t,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},i:Pe,o:Pe,d(i){i&&ft(t),o3(n,i)}}}function g8(e,t,r){let{messages:n=[]}=t;return e.$$set=i=>{"messages"in i&&r(0,n=i.messages)},[n]}class ua extends Ee{constructor(t){super(),ke(this,t,g8,b8,tr,{messages:0})}}const m1={},To={};class Gc{constructor(t,r){if(t!==m1)throw new TypeError("Options can only be created with the some or none functions");this._value=r}static some(t){return sr(t)}static none(){return ir()}static from(t){return t!=null?sr(t):ir()}static fromJSON(t){return Gc.from(t)}isNone(){return this._value===To}isSome(){return!this.isNone()}expect(t){if(this.isSome())return this._value;throw new Error(typeof t=="function"?t():t)}unwrap(){return this.expect("Tried to unwrap value of none Option")}unwrapOr(t){return this.isSome()?this._value:t}unwrapOrElse(t){return this.isSome()?this._value:t()}map(t){return this.isSome()?sr(t(this._value)):ir()}mapOr(t,r){return this.isSome()?sr(t(this._value)):sr(r)}mapOrElse(t,r){return this.isSome()?sr(t(this._value)):sr(r())}flatMap(t){return this.isSome()?t(this._value):ir()}flatMapOr(t,r){return this.isSome()?t(this._value):r}flatMapOrElse(t,r){return this.isSome()?t(this._value):r()}and(t){return this.isSome()?t:ir()}andThen(t){return this.isSome()?t(this._value):ir()}or(t){return this.isNone()?t:this}orElse(t){return this.isNone()?t():this}xor(t){const r=this.isSome(),n=t.isSome();return r&&!n?this:!r&&n?t:ir()}filter(t){return this.isSome()&&t(this._value)?this:ir()}getOrInsert(t){return this.isNone()&&(this._value=t),this}getOrInsertWith(t){return this.isNone()&&(this._value=t()),this}clear(){return this._value=To,this}take(){if(this.isSome()){const t=this._value;return this._value=To,sr(t)}else return ir()}from(t){return t!=null?this._value=t:this.clear(),this}replace(t){return this._value=t,this}ifSome(t,r){return this.isSome()?t(this._value):r&&r(),this}ifNone(t,r){return this.isNone()?t():r&&r(this._value),this}toJSON(){return this.unwrapOr(null)}toJS(){return this.unwrapOr(null)}}const sr=e=>new Gc(m1,e),ir=()=>new Gc(m1,To);class ue{constructor(t){this._index=0,this._iter=t}[Symbol.iterator](){return this}iter(){return this}next(){return this._iter.next()}nextWithIndex(){const t=this._iter.next();return t.done?t:{value:[t.value,this._index++]}}enumerate(){throw new Error("iter/Enumerate was not imported!")}peekable(){throw new Error("iter/Peekable was not imported!")}forEach(t){throw new Error("iter/ForEach was not imported!")}map(t){throw new Error("iter/Map was not imported!")}merge(t){throw new Error("iter/Merge was not imported!")}concat(t){return this.merge(t)}filter(t){throw new Error("iter/Filter was not imported!")}step(t){throw new Error("iter/Step was not imported!")}skip(t){throw new Error("iter/Skip was not imported!")}take(t){throw new Error("iter/Take was not imported!")}toMap(t,r){throw new Error("iter/ToMap was not imported!")}count(){return this.reduce(0,t=>t+1)}consume(){let t=this.next();for(;!t.done;)t=this.next();return this}toArray(){return this.reduce([],(t,r)=>(t.push(r),t))}join(t){return this.toArray().join(t)}indexOf(t){let r=this.next(),n=0;for(;!r.done;){if(r.value===t)return n;n++,r=this.next()}return-1}findIndex(t){let r=this.nextWithIndex();for(;!r.done;){const[n,i]=r.value;if(t(n,i))return i;r=this.nextWithIndex()}return-1}find(t){let r=this.nextWithIndex();for(;!r.done;){const[n,i]=r.value;if(t(n,i))return sr(n);r=this.nextWithIndex()}return ir()}findAll(t){return this.filter(t)}nth(t=0){let r=this.next();for(t<0&&(t=0);!r.done;){if(t--<=0)return sr(r.value);r=this.next()}return ir()}first(){return this.nth(0)}last(){let t=this.next();for(;!t.done;){const r=this.next();if(r.done)return sr(t.value);t=r}return ir()}any(t){return this.findIndex(t)!==-1}some(t){return this.any(t)}none(t){return this.findIndex(t)===-1}all(t){let r=this.nextWithIndex();for(;!r.done;){const[n,i]=r.value;if(!t(n,i))return!1;r=this.nextWithIndex()}return!0}unflatten(t){throw new Error("iter/Unflatten was not imported!")}reduce(t,r){let n=this.next();for(;!n.done;){const i=n.value;t=r(t,i,this._index-1),n=this.next()}return t}reverse(){return Co(this.toArray().reverse())}}function Co(e){return e!=null?typeof e[Symbol.iterator]=="function"?new ue(e[Symbol.iterator]()):typeof e.next=="function"?e instanceof ue?e:new ue(e):Co(typeof e=="object"?Object.entries(e):[e]):Co([])}class v8 extends ue{constructor(t){super(t)}next(){const t=super.nextWithIndex();return t.done?t:{value:w8(t.value)}}}ue.prototype.enumerate=function(){return new v8(this)};function w8(e){const t=e[0],r=e;return r[0]=e[1],r[1]=t,r}class _8 extends ue{constructor(t,r){super(t),this._fn=r}next(){let t=super.nextWithIndex();for(;!t.done;){const[r,n]=t.value;if(this._fn(r,n))return{done:!1,value:r};t=super.nextWithIndex()}return{done:!0,value:void 0}}}ue.prototype.filter=function(t){return new _8(this,t)};class A8 extends ue{constructor(t,r){super(t),this._fn=([n,i])=>(r(n,i),n)}next(){const t=super.nextWithIndex();return t.done?t:{done:!1,value:this._fn(t.value)}}}ue.prototype.forEach=function(t){return new A8(this,t)};class S8 extends ue{constructor(t,r){super(t),this._fn=([n,i])=>r(n,i)}next(){const t=super.nextWithIndex();return t.done?t:{done:!1,value:this._fn(t.value)}}}ue.prototype.map=function(t){return new S8(this,t)};class E8 extends ue{constructor(t,r){super(t),this._other=r}next(){const t=super.next();return t.done?this._other.next():t}}ue.prototype.merge=function(t){return new E8(this,t)};class k8 extends ue{constructor(){super(...arguments),this.peeked=[]}unpeekAll(){return this.peeked.length=0,this}unpeek(){return this.peeked.length>0?sr(this.peeked.shift()):ir()}peek(t=0){if(t<this.peeked.length)return sr(this.peeked[t]);{let r=this.peeked.length-t-1,n=super.next();for(;!n.done&&(this.peeked.push(n.value),!(--r<=0));)n=super.next();return n.done?ir():sr(n.value)}}next(){const t=this.unpeek();if(t.isSome())return{done:!1,value:t.unwrap()};const r=super.next();return r.done?r:{done:!1,value:r.value}}}ue.prototype.peekable=function(){return new k8(this)};class P8 extends ue{constructor(t,r){super(t),this._skipped=0,this._skip=(r<=0?0:r)|0}next(){let t=super.next();for(;!t.done;)if(this._skipped<=this._skip)this._skipped+=1,t=super.next();else return t;return{done:!0,value:void 0}}}ue.prototype.skip=function(e){return new P8(this,e)};class x8 extends ue{constructor(t,r){super(t),this._stepped=0,this._step=r<=0?1:r|0}next(){let t=super.next();for(;!t.done;)if(this._stepped<this._step)this._stepped+=1,t=super.next();else return this._stepped=0,t;return{done:!0,value:void 0}}}ue.prototype.step=function(e){return new x8(this,e)};class M8 extends ue{constructor(t,r){super(t),this._taken=0,this._count=(r<=0?0:r)|0}next(){return this._taken<this._count?(this._taken+=1,super.next()):{done:!0,value:void 0}}}ue.prototype.take=function(t){return new M8(this,t)};const T8=e=>e,C8=e=>e;class R8 extends ue{constructor(t,r=T8,n=C8){super(t),this._map=([i,s])=>[r(i,s),n(i,s)]}toObject(){return this.reduce({},(t,r)=>(t[r[0]]=r[1],t))}next(){const t=super.nextWithIndex();return t.done?t:{done:!1,value:this._map(t.value)}}}ue.prototype.toMap=function(t,r){return new R8(this,t,r)};class I8 extends ue{constructor(t,r){super(t),this._fn=r}next(){return this._fn(this._iter)}}ue.prototype.unflatten=function(t){return new I8(this,t)};var ys;(function(e){e[e.Forward=0]="Forward",e[e.Backward=1]="Backward"})(ys||(ys={}));class y1{constructor(t,r,n=1){this.start=t!==t?0:t,this.end=r!==r?this.start-1:r,this.step=n!==n?1:Math.abs(n),this.direction=t>r?ys.Backward:ys.Forward}static from(t,r,n=1){return new y1(t,r,n)}getStart(){return this.start}getEnd(){return this.end}getStep(){return this.step}getDirection(){return this.direction}contains(t){return this.start<=t&&t<=this.end}isEmpty(){return this.direction===ys.Forward?this.start>this.end:this.start<this.end}iter(){return new ue(this)}[Symbol.iterator](){return this}next(){if(this.isEmpty())return{done:!0,value:void 0};{const t=this.start;return this.direction===ys.Forward?this.start+=this.step:this.start-=this.step,{done:!1,value:t}}}}const U8=y1.from;function V2(e,t){return e[0]=(t&4278190080)>>24,e[1]=(t&16711680)>>16,e[2]=(t&65280)>>8,e[3]=t&255,e}const _i=Math.pow(2,31)-1|0;class D8 extends ue{constructor(t){super(t),this.rng=t}iter(){return new ue(this)}next(){return{done:!1,value:this.rng.nextFloat()}}}class O8 extends ue{constructor(t,r=0,n=1){super(t),this.rng=t,this.min=r,this.max=n}iter(){return new ue(this)}nextFloat(){return this.rng.nextFloatInRange(this.min,this.max)}next(){return{done:!1,value:this.nextFloat()}}}class N8 extends ue{constructor(t,r=0,n=_i){super(t),this.rng=t,this.min=r|0,this.max=n|0}iter(){return new ue(this)}nextInt(){return this.rng.nextIntInRange(this.min,this.max)}next(){return{done:!1,value:this.nextInt()}}}const B8=new Uint8Array(4);class b1{nextFloat(){return this.nextInt()/_i}nextFloatInRange(t=0,r=1){return t+this.nextFloat()*(r-t)}nextIntInRange(t=0,r=_i){return Math.round(this.nextFloatInRange(t,r))}shuffle(t){const r=t.length;for(let n=0;n<r;n++){const i=n+this.nextIntInRange(0,r-n-1),s=t[n];t[n]=t[i],t[i]=s}return t}fromArray(t){return t.length?sr(t[this.nextIntInRange(0,t.length-1)]):ir()}keyFromObject(t){return this.fromArray(Object.keys(t))}valueFromObject(t){return this.fromArray(Object.values(t))}fillBytes(t){const r=B8;for(let n=0,i=t.length;n<i;n++){const s=n%4;s===0&&V2(r,this.nextInt()),t[n]=r[s]}return t}[Symbol.iterator](){return this}iter(){return new ue(this)}next(){return{done:!1,value:this.nextInt()}}float(){return new D8(this)}uniformFloat(t=0,r=1){return new O8(this,t,r)}uniformInt(t=0,r=_i){return new N8(this,t,r)}}let Ro,m0;if(typeof crypto!="undefined"&&crypto.getRandomValues){const e=new Uint32Array(1);Ro=()=>crypto.getRandomValues(e)[0]%_i,m0=t=>crypto.getRandomValues(Array.isArray(t)?new Uint8Array(t):t)}else{const e=new Uint8Array(4);Ro=()=>Math.random()*_i|0,m0=t=>{const r=e;for(let n=0,i=t.length;n<i;n++){const s=n%4;s===0&&V2(r,Ro()),t[n]=r[s]}return t}}class z8 extends b1{nextInt(){return Ro()}fillBytes(t){return m0(t)}}class Y2 extends b1{constructor(t=423257940){super(),this.seed=t}setSeed(t=423257940){return this.seed=t,this}nextInt(){return this.seed=Math.imul(48271,this.seed)|0%_i,this.seed&_i}}const K8=new Y2;class g1 extends b1{constructor(t,r,n,i){super(),this.x=423257940,this.y=2829571177,this.z=2541948421,this.w=289122235,this.set(t,r,n,i)}static fromSeed(t){return new g1().setSeed(t)}setSeed(t){const r=K8.setSeed(t);return this.set(r.nextInt(),r.nextInt(),r.nextInt(),r.nextInt())}set(t=423257940,r=2829571177,n=2541948421,i=289122235){return this.x=t|0,this.y=r|0,this.z=n|0,this.w=i|0,this}nextInt(){const t=this.x,r=t^t<<11;this.x=this.y,this.y=this.z,this.z=this.w;const n=this.w;return this.w=n^n>>19^(r^r>>8),this.w}}new Y2;new g1;const bo={length:16,includeSymbols:!0,excludeSimilarCharacters:!1,excludeAmbiguousCharacters:!1};function F8(e={}){const t=Math.max(6,e.length||bo.length),r=e.includeSymbols!=null?e.includeSymbols:bo.includeSymbols,n=e.excludeSimilarCharacters!=null?e.excludeSimilarCharacters:bo.excludeSimilarCharacters,i=e.excludeAmbiguousCharacters!=null?e.excludeAmbiguousCharacters:bo.excludeAmbiguousCharacters,s=new z8;return U8(0,t).iter().map(()=>y0(s,r,n,i)).join("")}const L8="il1Lo0O".split(""),j8="{}[]()/\\'\"`~,;:.<>".split("");function y0(e,t,r,n){let i=t&&e.nextFloat()>.75?$8(e):H8(e);return r&&L8.includes(i)&&(i=y0(e,t,r,n)),n&&j8.includes(i)&&(i=y0(e,t,r,n)),i}const q8="`~!@#$%^&*()-_+={}[]|:;<>,.\\/?".split("").sort(()=>Math.random()>.5?-1:1);function $8(e){return e.fromArray(q8).unwrap()}const W8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split("").sort(()=>Math.random()>.5?-1:1);function H8(e){return e.fromArray(W8).unwrap()}function G8(e){let t,r,n,i,s,a,o,c,u,h,f,p,d,v,A,S,C,B;return{c(){t=At("label"),r=me("Symbols?"),n=Lt(),i=At("input"),s=Lt(),a=At("label"),o=me("Exclude Similar?"),c=Lt(),u=At("input"),h=Lt(),f=At("label"),p=me("Exclude Ambiguous?"),d=Lt(),v=At("input"),A=Lt(),S=At("input"),this.h()},l(U){t=St(U,"LABEL",{for:!0});var O=Pt(t);r=ye(O,"Symbols?"),O.forEach(ft),n=jt(U),i=St(U,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),s=jt(U),a=St(U,"LABEL",{for:!0});var q=Pt(a);o=ye(q,"Exclude Similar?"),q.forEach(ft),c=jt(U),u=St(U,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),h=jt(U),f=St(U,"LABEL",{for:!0});var g=Pt(f);p=ye(g,"Exclude Ambiguous?"),g.forEach(ft),d=jt(U),v=St(U,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),A=jt(U),S=St(U,"INPUT",{id:!0,class:!0,type:!0,min:!0,placeholder:!0}),this.h()},h(){dt(t,"for","includeSymbols"),dt(i,"id","includeSymbols"),dt(i,"type","checkbox"),dt(i,"class","as-checkbox"),dt(i,"placeholder","Length"),dt(a,"for","excludeSimilarCharacters"),dt(u,"id","excludeSimilarCharacters"),dt(u,"type","checkbox"),dt(u,"class","as-checkbox"),dt(u,"placeholder","Length"),dt(f,"for","excludeAmbiguousCharacters"),dt(v,"id","excludeAmbiguousCharacters"),dt(v,"type","checkbox"),dt(v,"class","as-checkbox"),dt(v,"placeholder","Length"),dt(S,"id","length"),dt(S,"class","as-input"),dt(S,"type","number"),dt(S,"min",6),dt(S,"placeholder","Length")},m(U,O){Et(U,t,O),kt(t,r),Et(U,n,O),Et(U,i,O),i.checked=e[1],Et(U,s,O),Et(U,a,O),kt(a,o),Et(U,c,O),Et(U,u,O),u.checked=e[2],Et(U,h,O),Et(U,f,O),kt(f,p),Et(U,d,O),Et(U,v,O),v.checked=e[3],Et(U,A,O),Et(U,S,O),Ue(S,e[0]),C||(B=[re(i,"change",e[5]),re(u,"change",e[6]),re(v,"change",e[7]),re(S,"input",e[8])],C=!0)},p(U,[O]){O&2&&(i.checked=U[1]),O&4&&(u.checked=U[2]),O&8&&(v.checked=U[3]),O&1&&Hh(S.value)!==U[0]&&Ue(S,U[0])},i:Pe,o:Pe,d(U){U&&ft(t),U&&ft(n),U&&ft(i),U&&ft(s),U&&ft(a),U&&ft(c),U&&ft(u),U&&ft(h),U&&ft(f),U&&ft(d),U&&ft(v),U&&ft(A),U&&ft(S),C=!1,Nr(B)}}}function V8(e,t,r){function n(){return F8({length:i,includeSymbols:s,excludeSimilarCharacters:a,excludeAmbiguousCharacters:o})}let i=16,s=!0,a=!1,o=!1;function c(){s=this.checked,r(1,s)}function u(){a=this.checked,r(2,a)}function h(){o=this.checked,r(3,o)}function f(){i=Hh(this.value),r(0,i)}return[i,s,a,o,n,c,u,h,f]}class Y8 extends Ee{constructor(t){super(),ke(this,t,V8,G8,tr,{generate:4})}get generate(){return this.$$.ctx[4]}}function J8(e){let t;return{c(){t=jn("path"),this.h()},l(r){t=qn(r,"path",{d:!0}),Pt(t).forEach(ft),this.h()},h(){dt(t,"d","M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z")},m(r,n){Et(r,t,n)},p:Pe,d(r){r&&ft(t)}}}function X8(e){let t,r;const n=[{viewBox:"0 0 24 24"},e[0]];let i={$$slots:{default:[J8]},$$scope:{ctx:e}};for(let s=0;s<n.length;s+=1)i=Re(i,n[s]);return t=new rs({props:i}),{c(){Vt(t.$$.fragment)},l(s){Yt(t.$$.fragment,s)},m(s,a){Jt(t,s,a),r=!0},p(s,[a]){const o=a&1?ts(n,[n[0],es(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),t.$set(o)},i(s){r||(Mt(t.$$.fragment,s),r=!0)},o(s){Tt(t.$$.fragment,s),r=!1},d(s){Xt(t,s)}}}function Z8(e,t,r){return e.$$set=n=>{r(0,t=Re(Re({},t),mr(n)))},t=mr(t),[t]}class Q8 extends Ee{constructor(t){super(),ke(this,t,Z8,X8,Yn,{})}}function t7(e){let t;return{c(){t=At("input"),this.h()},l(r){t=St(r,"INPUT",{id:!0,name:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){dt(t,"id",e[2]),dt(t,"name",e[3]),dt(t,"class","as-input as-flex-1"),dt(t,"type","password"),dt(t,"placeholder","Hidden"),t.disabled=e[5]},m(r,n){Et(r,t,n)},p(r,n){n&4&&dt(t,"id",r[2]),n&8&&dt(t,"name",r[3]),n&32&&(t.disabled=r[5])},d(r){r&&ft(t)}}}function e7(e){let t,r,n;return{c(){t=At("textarea"),this.h()},l(i){t=St(i,"TEXTAREA",{id:!0,name:!0,rows:!0,class:!0,type:!0,placeholder:!0}),Pt(t).forEach(ft),this.h()},h(){dt(t,"id",e[2]),dt(t,"name",e[3]),dt(t,"rows",8),dt(t,"class","as-textarea as-flex-1 as-max-h-32 as-resize-none"),dt(t,"type","text"),dt(t,"placeholder","Enter a Password"),t.disabled=e[5]},m(i,s){Et(i,t,s),Ue(t,e[0]),r||(n=[re(t,"input",e[14]),re(t,"input",function(){Pi(e[4])&&e[4].apply(this,arguments)})],r=!0)},p(i,s){e=i,s&4&&dt(t,"id",e[2]),s&8&&dt(t,"name",e[3]),s&32&&(t.disabled=e[5]),s&1&&Ue(t,e[0])},d(i){i&&ft(t),r=!1,Nr(n)}}}function r7(e){let t,r;return t=new Hc({}),{c(){Vt(t.$$.fragment)},l(n){Yt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},i(n){r||(Mt(t.$$.fragment,n),r=!0)},o(n){Tt(t.$$.fragment,n),r=!1},d(n){Xt(t,n)}}}function n7(e){let t,r;return t=new p1({}),{c(){Vt(t.$$.fragment)},l(n){Yt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},i(n){r||(Mt(t.$$.fragment,n),r=!0)},o(n){Tt(t.$$.fragment,n),r=!1},d(n){Xt(t,n)}}}function i7(e){let t,r,n,i,s,a,o,c,u,h,f,p,d,v,A,S,C,B,U,O,q,g,R,l;function m(W,tt){return W[1]?e7:t7}let y=m(e),b=y(e);c=new Q8({}),p=new H2({}),S=new W2({});const _=[n7,r7],D=[];function N(W,tt){return W[1]?0:1}return O=N(e),q=D[O]=_[O](e),{c(){t=At("div"),b.c(),r=Lt(),n=At("div"),i=At("button"),s=At("input"),a=Lt(),o=At("div"),Vt(c.$$.fragment),u=Lt(),h=At("button"),f=At("div"),Vt(p.$$.fragment),d=Lt(),v=At("button"),A=At("div"),Vt(S.$$.fragment),C=Lt(),B=At("button"),U=At("div"),q.c(),this.h()},l(W){t=St(W,"DIV",{class:!0});var tt=Pt(t);b.l(tt),r=jt(tt),n=St(tt,"DIV",{class:!0});var w=Pt(n);i=St(w,"BUTTON",{class:!0});var I=Pt(i);s=St(I,"INPUT",{type:!0}),a=jt(I),o=St(I,"DIV",{class:!0});var J=Pt(o);Yt(c.$$.fragment,J),J.forEach(ft),I.forEach(ft),u=jt(w),h=St(w,"BUTTON",{class:!0});var Q=Pt(h);f=St(Q,"DIV",{class:!0});var nt=Pt(f);Yt(p.$$.fragment,nt),nt.forEach(ft),Q.forEach(ft),d=jt(w),v=St(w,"BUTTON",{class:!0});var ht=Pt(v);A=St(ht,"DIV",{class:!0});var lt=Pt(A);Yt(S.$$.fragment,lt),lt.forEach(ft),ht.forEach(ft),C=jt(w),B=St(w,"BUTTON",{class:!0});var ut=Pt(B);U=St(ut,"DIV",{class:!0});var z=Pt(U);q.l(z),z.forEach(ft),ut.forEach(ft),w.forEach(ft),tt.forEach(ft),this.h()},h(){dt(s,"type","file"),s.multiple=!1,s.hidden=!0,dt(o,"class","as-w-5 as-h-5"),dt(i,"class","as-btn as-primary as-p-2"),dt(f,"class","as-w-5 as-h-5"),dt(h,"class","as-btn as-primary as-p-2"),Ur(h,"as-secondary",!e[5]),dt(A,"class","as-w-5 as-h-5"),dt(v,"class","as-btn as-primary as-p-2"),dt(U,"class","as-w-5 as-h-5"),dt(B,"class","as-btn as-primary as-p-2"),dt(n,"class","as-absolute as-top-0 as-right-0 as-flex-row as-flex"),dt(t,"class","as-flex as-relative")},m(W,tt){Et(W,t,tt),b.m(t,null),kt(t,r),kt(t,n),kt(n,i),kt(i,s),e[15](s),kt(i,a),kt(i,o),Jt(c,o,null),kt(n,u),kt(n,h),kt(h,f),Jt(p,f,null),kt(n,d),kt(n,v),kt(v,A),Jt(S,A,null),kt(n,C),kt(n,B),kt(B,U),D[O].m(U,null),g=!0,R||(l=[re(s,"input",e[11]),re(i,"click",e[10]),re(h,"click",e[9]),re(v,"click",e[8]),re(B,"click",e[7])],R=!0)},p(W,[tt]){y===(y=m(W))&&b?b.p(W,tt):(b.d(1),b=y(W),b&&(b.c(),b.m(t,r))),tt&32&&Ur(h,"as-secondary",!W[5]);let w=O;O=N(W),O!==w&&(kr(),Tt(D[w],1,1,()=>{D[w]=null}),Pr(),q=D[O],q||(q=D[O]=_[O](W),q.c()),Mt(q,1),q.m(U,null))},i(W){g||(Mt(c.$$.fragment,W),Mt(p.$$.fragment,W),Mt(S.$$.fragment,W),Mt(q),g=!0)},o(W){Tt(c.$$.fragment,W),Tt(p.$$.fragment,W),Tt(S.$$.fragment,W),Tt(q),g=!1},d(W){W&&ft(t),b.d(),e[15](null),Xt(c),Xt(p),Xt(S),D[O].d(),R=!1,Nr(l)}}}function s7(e,t,r){let{id:n=void 0}=t,{name:i=void 0}=t,{text:s}=t,{onUploadFile:a=()=>{}}=t,{onInput:o=()=>{}}=t,{onShow:c=()=>{}}=t,{show:u=!1}=t;function h(){r(1,u=!u),u===!1?r(5,p=!0):c()}async function f(){navigator.clipboard.writeText(s)}let p=!u;function d(){r(5,p=!p),p===!1&&r(1,u=!0)}let v;function A(){v.click()}function S(U){if(!U.currentTarget.files)return;const O=U.currentTarget.files[0];if(O){const q=new FileReader;q.onload=g=>{var R;r(0,s=(R=g.target)==null?void 0:R.result),a(s)},q.readAsText(O)}}function C(){s=this.value,r(0,s)}function B(U){Dr[U?"unshift":"push"](()=>{v=U,r(6,v)})}return e.$$set=U=>{"id"in U&&r(2,n=U.id),"name"in U&&r(3,i=U.name),"text"in U&&r(0,s=U.text),"onUploadFile"in U&&r(12,a=U.onUploadFile),"onInput"in U&&r(4,o=U.onInput),"onShow"in U&&r(13,c=U.onShow),"show"in U&&r(1,u=U.show)},[s,u,n,i,o,p,v,h,f,d,A,S,a,c,C,B]}class J2 extends Ee{constructor(t){super(),ke(this,t,s7,i7,tr,{id:2,name:3,text:0,onUploadFile:12,onInput:4,onShow:13,show:1})}}function a7(e){let t,r,n,i,s,a;function o(u){e[19](u)}let c={id:"text",name:"secret",show:!0,onInput:e[7],onUploadFile:e[9]};return e[4]!==void 0&&(c.text=e[4]),i=new J2({props:c}),Dr.push(()=>mn(i,"text",o)),{c(){t=At("label"),r=me("Text"),n=Lt(),Vt(i.$$.fragment),this.h()},l(u){t=St(u,"LABEL",{for:!0});var h=Pt(t);r=ye(h,"Text"),h.forEach(ft),n=jt(u),Yt(i.$$.fragment,u),this.h()},h(){dt(t,"for","text")},m(u,h){Et(u,t,h),kt(t,r),Et(u,n,h),Jt(i,u,h),a=!0},p(u,h){const f={};!s&&h&16&&(s=!0,f.text=u[4],yn(()=>s=!1)),i.$set(f)},i(u){a||(Mt(i.$$.fragment,u),a=!0)},o(u){Tt(i.$$.fragment,u),a=!1},d(u){u&&ft(t),u&&ft(n),Xt(i,u)}}}function o7(e){let t,r,n,i,s,a,o,c;function u(p){e[17](p)}let h={id:"password",name:"secret",show:!0,onInput:e[7]};e[4]!==void 0&&(h.password=e[4]),i=new G2({props:h}),Dr.push(()=>mn(i,"password",u));let f={};return o=new Y8({props:f}),e[18](o),{c(){t=At("label"),r=me("Password"),n=Lt(),Vt(i.$$.fragment),a=Lt(),Vt(o.$$.fragment),this.h()},l(p){t=St(p,"LABEL",{for:!0});var d=Pt(t);r=ye(d,"Password"),d.forEach(ft),n=jt(p),Yt(i.$$.fragment,p),a=jt(p),Yt(o.$$.fragment,p),this.h()},h(){dt(t,"for","password")},m(p,d){Et(p,t,d),kt(t,r),Et(p,n,d),Jt(i,p,d),Et(p,a,d),Jt(o,p,d),c=!0},p(p,d){const v={};!s&&d&16&&(s=!0,v.password=p[4],yn(()=>s=!1)),i.$set(v);const A={};o.$set(A)},i(p){c||(Mt(i.$$.fragment,p),Mt(o.$$.fragment,p),c=!0)},o(p){Tt(i.$$.fragment,p),Tt(o.$$.fragment,p),c=!1},d(p){p&&ft(t),p&&ft(n),Xt(i,p),p&&ft(a),e[18](null),Xt(o,p)}}}function c7(e){let t,r,n,i,s;return{c(){t=At("div"),r=At("button"),n=me("Add"),this.h()},l(a){t=St(a,"DIV",{class:!0});var o=Pt(t);r=St(o,"BUTTON",{class:!0});var c=Pt(r);n=ye(c,"Add"),c.forEach(ft),o.forEach(ft),this.h()},h(){dt(r,"class","as-btn as-primary"),r.disabled=e[6],dt(t,"class","as-flex as-justify-end as-mt-6")},m(a,o){Et(a,t,o),kt(t,r),kt(r,n),i||(s=re(r,"click",e[11]),i=!0)},p(a,o){o&64&&(r.disabled=a[6])},d(a){a&&ft(t),i=!1,s()}}}function u7(e){let t,r,n,i,s,a,o,c;return{c(){t=At("div"),r=At("button"),n=me("Generate"),i=Lt(),s=At("button"),a=me("Add"),this.h()},l(u){t=St(u,"DIV",{class:!0});var h=Pt(t);r=St(h,"BUTTON",{class:!0});var f=Pt(r);n=ye(f,"Generate"),f.forEach(ft),i=jt(h),s=St(h,"BUTTON",{class:!0});var p=Pt(s);a=ye(p,"Add"),p.forEach(ft),h.forEach(ft),this.h()},h(){dt(r,"class","as-btn as-primary"),dt(s,"class","as-btn as-primary"),s.disabled=e[6],dt(t,"class","as-flex as-justify-between as-mt-6")},m(u,h){Et(u,t,h),kt(t,r),kt(r,n),kt(t,i),kt(t,s),kt(s,a),o||(c=[re(r,"click",e[10]),re(s,"click",e[11])],o=!0)},p(u,h){h&64&&(s.disabled=u[6])},d(u){u&&ft(t),o=!1,Nr(c)}}}function l7(e){let t,r,n,i,s,a,o,c,u,h,f,p,d,v,A,S,C,B,U,O,q,g,R,l,m,y,b,_,D,N,W,tt,w,I;a=new ua({props:{messages:e[1].getErrors("application")}}),d=new ua({props:{messages:e[1].getErrors("username")}}),l=new ua({props:{messages:e[1].getErrors("type")}});const J=[o7,a7],Q=[];function nt(z,H){return z[2]==="password"?0:z[2]==="text"?1:-1}~(y=nt(e))&&(b=Q[y]=J[y](e)),D=new ua({props:{messages:e[1].getErrors("secret")}});function ht(z,H){return z[2]==="password"?u7:c7}let lt=ht(e),ut=lt(e);return{c(){t=At("label"),r=me("Application or URL"),n=Lt(),i=At("input"),s=Lt(),Vt(a.$$.fragment),o=Lt(),c=At("label"),u=me("Username"),h=Lt(),f=At("input"),p=Lt(),Vt(d.$$.fragment),v=Lt(),A=At("label"),S=me("Secret Type"),C=Lt(),B=At("select"),U=At("option"),O=me("Password"),q=At("option"),g=me("Text"),R=Lt(),Vt(l.$$.fragment),m=Lt(),b&&b.c(),_=Lt(),Vt(D.$$.fragment),N=Lt(),ut.c(),W=Le(),this.h()},l(z){t=St(z,"LABEL",{for:!0});var H=Pt(t);r=ye(H,"Application or URL"),H.forEach(ft),n=jt(z),i=St(z,"INPUT",{id:!0,name:!0,class:!0,type:!0,placeholder:!0}),s=jt(z),Yt(a.$$.fragment,z),o=jt(z),c=St(z,"LABEL",{for:!0});var F=Pt(c);u=ye(F,"Username"),F.forEach(ft),h=jt(z),f=St(z,"INPUT",{id:!0,name:!0,class:!0,type:!0,placeholder:!0}),p=jt(z),Yt(d.$$.fragment,z),v=jt(z),A=St(z,"LABEL",{for:!0});var P=Pt(A);S=ye(P,"Secret Type"),P.forEach(ft),C=jt(z),B=St(z,"SELECT",{id:!0,class:!0});var G=Pt(B);U=St(G,"OPTION",{});var k=Pt(U);O=ye(k,"Password"),k.forEach(ft),q=St(G,"OPTION",{});var T=Pt(q);g=ye(T,"Text"),T.forEach(ft),G.forEach(ft),R=jt(z),Yt(l.$$.fragment,z),m=jt(z),b&&b.l(z),_=jt(z),Yt(D.$$.fragment,z),N=jt(z),ut.l(z),W=Le(),this.h()},h(){dt(t,"for","application"),dt(i,"id","application"),dt(i,"name","application"),dt(i,"class","as-input"),dt(i,"type","text"),dt(i,"placeholder","Application or URL"),dt(c,"for","username"),dt(f,"id","username"),dt(f,"name","username"),dt(f,"class","as-input"),dt(f,"type","text"),dt(f,"placeholder","Username"),dt(A,"for","type"),U.__value="password",U.value=U.__value,q.__value="text",q.value=q.__value,dt(B,"id","type"),dt(B,"class","as-input"),e[2]===void 0&&Gh(()=>e[16].call(B))},m(z,H){Et(z,t,H),kt(t,r),Et(z,n,H),Et(z,i,H),Ue(i,e[0]),Et(z,s,H),Jt(a,z,H),Et(z,o,H),Et(z,c,H),kt(c,u),Et(z,h,H),Et(z,f,H),Ue(f,e[3]),Et(z,p,H),Jt(d,z,H),Et(z,v,H),Et(z,A,H),kt(A,S),Et(z,C,H),Et(z,B,H),kt(B,U),kt(U,O),kt(B,q),kt(q,g),Io(B,e[2]),Et(z,R,H),Jt(l,z,H),Et(z,m,H),~y&&Q[y].m(z,H),Et(z,_,H),Jt(D,z,H),Et(z,N,H),ut.m(z,H),Et(z,W,H),tt=!0,w||(I=[re(i,"input",e[14]),re(i,"input",e[7]),re(i,"change",e[8]),re(f,"input",e[15]),re(f,"input",e[7]),re(B,"change",e[16])],w=!0)},p(z,[H]){H&1&&i.value!==z[0]&&Ue(i,z[0]);const F={};H&2&&(F.messages=z[1].getErrors("application")),a.$set(F),H&8&&f.value!==z[3]&&Ue(f,z[3]);const P={};H&2&&(P.messages=z[1].getErrors("username")),d.$set(P),H&4&&Io(B,z[2]);const G={};H&2&&(G.messages=z[1].getErrors("type")),l.$set(G);let k=y;y=nt(z),y===k?~y&&Q[y].p(z,H):(b&&(kr(),Tt(Q[k],1,1,()=>{Q[k]=null}),Pr()),~y?(b=Q[y],b?b.p(z,H):(b=Q[y]=J[y](z),b.c()),Mt(b,1),b.m(_.parentNode,_)):b=null);const T={};H&2&&(T.messages=z[1].getErrors("secret")),D.$set(T),lt===(lt=ht(z))&&ut?ut.p(z,H):(ut.d(1),ut=lt(z),ut&&(ut.c(),ut.m(W.parentNode,W)))},i(z){tt||(Mt(a.$$.fragment,z),Mt(d.$$.fragment,z),Mt(l.$$.fragment,z),Mt(b),Mt(D.$$.fragment,z),tt=!0)},o(z){Tt(a.$$.fragment,z),Tt(d.$$.fragment,z),Tt(l.$$.fragment,z),Tt(b),Tt(D.$$.fragment,z),tt=!1},d(z){z&&ft(t),z&&ft(n),z&&ft(i),z&&ft(s),Xt(a,z),z&&ft(o),z&&ft(c),z&&ft(h),z&&ft(f),z&&ft(p),Xt(d,z),z&&ft(v),z&&ft(A),z&&ft(C),z&&ft(B),z&&ft(R),Xt(l,z),z&&ft(m),~y&&Q[y].d(z),z&&ft(_),Xt(D,z),z&&ft(N),ut.d(z),z&&ft(W),w=!1,Nr(I)}}}const Nh=Z4((e,t)=>{j2(t),Ou("application","Application is required",()=>{Ru(e.application).isNotBlank()}),Ou("username","Username is required",()=>{Ru(e.username).isNotBlank()}),Ou("secret","Secret is required",()=>{Ru(e.secret).isNotBlank()})});function h7(e,t,r){let n,{application:i=""}=t,{onAdd:s=()=>{}}=t,a="password",o="",c="",u=Nh.get();i&&h("application");function h(l){r(1,u=Nh({type:a,application:i,username:o,secret:c},l))}function f(l){h(l.currentTarget.name)}function p(l){r(0,i=ka(l.currentTarget.value)),h("application")}function d(l){r(4,c=l),h("secret")}let v;function A(){r(4,c=v.generate()),h("secret")}let S=!1;async function C(){r(13,S=!0);try{await z6({type:a,application:i,username:o,secret:c}),s()}catch(l){console.error(l),Yh(l.message)}finally{r(13,S=!1)}}function B(){i=this.value,r(0,i)}function U(){o=this.value,r(3,o)}function O(){a=Vh(this),r(2,a)}function q(l){c=l,r(4,c)}function g(l){Dr[l?"unshift":"push"](()=>{v=l,r(5,v)})}function R(l){c=l,r(4,c)}return e.$$set=l=>{"application"in l&&r(0,i=l.application),"onAdd"in l&&r(12,s=l.onAdd)},e.$$.update=()=>{e.$$.dirty&8194&&r(6,n=S||!u.isValid())},[i,u,a,o,c,v,n,f,p,d,A,C,s,S,B,U,O,q,g,R]}class f7 extends Ee{constructor(t){super(),ke(this,t,h7,l7,tr,{application:0,onAdd:12})}}function d7(e){let t;return{c(){t=jn("path"),this.h()},l(r){t=qn(r,"path",{d:!0}),Pt(t).forEach(ft),this.h()},h(){dt(t,"d","M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z")},m(r,n){Et(r,t,n)},p:Pe,d(r){r&&ft(t)}}}function p7(e){let t,r;const n=[{viewBox:"0 0 24 24"},e[0]];let i={$$slots:{default:[d7]},$$scope:{ctx:e}};for(let s=0;s<n.length;s+=1)i=Re(i,n[s]);return t=new rs({props:i}),{c(){Vt(t.$$.fragment)},l(s){Yt(t.$$.fragment,s)},m(s,a){Jt(t,s,a),r=!0},p(s,[a]){const o=a&1?ts(n,[n[0],es(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),t.$set(o)},i(s){r||(Mt(t.$$.fragment,s),r=!0)},o(s){Tt(t.$$.fragment,s),r=!1},d(s){Xt(t,s)}}}function m7(e,t,r){return e.$$set=n=>{r(0,t=Re(Re({},t),mr(n)))},t=mr(t),[t]}class y7 extends Ee{constructor(t){super(),ke(this,t,m7,p7,Yn,{})}}function b7(e){let t,r,n,i,s;return n=new y7({}),{c(){t=At("div"),r=At("div"),Vt(n.$$.fragment),this.h()},l(a){t=St(a,"DIV",{class:!0});var o=Pt(t);r=St(o,"DIV",{class:!0});var c=Pt(r);Yt(n.$$.fragment,c),c.forEach(ft),o.forEach(ft),this.h()},h(){dt(r,"class",i="as-transition-opacity "+(e[0]?"as-animate-wiggle":"")),Ur(r,"as-opacity-0",!e[0]),Ur(r,"as-opacity-100",e[0]),dt(t,"class","as-relative as-w-8 as-h-8")},m(a,o){Et(a,t,o),kt(t,r),Jt(n,r,null),s=!0},p(a,[o]){(!s||o&1&&i!==(i="as-transition-opacity "+(a[0]?"as-animate-wiggle":"")))&&dt(r,"class",i),o&1&&Ur(r,"as-opacity-0",!a[0]),o&1&&Ur(r,"as-opacity-100",a[0])},i(a){s||(Mt(n.$$.fragment,a),s=!0)},o(a){Tt(n.$$.fragment,a),s=!1},d(a){a&&ft(t),Xt(n)}}}function g7(e,t,r){let{saving:n=!1}=t,i=!1,s=Date.now();return e.$$set=a=>{"saving"in a&&r(1,n=a.saving)},e.$$.update=()=>{if(e.$$.dirty&6)if(n)r(0,i=!0),r(2,s=Date.now());else{const a=Date.now()-s;a<1e3?setTimeout(()=>{r(0,i=!1)},1e3-a):r(0,i=!1)}},[i,n,s]}class v7 extends Ee{constructor(t){super(),ke(this,t,g7,b7,tr,{saving:1})}}const Bh=()=>{};function w7(e,t=0,r={}){let n=null,i=!1;const s=r.before||Bh,a=r.after||Bh;function o(){n!=null&&(clearTimeout(n),n=null)}function c(){i=!1,o()}function u(){o(),h()}function h(...p){i=!1,e.apply(this,p),a()}const f=function(...d){i||(i=!0,s()),o(),!!r.isImmediate&&n==null?h(this,d):n=setTimeout(()=>{n=null,h(this,d)},t)};return f.cancel=c,f.flush=u,f}function _7(e){let t,r,n,i,s,a,o,c,u,h;return o=new Hc({}),{c(){t=At("div"),r=At("input"),n=Lt(),i=At("div"),s=At("button"),a=At("div"),Vt(o.$$.fragment),this.h()},l(f){t=St(f,"DIV",{class:!0});var p=Pt(t);r=St(p,"INPUT",{id:!0,name:!0,class:!0,type:!0,placeholder:!0}),n=jt(p),i=St(p,"DIV",{class:!0});var d=Pt(i);s=St(d,"BUTTON",{class:!0});var v=Pt(s);a=St(v,"DIV",{class:!0});var A=Pt(a);Yt(o.$$.fragment,A),A.forEach(ft),v.forEach(ft),d.forEach(ft),p.forEach(ft),this.h()},h(){dt(r,"id",e[0]),dt(r,"name",e[1]),dt(r,"class","as-input as-flex-1"),dt(r,"type","password"),dt(r,"placeholder","Enter a Password"),r.disabled=!0,r.value="Encrypted Password",dt(a,"class","as-w-5 as-h-5"),dt(s,"class","as-btn as-primary as-p-2"),dt(i,"class","as-grow-0 as-flex-row as-flex"),dt(t,"class","as-flex")},m(f,p){Et(f,t,p),kt(t,r),kt(t,n),kt(t,i),kt(i,s),kt(s,a),Jt(o,a,null),c=!0,u||(h=re(s,"click",function(){Pi(e[2])&&e[2].apply(this,arguments)}),u=!0)},p(f,[p]){e=f,(!c||p&1)&&dt(r,"id",e[0]),(!c||p&2)&&dt(r,"name",e[1])},i(f){c||(Mt(o.$$.fragment,f),c=!0)},o(f){Tt(o.$$.fragment,f),c=!1},d(f){f&&ft(t),Xt(o),u=!1,h()}}}function A7(e,t,r){let{id:n=void 0}=t,{name:i=void 0}=t,{onShow:s=()=>{}}=t;return e.$$set=a=>{"id"in a&&r(0,n=a.id),"name"in a&&r(1,i=a.name),"onShow"in a&&r(2,s=a.onShow)},[n,i,s]}class S7 extends Ee{constructor(t){super(),ke(this,t,A7,_7,tr,{id:0,name:1,onShow:2})}}function E7(e){let t,r;return t=new S7({props:{onShow:e[2]}}),{c(){Vt(t.$$.fragment)},l(n){Yt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},p:Pe,i(n){r||(Mt(t.$$.fragment,n),r=!0)},o(n){Tt(t.$$.fragment,n),r=!1},d(n){Xt(t,n)}}}function k7(e){let t,r,n,i;const s=[x7,P7],a=[];function o(c,u){return c[0].type==="password"?0:c[0].type==="text"?1:-1}return~(t=o(e))&&(r=a[t]=s[t](e)),{c(){r&&r.c(),n=Le()},l(c){r&&r.l(c),n=Le()},m(c,u){~t&&a[t].m(c,u),Et(c,n,u),i=!0},p(c,u){let h=t;t=o(c),t===h?~t&&a[t].p(c,u):(r&&(kr(),Tt(a[h],1,1,()=>{a[h]=null}),Pr()),~t?(r=a[t],r?r.p(c,u):(r=a[t]=s[t](c),r.c()),Mt(r,1),r.m(n.parentNode,n)):r=null)},i(c){i||(Mt(r),i=!0)},o(c){Tt(r),i=!1},d(c){~t&&a[t].d(c),c&&ft(n)}}}function P7(e){let t,r,n,i;function s(c){e[9](c)}function a(c){e[10](c)}let o={onInput:e[4],onUploadFile:e[4],onShow:e[2]};return e[0].secret!==void 0&&(o.text=e[0].secret),e[1]!==void 0&&(o.show=e[1]),t=new J2({props:o}),Dr.push(()=>mn(t,"text",s)),Dr.push(()=>mn(t,"show",a)),{c(){Vt(t.$$.fragment)},l(c){Yt(t.$$.fragment,c)},m(c,u){Jt(t,c,u),i=!0},p(c,u){const h={};!r&&u&1&&(r=!0,h.text=c[0].secret,yn(()=>r=!1)),!n&&u&2&&(n=!0,h.show=c[1],yn(()=>n=!1)),t.$set(h)},i(c){i||(Mt(t.$$.fragment,c),i=!0)},o(c){Tt(t.$$.fragment,c),i=!1},d(c){Xt(t,c)}}}function x7(e){let t,r,n,i;function s(c){e[7](c)}function a(c){e[8](c)}let o={onInput:e[4]};return e[0].secret!==void 0&&(o.password=e[0].secret),e[1]!==void 0&&(o.show=e[1]),t=new G2({props:o}),Dr.push(()=>mn(t,"password",s)),Dr.push(()=>mn(t,"show",a)),{c(){Vt(t.$$.fragment)},l(c){Yt(t.$$.fragment,c)},m(c,u){Jt(t,c,u),i=!0},p(c,u){const h={};!r&&u&1&&(r=!0,h.password=c[0].secret,yn(()=>r=!1)),!n&&u&2&&(n=!0,h.show=c[1],yn(()=>n=!1)),t.$set(h)},i(c){i||(Mt(t.$$.fragment,c),i=!0)},o(c){Tt(t.$$.fragment,c),i=!1},d(c){Xt(t,c)}}}function M7(e){let t,r,n,i,s,a,o,c,u,h,f,p,d,v;s=new c2({});const A=[k7,E7],S=[];function C(B,U){return B[0].secret!=null?0:1}return h=C(e),f=S[h]=A[h](e),{c(){t=At("div"),r=At("div"),n=At("button"),i=At("div"),Vt(s.$$.fragment),a=Lt(),o=At("div"),c=At("input"),u=Lt(),f.c(),this.h()},l(B){t=St(B,"DIV",{class:!0});var U=Pt(t);r=St(U,"DIV",{class:!0});var O=Pt(r);n=St(O,"BUTTON",{class:!0});var q=Pt(n);i=St(q,"DIV",{class:!0});var g=Pt(i);Yt(s.$$.fragment,g),g.forEach(ft),q.forEach(ft),O.forEach(ft),a=jt(U),o=St(U,"DIV",{class:!0});var R=Pt(o);c=St(R,"INPUT",{class:!0,type:!0,placeholder:!0}),u=jt(R),f.l(R),R.forEach(ft),U.forEach(ft),this.h()},h(){dt(i,"class","as-w-6 as-h-6"),dt(n,"class","as-btn as-danger as-p-1"),dt(r,"class","as-flex-grow-0 as-mr-2"),dt(c,"class","as-input"),dt(c,"type","text"),dt(c,"placeholder","Username"),dt(o,"class","as-flex-grow"),dt(t,"class","as-flex as-flex-row as-w-full as-mb-2")},m(B,U){Et(B,t,U),kt(t,r),kt(r,n),kt(n,i),Jt(s,i,null),kt(t,a),kt(t,o),kt(o,c),Ue(c,e[0].username),kt(o,u),S[h].m(o,null),p=!0,d||(v=[re(n,"click",e[3]),re(c,"input",e[6]),re(c,"input",e[4])],d=!0)},p(B,[U]){U&1&&c.value!==B[0].username&&Ue(c,B[0].username);let O=h;h=C(B),h===O?S[h].p(B,U):(kr(),Tt(S[O],1,1,()=>{S[O]=null}),Pr(),f=S[h],f?f.p(B,U):(f=S[h]=A[h](B),f.c()),Mt(f,1),f.m(o,null))},i(B){p||(Mt(s.$$.fragment,B),Mt(f),p=!0)},o(B){Tt(s.$$.fragment,B),Tt(f),p=!1},d(B){B&&ft(t),Xt(s),S[h].d(),d=!1,Nr(v)}}}function T7(e,t,r){let{secret:n}=t,{onDelete:i=()=>{}}=t,s=!1;async function a(){try{await F6(n)}catch(A){console.error(A),Yh(A.message)}}function o(){i(n)}async function c(){n.application&&n.username&&n.secret&&await K6(n.id,{type:n.type,application:n.application,username:n.username,secret:n.secret})}const u=w7(c,1e3);function h(){n.username=this.value,r(0,n)}function f(A){e.$$.not_equal(n.secret,A)&&(n.secret=A,r(0,n))}function p(A){s=A,r(1,s)}function d(A){e.$$.not_equal(n.secret,A)&&(n.secret=A,r(0,n))}function v(A){s=A,r(1,s)}return e.$$set=A=>{"secret"in A&&r(0,n=A.secret),"onDelete"in A&&r(5,i=A.onDelete)},[n,s,a,o,u,i,h,f,p,d,v]}class X2 extends Ee{constructor(t){super(),ke(this,t,T7,M7,tr,{secret:0,onDelete:5})}}function zh(e,t,r){const n=e.slice();n[5]=t[r][0],n[6]=t[r][1];const i=n[0]?n[6].filter(s=>Jh(s,n[0])):n[6];return n[7]=i,n}function Kh(e,t,r){const n=e.slice();return n[10]=t[r],n}function Fh(e,t){let r,n,i;return n=new X2({props:{secret:t[10],onDelete:t[1]}}),{key:e,first:null,c(){r=Le(),Vt(n.$$.fragment),this.h()},l(s){r=Le(),Yt(n.$$.fragment,s),this.h()},h(){this.first=r},m(s,a){Et(s,r,a),Jt(n,s,a),i=!0},p(s,a){t=s;const o={};a&5&&(o.secret=t[10]),a&2&&(o.onDelete=t[1]),n.$set(o)},i(s){i||(Mt(n.$$.fragment,s),i=!0)},o(s){Tt(n.$$.fragment,s),i=!1},d(s){s&&ft(r),Xt(n,s)}}}function Lh(e,t){let r,n=t[5]+"",i,s,a=[],o=new Map,c,u,h=t[7];const f=p=>p[10].id;for(let p=0;p<h.length;p+=1){let d=Kh(t,h,p),v=f(d);o.set(v,a[p]=Fh(v,d))}return{key:e,first:null,c(){r=At("h2"),i=me(n),s=Lt();for(let p=0;p<a.length;p+=1)a[p].c();c=Le(),this.h()},l(p){r=St(p,"H2",{class:!0});var d=Pt(r);i=ye(d,n),d.forEach(ft),s=jt(p);for(let v=0;v<a.length;v+=1)a[v].l(p);c=Le(),this.h()},h(){dt(r,"class","as-my-1 as-text-xl"),this.first=r},m(p,d){Et(p,r,d),kt(r,i),Et(p,s,d);for(let v=0;v<a.length;v+=1)a[v].m(p,d);Et(p,c,d),u=!0},p(p,d){t=p,(!u||d&4)&&n!==(n=t[5]+"")&&Ea(i,n),d&7&&(h=t[7],kr(),a=vc(a,d,f,1,t,h,o,c.parentNode,_0,Fh,c,Kh),Pr())},i(p){if(!u){for(let d=0;d<h.length;d+=1)Mt(a[d]);u=!0}},o(p){for(let d=0;d<a.length;d+=1)Tt(a[d]);u=!1},d(p){p&&ft(r),p&&ft(s);for(let d=0;d<a.length;d+=1)a[d].d(p);p&&ft(c)}}}function C7(e){let t=[],r=new Map,n,i,s=e[2];const a=o=>o[5];for(let o=0;o<s.length;o+=1){let c=zh(e,s,o),u=a(c);r.set(u,t[o]=Lh(u,c))}return{c(){for(let o=0;o<t.length;o+=1)t[o].c();n=Le()},l(o){for(let c=0;c<t.length;c+=1)t[c].l(o);n=Le()},m(o,c){for(let u=0;u<t.length;u+=1)t[u].m(o,c);Et(o,n,c),i=!0},p(o,[c]){c&7&&(s=o[2],kr(),t=vc(t,c,a,1,o,s,r,n.parentNode,_0,Lh,n,zh),Pr())},i(o){if(!i){for(let c=0;c<s.length;c+=1)Mt(t[c]);i=!0}},o(o){for(let c=0;c<t.length;c+=1)Tt(t[c]);i=!1},d(o){for(let c=0;c<t.length;c+=1)t[c].d(o);o&&ft(n)}}}function R7(e,t,r){let n,i,s;bs(e,Q0,c=>r(4,s=c));let{search:a=""}=t,{onDelete:o=()=>{}}=t;return e.$$set=c=>{"search"in c&&r(0,a=c.search),"onDelete"in c&&r(1,o=c.onDelete)},e.$$.update=()=>{e.$$.dirty&16&&r(3,n=Object.entries(s)),e.$$.dirty&9&&r(2,i=a?n.filter(([c,u])=>l3(a,c)):n),e.$$.dirty&12&&i.length===0&&r(2,i=n)},[a,o,i,n,s]}class I7 extends Ee{constructor(t){super(),ke(this,t,R7,C7,tr,{search:0,onDelete:1})}}function jh(e,t,r){const n=e.slice();return n[6]=t[r],n}function qh(e,t){let r,n,i;return n=new X2({props:{secret:t[6],onDelete:t[0]}}),{key:e,first:null,c(){r=Le(),Vt(n.$$.fragment),this.h()},l(s){r=Le(),Yt(n.$$.fragment,s),this.h()},h(){this.first=r},m(s,a){Et(s,r,a),Jt(n,s,a),i=!0},p(s,a){t=s;const o={};a&2&&(o.secret=t[6]),a&1&&(o.onDelete=t[0]),n.$set(o)},i(s){i||(Mt(n.$$.fragment,s),i=!0)},o(s){Tt(n.$$.fragment,s),i=!1},d(s){s&&ft(r),Xt(n,s)}}}function U7(e){let t=[],r=new Map,n,i,s=e[1];const a=o=>o[6].id;for(let o=0;o<s.length;o+=1){let c=jh(e,s,o),u=a(c);r.set(u,t[o]=qh(u,c))}return{c(){for(let o=0;o<t.length;o+=1)t[o].c();n=Le()},l(o){for(let c=0;c<t.length;c+=1)t[c].l(o);n=Le()},m(o,c){for(let u=0;u<t.length;u+=1)t[u].m(o,c);Et(o,n,c),i=!0},p(o,[c]){c&3&&(s=o[1],kr(),t=vc(t,c,a,1,o,s,r,n.parentNode,_0,qh,n,jh),Pr())},i(o){if(!i){for(let c=0;c<s.length;c+=1)Mt(t[c]);i=!0}},o(o){for(let c=0;c<t.length;c+=1)Tt(t[c]);i=!1},d(o){for(let c=0;c<t.length;c+=1)t[c].d(o);o&&ft(n)}}}function D7(e,t,r){let n,i,s;bs(e,Q0,u=>r(5,s=u));let{application:a}=t,{search:o=""}=t,{onDelete:c=()=>{}}=t;return e.$$set=u=>{"application"in u&&r(2,a=u.application),"search"in u&&r(3,o=u.search),"onDelete"in u&&r(0,c=u.onDelete)},e.$$.update=()=>{e.$$.dirty&36&&r(4,n=s[a]||[]),e.$$.dirty&24&&r(1,i=o?n.filter(u=>Jh(u,o)):n)},[c,i,a,o,n,s]}class O7 extends Ee{constructor(t){super(),ke(this,t,D7,U7,tr,{application:2,search:3,onDelete:0})}}const Z2=wc({storage:"disconnected",wire:"idle"}),Q2=Ka(Z2,e=>e);Pn.on("connected",()=>{Vc("storage","connected")});Pn.on("disconnected",()=>{Vc("storage","disconnected")});Pn.on("wire-busy",()=>{Vc("wire","syncing")});Pn.on("wire-done",()=>{Vc("wire","idle")});function Vc(e,t){Z2.update(r=>ss(Oe({},r),{[e]:t}))}function N7(e){let t,r,n;return{c(){t=At("input"),this.h()},l(i){t=St(i,"INPUT",{id:!0,name:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){dt(t,"id",e[2]),dt(t,"name",e[3]),dt(t,"class","as-input as-flex-1"),dt(t,"type","password"),dt(t,"placeholder","Enter a Password"),t.disabled=e[5]},m(i,s){Et(i,t,s),Ue(t,e[0]),r||(n=[re(t,"input",e[9]),re(t,"input",function(){Pi(e[4])&&e[4].apply(this,arguments)})],r=!0)},p(i,s){e=i,s&4&&dt(t,"id",e[2]),s&8&&dt(t,"name",e[3]),s&32&&(t.disabled=e[5]),s&1&&t.value!==e[0]&&Ue(t,e[0])},d(i){i&&ft(t),r=!1,Nr(n)}}}function B7(e){let t,r,n;return{c(){t=At("input"),this.h()},l(i){t=St(i,"INPUT",{id:!0,name:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){dt(t,"id",e[2]),dt(t,"name",e[3]),dt(t,"class","as-input as-flex-1"),dt(t,"type","text"),dt(t,"placeholder","Enter a Password"),t.disabled=e[5]},m(i,s){Et(i,t,s),Ue(t,e[0]),r||(n=[re(t,"input",e[8]),re(t,"input",function(){Pi(e[4])&&e[4].apply(this,arguments)})],r=!0)},p(i,s){e=i,s&4&&dt(t,"id",e[2]),s&8&&dt(t,"name",e[3]),s&32&&(t.disabled=e[5]),s&1&&t.value!==e[0]&&Ue(t,e[0])},d(i){i&&ft(t),r=!1,Nr(n)}}}function z7(e){let t,r;return t=new Hc({}),{c(){Vt(t.$$.fragment)},l(n){Yt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},i(n){r||(Mt(t.$$.fragment,n),r=!0)},o(n){Tt(t.$$.fragment,n),r=!1},d(n){Xt(t,n)}}}function K7(e){let t,r;return t=new p1({}),{c(){Vt(t.$$.fragment)},l(n){Yt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},i(n){r||(Mt(t.$$.fragment,n),r=!0)},o(n){Tt(t.$$.fragment,n),r=!1},d(n){Xt(t,n)}}}function F7(e){let t,r,n,i,s,a,o,c,u,h;function f(C,B){return C[1]?B7:N7}let p=f(e),d=p(e);const v=[K7,z7],A=[];function S(C,B){return C[1]?0:1}return a=S(e),o=A[a]=v[a](e),{c(){t=At("div"),d.c(),r=Lt(),n=At("div"),i=At("button"),s=At("div"),o.c(),this.h()},l(C){t=St(C,"DIV",{class:!0});var B=Pt(t);d.l(B),r=jt(B),n=St(B,"DIV",{class:!0});var U=Pt(n);i=St(U,"BUTTON",{class:!0});var O=Pt(i);s=St(O,"DIV",{class:!0});var q=Pt(s);o.l(q),q.forEach(ft),O.forEach(ft),U.forEach(ft),B.forEach(ft),this.h()},h(){dt(s,"class","as-w-5 as-h-5"),dt(i,"class","as-btn as-primary as-p-2"),dt(n,"class","as-grow-0 as-flex-row as-flex"),dt(t,"class","as-flex")},m(C,B){Et(C,t,B),d.m(t,null),kt(t,r),kt(t,n),kt(n,i),kt(i,s),A[a].m(s,null),c=!0,u||(h=re(i,"click",e[6]),u=!0)},p(C,[B]){p===(p=f(C))&&d?d.p(C,B):(d.d(1),d=p(C),d&&(d.c(),d.m(t,r)));let U=a;a=S(C),a!==U&&(kr(),Tt(A[U],1,1,()=>{A[U]=null}),Pr(),o=A[a],o||(o=A[a]=v[a](C),o.c()),Mt(o,1),o.m(s,null))},i(C){c||(Mt(o),c=!0)},o(C){Tt(o),c=!1},d(C){C&&ft(t),d.d(),A[a].d(),u=!1,h()}}}function L7(e,t,r){let{id:n=void 0}=t,{name:i=void 0}=t,{password:s}=t,{onInput:a=()=>{}}=t,{onShow:o=()=>{}}=t,{show:c=!1}=t,{disabled:u=!1}=t;function h(){r(1,c=!c),c&&o()}function f(){s=this.value,r(0,s)}function p(){s=this.value,r(0,s)}return e.$$set=d=>{"id"in d&&r(2,n=d.id),"name"in d&&r(3,i=d.name),"password"in d&&r(0,s=d.password),"onInput"in d&&r(4,a=d.onInput),"onShow"in d&&r(7,o=d.onShow),"show"in d&&r(1,c=d.show),"disabled"in d&&r(5,u=d.disabled)},[s,c,n,i,a,u,h,o,f,p]}class j7 extends Ee{constructor(t){super(),ke(this,t,L7,F7,tr,{id:2,name:3,password:0,onInput:4,onShow:7,show:1,disabled:5})}}function $h(e,t,r){const n=e.slice();return n[0]=t[r],n}function q7(e){var A,S;let t,r,n=((A=e[1])==null?void 0:A.application)+"",i,s,a=((S=e[1])==null?void 0:S.username)+"",o,c,u,h,f,p,d,v;return{c(){t=At("p"),r=me("Delete "),i=me(n),s=Lt(),o=me(a),c=me(" Secret?"),u=Lt(),h=At("div"),f=At("button"),p=me("Delete"),this.h()},l(C){t=St(C,"P",{class:!0});var B=Pt(t);r=ye(B,"Delete "),i=ye(B,n),s=jt(B),o=ye(B,a),c=ye(B," Secret?"),B.forEach(ft),u=jt(C),h=St(C,"DIV",{class:!0});var U=Pt(h);f=St(U,"BUTTON",{class:!0});var O=Pt(f);p=ye(O,"Delete"),O.forEach(ft),U.forEach(ft),this.h()},h(){dt(t,"class","as-mb-2"),dt(f,"class","as-btn as-danger"),dt(h,"class","as-flex as-justify-end as-mt-2")},m(C,B){Et(C,t,B),kt(t,r),kt(t,i),kt(t,s),kt(t,o),kt(t,c),Et(C,u,B),Et(C,h,B),kt(h,f),kt(f,p),d||(v=re(f,"click",function(){Pi(e[9])&&e[9].apply(this,arguments)}),d=!0)},p(C,B){var U,O;e=C,B&2&&n!==(n=((U=e[1])==null?void 0:U.application)+"")&&Ea(i,n),B&2&&a!==(a=((O=e[1])==null?void 0:O.username)+"")&&Ea(o,a)},d(C){C&&ft(t),C&&ft(u),C&&ft(h),d=!1,v()}}}function $7(e){let t,r;return{c(){t=At("h3"),r=me("Deleting Secret"),this.h()},l(n){t=St(n,"H3",{slot:!0,class:!0});var i=Pt(t);r=ye(i,"Deleting Secret"),i.forEach(ft),this.h()},h(){dt(t,"slot","title"),dt(t,"class","as-text-lg")},m(n,i){Et(n,t,i),kt(t,r)},p:Pe,d(n){n&&ft(t)}}}function W7(e){let t,r;return t=new f7({props:{onAdd:e[14],application:e[0]}}),{c(){Vt(t.$$.fragment)},l(n){Yt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},p(n,i){const s={};i&1&&(s.application=n[0]),t.$set(s)},i(n){r||(Mt(t.$$.fragment,n),r=!0)},o(n){Tt(t.$$.fragment,n),r=!1},d(n){Xt(t,n)}}}function H7(e){let t,r;return{c(){t=At("h3"),r=me("Add Secret"),this.h()},l(n){t=St(n,"H3",{class:!0,slot:!0});var i=Pt(t);r=ye(i,"Add Secret"),i.forEach(ft),this.h()},h(){dt(t,"class","as-text-lg"),dt(t,"slot","title")},m(n,i){Et(n,t,i),kt(t,r)},p:Pe,d(n){n&&ft(t)}}}function G7(e){let t,r,n,i,s,a,o,c,u,h,f;function p(v){e[19](v)}let d={};return e[7]!==void 0&&(d.password=e[7]),t=new j7({props:d}),Dr.push(()=>mn(t,"password",p)),i=new ua({props:{messages:e[8]}}),{c(){Vt(t.$$.fragment),n=Lt(),Vt(i.$$.fragment),s=Lt(),a=At("div"),o=At("button"),c=me("Ok"),this.h()},l(v){Yt(t.$$.fragment,v),n=jt(v),Yt(i.$$.fragment,v),s=jt(v),a=St(v,"DIV",{class:!0});var A=Pt(a);o=St(A,"BUTTON",{class:!0});var S=Pt(o);c=ye(S,"Ok"),S.forEach(ft),A.forEach(ft),this.h()},h(){dt(o,"class","as-btn as-primary"),dt(a,"class","as-flex as-justify-end as-mt-2")},m(v,A){Jt(t,v,A),Et(v,n,A),Jt(i,v,A),Et(v,s,A),Et(v,a,A),kt(a,o),kt(o,c),u=!0,h||(f=re(o,"click",e[15]),h=!0)},p(v,A){const S={};!r&&A&128&&(r=!0,S.password=v[7],yn(()=>r=!1)),t.$set(S);const C={};A&256&&(C.messages=v[8]),i.$set(C)},i(v){u||(Mt(t.$$.fragment,v),Mt(i.$$.fragment,v),u=!0)},o(v){Tt(t.$$.fragment,v),Tt(i.$$.fragment,v),u=!1},d(v){Xt(t,v),v&&ft(n),Xt(i,v),v&&ft(s),v&&ft(a),h=!1,f()}}}function V7(e){let t,r;return{c(){t=At("h3"),r=me("Enter Password"),this.h()},l(n){t=St(n,"H3",{slot:!0,class:!0});var i=Pt(t);r=ye(i,"Enter Password"),i.forEach(ft),this.h()},h(){dt(t,"slot","title"),dt(t,"class","as-text-lg")},m(n,i){Et(n,t,i),kt(t,r)},p:Pe,d(n){n&&ft(t)}}}function Wh(e,t){let r,n=t[0]+"",i,s;return{key:e,first:null,c(){r=At("option"),i=me(n),this.h()},l(a){r=St(a,"OPTION",{});var o=Pt(r);i=ye(o,n),o.forEach(ft),this.h()},h(){r.__value=s=t[0],r.value=r.__value,this.first=r},m(a,o){Et(a,r,o),kt(r,i)},p(a,o){t=a,o&4&&n!==(n=t[0]+"")&&Ea(i,n),o&4&&s!==(s=t[0])&&(r.__value=s,r.value=r.__value)},d(a){a&&ft(r)}}}function Y7(e){let t,r;return t=new I7({props:{search:e[3],onDelete:e[10]}}),{c(){Vt(t.$$.fragment)},l(n){Yt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},p(n,i){const s={};i&8&&(s.search=n[3]),i&1024&&(s.onDelete=n[10]),t.$set(s)},i(n){r||(Mt(t.$$.fragment,n),r=!0)},o(n){Tt(t.$$.fragment,n),r=!1},d(n){Xt(t,n)}}}function J7(e){let t,r;return t=new O7({props:{application:e[6],search:e[3],onDelete:e[10]}}),{c(){Vt(t.$$.fragment)},l(n){Yt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},p(n,i){const s={};i&64&&(s.application=n[6]),i&8&&(s.search=n[3]),i&1024&&(s.onDelete=n[10]),t.$set(s)},i(n){r||(Mt(t.$$.fragment,n),r=!0)},o(n){Tt(t.$$.fragment,n),r=!1},d(n){Xt(t,n)}}}function X7(e){let t,r,n,i,s,a,o,c,u,h,f,p,d,v=[],A=new Map,S,C,B,U,O,q,g,R,l,m,y,b,_,D,N;function W(H){e[17](H)}let tt={$$slots:{title:[$7],default:[q7]},$$scope:{ctx:e}};e[5]!==void 0&&(tt.open=e[5]),t=new Tu({props:tt}),Dr.push(()=>mn(t,"open",W));function w(H){e[18](H)}let I={$$slots:{title:[H7],default:[W7]},$$scope:{ctx:e}};e[4]!==void 0&&(I.open=e[4]),i=new Tu({props:I}),Dr.push(()=>mn(i,"open",w));function J(H){e[20](H)}let Q={onClose:D6,$$slots:{title:[V7],default:[G7]},$$scope:{ctx:e}};e[11]!==void 0&&(Q.open=e[11]),o=new Tu({props:Q}),Dr.push(()=>mn(o,"open",J));let nt=e[2];const ht=H=>H[0];for(let H=0;H<nt.length;H+=1){let F=$h(e,nt,H),P=ht(F);A.set(P,v[H]=Wh(P,F))}B=new v7({props:{saving:e[12].wire==="syncing"}});const lt=[J7,Y7],ut=[];function z(H,F){return H[6]?0:1}return m=z(e),y=ut[m]=lt[m](e),{c(){Vt(t.$$.fragment),n=Lt(),Vt(i.$$.fragment),a=Lt(),Vt(o.$$.fragment),u=Lt(),h=At("div"),f=At("div"),p=At("select"),d=At("option");for(let H=0;H<v.length;H+=1)v[H].c();S=Lt(),C=At("div"),Vt(B.$$.fragment),U=Lt(),O=At("button"),q=me("Add"),g=Lt(),R=At("input"),l=Lt(),y.c(),b=Le(),this.h()},l(H){Yt(t.$$.fragment,H),n=jt(H),Yt(i.$$.fragment,H),a=jt(H),Yt(o.$$.fragment,H),u=jt(H),h=St(H,"DIV",{class:!0});var F=Pt(h);f=St(F,"DIV",{class:!0});var P=Pt(f);p=St(P,"SELECT",{class:!0});var G=Pt(p);d=St(G,"OPTION",{}),Pt(d).forEach(ft);for(let K=0;K<v.length;K+=1)v[K].l(G);G.forEach(ft),S=jt(P),C=St(P,"DIV",{class:!0});var k=Pt(C);Yt(B.$$.fragment,k),k.forEach(ft),P.forEach(ft),U=jt(F),O=St(F,"BUTTON",{class:!0});var T=Pt(O);q=ye(T,"Add"),T.forEach(ft),F.forEach(ft),g=jt(H),R=St(H,"INPUT",{class:!0,type:!0,placeholder:!0}),l=jt(H),y.l(H),b=Le(),this.h()},h(){d.__value="",d.value=d.__value,dt(p,"class","as-input as-flex"),e[0]===void 0&&Gh(()=>e[21].call(p)),dt(C,"class","as-flex as-p-1"),dt(f,"class","as-flex as-flex-row as-flex-grow"),dt(O,"class","as-btn as-primary"),dt(h,"class","as-flex as-justify-between"),dt(R,"class","as-input as-my-2"),dt(R,"type","text"),dt(R,"placeholder","Search...")},m(H,F){Jt(t,H,F),Et(H,n,F),Jt(i,H,F),Et(H,a,F),Jt(o,H,F),Et(H,u,F),Et(H,h,F),kt(h,f),kt(f,p),kt(p,d);for(let P=0;P<v.length;P+=1)v[P].m(p,null);Io(p,e[0]),kt(f,S),kt(f,C),Jt(B,C,null),kt(h,U),kt(h,O),kt(O,q),Et(H,g,F),Et(H,R,F),Ue(R,e[3]),Et(H,l,F),ut[m].m(H,F),Et(H,b,F),_=!0,D||(N=[re(p,"change",e[21]),re(O,"click",e[13]),re(R,"input",e[22])],D=!0)},p(H,[F]){const P={};F&33554946&&(P.$$scope={dirty:F,ctx:H}),!r&&F&32&&(r=!0,P.open=H[5],yn(()=>r=!1)),t.$set(P);const G={};F&33554433&&(G.$$scope={dirty:F,ctx:H}),!s&&F&16&&(s=!0,G.open=H[4],yn(()=>s=!1)),i.$set(G);const k={};F&33554816&&(k.$$scope={dirty:F,ctx:H}),!c&&F&2048&&(c=!0,k.open=H[11],yn(()=>c=!1)),o.$set(k),F&4&&(nt=H[2],v=vc(v,F,ht,1,H,nt,A,p,c3,Wh,null,$h)),F&5&&Io(p,H[0]);const T={};F&4096&&(T.saving=H[12].wire==="syncing"),B.$set(T),F&8&&R.value!==H[3]&&Ue(R,H[3]);let K=m;m=z(H),m===K?ut[m].p(H,F):(kr(),Tt(ut[K],1,1,()=>{ut[K]=null}),Pr(),y=ut[m],y?y.p(H,F):(y=ut[m]=lt[m](H),y.c()),Mt(y,1),y.m(b.parentNode,b))},i(H){_||(Mt(t.$$.fragment,H),Mt(i.$$.fragment,H),Mt(o.$$.fragment,H),Mt(B.$$.fragment,H),Mt(y),_=!0)},o(H){Tt(t.$$.fragment,H),Tt(i.$$.fragment,H),Tt(o.$$.fragment,H),Tt(B.$$.fragment,H),Tt(y),_=!1},d(H){Xt(t,H),H&&ft(n),Xt(i,H),H&&ft(a),Xt(o,H),H&&ft(u),H&&ft(h);for(let F=0;F<v.length;F+=1)v[F].d();Xt(B),H&&ft(g),H&&ft(R),H&&ft(l),ut[m].d(H),H&&ft(b),D=!1,Nr(N)}}}function Z7(e,t,r){let n,i,s,a,o,c;bs(e,Q0,y=>r(16,a=y)),bs(e,wa,y=>r(11,o=y)),bs(e,Q2,y=>r(12,c=y));let{application:u=""}=t,h="",f=!1;function p(){r(4,f=!f)}function d(){r(4,f=!1)}let v,A=!1,S,C="",B=[];function U(){try{U6(C),r(8,B=[]),wa.set(!1)}catch(y){console.error(y),r(8,B=[y.message])}}function O(y){A=y,r(5,A),r(1,v)}function q(y){f=y,r(4,f)}function g(y){C=y,r(7,C)}function R(y){o=y,wa.set(o)}function l(){u=Vh(this),r(0,u),r(2,s),r(16,a)}function m(){h=this.value,r(3,h)}return e.$$set=y=>{"application"in y&&r(0,u=y.application)},e.$$.update=()=>{if(e.$$.dirty&2&&r(9,i=()=>{v&&(L6(v.id),r(1,v=void 0),r(5,A=!1))}),e.$$.dirty&65536&&r(2,s=Object.keys(a)),e.$$.dirty&5){const y=s.find(b=>ka(u)===ka(b));y&&r(6,S=y)}},r(10,n=y=>{r(1,v=y),r(5,A=!0)}),[u,v,s,h,f,A,S,C,B,i,n,o,c,p,d,U,a,O,q,g,R,l,m]}class Q7 extends Ee{constructor(t){super(),ke(this,t,Z7,X7,tr,{application:0})}}function t9(e){let t;return{c(){t=At("div"),this.h()},l(r){t=St(r,"DIV",{id:!0}),Pt(t).forEach(ft),this.h()},h(){dt(t,"id",t3)},m(r,n){Et(r,t,n)},p:Pe,i:Pe,o:Pe,d(r){r&&ft(t)}}}const t3="remote-storage-widget";let Nu;function e9(e,t,r){let{element:n=void 0}=t,{widget:i=void 0}=t;return u3(()=>{f3(()=>import("../chunks/widget-bc58238e.js").then(function(s){return s.w}),[]).then(({default:s})=>{var o;Nu&&((o=Nu.rsWidget)==null||o.remove());const a=new s(Pn);a.attach(t3),Nu=a,function c(){a.rsWidget?(r(1,i=a),r(0,n=a.rsWidget)):setTimeout(c,300)}()})}),e.$$set=s=>{"element"in s&&r(0,n=s.element),"widget"in s&&r(1,i=s.widget)},[n,i]}class r9 extends Ee{constructor(t){super(),ke(this,t,e9,t9,tr,{element:0,widget:1})}}function n9(e){let t,r;return{c(){t=At("h3"),r=me("Please connect to a Storage Provider"),this.h()},l(n){t=St(n,"H3",{class:!0});var i=Pt(t);r=ye(i,"Please connect to a Storage Provider"),i.forEach(ft),this.h()},h(){dt(t,"class","as-text-center as-py-8 as-text-lg")},m(n,i){Et(n,t,i),kt(t,r)},i:Pe,o:Pe,d(n){n&&ft(t)}}}function i9(e){let t,r,n;return r=new Q7({}),{c(){t=At("div"),Vt(r.$$.fragment),this.h()},l(i){t=St(i,"DIV",{class:!0});var s=Pt(t);Yt(r.$$.fragment,s),s.forEach(ft),this.h()},h(){dt(t,"class","as-container as-mx-auto as-p-4 as-mt-4 as-mb-8 as-bg-white")},m(i,s){Et(i,t,s),Jt(r,t,null),n=!0},i(i){n||(Mt(r.$$.fragment,i),n=!0)},o(i){Tt(r.$$.fragment,i),n=!1},d(i){i&&ft(t),Xt(r)}}}function s9(e){let t,r,n,i;const s=[i9,n9],a=[];function o(c,u){return c[0].storage==="connected"?0:1}return t=o(e),r=a[t]=s[t](e),{c(){r.c(),n=Le()},l(c){r.l(c),n=Le()},m(c,u){a[t].m(c,u),Et(c,n,u),i=!0},p(c,u){let h=t;t=o(c),t!==h&&(kr(),Tt(a[h],1,1,()=>{a[h]=null}),Pr(),r=a[t],r||(r=a[t]=s[t](c),r.c()),Mt(r,1),r.m(n.parentNode,n))},i(c){i||(Mt(r),i=!0)},o(c){Tt(r),i=!1},d(c){a[t].d(c),c&&ft(n)}}}function a9(e){let t,r,n,i,s;return t=new h3({props:{$$slots:{default:[s9]},$$scope:{ctx:e}}}),i=new r9({}),{c(){Vt(t.$$.fragment),r=Lt(),n=At("div"),Vt(i.$$.fragment),this.h()},l(a){Yt(t.$$.fragment,a),r=jt(a),n=St(a,"DIV",{class:!0});var o=Pt(n);Yt(i.$$.fragment,o),o.forEach(ft),this.h()},h(){dt(n,"class","as-absolute as-left-0 as-bottom-0")},m(a,o){Jt(t,a,o),Et(a,r,o),Et(a,n,o),Jt(i,n,null),s=!0},p(a,[o]){const c={};o&3&&(c.$$scope={dirty:o,ctx:a}),t.$set(c)},i(a){s||(Mt(t.$$.fragment,a),Mt(i.$$.fragment,a),s=!0)},o(a){Tt(t.$$.fragment,a),Tt(i.$$.fragment,a),s=!1},d(a){Xt(t,a),a&&ft(r),a&&ft(n),Xt(i)}}}function o9(e,t,r){let n;return bs(e,Q2,i=>r(0,n=i)),[n]}class d9 extends Ee{constructor(t){super(),ke(this,t,o9,a9,Yn,{})}}export{d9 as default};
