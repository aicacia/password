var z3=Object.defineProperty,F3=Object.defineProperties;var K3=Object.getOwnPropertyDescriptors;var no=Object.getOwnPropertySymbols;var N1=Object.prototype.hasOwnProperty,O1=Object.prototype.propertyIsEnumerable;var U1=(e,t,r)=>t in e?z3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Oe=(e,t)=>{for(var r in t||(t={}))N1.call(t,r)&&U1(e,r,t[r]);if(no)for(var r of no(t))O1.call(t,r)&&U1(e,r,t[r]);return e},fs=(e,t)=>F3(e,K3(t));var Gs=(e,t)=>{var r={};for(var n in e)N1.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&no)for(var n of no(e))t.indexOf(n)<0&&O1.call(e,n)&&(r[n]=e[n]);return r};import{N as L3,S as Pe,i as Ce,s as Zn,I as Cu,e as At,c as St,a as Et,d as ht,g as kt,O as j3,J as Mu,K as Ru,L as Tu,H as Mi,q as Ct,o as Mt,D as q3,C as Be,w as Yt,x as Xt,y as Jt,z as is,A as ss,B as Zt,P as gr,Q as Hn,R as Wn,b as dt,E as Me,T as nr,k as Lt,m as jt,U as Or,M as xt,V as re,n as Cr,p as Mr,G as Rr,W as Ue,t as be,h as ge,j as Ra,X as $3,Y as ah,Z as zr,l as qe,_ as oh,$ as Ko,a0 as ch,a1 as vn,a2 as wn,a3 as P0,a4 as Iu,a5 as As,a6 as H3,v as W3}from"../chunks/index-b32f51c6.js";import{c as Ta,I as as,a as z1,b as Bu,f as G3,s as uh,N as V3,L as Y3}from"../chunks/Layout-b75bc83d.js";import{d as Ha,w as C0}from"../chunks/index-ffc9c32f.js";import{_ as X3}from"../chunks/preload-helper-91b3b7b7.js";var io,J3=new Uint8Array(16);function Z3(){if(!io&&(io=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!io))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return io(J3)}var Q3=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function tp(e){return typeof e=="string"&&Q3.test(e)}var We=[];for(var uc=0;uc<256;++uc)We.push((uc+256).toString(16).substr(1));function ep(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(We[e[t+0]]+We[e[t+1]]+We[e[t+2]]+We[e[t+3]]+"-"+We[e[t+4]]+We[e[t+5]]+"-"+We[e[t+6]]+We[e[t+7]]+"-"+We[e[t+8]]+We[e[t+9]]+"-"+We[e[t+10]]+We[e[t+11]]+We[e[t+12]]+We[e[t+13]]+We[e[t+14]]+We[e[t+15]]).toLowerCase();if(!tp(r))throw TypeError("Stringified UUID is invalid");return r}function rp(e,t,r){e=e||{};var n=e.random||(e.rng||Z3)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return ep(n)}const np="v21wdidfxjapm8b",ip="399181883347-3dfijgbemptplmueu01bsfga9jpkks6j.apps.googleusercontent.com";var se=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function sp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ap(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lh={exports:{}};/*! remotestorage.js 2.0.0-beta.3, https://remotestorage.io, MIT licensed */(function(e,t){(function(r,n){e.exports=n()})(se,function(){return function(r){var n={};function i(s){if(n[s])return n[s].exports;var a=n[s]={i:s,l:!1,exports:{}};return r[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{enumerable:!0,get:o})},i.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,a){if(1&a&&(s=i(s)),8&a||4&a&&typeof s=="object"&&s&&s.__esModule)return s;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:s}),2&a&&typeof s!="string")for(var u in s)i.d(o,u,function(c){return s[c]}.bind(null,u));return o},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=17)}([function(r,n,i){(function(s,a){Object.defineProperty(n,"__esModule",{value:!0}),n.applyMixins=n.toBase64=n.getTextFromArrayBuffer=n.shouldBeTreatedAsBinary=n.getJSONFromLocalStorage=n.localStorageAvailable=n.pathsFromRoot=n.deepClone=n.equal=n.bindAll=n.cleanPath=n.baseName=n.isDocument=n.isFolder=n.containingFolder=n.extend=n.getGlobalContext=n.globalContext=n.logError=void 0,n.logError=o=>{typeof o=="string"?console.error(o):console.error(o.message,o.stack)},n.globalContext=typeof window!="undefined"?window:typeof self=="object"?self:s,n.getGlobalContext=()=>typeof window!="undefined"?window:typeof self=="object"?self:s,n.extend=(...o)=>{const u=o[0];return Array.prototype.slice.call(o,1).forEach(function(c){for(const l in c)u[l]=c[l]}),u},n.containingFolder=o=>{if(o==="")return"/";if(!o)throw"Path not given!";return o.replace(/\/+/g,"/").replace(/[^\/]+\/?$/,"")},n.isFolder=o=>o.substr(-1)==="/",n.isDocument=o=>!n.isFolder(o),n.baseName=o=>{const u=o.split("/");return n.isFolder(o)?u[u.length-2]+"/":u[u.length-1]},n.cleanPath=o=>o.replace(/\/+/g,"/").split("/").map(encodeURIComponent).join("/").replace(/'/g,"%27"),n.bindAll=o=>{for(const u in this)typeof o[u]=="function"&&(o[u]=o[u].bind(o))},n.equal=(o,u,c=[])=>{let l;if(typeof o!=typeof u)return!1;if(typeof o=="number"||typeof o=="boolean"||typeof o=="string")return o===u;if(typeof o=="function")return o.toString()===u.toString();if(o instanceof ArrayBuffer&&u instanceof ArrayBuffer&&(o=new Uint8Array(o),u=new Uint8Array(u)),o instanceof Array){if(o.length!==u.length)return!1;for(let h=0,d=o.length;h<d;h++)if(!n.equal(o[h],u[h],c))return!1}else{for(l in o)if(o.hasOwnProperty(l)&&!(l in u))return!1;for(l in u){if(!u.hasOwnProperty(l))continue;if(!(l in o))return!1;let h;if(typeof u[l]=="object"){if(c.indexOf(u[l])>=0)continue;h=c.slice(),h.push(u[l])}if(!n.equal(o[l],u[l],h))return!1}}return!0},n.deepClone=o=>{if(o!==void 0){const u=JSON.parse(JSON.stringify(o));return function c(l,h){if(typeof l=="object"&&!Array.isArray(l)&&l!==null){for(const d in l)if(typeof l[d]=="object"&&l[d]!==null)if(l[d].toString()==="[object ArrayBuffer]"){h[d]=new ArrayBuffer(l[d].byteLength);const p=new Int8Array(l[d]);new Int8Array(h[d]).set(p)}else c(l[d],h[d])}}(o,u),u}},n.pathsFromRoot=o=>{const u=[o],c=o.replace(/\/$/,"").split("/");for(;c.length>1;)c.pop(),u.push(c.join("/")+"/");return u},n.localStorageAvailable=()=>{const o=n.getGlobalContext();if(!("localStorage"in o))return!1;try{return o.localStorage.setItem("rs-check","1"),o.localStorage.removeItem("rs-check"),!0}catch{return!1}},n.getJSONFromLocalStorage=o=>{const u=n.getGlobalContext();try{return JSON.parse(u.localStorage.getItem(o))}catch{}},n.shouldBeTreatedAsBinary=(o,u)=>!!(u&&u.match(/charset=binary/)||/[\x00-\x08\x0E-\x1F\uFFFD]/.test(o)),n.getTextFromArrayBuffer=(o,u)=>new Promise(c=>{if(typeof Blob=="undefined"){const l=new a(new Uint8Array(o));c(l.toString(u))}else{let l;const h=n.globalContext;if(h.BlobBuilder=h.BlobBuilder||h.WebKitBlobBuilder,h.BlobBuilder!==void 0){const p=new h.BlobBuilder;p.append(o),l=p.getBlob()}else l=new Blob([o]);const d=new FileReader;typeof d.addEventListener=="function"?d.addEventListener("loadend",function(p){c(p.target.result)}):d.onloadend=function(p){c(p.target.result)},d.readAsText(l,u)}}),n.toBase64=o=>{const u=n.getGlobalContext();return"btoa"in u?u.btoa(o):a.from(o).toString("base64")},n.applyMixins=function(o,u){u.forEach(c=>{Object.getOwnPropertyNames(c.prototype).forEach(l=>{Object.defineProperty(o.prototype,l,Object.getOwnPropertyDescriptor(c.prototype,l))})})}}).call(this,i(5),i(19).Buffer)},function(r,n,i){const s=(this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}})(i(3));r.exports=function(...a){s.default.logging&&console.log(...a)}},function(r,n,i){const s=(this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}})(i(1));r.exports=class{addEvents(a){a.forEach(o=>this._addEvent(o))}addEventListener(a,o){if(typeof a!="string")throw new Error("Argument eventName should be a string");if(typeof o!="function")throw new Error("Argument handler should be a function");s.default("[EventHandling] Adding event listener",a),this._validateEvent(a),this._handlers[a].push(o)}on(a,o){return this.addEventListener(a,o)}removeEventListener(a,o){this._validateEvent(a);const u=this._handlers[a].length;for(let c=0;c<u;c++)if(this._handlers[a][c]===o)return void this._handlers[a].splice(c,1)}_emit(a,...o){this._validateEvent(a),this._handlers[a].slice().forEach(u=>{u.apply(this,o)})}_validateEvent(a){if(!(a in this._handlers))throw new Error("Unknown event: "+a)}_delegateEvent(a,o){o.on(a,u=>{this._emit(a,u)})}_addEvent(a){this._handlers===void 0&&(this._handlers={}),this._handlers[a]=[]}}},function(r,n,i){const s={cache:!0,changeEvents:{local:!0,window:!1,remote:!0,conflict:!0},cordovaRedirectUri:void 0,logging:!1,modules:[],backgroundSyncInterval:6e4,disableFeatures:[],discoveryTimeout:1e4,isBackground:!1,requestTimeout:3e4,syncInterval:1e4};r.exports=s},function(r,n,i){class s extends Error{constructor(o,u={}){super(),this.name="Unauthorized",this.message=o===void 0?"App authorization expired or revoked.":o,u.code!==void 0&&(this.code=u.code),this.stack=new Error().stack}}r.exports=s},function(r,n){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}r.exports=i},function(r,n,i){var s=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};const a=s(i(1)),o=i(0),u=s(i(4));let c;function l(d){const p=d||h.getLocation().href,g=p.indexOf("#");if(g===-1)return;const v=p.substring(g+1);return v.includes("=")?v.split("&").reduce(function(_,k){const P=k.split("=");if(P[0]==="state"&&P[1].match(/rsDiscovery/)){let A=decodeURIComponent(P[1]);const E=A.substr(A.indexOf("rsDiscovery=")).split("&")[0].split("=")[1];_.rsDiscovery=JSON.parse(atob(E)),A=A.replace(new RegExp("&?rsDiscovery="+E),""),A.length>0&&(_.state=A)}else _[decodeURIComponent(P[0])]=decodeURIComponent(P[1]);return _},{}):void 0}class h{static authorize(p,{authURL:g,scope:v,redirectUri:_,clientId:k}){if(a.default("[Authorize] authURL = ",g,"scope = ",v,"redirectUri = ",_,"clientId = ",k),!o.localStorageAvailable()&&p.backend==="remotestorage"){_+=_.indexOf("#")>0?"&":"#";const A={userAddress:p.remote.userAddress,href:p.remote.href,storageApi:p.remote.storageApi,properties:p.remote.properties};_+="rsDiscovery="+o.toBase64(JSON.stringify(A))}const P=function(A,E,z,w){const M=E.indexOf("#");let f=A;return f+=A.indexOf("?")>0?"&":"?",f+="redirect_uri="+encodeURIComponent(E.replace(/#.*$/,"")),f+="&scope="+encodeURIComponent(z),f+="&client_id="+encodeURIComponent(w),M!==-1&&M+1!==E.length&&(f+="&state="+encodeURIComponent(E.substring(M+1))),f+="&response_type=token",f}(g,_,v,k);o.globalContext.cordova?h.openWindow(P,_,"location=yes,clearsessioncache=yes,clearcache=yes").then(A=>{p.remote.configure({token:A.access_token})}):h.setLocation(P)}static setLocation(p){if(typeof p=="string")document.location.href=p;else{if(typeof p!="object")throw"Invalid location "+p;document.location=p}}static _rs_supported(){return typeof document!="undefined"}static _rs_cleanup(p){p.removeEventListener("features-loaded",c)}}h.IMPLIED_FAKE_TOKEN=!1,h.getLocation=function(){return document.location},h.openWindow=function(d,p,g){return new Promise((v,_)=>{const k=open(d,"_blank",g);if(!k||k.closed)return _("Authorization popup was blocked");function P(){return _("Authorization was canceled")}k.addEventListener("loadstart",function(A){if(A.url.indexOf(p)!==0)return;k.removeEventListener("exit",P),k.close();const E=l(A.url);return E?v(E):_("Authorization error")}),k.addEventListener("exit",P)})},h._rs_init=function(d){const p=l();let g;p&&(g=h.getLocation(),g.hash=""),c=function(){let v=!1;if(p){if(p.error)throw p.error==="access_denied"?new u.default("Authorization failed: access denied",{code:"access_denied"}):new u.default("Authorization failed: "+p.error);p.rsDiscovery&&d.remote.configure(p.rsDiscovery),p.access_token&&(d.remote.configure({token:p.access_token}),v=!0),p.remotestorage&&(d.connect(p.remotestorage),v=!0),p.state&&(g=h.getLocation(),h.setLocation(g.href.split("#")[0]+"#"+p.state)),v||d.remote.stopWaitingForToken()}else d.remote.stopWaitingForToken()},d.on("features-loaded",c)},r.exports=h},function(r,n,i){var s=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};const a=s(i(23)),o=s(i(24)),u=s(i(25)),c=s(i(2)),l=s(i(3)),h=i(0);class d{constructor(g,v){if(this.schemas={configurable:!0,get:function(){return d.Types.inScope(this.moduleName)}},v[v.length-1]!=="/")throw"Not a folder: "+v;v==="/"&&(this.makePath=k=>(k[0]==="/"?"":"/")+k),this.storage=g,this.base=v;const _=this.base.split("/");_.length>2?this.moduleName=_[1]:this.moduleName="root",this.addEvents(["change"]),this.on=this.on.bind(this),g.onChange(this.base,this._fireChange.bind(this))}scope(g){return new d(this.storage,this.makePath(g))}getListing(g,v){if(typeof g!="string")g="";else if(g.length>0&&g[g.length-1]!=="/")return Promise.reject("Not a folder: "+g);return this.storage.get(this.makePath(g),v).then(function(_){return _.statusCode===404?{}:_.body})}getAll(g,v){if(typeof g!="string")g="";else if(g.length>0&&g[g.length-1]!=="/")return Promise.reject("Not a folder: "+g);return this.storage.get(this.makePath(g),v).then(_=>{if(_.statusCode===404)return{};if(typeof _.body=="object"){const k=Object.keys(_.body);if(k.length===0)return{};const P=k.map(A=>this.storage.get(this.makePath(g+A),v).then(function(E){if(typeof E.body=="string")try{E.body=JSON.parse(E.body)}catch{}typeof E.body=="object"&&(_.body[A]=E.body)}));return Promise.all(P).then(function(){return _.body})}})}getFile(g,v){return typeof g!="string"?Promise.reject("Argument 'path' of baseClient.getFile must be a string"):this.storage.get(this.makePath(g),v).then(function(_){return{data:_.body,contentType:_.contentType,revision:_.revision}})}storeFile(g,v,_){return typeof g!="string"?Promise.reject("Argument 'mimeType' of baseClient.storeFile must be a string"):typeof v!="string"?Promise.reject("Argument 'path' of baseClient.storeFile must be a string"):typeof _!="string"&&typeof _!="object"?Promise.reject("Argument 'body' of baseClient.storeFile must be a string, ArrayBuffer, or ArrayBufferView"):(this.storage.access.checkPathPermission(this.makePath(v),"rw")||console.warn("WARNING: Editing a document to which only read access ('r') was claimed"),this.storage.put(this.makePath(v),_,g).then(k=>k.statusCode===200||k.statusCode===201?k.revision:Promise.reject("Request (PUT "+this.makePath(v)+") failed with status: "+k.statusCode)))}getObject(g,v){return typeof g!="string"?Promise.reject("Argument 'path' of baseClient.getObject must be a string"):this.storage.get(this.makePath(g),v).then(_=>{if(typeof _.body=="object")return _.body;if(typeof _.body=="string")try{return JSON.parse(_.body)}catch{throw new Error("Not valid JSON: "+this.makePath(g))}else if(_.body!==void 0&&_.statusCode===200)return Promise.reject("Not an object: "+this.makePath(g))})}storeObject(g,v,_){if(typeof g!="string")return Promise.reject("Argument 'typeAlias' of baseClient.storeObject must be a string");if(typeof v!="string")return Promise.reject("Argument 'path' of baseClient.storeObject must be a string");if(typeof _!="object")return Promise.reject("Argument 'object' of baseClient.storeObject must be an object");this._attachType(_,g);try{const k=this.validate(_);if(!k.valid)return Promise.reject(k)}catch(k){return Promise.reject(k)}return this.storage.put(this.makePath(v),JSON.stringify(_),"application/json; charset=UTF-8").then(k=>k.statusCode===200||k.statusCode===201?k.revision:Promise.reject("Request (PUT "+this.makePath(v)+") failed with status: "+k.statusCode))}remove(g){return typeof g!="string"?Promise.reject("Argument 'path' of baseClient.remove must be a string"):(this.storage.access.checkPathPermission(this.makePath(g),"rw")||console.warn("WARNING: Removing a document to which only read access ('r') was claimed"),this.storage.delete(this.makePath(g)))}getItemURL(g){if(typeof g!="string")throw"Argument 'path' of baseClient.getItemURL must be a string";return this.storage.connected?(g=h.cleanPath(this.makePath(g)),this.storage.remote.href+g):void 0}cache(g,v="ALL"){if(typeof g!="string")throw"Argument 'path' of baseClient.cache must be a string";if(typeof v!="string")throw"Argument 'strategy' of baseClient.cache must be a string or undefined";if(v!=="FLUSH"&&v!=="SEEN"&&v!=="ALL")throw`Argument 'strategy' of baseclient.cache must be one of ["FLUSH", "SEEN", "ALL"]`;return this.storage.caching.set(this.makePath(g),v),this}flush(g){return this.storage.local.flush(g)}declareType(g,v,_){let k;_?k=v:(_=v,k=this._defaultTypeURI(g)),d.Types.declare(this.moduleName,g,k,_)}validate(g){const v=d.Types.getSchema(g["@context"]);if(v)return a.default.validateResult(g,v);throw new u.default(g["@context"])}_defaultTypeURI(g){return"http://remotestorage.io/spec/modules/"+encodeURIComponent(this.moduleName)+"/"+encodeURIComponent(g)}_attachType(g,v){g["@context"]=d.Types.resolveAlias(this.moduleName+"/"+v)||this._defaultTypeURI(v)}makePath(g){return this.base+(g||"")}_fireChange(g){l.default.changeEvents[g.origin]&&(["new","old","lastCommon"].forEach(function(v){if((!g[v+"ContentType"]||/^application\/(.*)json(.*)/.exec(g[v+"ContentType"]))&&typeof g[v+"Value"]=="string")try{g[v+"Value"]=JSON.parse(g[v+"Value"])}catch{}}),this._emit("change",g))}static _rs_init(){}}d.Types=o.default,h.applyMixins(d,[c.default]),r.exports=d},function(r,n,i){(function(s){var a=this&&this.__awaiter||function(z,w,M,f){return new(M||(M=Promise))(function(b,y){function m(O){try{I(f.next(O))}catch(q){y(q)}}function x(O){try{I(f.throw(O))}catch(q){y(q)}}function I(O){var q;O.done?b(O.value):(q=O.value,q instanceof M?q:new M(function(Z){Z(q)})).then(m,x)}I((f=f.apply(z,w||[])).next())})},o=this&&this.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};const u=o(i(6)),c=o(i(2)),l=o(i(4)),h=o(i(3)),d=o(i(1)),p=i(0);let g;const v="remotestorage:wireclient",_={"draft-dejong-remotestorage-00":2,"draft-dejong-remotestorage-01":3,"draft-dejong-remotestorage-02":4,"https://www.w3.org/community/rww/wiki/read-write-web-00#simple":1};let k;if(typeof(s||window).ArrayBufferView=="function")k=function(z){return z&&z instanceof(s||window).ArrayBufferView};else{const z=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];k=function(w){for(let M=0;M<8;M++)if(w instanceof z[M])return!0;return!1}}function P(z){return typeof z!="string"?z:z==="*"?"*":'"'+z+'"'}function A(z){return typeof z!="string"?z:z.replace(/^["']|["']$/g,"")}class E{constructor(w){if(this._revisionCache={},g=p.localStorageAvailable(),this.rs=w,this.connected=!1,this.addEvents(["connected","not-connected"]),g){const M=function(){const f=p.getJSONFromLocalStorage(v)||{},{userAddress:b,href:y,storageApi:m,token:x,properties:I}=f;return{userAddress:b,href:y,storageApi:m,token:x,properties:I}}();M&&setTimeout(()=>{this.configure(M)},0)}this.connected&&setTimeout(this._emit.bind(this),0,"connected")}get storageType(){if(this.storageApi){const w=this.storageApi.match(/draft-dejong-(remotestorage-\d\d)/);return w?w[1]:"2012.04"}}_request(w,M,f,b,y,m,x){return a(this,void 0,void 0,function*(){if(function(O,q){return(O==="PUT"||O==="DELETE")&&p.isFolder(q)}(w,M))return Promise.reject(`Don't use ${w} on directories!`);let I;return f!==u.default.IMPLIED_FAKE_TOKEN&&(b.Authorization="Bearer "+f),this.rs._emit("wire-busy",{method:w,isFolder:p.isFolder(M)}),E.request(w,M,{body:y,headers:b,responseType:"arraybuffer"}).then(O=>{if(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:w,isFolder:p.isFolder(M),success:!0}),q=O.status,[401,403,404,412].indexOf(q)>=0)return d.default("[WireClient] Error response status",O.status),I=m?A(O.getResponseHeader("ETag")):void 0,O.status===401&&this.rs._emit("error",new l.default),Promise.resolve({statusCode:O.status,revision:I});if(function(Z){return[201,204,304].indexOf(Z)>=0}(O.status)||O.status===200&&w!=="GET")return I=A(O.getResponseHeader("ETag")),d.default("[WireClient] Successful request",I),Promise.resolve({statusCode:O.status,revision:I});{const Z=O.getResponseHeader("Content-Type");I=m?A(O.getResponseHeader("ETag")):O.status===200?x:void 0;const S=function(U){let V,Q="UTF-8";return U&&(V=U.match(/charset=(.+)$/),V&&(Q=V[1])),Q}(Z);return p.shouldBeTreatedAsBinary(O.response,Z)?(d.default("[WireClient] Successful request with unknown or binary mime-type",I),Promise.resolve({statusCode:O.status,body:O.response,contentType:Z,revision:I})):p.getTextFromArrayBuffer(O.response,S).then(U=>(d.default("[WireClient] Successful request",I),Promise.resolve({statusCode:O.status,body:U,contentType:Z,revision:I})))}var q},O=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:w,isFolder:p.isFolder(M),success:!1}),Promise.reject(O)))})}configure(w){if(typeof w!="object")throw new Error("WireClient configure settings parameter should be an object");if(w.userAddress!==void 0&&(this.userAddress=w.userAddress),w.href!==void 0&&(this.href=w.href),w.storageApi!==void 0&&(this.storageApi=w.storageApi),w.token!==void 0&&(this.token=w.token),w.properties!==void 0&&(this.properties=w.properties),typeof this.storageApi=="string"){const M=_[this.storageApi]||5;this.supportsRevs=M>=2}this.href&&this.token?(this.connected=!0,this.online=!0,this._emit("connected")):this.connected=!1,g&&(localStorage[v]=JSON.stringify({userAddress:this.userAddress,href:this.href,storageApi:this.storageApi,token:this.token,properties:this.properties}))}stopWaitingForToken(){this.connected||this._emit("not-connected")}get(w,M={}){if(!this.connected)return Promise.reject("not connected (path: "+w+")");const f={};return this.supportsRevs&&M.ifNoneMatch&&(f["If-None-Match"]=P(M.ifNoneMatch)),this._request("GET",this.href+p.cleanPath(w),this.token,f,void 0,this.supportsRevs,this._revisionCache[w]).then(b=>{if(!p.isFolder(w))return Promise.resolve(b);let y={};if(b.body!==void 0)try{b.body=JSON.parse(b.body)}catch{return Promise.reject("Folder description at "+this.href+p.cleanPath(w)+" is not JSON")}if(b.statusCode===200&&typeof b.body=="object"){if(Object.keys(b.body).length===0)b.statusCode=404;else if((m=b.body)["@context"]==="http://remotestorage.io/spec/folder-description"&&typeof m.items=="object"){for(const x in b.body.items)this._revisionCache[w+x]=b.body.items[x].ETag;y=b.body.items}else Object.keys(b.body).forEach(x=>{this._revisionCache[w+x]=b.body[x],y[x]={ETag:b.body[x]}});return b.body=y,Promise.resolve(b)}return Promise.resolve(b);var m})}put(w,M,f,b={}){if(!this.connected)return Promise.reject("not connected (path: "+w+")");!f.match(/charset=/)&&(M instanceof ArrayBuffer||k(M))&&(f+="; charset=binary");const y={"Content-Type":f};return this.supportsRevs&&(b.ifMatch&&(y["If-Match"]=P(b.ifMatch)),b.ifNoneMatch&&(y["If-None-Match"]=P(b.ifNoneMatch))),this._request("PUT",this.href+p.cleanPath(w),this.token,y,M,this.supportsRevs)}delete(w,M={}){if(!this.connected)throw new Error("not connected (path: "+w+")");M||(M={});const f={};return this.supportsRevs&&M.ifMatch&&(f["If-Match"]=P(M.ifMatch)),this._request("DELETE",this.href+p.cleanPath(w),this.token,f,void 0,this.supportsRevs)}static request(w,M,f){return a(this,void 0,void 0,function*(){return typeof fetch=="function"?E._fetchRequest(w,M,f):typeof XMLHttpRequest=="function"?E._xhrRequest(w,M,f):(d.default("[WireClient] You need to add a polyfill for fetch or XMLHttpRequest"),Promise.reject("[WireClient] You need to add a polyfill for fetch or XMLHttpRequest"))})}static _fetchRequest(w,M,f){let b;const y={};let m;typeof AbortController=="function"&&(m=new AbortController);const x=fetch(M,{method:w,headers:f.headers,body:f.body,signal:m?m.signal:void 0}).then(O=>{switch(d.default("[WireClient fetch]",O),O.headers.forEach((q,Z)=>{y[Z.toUpperCase()]=q}),b={readyState:4,status:O.status,statusText:O.statusText,response:void 0,getResponseHeader:q=>y[q.toUpperCase()]||null,responseType:f.responseType,responseURL:M},f.responseType){case"arraybuffer":return O.arrayBuffer();case"blob":return O.blob();case"json":return O.json();case void 0:case"":case"text":return O.text();default:throw new Error("responseType 'document' is not currently supported using fetch")}}).then(O=>(b.response=O,f.responseType&&f.responseType!=="text"||(b.responseText=O),b)),I=new Promise((O,q)=>{setTimeout(()=>{q("timeout"),m&&m.abort()},h.default.requestTimeout)});return Promise.race([x,I])}static _xhrRequest(w,M,f){return new Promise((b,y)=>{d.default("[WireClient]",w,M);let m=!1;const x=setTimeout(()=>{m=!0,y("timeout")},h.default.requestTimeout),I=new XMLHttpRequest;if(I.open(w,M,!0),f.responseType&&(I.responseType=f.responseType),f.headers)for(const q in f.headers)I.setRequestHeader(q,f.headers[q]);I.onload=()=>{m||(clearTimeout(x),b(I))},I.onerror=q=>{m||(clearTimeout(x),y(q))};let O=f.body;typeof O=="object"&&!k(O)&&O instanceof ArrayBuffer&&(O=new Uint8Array(O)),I.send(O)})}static _rs_init(w){w.remote=new E(w),w.remote.online=!0}static _rs_supported(){return typeof fetch=="function"||typeof XMLHttpRequest=="function"}static _rs_cleanup(){g&&delete localStorage[v]}}E.isArrayBufferView=k,p.applyMixins(E,[c.default]),r.exports=E}).call(this,i(5))},function(r,n,i){class s extends Error{constructor(o){super(),this.name="SyncError",this.message="Sync failed: ",typeof o=="string"?this.message+=o:(this.message+=o.message,this.stack=o.stack,this.originalError=o)}}r.exports=s},function(r,n,i){var s=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};const a=s(i(2)),o=s(i(3)),u=s(i(1)),c=i(0);class l{constructor(){this._updateNodesRunning=!1,this._updateNodesQueued=[]}get(_,k,P){return typeof k=="number"?this.getNodes(c.pathsFromRoot(_)).then(A=>{const E=h(A[_]);return d(A,k)?P(_):E?{statusCode:200,body:E.body||E.itemsMap,contentType:E.contentType}:{statusCode:404}}):this.getNodes([_]).then(A=>{const E=h(A[_]);if(E){if(c.isFolder(_))for(const z in E.itemsMap)E.itemsMap.hasOwnProperty(z)&&E.itemsMap[z]===!1&&delete E.itemsMap[z];return{statusCode:200,body:E.body||E.itemsMap,contentType:E.contentType}}return{statusCode:404}})}put(_,k,P){const A=c.pathsFromRoot(_);return this._updateNodes(A,function(E,z){try{for(let w=0,M=E.length;w<M;w++){const f=E[w];let b,y=z[f];y||(z[f]=y=p(f)),w===0?(b=h(y),y.local={body:k,contentType:P,previousBody:b?b.body:void 0,previousContentType:b?b.contentType:void 0}):y=g(y,E[w-1].substring(f.length))}return z}catch(w){throw u.default("[Cachinglayer] Error during PUT",z,w),w}})}delete(_){const k=c.pathsFromRoot(_);return this._updateNodes(k,function(P,A){for(let E=0,z=P.length;E<z;E++){const w=P[E],M=A[w];let f;if(M)if(E===0)f=h(M),M.local={body:!1,previousBody:f?f.body:void 0,previousContentType:f?f.contentType:void 0};else{M.local||(M.local=c.deepClone(M.common));const b=P[E-1].substring(w.length);if(delete M.local.itemsMap[b],Object.getOwnPropertyNames(M.local.itemsMap).length>0)break}else console.error("Cannot delete non-existing node "+w)}return A})}flush(_){return this._getAllDescendentPaths(_).then(k=>this.getNodes(k)).then(k=>{for(const P in k){const A=k[P];A&&A.common&&A.local&&this._emitChange({path:A.path,origin:"local",oldValue:A.local.body===!1?void 0:A.local.body,newValue:A.common.body===!1?void 0:A.common.body}),k[P]=void 0}return this.setNodes(k)})}_emitChange(_){o.default.changeEvents[_.origin]&&this._emit("change",_)}fireInitial(){o.default.changeEvents.local&&this.forAllNodes(_=>{if(c.isDocument(_.path)){const k=h(_);k&&this._emitChange({path:_.path,origin:"local",oldValue:void 0,oldContentType:void 0,newValue:k.body,newContentType:k.contentType})}}).then(()=>{this._emit("local-events-done")})}onDiff(_){this.diffHandler=_}migrate(_){return typeof _!="object"||_.common||(_.common={},typeof _.path=="string"?_.path.substr(-1)==="/"&&typeof _.body=="object"&&(_.common.itemsMap=_.body):(_.local||(_.local={}),_.local.body=_.body,_.local.contentType=_.contentType)),_}_updateNodes(_,k){return new Promise((P,A)=>{this._doUpdateNodes(_,k,{resolve:P,reject:A})})}_doUpdateNodes(_,k,P){this._updateNodesRunning?this._updateNodesQueued.push({paths:_,cb:k,promise:P}):(this._updateNodesRunning=!0,this.getNodes(_).then(A=>{const E=c.deepClone(A),z=[];A=k(_,A);for(const w in A){const M=A[w];c.equal(M,E[w])?delete A[w]:c.isDocument(w)&&(c.equal(M.local.body,M.local.previousBody)&&M.local.contentType===M.local.previousContentType||z.push({path:w,origin:"window",oldValue:M.local.previousBody,newValue:M.local.body===!1?void 0:M.local.body,oldContentType:M.local.previousContentType,newContentType:M.local.contentType}),delete M.local.previousBody,delete M.local.previousContentType)}this.setNodes(A).then(()=>{this._emitChangeEvents(z),P.resolve({statusCode:200})})}).then(()=>Promise.resolve(),A=>{P.reject(A)}).then(()=>{this._updateNodesRunning=!1;const A=this._updateNodesQueued.shift();A&&this._doUpdateNodes(A.paths,A.cb,A.promise)}))}_emitChangeEvents(_){for(let k=0,P=_.length;k<P;k++)this._emitChange(_[k]),this.diffHandler&&this.diffHandler(_[k].path)}_getAllDescendentPaths(_){return c.isFolder(_)?this.getNodes([_]).then(k=>{const P=[_],A=h(k[_]),E=Object.keys(A.itemsMap).map(z=>this._getAllDescendentPaths(_+z).then(w=>{for(let M=0,f=w.length;M<f;M++)P.push(w[M])}));return Promise.all(E).then(()=>P)}):Promise.resolve([_])}_getInternals(){return{getLatest:h,makeNode:p,isOutdated:d}}}function h(v){if(typeof v=="object"&&typeof v.path=="string")if(c.isFolder(v.path)){if(v.local&&v.local.itemsMap)return v.local;if(v.common&&v.common.itemsMap)return v.common}else{if(v.local){if(v.local.body&&v.local.contentType)return v.local;if(v.local.body===!1)return}if(v.common&&v.common.body&&v.common.contentType)return v.common;if(v.body&&v.contentType)return{body:v.body,contentType:v.contentType}}}function d(v,_){for(const k in v){if(v[k]&&v[k].remote)return!0;const P=h(v[k]);if(P&&P.timestamp&&new Date().getTime()-P.timestamp<=_)return!1;if(!P)return!0}return!0}function p(v){const _={path:v,common:{}};return c.isFolder(v)&&(_.common.itemsMap={}),_}function g(v,_){return v.common||(v.common={itemsMap:{}}),v.common.itemsMap||(v.common.itemsMap={}),v.local||(v.local=c.deepClone(v.common)),v.local.itemsMap||(v.local.itemsMap=v.common.itemsMap),v.local.itemsMap[_]=!0,v}c.applyMixins(l,[a.default]),r.exports=l},function(r,n,i){r.exports=class{constructor(){this.reset()}static _rs_init(){}get scopes(){return Object.keys(this.scopeModeMap).map(s=>({name:s,mode:this.scopeModeMap[s]}))}get scopeParameter(){return this.scopes.map(s=>`${this._scopeNameForParameter(s)}:${s.mode}`).join(" ")}claim(s,a){if(typeof s!="string"||s.indexOf("/")!==-1||s.length===0)throw new Error("Scope should be a non-empty string without forward slashes");if(!a.match(/^rw?$/))throw new Error("Mode should be either 'r' or 'rw'");this._adjustRootPaths(s),this.scopeModeMap[s]=a}get(s){return this.scopeModeMap[s]}remove(s){const a={};for(const o in this.scopeModeMap)a[o]=this.scopeModeMap[o];this.reset(),delete a[s];for(const o in a)this.claim(o,a[o])}checkPermission(s,a){const o=this.get(s);return o&&(a==="r"||o==="rw")}checkPathPermission(s,a){if(this.checkPermission("*",a))return!0;const o=this._getModuleName(s);return!!this.checkPermission(o,a)}reset(){this.rootPaths=[],this.scopeModeMap={}}_getModuleName(s){if(s[0]!=="/")throw new Error("Path should start with a slash");const a=s.replace(/^\/public/,"").match(/^\/([^/]*)\//);return a?a[1]:"*"}_adjustRootPaths(s){"*"in this.scopeModeMap||s==="*"?this.rootPaths=["/"]:s in this.scopeModeMap||(this.rootPaths.push("/"+s+"/"),this.rootPaths.push("/public/"+s+"/"))}_scopeNameForParameter(s){if(s.name==="*"&&this.storageType){if(this.storageType==="2012.04")return"";if(this.storageType.match(/remotestorage-0[01]/))return"root"}return s.name}setStorageType(s){this.storageType=s}}},function(r,n,i){var s=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};const a=i(0),o=s(i(1));r.exports=class{constructor(){this.pendingActivations=[],this.reset()}set(u,c){if(typeof u!="string")throw new Error("path should be a string");if(!a.isFolder(u))throw new Error("path should be a folder");if(!c.match(/^(FLUSH|SEEN|ALL)$/))throw new Error("strategy should be 'FLUSH', 'SEEN', or 'ALL'");this._rootPaths[u]=c,c==="ALL"&&(this.activateHandler?this.activateHandler(u):this.pendingActivations.push(u))}enable(u){this.set(u,"ALL")}disable(u){this.set(u,"FLUSH")}onActivate(u){o.default("[Caching] Setting activate handler",u,this.pendingActivations),this.activateHandler=u;for(let c=0;c<this.pendingActivations.length;c++)u(this.pendingActivations[c]);this.pendingActivations=[]}checkPath(u){return this._rootPaths[u]!==void 0?this._rootPaths[u]:u==="/"?"SEEN":this.checkPath(a.containingFolder(u))}reset(){this._rootPaths={}}static _rs_init(){}}},function(r,n,i){var s=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};const a=s(i(7)),o=s(i(8)),u=s(i(2)),c=i(0),l="https://www.googleapis.com",h="remotestorage:googledrive";let d;function p(E){return E.substr(-1)==="/"&&(E=E.substr(0,E.length-1)),decodeURIComponent(E)}function g(E){return E.replace(/[^\/]+\/?$/,"")}function v(E){const z=E.split("/");return E.substr(-1)==="/"?z[z.length-2]+"/":z[z.length-1]}function _(E){return c.cleanPath("/remotestorage/"+E)}function k(E){return E.replace(/^["'](.*)["']$/,"$1")}class P{constructor(z){this._items={},this.maxAge=z,this._items={}}get(z){const w=this._items[z],M=new Date().getTime();return w&&w.t>=M-this.maxAge?w.v:void 0}set(z,w){this._items[z]={v:w,t:new Date().getTime()}}}class A{constructor(z,w){if(this.connected=!1,this.online=!0,this.addEvents(["connected","not-connected"]),this.rs=z,this.clientId=w,this._fileIdCache=new P(300),d=c.localStorageAvailable(),d){const M=c.getJSONFromLocalStorage(h);M&&this.configure(M)}}configure(z){z.userAddress!==void 0&&(this.userAddress=z.userAddress),z.token!==void 0&&(this.token=z.token);const w=function(){d&&localStorage.setItem(h,JSON.stringify({userAddress:this.userAddress,token:this.token}))},M=function(){this.connected=!1,delete this.token,d&&localStorage.removeItem(h)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),w.apply(this)):this.info().then(f=>{this.userAddress=f.user.emailAddress,this._emit("connected"),w.apply(this)}).catch(()=>{M.apply(this),this.rs._emit("error",new Error("Could not fetch user info."))})):M.apply(this)}connect(){this.rs.setBackend("googledrive"),this.rs.authorize({authURL:"https://accounts.google.com/o/oauth2/auth",scope:"https://www.googleapis.com/auth/drive",clientId:this.clientId})}stopWaitingForToken(){this.connected||this._emit("not-connected")}get(z,w){return c.isFolder(z)?this._getFolder(_(z)):this._getFile(_(z),w)}put(z,w,M,f){const b=_(z);function y(m){if(m.status>=200&&m.status<300){const x=JSON.parse(m.responseText),I=k(x.etag);return Promise.resolve({statusCode:200,contentType:x.mimeType,revision:I})}return m.status===412?Promise.resolve({statusCode:412,revision:"conflict"}):Promise.reject("PUT failed with status "+m.status+" ("+m.responseText+")")}return this._getFileId(b).then(m=>m?f&&f.ifNoneMatch==="*"?y({status:412}):this._updateFile(m,b,w,M,f).then(y):this._createFile(b,w,M).then(y))}delete(z,w){const M=_(z);return this._getFileId(M).then(f=>f?this._getMeta(f).then(b=>{let y;return typeof b=="object"&&typeof b.etag=="string"&&(y=k(b.etag)),w&&w.ifMatch&&w.ifMatch!==y?{statusCode:412,revision:y}:this._request("DELETE",l+"/drive/v2/files/"+f,{}).then(m=>m.status===200||m.status===204?{statusCode:200}:Promise.reject("Delete failed: "+m.status+" ("+m.responseText+")"))}):Promise.resolve({statusCode:200}))}info(){return this._request("GET","https://www.googleapis.com/drive/v2/about?fields=user",{}).then(function(z){try{const w=JSON.parse(z.responseText);return Promise.resolve(w)}catch(w){return Promise.reject(w)}})}_updateFile(z,w,M,f,b){const y={mimeType:f},m={"Content-Type":"application/json; charset=UTF-8"};return b&&b.ifMatch&&(m["If-Match"]='"'+b.ifMatch+'"'),this._request("PUT",l+"/upload/drive/v2/files/"+z+"?uploadType=resumable",{body:JSON.stringify(y),headers:m}).then(x=>x.status===412?x:this._request("PUT",x.getResponseHeader("Location"),{body:f.match(/^application\/json/)?JSON.stringify(M):M}))}_createFile(z,w,M){return this._getParentId(z).then(f=>{const b={title:p(v(z)),mimeType:M,parents:[{kind:"drive#fileLink",id:f}]};return this._request("POST",l+"/upload/drive/v2/files?uploadType=resumable",{body:JSON.stringify(b),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(y=>this._request("POST",y.getResponseHeader("Location"),{body:M.match(/^application\/json/)?JSON.stringify(w):w}))})}_getFile(z,w){return this._getFileId(z).then(M=>this._getMeta(M).then(f=>{let b;if(typeof f=="object"&&typeof f.etag=="string"&&(b=k(f.etag)),w&&w.ifNoneMatch&&b===w.ifNoneMatch)return Promise.resolve({statusCode:304});if(!f.downloadUrl){if(!f.exportLinks||!f.exportLinks["text/html"])return Promise.resolve({statusCode:200,body:"",contentType:f.mimeType,revision:b});f.mimeType+=";export=text/html",f.downloadUrl=f.exportLinks["text/html"]}return this._request("GET",f.downloadUrl,{responseType:"arraybuffer"}).then(y=>c.getTextFromArrayBuffer(y.response,"UTF-8").then(function(m){let x=m;if(f.mimeType.match(/^application\/json/))try{x=JSON.parse(x)}catch{}else c.shouldBeTreatedAsBinary(m,f.mimeType)&&(x=y.response);return{statusCode:200,body:x,contentType:f.mimeType,revision:b}}))}))}_getFolder(z){return this._getFileId(z).then(w=>{let M,f,b;if(!w)return Promise.resolve({statusCode:404});const y="'"+w+"' in parents";return this._request("GET",l+"/drive/v2/files?q="+encodeURIComponent(y)+"&fields="+encodeURIComponent("items(downloadUrl,etag,fileSize,id,mimeType,title,labels)")+"&maxResults=1000&trashed=false",{}).then(m=>{var x;if(m.status!==200)return Promise.reject("request failed or something: "+m.status);try{M=JSON.parse(m.responseText)}catch{return Promise.reject("non-JSON response from GoogleDrive")}b={};for(const I of M.items)!((x=I.labels)===null||x===void 0)&&x.trashed||(f=k(I.etag),I.mimeType==="application/vnd.google-apps.folder"?(this._fileIdCache.set(z+c.cleanPath(I.title)+"/",I.id),b[I.title+"/"]={ETag:f}):(this._fileIdCache.set(z+c.cleanPath(I.title),I.id),b[I.title]={ETag:f,"Content-Type":I.mimeType,"Content-Length":I.fileSize}));return Promise.resolve({statusCode:200,body:b,contentType:"application/json; charset=UTF-8",revision:void 0})})})}_getParentId(z){const w=g(z);return this._getFileId(w).then(M=>M?Promise.resolve(M):this._createFolder(w))}_createFolder(z){return this._getParentId(z).then(w=>this._request("POST",l+"/drive/v2/files",{body:JSON.stringify({title:p(v(z)),mimeType:"application/vnd.google-apps.folder",parents:[{id:w}]}),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(M=>{const f=JSON.parse(M.responseText);return Promise.resolve(f.id)}))}_getFileId(z){let w;return z==="/"?Promise.resolve("root"):(w=this._fileIdCache.get(z))?Promise.resolve(w):this._getFolder(g(z)).then(()=>(w=this._fileIdCache.get(z),w?Promise.resolve(w):z.substr(-1)==="/"?this._createFolder(z).then(()=>this._getFileId(z)):Promise.resolve()))}_getMeta(z){return this._request("GET",l+"/drive/v2/files/"+z,{}).then(function(w){return w.status===200?Promise.resolve(JSON.parse(w.responseText)):Promise.reject("request (getting metadata for "+z+") failed with status: "+w.status)})}_request(z,w,M){return M.headers||(M.headers={}),M.headers.Authorization="Bearer "+this.token,this.rs._emit("wire-busy",{method:z,isFolder:c.isFolder(w)}),o.default.request.call(this,z,w,M).then(f=>f&&f.status===401?void this.connect():(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:z,isFolder:c.isFolder(w),success:!0}),Promise.resolve(f)),f=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:z,isFolder:c.isFolder(w),success:!1}),Promise.reject(f)))}static _rs_init(z){const w=z.apiKeys.googledrive;var M;w&&(z.googledrive=new A(z,w.clientId),z.backend==="googledrive"&&(z._origRemote=z.remote,z.remote=z.googledrive,(M=z)._origBaseClientGetItemURL||(M._origBaseClientGetItemURL=a.default.prototype.getItemURL,a.default.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Google Drive yet")})))}static _rs_supported(){return!0}static _rs_cleanup(z){var w;z.setBackend(void 0),z._origRemote&&(z.remote=z._origRemote,delete z._origRemote),(w=z)._origBaseClientGetItemURL&&(a.default.prototype.getItemURL=w._origBaseClientGetItemURL,delete w._origBaseClientGetItemURL)}}c.applyMixins(A,[u.default]),r.exports=A},function(r,n,i){var s=this&&this.__awaiter||function(M,f,b,y){return new(b||(b=Promise))(function(m,x){function I(Z){try{q(y.next(Z))}catch(S){x(S)}}function O(Z){try{q(y.throw(Z))}catch(S){x(S)}}function q(Z){var S;Z.done?m(Z.value):(S=Z.value,S instanceof b?S:new b(function(U){U(S)})).then(I,O)}q((y=y.apply(M,f||[])).next())})},a=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};const o=a(i(2)),u=a(i(8)),c=a(i(7)),l=a(i(26)),h=a(i(9)),d=a(i(4)),p=i(0);let g;const v="remotestorage:dropbox";function _(M){return p.cleanPath("/remotestorage/"+M).replace(/\/$/,"")}function k(M,f){return new RegExp("^"+f.join("\\/")+"(\\/|$)").test(M.error_summary)}function P(M){return M instanceof ArrayBuffer||u.default.isArrayBufferView(M)}class A{constructor(f){if(this.rs=f,this.connected=!1,this.online=!0,this._initialFetchDone=!1,this.addEvents(["connected","not-connected"]),this.clientId=f.apiKeys.dropbox.appKey,this._revCache=new l.default("rev"),this._fetchDeltaCursor=null,this._fetchDeltaPromise=null,this._itemRefs={},g=p.localStorageAvailable(),g){const b=p.getJSONFromLocalStorage(v);b&&this.configure(b),this._itemRefs=p.getJSONFromLocalStorage(v+":shares")||{}}this.connected&&setTimeout(this._emit.bind(this),0,"connected")}connect(){this.rs.setBackend("dropbox"),this.token?w(this.rs):this.rs.authorize({authURL:"https://www.dropbox.com/oauth2/authorize",scope:"",clientId:this.clientId})}configure(f){f.userAddress!==void 0&&(this.userAddress=f.userAddress),f.token!==void 0&&(this.token=f.token);const b=function(){g&&localStorage.setItem(v,JSON.stringify({userAddress:this.userAddress,token:this.token}))},y=function(){this.connected=!1,g&&localStorage.removeItem(v)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),b.apply(this)):this.info().then(function(m){this.userAddress=m.email,this._emit("connected"),b.apply(this)}.bind(this)).catch(function(){y.apply(this),this.rs._emit("error",new Error("Could not fetch user info."))}.bind(this))):y.apply(this)}stopWaitingForToken(){this.connected||this._emit("not-connected")}_getFolder(f){const b=this._revCache,y=x=>{let I;if(x.status!==200&&x.status!==409)return Promise.reject("Unexpected response status: "+x.status);try{I=JSON.parse(x.responseText)}catch(q){return Promise.reject(q)}if(x.status===409)return k(I,["path","not_found"])?Promise.resolve({}):Promise.reject(new Error("API returned an error: "+I.error_summary));const O=I.entries.reduce((q,Z)=>{const S=Z[".tag"]==="folder",U=Z.path_lower.split("/").slice(-1)[0]+(S?"/":"");return S?q[U]={ETag:b.get(f+U)}:(q[U]={ETag:Z.rev},this._revCache.set(f+U,Z.rev)),q},{});return I.has_more?m(I.cursor).then(function(q){return Object.assign(O,q)}):Promise.resolve(O)},m=x=>{const I={body:{cursor:x}};return this._request("POST","https://api.dropboxapi.com/2/files/list_folder/continue",I).then(y)};return this._request("POST","https://api.dropboxapi.com/2/files/list_folder",{body:{path:_(f)}}).then(y).then(function(x){return Promise.resolve({statusCode:200,body:x,contentType:"application/json; charset=UTF-8",revision:b.get(f)})})}get(f,b){if(!this.connected)return Promise.reject("not connected (path: "+f+")");const y=this._revCache.get(f);if(y===null)return Promise.resolve({statusCode:404});if(b&&b.ifNoneMatch){if(!this._initialFetchDone)return this.fetchDelta().then(()=>this.get(f,b));if(y&&y===b.ifNoneMatch)return Promise.resolve({statusCode:304})}if(f.substr(-1)==="/")return this._getFolder(f);const m={headers:{"Dropbox-API-Arg":JSON.stringify({path:_(f)})},responseType:"arraybuffer"};return b&&b.ifNoneMatch&&(m.headers["If-None-Match"]=b.ifNoneMatch),this._request("GET","https://content.dropboxapi.com/2/files/download",m).then(x=>{const I=x.status;let O,q,Z,S;return I!==200&&I!==409?Promise.resolve({statusCode:I}):(O=x.getResponseHeader("Dropbox-API-Result"),p.getTextFromArrayBuffer(x.response,"UTF-8").then(U=>{q=U,I===409&&(O=q);try{O=JSON.parse(O)}catch(V){return Promise.reject(V)}if(I===409)return k(O,["path","not_found"])?{statusCode:404}:Promise.reject(new Error('API error while downloading file ("'+f+'"): '+O.error_summary));if(Z=x.getResponseHeader("Content-Type"),S=O.rev,this._revCache.set(f,S),this._shareIfNeeded(f),p.shouldBeTreatedAsBinary(U,Z))q=x.response;else try{q=JSON.parse(q),Z="application/json; charset=UTF-8"}catch{}return{statusCode:I,body:q,contentType:Z,revision:S}}))})}put(f,b,y,m){if(!this.connected)throw new Error("not connected (path: "+f+")");const x=this._revCache.get(f);if(m&&m.ifMatch&&x&&x!==m.ifMatch)return Promise.resolve({statusCode:412,revision:x});if(m&&m.ifNoneMatch==="*"&&x&&x!=="rev")return Promise.resolve({statusCode:412,revision:x});if(!y.match(/charset=/)&&P(b)&&(y+="; charset=binary"),b.length>157286400)return Promise.reject(new Error("Cannot upload file larger than 150MB"));let I;const O=m&&(m.ifMatch||m.ifNoneMatch==="*"),q={body:b,contentType:y,path:f};return I=O?this._getMetadata(f).then(Z=>m&&m.ifNoneMatch==="*"&&Z||m&&m.ifMatch&&Z&&Z.rev!==m.ifMatch?Promise.resolve({statusCode:412,revision:Z.rev}):this._uploadSimple(q)):this._uploadSimple(q),I.then(Z=>(this._shareIfNeeded(f),Z))}delete(f,b){if(!this.connected)throw new Error("not connected (path: "+f+")");const y=this._revCache.get(f);return b&&b.ifMatch&&y&&b.ifMatch!==y?Promise.resolve({statusCode:412,revision:y}):b&&b.ifMatch?this._getMetadata(f).then(m=>b&&b.ifMatch&&m&&m.rev!==b.ifMatch?Promise.resolve({statusCode:412,revision:m.rev}):this._deleteSimple(f)):this._deleteSimple(f)}_shareIfNeeded(f){f.match(/^\/public\/.*[^/]$/)&&this._itemRefs[f]===void 0&&this.share(f)}share(f){const b={body:{path:_(f)}};return this._request("POST","https://api.dropboxapi.com/2/sharing/create_shared_link_with_settings",b).then(y=>{if(y.status!==200&&y.status!==409)return Promise.reject(new Error("Invalid response status:"+y.status));let m;try{m=JSON.parse(y.responseText)}catch{return Promise.reject(new Error("Invalid response body: "+y.responseText))}return y.status===409?k(m,["shared_link_already_exists"])?this._getSharedLink(f):Promise.reject(new Error("API error: "+m.error_summary)):Promise.resolve(m.url)}).then(y=>(this._itemRefs[f]=y,g&&localStorage.setItem(v+":shares",JSON.stringify(this._itemRefs)),Promise.resolve(y)),y=>(y.message='Sharing Dropbox file or folder ("'+f+'") failed: '+y.message,Promise.reject(y)))}info(){return this._request("POST","https://api.dropboxapi.com/2/users/get_current_account",{}).then(function(f){let b=f.responseText;try{b=JSON.parse(b)}catch{return Promise.reject(new Error("Could not query current account info: Invalid API response: "+b))}return Promise.resolve({email:b.email})})}_request(f,b,y){return y.headers||(y.headers={}),y.headers.Authorization="Bearer "+this.token,typeof y.body!="object"||P(y.body)||(y.body=JSON.stringify(y.body),y.headers["Content-Type"]="application/json; charset=UTF-8"),this.rs._emit("wire-busy",{method:f,isFolder:p.isFolder(b)}),u.default.request.call(this,f,b,y).then(m=>m&&m.status===503?(this.online&&(this.online=!1,this.rs._emit("network-offline")),setTimeout(this._request(f,b,y),3210)):(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:f,isFolder:p.isFolder(b),success:!0}),Promise.resolve(m)),m=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:f,isFolder:p.isFolder(b),success:!1}),Promise.reject(m)))}fetchDelta(...f){if(this._fetchDeltaPromise)return this._fetchDeltaPromise;const b=y=>{let m,x="https://api.dropboxapi.com/2/files/list_folder";return typeof y=="string"?(x+="/continue",m={cursor:y}):m={path:"/remotestorage",recursive:!0,include_deleted:!0},this._request("POST",x,{body:m}).then(I=>{if(I.status===401)return this.rs._emit("error",new d.default),Promise.resolve(f);if(I.status!==200&&I.status!==409)return Promise.reject(new Error("Invalid response status: "+I.status));let O;try{O=JSON.parse(I.responseText)}catch{return Promise.reject(new Error("Invalid response body: "+I.responseText))}if(I.status===409){if(!k(O,["path","not_found"]))return Promise.reject(new Error("API returned an error: "+O.error_summary));O={cursor:null,entries:[],has_more:!1}}if(y||this._revCache.deactivatePropagation(),O.entries.forEach(q=>{const Z=q.path_lower.substr(14);q[".tag"]==="deleted"?(this._revCache.delete(Z),this._revCache.delete(Z+"/")):q[".tag"]==="file"&&this._revCache.set(Z,q.rev)}),this._fetchDeltaCursor=O.cursor,O.has_more)return b(O.cursor);this._revCache.activatePropagation(),this._initialFetchDone=!0}).catch(I=>I==="timeout"||I instanceof ProgressEvent?Promise.resolve():Promise.reject(I))};return this._fetchDeltaPromise=b(this._fetchDeltaCursor).catch(y=>(typeof y=="object"&&"message"in y?y.message="Dropbox: fetchDelta: "+y.message:y="Dropbox: fetchDelta: "+y,this._fetchDeltaPromise=null,Promise.reject(y))).then(()=>(this._fetchDeltaPromise=null,Promise.resolve(f))),this._fetchDeltaPromise}_getMetadata(f){const b={path:_(f)};return this._request("POST","https://api.dropboxapi.com/2/files/get_metadata",{body:b}).then(y=>{if(y.status!==200&&y.status!==409)return Promise.reject(new Error("Invalid response status:"+y.status));let m;try{m=JSON.parse(y.responseText)}catch{return Promise.reject(new Error("Invalid response body: "+y.responseText))}return y.status===409?k(m,["path","not_found"])?Promise.resolve():Promise.reject(new Error("API error: "+m.error_summary)):Promise.resolve(m)}).then(void 0,y=>(y.message='Could not load metadata for file or folder ("'+f+'"): '+y.message,Promise.reject(y)))}_uploadSimple(f){const b={path:_(f.path),mode:{".tag":"overwrite",update:void 0},mute:!0};return f.ifMatch&&(b.mode={".tag":"update",update:f.ifMatch}),this._request("POST","https://content.dropboxapi.com/2/files/upload",{body:f.body,headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":JSON.stringify(b)}}).then(y=>{if(y.status!==200&&y.status!==409)return Promise.resolve({statusCode:y.status});let m=y.responseText;try{m=JSON.parse(m)}catch{return Promise.reject(new Error("Invalid API result: "+m))}return y.status===409?k(m,["path","conflict"])?this._getMetadata(f.path).then(function(x){return Promise.resolve({statusCode:412,revision:x.rev})}):Promise.reject(new Error("API error: "+m.error_summary)):(this._revCache.set(f.path,m.rev),Promise.resolve({statusCode:y.status,revision:m.rev}))})}_deleteSimple(f){const b={path:_(f)};return this._request("POST","https://api.dropboxapi.com/2/files/delete",{body:b}).then(y=>{if(y.status!==200&&y.status!==409)return Promise.resolve({statusCode:y.status});let m=y.responseText;try{m=JSON.parse(m)}catch{return Promise.reject(new Error("Invalid response body: "+m))}return y.status===409?k(m,["path_lookup","not_found"])?Promise.resolve({statusCode:404}):Promise.reject(new Error("API error: "+m.error_summary)):Promise.resolve({statusCode:200})}).then(y=>(y.statusCode!==200&&y.statusCode!==404||(this._revCache.delete(f),delete this._itemRefs[f]),Promise.resolve(y)),y=>(y.message='Could not delete Dropbox file or folder ("'+f+'"): '+y.message,Promise.reject(y)))}_getSharedLink(f){return s(this,void 0,void 0,function*(){const b={body:{path:_(f),direct_only:!0}};return this._request("POST","https://api.dropbox.com/2/sharing/list_shared_links",b).then(y=>{if(y.status!==200&&y.status!==409)return Promise.reject(new Error("Invalid response status: "+y.status));let m;try{m=JSON.parse(y.responseText)}catch{return Promise.reject(new Error("Invalid response body: "+y.responseText))}return y.status===409?Promise.reject(new Error("API error: "+y.error_summary)):m.links.length?Promise.resolve(m.links[0].url):Promise.reject(new Error("No links returned"))},y=>(y.message='Could not get link to a shared file or folder ("'+f+'"): '+y.message,Promise.reject(y)))})}static _rs_init(f){g=p.localStorageAvailable(),f.apiKeys.dropbox&&(f.dropbox=new A(f)),f.backend==="dropbox"&&w(f)}static _rs_supported(){return!0}static _rs_cleanup(f){(function(b){(function(y){y._origRemote&&(y.remote=y._origRemote,delete y._origRemote)})(b),function(y){!y._dropboxOrigSync||(y.sync.sync=y._dropboxOrigSync,delete y._dropboxOrigSync)}(b),function(y){!y._origBaseClientGetItemURL||(c.default.prototype.getItemURL=y._origBaseClientGetItemURL,delete y._origBaseClientGetItemURL)}(b),z(b)})(f),g&&localStorage.removeItem(v),f.setBackend(void 0)}}function E(M,...f){M._dropboxOrigSync||(M._dropboxOrigSync=M.sync.sync.bind(M.sync),M.sync.sync=function(){return this.dropbox.fetchDelta(M,...f).then(M._dropboxOrigSync,function(b){M._emit("error",new h.default(b)),M._emit("sync-done")})}.bind(M))}function z(M){M._dropboxOrigSyncCycle&&(M.syncCycle=M._dropboxOrigSyncCycle,delete M._dropboxOrigSyncCycle)}function w(M){(function(f){f._origRemote||(f._origRemote=f.remote,f.remote=f.dropbox)})(M),M.sync?E(M):function(f,...b){f._dropboxOrigSyncCycle||(f._dropboxOrigSyncCycle=f.syncCycle,f.syncCycle=()=>{if(!f.sync)throw new Error("expected sync to be initialized by now");E(f),f._dropboxOrigSyncCycle(f,...b),z(f)})}(M),function(f){f._origBaseClientGetItemURL||(f._origBaseClientGetItemURL=c.default.prototype.getItemURL,c.default.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Dropbox yet")})}(M)}p.applyMixins(A,[o.default]),r.exports=A},function(r,n,i){var s=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};const a=s(i(27)),o=s(i(1)),u=i(0);let c,l,h={};const d=function(p){return new Promise((g,v)=>p in h?g(h[p]):new a.default({tls_only:!1,uri_fallback:!0,request_timeout:5e3}).lookup(p,function(_,k){if(_)return v(_);if(typeof k.idx.links.remotestorage!="object"||typeof k.idx.links.remotestorage.length!="number"||k.idx.links.remotestorage.length<=0)return o.default("[Discover] WebFinger record for "+p+" does not have remotestorage defined in the links section ",JSON.stringify(k.json)),v("WebFinger record for "+p+" does not have remotestorage defined in the links section.");const P=k.idx.links.remotestorage[0],A=P.properties["http://tools.ietf.org/html/rfc6749#section-4.2"]||P.properties["auth-endpoint"],E=P.properties["http://remotestorage.io/spec/version"]||P.type;return h[p]={href:P.href,storageApi:E,authURL:A,properties:P.properties},l&&(localStorage["remotestorage:discover"]=JSON.stringify({cache:h})),g(h[p])}))};(d.DiscoveryError=function(p){this.name="DiscoveryError",this.message=p,this.stack=new Error().stack}).prototype=Object.create(Error.prototype),d.DiscoveryError.prototype.constructor=d.DiscoveryError,d._rs_init=function(){if(l=u.localStorageAvailable(),l)try{h=JSON.parse(localStorage["remotestorage:discover"]).cache}catch{}},d._rs_supported=function(){return c=Object.prototype.hasOwnProperty.call(u.globalContext,"XMLHttpRequest"),c},d._rs_cleanup=function(){l&&delete localStorage["remotestorage:discover"]},r.exports=d},function(r,n,i){const s=(this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}})(i(2)),a=i(0);class o{constructor(){this.addEvents(["background","foreground"]),this.mode=typeof window!="undefined"?"browser":"node",this.mode==="browser"&&(this.setBrowserPrefixedNames(),document.addEventListener(this.visibilityChangeEvent,this.setVisibility.bind(this),!1),this.setVisibility())}setBrowserPrefixedNames(){this.mode==="browser"&&(document.hidden!==void 0?(this.hiddenProperty="hidden",this.visibilityChangeEvent="visibilitychange"):document.mozHidden!==void 0?(this.hiddenProperty="mozHidden",this.visibilityChangeEvent="mozvisibilitychange"):document.msHidden!==void 0?(this.hiddenProperty="msHidden",this.visibilityChangeEvent="msvisibilitychange"):document.webkitHidden!==void 0&&(this.hiddenProperty="webkitHidden",this.visibilityChangeEvent="webkitvisibilitychange"))}setVisibility(){document[this.hiddenProperty]?this.goBackground():this.goForeground()}isBrowser(){return this.mode==="browser"}isNode(){return this.mode==="node"}goBackground(){this._emit("background")}goForeground(){this._emit("foreground")}static _rs_init(){}static _rs_cleanup(){}}a.applyMixins(o,[s.default]),r.exports=o},function(r,n,i){r.exports=i(18)},function(r,n,i){var s=this&&this.__createBinding||(Object.create?function(O,q,Z,S){S===void 0&&(S=Z),Object.defineProperty(O,S,{enumerable:!0,get:function(){return q[Z]}})}:function(O,q,Z,S){S===void 0&&(S=Z),O[S]=q[Z]}),a=this&&this.__setModuleDefault||(Object.create?function(O,q){Object.defineProperty(O,"default",{enumerable:!0,value:q})}:function(O,q){O.default=q}),o=this&&this.__importStar||function(O){if(O&&O.__esModule)return O;var q={};if(O!=null)for(var Z in O)Z!=="default"&&Object.hasOwnProperty.call(O,Z)&&s(q,O,Z);return a(q,O),q},u=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};const c=u(i(3)),l=u(i(1)),h=i(0),d=u(i(11)),p=u(i(6)),g=u(i(7)),v=u(i(12)),_=u(i(2)),k=u(i(13)),P=u(i(14)),A=u(i(15)),E=u(i(9)),z=u(i(4)),w=u(i(29)),M=o(i(0)),f=h.getGlobalContext();let b;function y(O){return O.statusCode!==403&&O.statusCode!==401||this._emit("error",new z.default),Promise.resolve(O)}function m(O){return typeof O=="number"&&O>=2e3&&O<=36e5}class x{constructor(q){this._pending=[],this._cleanups=[],this._pathHandlers={change:{}},this.apiKeys={},this._init=w.default.loadFeatures,this.features=w.default.features,this.loadFeature=w.default.loadFeature,this.featureSupported=w.default.featureSupported,this.featureDone=w.default.featureDone,this.featuresDone=w.default.featuresDone,this.featuresLoaded=w.default.featuresLoaded,this.featureInitialized=w.default.featureInitialized,this.featureFailed=w.default.featureFailed,this.hasFeature=w.default.hasFeature,this._setCachingModule=w.default._setCachingModule,this._collectCleanupFunctions=w.default._collectCleanupFunctions,this._fireReady=w.default._fireReady,this.initFeature=w.default.initFeature,typeof q=="object"&&h.extend(c.default,q),this.addEvents(["ready","authing","connecting","connected","disconnected","not-connected","conflict","error","features-loaded","sync-interval-change","sync-req-done","sync-done","wire-busy","wire-done","network-offline","network-online"]),this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")}),b=h.localStorageAvailable(),b&&(this.apiKeys=h.getJSONFromLocalStorage("remotestorage:api-keys")||{},this.setBackend(localStorage.getItem("remotestorage:backend")||"remotestorage"));const Z=this.on;this.on=function(S,U){if(this._allLoaded)switch(S){case"features-loaded":setTimeout(U,0);break;case"ready":this.remote&&setTimeout(U,0);break;case"connected":this.remote&&this.remote.connected&&setTimeout(U,0);break;case"not-connected":this.remote&&!this.remote.connected&&setTimeout(U,0)}return Z.call(this,S,U)},this._init(),this.fireInitial=function(){this.local&&setTimeout(this.local.fireInitial.bind(this.local),0)}.bind(this),this.on("ready",this.fireInitial.bind(this)),this.loadModules()}get connected(){return this.remote.connected}loadModules(){c.default.modules.forEach(this.addModule.bind(this))}authorize(q){if(this.access.setStorageType(this.remote.storageApi),q.scope===void 0&&(q.scope=this.access.scopeParameter),f.cordova)q.redirectUri=c.default.cordovaRedirectUri;else{const Z=p.default.getLocation();let S=Z.origin;Z.pathname!=="/"&&(S+=Z.pathname),q.redirectUri=S}q.clientId===void 0&&(q.clientId=q.redirectUri.match(/^(https?:\/\/[^/]+)/)[0]),p.default.authorize(this,q)}impliedauth(q,Z){q=q||this.remote.storageApi,Z=Z||String(document.location),l.default("ImpliedAuth proceeding due to absent authURL; storageApi = "+q+" redirectUri = "+Z),this.remote.configure({token:p.default.IMPLIED_FAKE_TOKEN}),document.location.href=Z}connect(q,Z){if(this.setBackend("remotestorage"),q.indexOf("@")<0&&!q.match(/^(https?:\/\/)?[^\s\/$\.?#]+\.[^\s]*$/))return void this._emit("error",new x.DiscoveryError("Not a valid user address or URL."));if(q.indexOf("@")<0&&!q.match(/^https?:\/\//)&&(q="https://"+q),f.cordova){if(typeof c.default.cordovaRedirectUri!="string")return void this._emit("error",new x.DiscoveryError("Please supply a custom HTTPS redirect URI for your Cordova app"));if(!f.cordova.InAppBrowser)return void this._emit("error",new x.DiscoveryError("Please include the InAppBrowser Cordova plugin to enable OAuth"))}this.remote.configure({userAddress:q}),this._emit("connecting");const S=setTimeout(()=>{this._emit("error",new x.DiscoveryError("No storage information found for this user address."))},c.default.discoveryTimeout);A.default(q).then(U=>{if(clearTimeout(S),this._emit("authing"),U.userAddress=q,this.remote.configure(U),!this.remote.connected)if(U.authURL)if(Z===void 0)this.authorize({authURL:U.authURL});else{if(typeof Z!="string")throw new Error("Supplied bearer token must be a string");l.default("Skipping authorization sequence and connecting with known token"),this.remote.configure({token:Z})}else this.impliedauth()},()=>{clearTimeout(S),this._emit("error",new x.DiscoveryError("No storage information found for this user address."))})}reconnect(){this.remote.configure({token:null}),this.backend==="remotestorage"?this.connect(this.remote.userAddress):this.remote.connect()}disconnect(){this.remote&&this.remote.configure({userAddress:null,href:null,storageApi:null,token:null,properties:null}),this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")});const q=this._cleanups.length;let Z=0;const S=()=>{Z++,Z>=q&&(this._init(),this._emit("disconnected"))};q>0?this._cleanups.forEach(U=>{const V=U(this);typeof V=="object"&&typeof V.then=="function"?V.then(S):S()}):S()}setBackend(q){this.backend=q,b&&(q?localStorage.setItem("remotestorage:backend",q):localStorage.removeItem("remotestorage:backend"))}onChange(q,Z){this._pathHandlers.change[q]||(this._pathHandlers.change[q]=[]),this._pathHandlers.change[q].push(Z)}enableLog(){c.default.logging=!0}disableLog(){c.default.logging=!1}log(...q){l.default.apply(x,q)}setApiKeys(q){const Z=[I.GOOGLE,I.DROPBOX];if(typeof q!="object"||!Object.keys(q).every(S=>Z.includes(S)))return console.error("setApiKeys() was called with invalid arguments"),!1;Object.keys(q).forEach(S=>{const U=q[S];if(U){switch(S){case I.DROPBOX:this.apiKeys[I.DROPBOX]={appKey:U},this.dropbox!==void 0&&this.dropbox.clientId===U||P.default._rs_init(this);break;case I.GOOGLE:this.apiKeys[I.GOOGLE]={clientId:U},this.googledrive!==void 0&&this.googledrive.clientId===U||k.default._rs_init(this)}return!0}delete this.apiKeys[S]}),b&&localStorage.setItem("remotestorage:api-keys",JSON.stringify(this.apiKeys))}setCordovaRedirectUri(q){if(typeof q!="string"||!q.match(/http(s)?:\/\//))throw new Error("Cordova redirect URI must be a URI string");c.default.cordovaRedirectUri=q}_setGPD(q,Z){function S(U){return function(...V){return U.apply(Z,V).then(y.bind(this))}}this.get=S(q.get),this.put=S(q.put),this.delete=S(q.delete)}_pendingGPD(q){return(...Z)=>{const S=Array.prototype.slice.call(Z);return new Promise((U,V)=>{this._pending.push({method:q,args:S,promise:{resolve:U,reject:V}})})}}_processPending(){this._pending.forEach(q=>{try{this[q.method](...q.args).then(q.promise.resolve,q.promise.reject)}catch(Z){q.promise.reject(Z)}}),this._pending=[]}_bindChange(q){q.on("change",this._dispatchEvent.bind(this,"change"))}_dispatchEvent(q,Z){Object.keys(this._pathHandlers[q]).forEach(S=>{const U=S.length;Z.path.substr(0,U)===S&&this._pathHandlers[q][S].forEach(V=>{const Q={};for(const G in Z)Q[G]=Z[G];Q.relativePath=Z.path.replace(new RegExp("^"+S),"");try{V(Q)}catch(G){console.error("'change' handler failed: ",G,G.stack),this._emit("error",G)}})})}scope(q){if(typeof q!="string")throw"Argument 'path' of baseClient.scope must be a string";return this.access.checkPathPermission(q,"r")||console.warn("WARNING: Please use remoteStorage.access.claim() to ask for access permissions first: https://remotestoragejs.readthedocs.io/en/latest/js-api/access.html#claim"),new g.default(this,q)}getSyncInterval(){return c.default.syncInterval}setSyncInterval(q){if(!m(q))throw q+" is not a valid sync interval";const Z=c.default.syncInterval;c.default.syncInterval=q,this._emit("sync-interval-change",{oldValue:Z,newValue:q})}getBackgroundSyncInterval(){return c.default.backgroundSyncInterval}setBackgroundSyncInterval(q){if(!m(q))throw q+" is not a valid sync interval";const Z=c.default.backgroundSyncInterval;c.default.backgroundSyncInterval=q,this._emit("sync-interval-change",{oldValue:Z,newValue:q})}getCurrentSyncInterval(){return c.default.isBackground?c.default.backgroundSyncInterval:c.default.syncInterval}getRequestTimeout(){return c.default.requestTimeout}setRequestTimeout(q){if(typeof q!="number")throw q+" is not a valid request timeout";c.default.requestTimeout=q}syncCycle(){this.sync&&!this.sync.stopped&&(this.on("sync-done",()=>{this.sync&&!this.sync.stopped&&(this._syncTimer&&(clearTimeout(this._syncTimer),this._syncTimer=void 0),this._syncTimer=setTimeout(this.sync.sync.bind(this.sync),this.getCurrentSyncInterval()))}),this.sync.sync())}startSync(){return c.default.cache?(this.sync.stopped=!1,this.syncStopped=!1,this.sync.sync()):(console.warn("Nothing to sync, because caching is disabled."),Promise.resolve())}stopSync(){clearTimeout(this._syncTimer),this._syncTimer=void 0,this.sync?this.sync.stopped=!0:this.syncStopped=!0}addModule(q){const Z=q.name,S=q.builder;if(Object.defineProperty(this,Z,{configurable:!0,get:function(){const U=this._loadModule(Z,S);return Object.defineProperty(this,Z,{value:U}),U}}),Z.indexOf("-")!==-1){const U=Z.replace(/\-[a-z]/g,function(V){return V[1].toUpperCase()});Object.defineProperty(this,U,{get:function(){return this[Z]}})}}_loadModule(q,Z){if(Z)return Z(new g.default(this,"/"+q+"/"),new g.default(this,"/public/"+q+"/")).exports;throw"Unknown module: "+q}}var I;x.Authorize=p.default,x.SyncError=E.default,x.Unauthorized=z.default,x.DiscoveryError=A.default.DiscoveryError,x.util=M,Object.defineProperty(x.prototype,"access",{get:function(){const O=new d.default;return Object.defineProperty(this,"access",{value:O}),O},configurable:!0}),Object.defineProperty(x.prototype,"caching",{configurable:!0,get:function(){const O=new v.default;return Object.defineProperty(this,"caching",{value:O}),O}}),h.applyMixins(x,[_.default]),function(O){O.GOOGLE="googledrive",O.DROPBOX="dropbox"}(I||(I={})),r.exports=x},function(r,n,i){(function(s){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var a=i(20),o=i(21),u=i(22);function c(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(T,N){if(c()<N)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(T=new Uint8Array(N)).__proto__=h.prototype:(T===null&&(T=new h(N)),T.length=N),T}function h(T,N,L){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(T,N,L);if(typeof T=="number"){if(typeof N=="string")throw new Error("If encoding is specified then the first argument must be a string");return g(this,T)}return d(this,T,N,L)}function d(T,N,L,B){if(typeof N=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&N instanceof ArrayBuffer?function(R,D,j,et){if(D.byteLength,j<0||D.byteLength<j)throw new RangeError("'offset' is out of bounds");if(D.byteLength<j+(et||0))throw new RangeError("'length' is out of bounds");return D=j===void 0&&et===void 0?new Uint8Array(D):et===void 0?new Uint8Array(D,j):new Uint8Array(D,j,et),h.TYPED_ARRAY_SUPPORT?(R=D).__proto__=h.prototype:R=v(R,D),R}(T,N,L,B):typeof N=="string"?function(R,D,j){if(typeof j=="string"&&j!==""||(j="utf8"),!h.isEncoding(j))throw new TypeError('"encoding" must be a valid string encoding');var et=0|k(D,j),tt=(R=l(R,et)).write(D,j);return tt!==et&&(R=R.slice(0,tt)),R}(T,N,L):function(R,D){if(h.isBuffer(D)){var j=0|_(D.length);return(R=l(R,j)).length===0||D.copy(R,0,0,j),R}if(D){if(typeof ArrayBuffer!="undefined"&&D.buffer instanceof ArrayBuffer||"length"in D)return typeof D.length!="number"||(et=D.length)!=et?l(R,0):v(R,D);if(D.type==="Buffer"&&u(D.data))return v(R,D.data)}var et;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(T,N)}function p(T){if(typeof T!="number")throw new TypeError('"size" argument must be a number');if(T<0)throw new RangeError('"size" argument must not be negative')}function g(T,N){if(p(N),T=l(T,N<0?0:0|_(N)),!h.TYPED_ARRAY_SUPPORT)for(var L=0;L<N;++L)T[L]=0;return T}function v(T,N){var L=N.length<0?0:0|_(N.length);T=l(T,L);for(var B=0;B<L;B+=1)T[B]=255&N[B];return T}function _(T){if(T>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|T}function k(T,N){if(h.isBuffer(T))return T.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(T)||T instanceof ArrayBuffer))return T.byteLength;typeof T!="string"&&(T=""+T);var L=T.length;if(L===0)return 0;for(var B=!1;;)switch(N){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":case void 0:return K(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*L;case"hex":return L>>>1;case"base64":return C(T).length;default:if(B)return K(T).length;N=(""+N).toLowerCase(),B=!0}}function P(T,N,L){var B=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0)<=(N>>>=0))return"";for(T||(T="utf8");;)switch(T){case"hex":return Z(this,N,L);case"utf8":case"utf-8":return I(this,N,L);case"ascii":return O(this,N,L);case"latin1":case"binary":return q(this,N,L);case"base64":return x(this,N,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,N,L);default:if(B)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),B=!0}}function A(T,N,L){var B=T[N];T[N]=T[L],T[L]=B}function E(T,N,L,B,R){if(T.length===0)return-1;if(typeof L=="string"?(B=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,isNaN(L)&&(L=R?0:T.length-1),L<0&&(L=T.length+L),L>=T.length){if(R)return-1;L=T.length-1}else if(L<0){if(!R)return-1;L=0}if(typeof N=="string"&&(N=h.from(N,B)),h.isBuffer(N))return N.length===0?-1:z(T,N,L,B,R);if(typeof N=="number")return N&=255,h.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?R?Uint8Array.prototype.indexOf.call(T,N,L):Uint8Array.prototype.lastIndexOf.call(T,N,L):z(T,[N],L,B,R);throw new TypeError("val must be string, number or Buffer")}function z(T,N,L,B,R){var D,j=1,et=T.length,tt=N.length;if(B!==void 0&&((B=String(B).toLowerCase())==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(T.length<2||N.length<2)return-1;j=2,et/=2,tt/=2,L/=2}function ot(nt,at){return j===1?nt[at]:nt.readUInt16BE(at*j)}if(R){var pt=-1;for(D=L;D<et;D++)if(ot(T,D)===ot(N,pt===-1?0:D-pt)){if(pt===-1&&(pt=D),D-pt+1===tt)return pt*j}else pt!==-1&&(D-=D-pt),pt=-1}else for(L+tt>et&&(L=et-tt),D=L;D>=0;D--){for(var yt=!0,vt=0;vt<tt;vt++)if(ot(T,D+vt)!==ot(N,vt)){yt=!1;break}if(yt)return D}return-1}function w(T,N,L,B){L=Number(L)||0;var R=T.length-L;B?(B=Number(B))>R&&(B=R):B=R;var D=N.length;if(D%2!=0)throw new TypeError("Invalid hex string");B>D/2&&(B=D/2);for(var j=0;j<B;++j){var et=parseInt(N.substr(2*j,2),16);if(isNaN(et))return j;T[L+j]=et}return j}function M(T,N,L,B){return Y(K(N,T.length-L),T,L,B)}function f(T,N,L,B){return Y(function(R){for(var D=[],j=0;j<R.length;++j)D.push(255&R.charCodeAt(j));return D}(N),T,L,B)}function b(T,N,L,B){return f(T,N,L,B)}function y(T,N,L,B){return Y(C(N),T,L,B)}function m(T,N,L,B){return Y(function(R,D){for(var j,et,tt,ot=[],pt=0;pt<R.length&&!((D-=2)<0);++pt)j=R.charCodeAt(pt),et=j>>8,tt=j%256,ot.push(tt),ot.push(et);return ot}(N,T.length-L),T,L,B)}function x(T,N,L){return N===0&&L===T.length?a.fromByteArray(T):a.fromByteArray(T.slice(N,L))}function I(T,N,L){L=Math.min(T.length,L);for(var B=[],R=N;R<L;){var D,j,et,tt,ot=T[R],pt=null,yt=ot>239?4:ot>223?3:ot>191?2:1;if(R+yt<=L)switch(yt){case 1:ot<128&&(pt=ot);break;case 2:(192&(D=T[R+1]))==128&&(tt=(31&ot)<<6|63&D)>127&&(pt=tt);break;case 3:D=T[R+1],j=T[R+2],(192&D)==128&&(192&j)==128&&(tt=(15&ot)<<12|(63&D)<<6|63&j)>2047&&(tt<55296||tt>57343)&&(pt=tt);break;case 4:D=T[R+1],j=T[R+2],et=T[R+3],(192&D)==128&&(192&j)==128&&(192&et)==128&&(tt=(15&ot)<<18|(63&D)<<12|(63&j)<<6|63&et)>65535&&tt<1114112&&(pt=tt)}pt===null?(pt=65533,yt=1):pt>65535&&(pt-=65536,B.push(pt>>>10&1023|55296),pt=56320|1023&pt),B.push(pt),R+=yt}return function(vt){var nt=vt.length;if(nt<=4096)return String.fromCharCode.apply(String,vt);for(var at="",lt=0;lt<nt;)at+=String.fromCharCode.apply(String,vt.slice(lt,lt+=4096));return at}(B)}n.Buffer=h,n.SlowBuffer=function(T){return+T!=T&&(T=0),h.alloc(+T)},n.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=s.TYPED_ARRAY_SUPPORT!==void 0?s.TYPED_ARRAY_SUPPORT:function(){try{var T=new Uint8Array(1);return T.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},T.foo()===42&&typeof T.subarray=="function"&&T.subarray(1,1).byteLength===0}catch{return!1}}(),n.kMaxLength=c(),h.poolSize=8192,h._augment=function(T){return T.__proto__=h.prototype,T},h.from=function(T,N,L){return d(null,T,N,L)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(T,N,L){return function(B,R,D,j){return p(R),R<=0?l(B,R):D!==void 0?typeof j=="string"?l(B,R).fill(D,j):l(B,R).fill(D):l(B,R)}(null,T,N,L)},h.allocUnsafe=function(T){return g(null,T)},h.allocUnsafeSlow=function(T){return g(null,T)},h.isBuffer=function(T){return!(T==null||!T._isBuffer)},h.compare=function(T,N){if(!h.isBuffer(T)||!h.isBuffer(N))throw new TypeError("Arguments must be Buffers");if(T===N)return 0;for(var L=T.length,B=N.length,R=0,D=Math.min(L,B);R<D;++R)if(T[R]!==N[R]){L=T[R],B=N[R];break}return L<B?-1:B<L?1:0},h.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(T,N){if(!u(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return h.alloc(0);var L;if(N===void 0)for(N=0,L=0;L<T.length;++L)N+=T[L].length;var B=h.allocUnsafe(N),R=0;for(L=0;L<T.length;++L){var D=T[L];if(!h.isBuffer(D))throw new TypeError('"list" argument must be an Array of Buffers');D.copy(B,R),R+=D.length}return B},h.byteLength=k,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var N=0;N<T;N+=2)A(this,N,N+1);return this},h.prototype.swap32=function(){var T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var N=0;N<T;N+=4)A(this,N,N+3),A(this,N+1,N+2);return this},h.prototype.swap64=function(){var T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var N=0;N<T;N+=8)A(this,N,N+7),A(this,N+1,N+6),A(this,N+2,N+5),A(this,N+3,N+4);return this},h.prototype.toString=function(){var T=0|this.length;return T===0?"":arguments.length===0?I(this,0,T):P.apply(this,arguments)},h.prototype.equals=function(T){if(!h.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||h.compare(this,T)===0},h.prototype.inspect=function(){var T="",N=n.INSPECT_MAX_BYTES;return this.length>0&&(T=this.toString("hex",0,N).match(/.{2}/g).join(" "),this.length>N&&(T+=" ... ")),"<Buffer "+T+">"},h.prototype.compare=function(T,N,L,B,R){if(!h.isBuffer(T))throw new TypeError("Argument must be a Buffer");if(N===void 0&&(N=0),L===void 0&&(L=T?T.length:0),B===void 0&&(B=0),R===void 0&&(R=this.length),N<0||L>T.length||B<0||R>this.length)throw new RangeError("out of range index");if(B>=R&&N>=L)return 0;if(B>=R)return-1;if(N>=L)return 1;if(this===T)return 0;for(var D=(R>>>=0)-(B>>>=0),j=(L>>>=0)-(N>>>=0),et=Math.min(D,j),tt=this.slice(B,R),ot=T.slice(N,L),pt=0;pt<et;++pt)if(tt[pt]!==ot[pt]){D=tt[pt],j=ot[pt];break}return D<j?-1:j<D?1:0},h.prototype.includes=function(T,N,L){return this.indexOf(T,N,L)!==-1},h.prototype.indexOf=function(T,N,L){return E(this,T,N,L,!0)},h.prototype.lastIndexOf=function(T,N,L){return E(this,T,N,L,!1)},h.prototype.write=function(T,N,L,B){if(N===void 0)B="utf8",L=this.length,N=0;else if(L===void 0&&typeof N=="string")B=N,L=this.length,N=0;else{if(!isFinite(N))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");N|=0,isFinite(L)?(L|=0,B===void 0&&(B="utf8")):(B=L,L=void 0)}var R=this.length-N;if((L===void 0||L>R)&&(L=R),T.length>0&&(L<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");for(var D=!1;;)switch(B){case"hex":return w(this,T,N,L);case"utf8":case"utf-8":return M(this,T,N,L);case"ascii":return f(this,T,N,L);case"latin1":case"binary":return b(this,T,N,L);case"base64":return y(this,T,N,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,T,N,L);default:if(D)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),D=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(T,N,L){var B="";L=Math.min(T.length,L);for(var R=N;R<L;++R)B+=String.fromCharCode(127&T[R]);return B}function q(T,N,L){var B="";L=Math.min(T.length,L);for(var R=N;R<L;++R)B+=String.fromCharCode(T[R]);return B}function Z(T,N,L){var B=T.length;(!N||N<0)&&(N=0),(!L||L<0||L>B)&&(L=B);for(var R="",D=N;D<L;++D)R+=H(T[D]);return R}function S(T,N,L){for(var B=T.slice(N,L),R="",D=0;D<B.length;D+=2)R+=String.fromCharCode(B[D]+256*B[D+1]);return R}function U(T,N,L){if(T%1!=0||T<0)throw new RangeError("offset is not uint");if(T+N>L)throw new RangeError("Trying to access beyond buffer length")}function V(T,N,L,B,R,D){if(!h.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>R||N<D)throw new RangeError('"value" argument is out of bounds');if(L+B>T.length)throw new RangeError("Index out of range")}function Q(T,N,L,B){N<0&&(N=65535+N+1);for(var R=0,D=Math.min(T.length-L,2);R<D;++R)T[L+R]=(N&255<<8*(B?R:1-R))>>>8*(B?R:1-R)}function G(T,N,L,B){N<0&&(N=4294967295+N+1);for(var R=0,D=Math.min(T.length-L,4);R<D;++R)T[L+R]=N>>>8*(B?R:3-R)&255}function it(T,N,L,B,R,D){if(L+B>T.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function st(T,N,L,B,R){return R||it(T,0,L,4),o.write(T,N,L,B,23,4),L+4}function rt(T,N,L,B,R){return R||it(T,0,L,8),o.write(T,N,L,B,52,8),L+8}h.prototype.slice=function(T,N){var L,B=this.length;if((T=~~T)<0?(T+=B)<0&&(T=0):T>B&&(T=B),(N=N===void 0?B:~~N)<0?(N+=B)<0&&(N=0):N>B&&(N=B),N<T&&(N=T),h.TYPED_ARRAY_SUPPORT)(L=this.subarray(T,N)).__proto__=h.prototype;else{var R=N-T;L=new h(R,void 0);for(var D=0;D<R;++D)L[D]=this[D+T]}return L},h.prototype.readUIntLE=function(T,N,L){T|=0,N|=0,L||U(T,N,this.length);for(var B=this[T],R=1,D=0;++D<N&&(R*=256);)B+=this[T+D]*R;return B},h.prototype.readUIntBE=function(T,N,L){T|=0,N|=0,L||U(T,N,this.length);for(var B=this[T+--N],R=1;N>0&&(R*=256);)B+=this[T+--N]*R;return B},h.prototype.readUInt8=function(T,N){return N||U(T,1,this.length),this[T]},h.prototype.readUInt16LE=function(T,N){return N||U(T,2,this.length),this[T]|this[T+1]<<8},h.prototype.readUInt16BE=function(T,N){return N||U(T,2,this.length),this[T]<<8|this[T+1]},h.prototype.readUInt32LE=function(T,N){return N||U(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},h.prototype.readUInt32BE=function(T,N){return N||U(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},h.prototype.readIntLE=function(T,N,L){T|=0,N|=0,L||U(T,N,this.length);for(var B=this[T],R=1,D=0;++D<N&&(R*=256);)B+=this[T+D]*R;return B>=(R*=128)&&(B-=Math.pow(2,8*N)),B},h.prototype.readIntBE=function(T,N,L){T|=0,N|=0,L||U(T,N,this.length);for(var B=N,R=1,D=this[T+--B];B>0&&(R*=256);)D+=this[T+--B]*R;return D>=(R*=128)&&(D-=Math.pow(2,8*N)),D},h.prototype.readInt8=function(T,N){return N||U(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},h.prototype.readInt16LE=function(T,N){N||U(T,2,this.length);var L=this[T]|this[T+1]<<8;return 32768&L?4294901760|L:L},h.prototype.readInt16BE=function(T,N){N||U(T,2,this.length);var L=this[T+1]|this[T]<<8;return 32768&L?4294901760|L:L},h.prototype.readInt32LE=function(T,N){return N||U(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},h.prototype.readInt32BE=function(T,N){return N||U(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},h.prototype.readFloatLE=function(T,N){return N||U(T,4,this.length),o.read(this,T,!0,23,4)},h.prototype.readFloatBE=function(T,N){return N||U(T,4,this.length),o.read(this,T,!1,23,4)},h.prototype.readDoubleLE=function(T,N){return N||U(T,8,this.length),o.read(this,T,!0,52,8)},h.prototype.readDoubleBE=function(T,N){return N||U(T,8,this.length),o.read(this,T,!1,52,8)},h.prototype.writeUIntLE=function(T,N,L,B){T=+T,N|=0,L|=0,B||V(this,T,N,L,Math.pow(2,8*L)-1,0);var R=1,D=0;for(this[N]=255&T;++D<L&&(R*=256);)this[N+D]=T/R&255;return N+L},h.prototype.writeUIntBE=function(T,N,L,B){T=+T,N|=0,L|=0,B||V(this,T,N,L,Math.pow(2,8*L)-1,0);var R=L-1,D=1;for(this[N+R]=255&T;--R>=0&&(D*=256);)this[N+R]=T/D&255;return N+L},h.prototype.writeUInt8=function(T,N,L){return T=+T,N|=0,L||V(this,T,N,1,255,0),h.TYPED_ARRAY_SUPPORT||(T=Math.floor(T)),this[N]=255&T,N+1},h.prototype.writeUInt16LE=function(T,N,L){return T=+T,N|=0,L||V(this,T,N,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[N]=255&T,this[N+1]=T>>>8):Q(this,T,N,!0),N+2},h.prototype.writeUInt16BE=function(T,N,L){return T=+T,N|=0,L||V(this,T,N,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[N]=T>>>8,this[N+1]=255&T):Q(this,T,N,!1),N+2},h.prototype.writeUInt32LE=function(T,N,L){return T=+T,N|=0,L||V(this,T,N,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[N+3]=T>>>24,this[N+2]=T>>>16,this[N+1]=T>>>8,this[N]=255&T):G(this,T,N,!0),N+4},h.prototype.writeUInt32BE=function(T,N,L){return T=+T,N|=0,L||V(this,T,N,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[N]=T>>>24,this[N+1]=T>>>16,this[N+2]=T>>>8,this[N+3]=255&T):G(this,T,N,!1),N+4},h.prototype.writeIntLE=function(T,N,L,B){if(T=+T,N|=0,!B){var R=Math.pow(2,8*L-1);V(this,T,N,L,R-1,-R)}var D=0,j=1,et=0;for(this[N]=255&T;++D<L&&(j*=256);)T<0&&et===0&&this[N+D-1]!==0&&(et=1),this[N+D]=(T/j>>0)-et&255;return N+L},h.prototype.writeIntBE=function(T,N,L,B){if(T=+T,N|=0,!B){var R=Math.pow(2,8*L-1);V(this,T,N,L,R-1,-R)}var D=L-1,j=1,et=0;for(this[N+D]=255&T;--D>=0&&(j*=256);)T<0&&et===0&&this[N+D+1]!==0&&(et=1),this[N+D]=(T/j>>0)-et&255;return N+L},h.prototype.writeInt8=function(T,N,L){return T=+T,N|=0,L||V(this,T,N,1,127,-128),h.TYPED_ARRAY_SUPPORT||(T=Math.floor(T)),T<0&&(T=255+T+1),this[N]=255&T,N+1},h.prototype.writeInt16LE=function(T,N,L){return T=+T,N|=0,L||V(this,T,N,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[N]=255&T,this[N+1]=T>>>8):Q(this,T,N,!0),N+2},h.prototype.writeInt16BE=function(T,N,L){return T=+T,N|=0,L||V(this,T,N,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[N]=T>>>8,this[N+1]=255&T):Q(this,T,N,!1),N+2},h.prototype.writeInt32LE=function(T,N,L){return T=+T,N|=0,L||V(this,T,N,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[N]=255&T,this[N+1]=T>>>8,this[N+2]=T>>>16,this[N+3]=T>>>24):G(this,T,N,!0),N+4},h.prototype.writeInt32BE=function(T,N,L){return T=+T,N|=0,L||V(this,T,N,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),h.TYPED_ARRAY_SUPPORT?(this[N]=T>>>24,this[N+1]=T>>>16,this[N+2]=T>>>8,this[N+3]=255&T):G(this,T,N,!1),N+4},h.prototype.writeFloatLE=function(T,N,L){return st(this,T,N,!0,L)},h.prototype.writeFloatBE=function(T,N,L){return st(this,T,N,!1,L)},h.prototype.writeDoubleLE=function(T,N,L){return rt(this,T,N,!0,L)},h.prototype.writeDoubleBE=function(T,N,L){return rt(this,T,N,!1,L)},h.prototype.copy=function(T,N,L,B){if(L||(L=0),B||B===0||(B=this.length),N>=T.length&&(N=T.length),N||(N=0),B>0&&B<L&&(B=L),B===L||T.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("sourceStart out of bounds");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),T.length-N<B-L&&(B=T.length-N+L);var R,D=B-L;if(this===T&&L<N&&N<B)for(R=D-1;R>=0;--R)T[R+N]=this[R+L];else if(D<1e3||!h.TYPED_ARRAY_SUPPORT)for(R=0;R<D;++R)T[R+N]=this[R+L];else Uint8Array.prototype.set.call(T,this.subarray(L,L+D),N);return D},h.prototype.fill=function(T,N,L,B){if(typeof T=="string"){if(typeof N=="string"?(B=N,N=0,L=this.length):typeof L=="string"&&(B=L,L=this.length),T.length===1){var R=T.charCodeAt(0);R<256&&(T=R)}if(B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!h.isEncoding(B))throw new TypeError("Unknown encoding: "+B)}else typeof T=="number"&&(T&=255);if(N<0||this.length<N||this.length<L)throw new RangeError("Out of range index");if(L<=N)return this;var D;if(N>>>=0,L=L===void 0?this.length:L>>>0,T||(T=0),typeof T=="number")for(D=N;D<L;++D)this[D]=T;else{var j=h.isBuffer(T)?T:K(new h(T,B).toString()),et=j.length;for(D=0;D<L-N;++D)this[D+N]=j[D%et]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function H(T){return T<16?"0"+T.toString(16):T.toString(16)}function K(T,N){var L;N=N||1/0;for(var B=T.length,R=null,D=[],j=0;j<B;++j){if((L=T.charCodeAt(j))>55295&&L<57344){if(!R){if(L>56319){(N-=3)>-1&&D.push(239,191,189);continue}if(j+1===B){(N-=3)>-1&&D.push(239,191,189);continue}R=L;continue}if(L<56320){(N-=3)>-1&&D.push(239,191,189),R=L;continue}L=65536+(R-55296<<10|L-56320)}else R&&(N-=3)>-1&&D.push(239,191,189);if(R=null,L<128){if((N-=1)<0)break;D.push(L)}else if(L<2048){if((N-=2)<0)break;D.push(L>>6|192,63&L|128)}else if(L<65536){if((N-=3)<0)break;D.push(L>>12|224,L>>6&63|128,63&L|128)}else{if(!(L<1114112))throw new Error("Invalid code point");if((N-=4)<0)break;D.push(L>>18|240,L>>12&63|128,L>>6&63|128,63&L|128)}}return D}function C(T){return a.toByteArray(function(N){if((N=function(L){return L.trim?L.trim():L.replace(/^\s+|\s+$/g,"")}(N).replace(F,"")).length<2)return"";for(;N.length%4!=0;)N+="=";return N}(T))}function Y(T,N,L,B){for(var R=0;R<B&&!(R+L>=N.length||R>=T.length);++R)N[R+L]=T[R];return R}}).call(this,i(5))},function(r,n,i){n.byteLength=function(p){var g=h(p),v=g[0],_=g[1];return 3*(v+_)/4-_},n.toByteArray=function(p){var g,v,_=h(p),k=_[0],P=_[1],A=new o(function(w,M,f){return 3*(M+f)/4-f}(0,k,P)),E=0,z=P>0?k-4:k;for(v=0;v<z;v+=4)g=a[p.charCodeAt(v)]<<18|a[p.charCodeAt(v+1)]<<12|a[p.charCodeAt(v+2)]<<6|a[p.charCodeAt(v+3)],A[E++]=g>>16&255,A[E++]=g>>8&255,A[E++]=255&g;return P===2&&(g=a[p.charCodeAt(v)]<<2|a[p.charCodeAt(v+1)]>>4,A[E++]=255&g),P===1&&(g=a[p.charCodeAt(v)]<<10|a[p.charCodeAt(v+1)]<<4|a[p.charCodeAt(v+2)]>>2,A[E++]=g>>8&255,A[E++]=255&g),A},n.fromByteArray=function(p){for(var g,v=p.length,_=v%3,k=[],P=0,A=v-_;P<A;P+=16383)k.push(d(p,P,P+16383>A?A:P+16383));return _===1?(g=p[v-1],k.push(s[g>>2]+s[g<<4&63]+"==")):_===2&&(g=(p[v-2]<<8)+p[v-1],k.push(s[g>>10]+s[g>>4&63]+s[g<<2&63]+"=")),k.join("")};for(var s=[],a=[],o=typeof Uint8Array!="undefined"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,l=u.length;c<l;++c)s[c]=u[c],a[u.charCodeAt(c)]=c;function h(p){var g=p.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=p.indexOf("=");return v===-1&&(v=g),[v,v===g?0:4-v%4]}function d(p,g,v){for(var _,k,P=[],A=g;A<v;A+=3)_=(p[A]<<16&16711680)+(p[A+1]<<8&65280)+(255&p[A+2]),P.push(s[(k=_)>>18&63]+s[k>>12&63]+s[k>>6&63]+s[63&k]);return P.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(r,n){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */n.read=function(i,s,a,o,u){var c,l,h=8*u-o-1,d=(1<<h)-1,p=d>>1,g=-7,v=a?u-1:0,_=a?-1:1,k=i[s+v];for(v+=_,c=k&(1<<-g)-1,k>>=-g,g+=h;g>0;c=256*c+i[s+v],v+=_,g-=8);for(l=c&(1<<-g)-1,c>>=-g,g+=o;g>0;l=256*l+i[s+v],v+=_,g-=8);if(c===0)c=1-p;else{if(c===d)return l?NaN:1/0*(k?-1:1);l+=Math.pow(2,o),c-=p}return(k?-1:1)*l*Math.pow(2,c-o)},n.write=function(i,s,a,o,u,c){var l,h,d,p=8*c-u-1,g=(1<<p)-1,v=g>>1,_=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=o?0:c-1,P=o?1:-1,A=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(h=isNaN(s)?1:0,l=g):(l=Math.floor(Math.log(s)/Math.LN2),s*(d=Math.pow(2,-l))<1&&(l--,d*=2),(s+=l+v>=1?_/d:_*Math.pow(2,1-v))*d>=2&&(l++,d/=2),l+v>=g?(h=0,l=g):l+v>=1?(h=(s*d-1)*Math.pow(2,u),l+=v):(h=s*Math.pow(2,v-1)*Math.pow(2,u),l=0));u>=8;i[a+k]=255&h,k+=P,h/=256,u-=8);for(l=l<<u|h,p+=u;p>0;i[a+k]=255&l,k+=P,l/=256,p-=8);i[a+k-P]|=128*A}},function(r,n){var i={}.toString;r.exports=Array.isArray||function(s){return i.call(s)=="[object Array]"}},function(r,n,i){var s,a,o;a=[],(o=typeof(s=function(){var u,c,l,h;Object.keys||(Object.keys=(u=Object.prototype.hasOwnProperty,c=!{toString:null}.propertyIsEnumerable("toString"),h=(l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(S){if(typeof S!="object"&&typeof S!="function"||S===null)throw new TypeError("Object.keys called on non-object");var U=[];for(var V in S)u.call(S,V)&&U.push(V);if(c)for(var Q=0;Q<h;Q++)u.call(S,l[Q])&&U.push(l[Q]);return U})),Object.create||(Object.create=function(){function S(){}return function(U){if(arguments.length!==1)throw new Error("Object.create implementation only accepts one parameter.");return S.prototype=U,new S}}()),Array.isArray||(Array.isArray=function(S){return Object.prototype.toString.call(S)==="[object Array]"}),Array.prototype.indexOf||(Array.prototype.indexOf=function(S){if(this===null)throw new TypeError;var U=Object(this),V=U.length>>>0;if(V===0)return-1;var Q=0;if(arguments.length>1&&((Q=Number(arguments[1]))!=Q?Q=0:Q!==0&&Q!==1/0&&Q!==-1/0&&(Q=(Q>0||-1)*Math.floor(Math.abs(Q)))),Q>=V)return-1;for(var G=Q>=0?Q:Math.max(V-Math.abs(Q),0);G<V;G++)if(G in U&&U[G]===S)return G;return-1}),Object.isFrozen||(Object.isFrozen=function(S){for(var U="tv4_test_frozen_key";S.hasOwnProperty(U);)U+=Math.random();try{return S[U]=!0,delete S[U],!1}catch{return!0}});var d={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},p={"*":!0};function g(S){return encodeURI(S).replace(/%25[0-9][0-9]/g,function(U){return"%"+U.substring(3)})}function v(S){var U="";d[S.charAt(0)]&&(U=S.charAt(0),S=S.substring(1));var V="",Q="",G=!0,it=!1,st=!1;U==="+"?G=!1:U==="."?(Q=".",V="."):U==="/"?(Q="/",V="/"):U==="#"?(Q="#",G=!1):U===";"?(Q=";",V=";",it=!0,st=!0):U==="?"?(Q="?",V="&",it=!0):U==="&"&&(Q="&",V="&",it=!0);for(var rt=[],F=S.split(","),H=[],K={},C=0;C<F.length;C++){var Y=F[C],T=null;if(Y.indexOf(":")!==-1){var N=Y.split(":");Y=N[0],T=parseInt(N[1],10)}for(var L={};p[Y.charAt(Y.length-1)];)L[Y.charAt(Y.length-1)]=!0,Y=Y.substring(0,Y.length-1);var B={truncate:T,name:Y,suffices:L};H.push(B),K[Y]=B,rt.push(Y)}var R=function(D){for(var j="",et=0,tt=0;tt<H.length;tt++){var ot=H[tt],pt=D(ot.name);if(pt==null||Array.isArray(pt)&&pt.length===0||typeof pt=="object"&&Object.keys(pt).length===0)et++;else if(j+=tt===et?Q:V||",",Array.isArray(pt)){it&&(j+=ot.name+"=");for(var yt=0;yt<pt.length;yt++)yt>0&&(j+=ot.suffices["*"]&&V||",",ot.suffices["*"]&&it&&(j+=ot.name+"=")),j+=G?encodeURIComponent(pt[yt]).replace(/!/g,"%21"):g(pt[yt])}else if(typeof pt=="object"){it&&!ot.suffices["*"]&&(j+=ot.name+"=");var vt=!0;for(var nt in pt)vt||(j+=ot.suffices["*"]&&V||","),vt=!1,j+=G?encodeURIComponent(nt).replace(/!/g,"%21"):g(nt),j+=ot.suffices["*"]?"=":",",j+=G?encodeURIComponent(pt[nt]).replace(/!/g,"%21"):g(pt[nt])}else it&&(j+=ot.name,st&&pt===""||(j+="=")),ot.truncate!=null&&(pt=pt.substring(0,ot.truncate)),j+=G?encodeURIComponent(pt).replace(/!/g,"%21"):g(pt)}return j};return R.varNames=rt,{prefix:Q,substitution:R}}function _(S){if(!(this instanceof _))return new _(S);for(var U=S.split("{"),V=[U.shift()],Q=[],G=[],it=[];U.length>0;){var st=U.shift(),rt=st.split("}")[0],F=st.substring(rt.length+1),H=v(rt);G.push(H.substitution),Q.push(H.prefix),V.push(F),it=it.concat(H.substitution.varNames)}this.fill=function(K){for(var C=V[0],Y=0;Y<G.length;Y++)C+=(0,G[Y])(K),C+=V[Y+1];return C},this.varNames=it,this.template=S}_.prototype={toString:function(){return this.template},fillFromObject:function(S){return this.fill(function(U){return S[U]})}};var k=function(S,U,V,Q,G){if(this.missing=[],this.missingMap={},this.formatValidators=S?Object.create(S.formatValidators):{},this.schemas=S?Object.create(S.schemas):{},this.collectMultiple=U,this.errors=[],this.handleError=U?this.collectError:this.returnError,Q&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),G&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorReporter=V||b("en"),typeof this.errorReporter=="string")throw new Error("debug");if(this.definedKeywords={},S)for(var it in S.definedKeywords)this.definedKeywords[it]=S.definedKeywords[it].slice(0)};function P(S,U){if(S===U)return!0;if(S&&U&&typeof S=="object"&&typeof U=="object"){if(Array.isArray(S)!==Array.isArray(U))return!1;if(Array.isArray(S)){if(S.length!==U.length)return!1;for(var V=0;V<S.length;V++)if(!P(S[V],U[V]))return!1}else{var Q;for(Q in S)if(U[Q]===void 0&&S[Q]!==void 0)return!1;for(Q in U)if(S[Q]===void 0&&U[Q]!==void 0)return!1;for(Q in S)if(!P(S[Q],U[Q]))return!1}return!0}return!1}k.prototype.defineKeyword=function(S,U){this.definedKeywords[S]=this.definedKeywords[S]||[],this.definedKeywords[S].push(U)},k.prototype.createError=function(S,U,V,Q,G,it,st){var rt=new O(S,U,V,Q,G);return rt.message=this.errorReporter(rt,it,st),rt},k.prototype.returnError=function(S){return S},k.prototype.collectError=function(S){return S&&this.errors.push(S),null},k.prototype.prefixErrors=function(S,U,V){for(var Q=S;Q<this.errors.length;Q++)this.errors[Q]=this.errors[Q].prefixWith(U,V);return this},k.prototype.banUnknownProperties=function(S,U){for(var V in this.unknownPropertyPaths){var Q=this.createError(y.UNKNOWN_PROPERTY,{path:V},V,"",null,S,U),G=this.handleError(Q);if(G)return G}return null},k.prototype.addFormat=function(S,U){if(typeof S=="object"){for(var V in S)this.addFormat(V,S[V]);return this}this.formatValidators[S]=U},k.prototype.resolveRefs=function(S,U){if(S.$ref!==void 0){if((U=U||{})[S.$ref])return this.createError(y.CIRCULAR_REFERENCE,{urls:Object.keys(U).join(", ")},"","",null,void 0,S);U[S.$ref]=!0,S=this.getSchema(S.$ref,U)}return S},k.prototype.getSchema=function(S,U){var V;if(this.schemas[S]!==void 0)return V=this.schemas[S],this.resolveRefs(V,U);var Q=S,G="";if(S.indexOf("#")!==-1&&(G=S.substring(S.indexOf("#")+1),Q=S.substring(0,S.indexOf("#"))),typeof this.schemas[Q]=="object"){V=this.schemas[Q];var it=decodeURIComponent(G);if(it==="")return this.resolveRefs(V,U);if(it.charAt(0)!=="/")return;for(var st=it.split("/").slice(1),rt=0;rt<st.length;rt++){var F=st[rt].replace(/~1/g,"/").replace(/~0/g,"~");if(V[F]===void 0){V=void 0;break}V=V[F]}if(V!==void 0)return this.resolveRefs(V,U)}this.missing[Q]===void 0&&(this.missing.push(Q),this.missing[Q]=Q,this.missingMap[Q]=Q)},k.prototype.searchSchemas=function(S,U){if(Array.isArray(S))for(var V=0;V<S.length;V++)this.searchSchemas(S[V],U);else if(S&&typeof S=="object"){for(var Q in typeof S.id=="string"&&function(it,st){if(st.substring(0,it.length)===it){var rt=st.substring(it.length);if(st.length>0&&st.charAt(it.length-1)==="/"||rt.charAt(0)==="#"||rt.charAt(0)==="?")return!0}return!1}(U,S.id)&&this.schemas[S.id]===void 0&&(this.schemas[S.id]=S),S)if(Q!=="enum"){if(typeof S[Q]=="object")this.searchSchemas(S[Q],U);else if(Q==="$ref"){var G=M(S[Q]);G&&this.schemas[G]===void 0&&this.missingMap[G]===void 0&&(this.missingMap[G]=G)}}}},k.prototype.addSchema=function(S,U){if(typeof S!="string"||U===void 0){if(typeof S!="object"||typeof S.id!="string")return;S=(U=S).id}S===M(S)+"#"&&(S=M(S)),this.schemas[S]=U,delete this.missingMap[S],f(U,S),this.searchSchemas(U,S)},k.prototype.getSchemaMap=function(){var S={};for(var U in this.schemas)S[U]=this.schemas[U];return S},k.prototype.getSchemaUris=function(S){var U=[];for(var V in this.schemas)S&&!S.test(V)||U.push(V);return U},k.prototype.getMissingUris=function(S){var U=[];for(var V in this.missingMap)S&&!S.test(V)||U.push(V);return U},k.prototype.dropSchemas=function(){this.schemas={},this.reset()},k.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},k.prototype.validateAll=function(S,U,V,Q,G){var it;if(!(U=this.resolveRefs(U)))return null;if(U instanceof O)return this.errors.push(U),U;var st,rt=this.errors.length,F=null,H=null;if(this.checkRecursive&&S&&typeof S=="object"){if(it=!this.scanned.length,S[this.validatedSchemasKey]){var K=S[this.validatedSchemasKey].indexOf(U);if(K!==-1)return this.errors=this.errors.concat(S[this.validationErrorsKey][K]),null}if(Object.isFrozen(S)&&(st=this.scannedFrozen.indexOf(S))!==-1){var C=this.scannedFrozenSchemas[st].indexOf(U);if(C!==-1)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[st][C]),null}if(this.scanned.push(S),Object.isFrozen(S))st===-1&&(st=this.scannedFrozen.length,this.scannedFrozen.push(S),this.scannedFrozenSchemas.push([])),F=this.scannedFrozenSchemas[st].length,this.scannedFrozenSchemas[st][F]=U,this.scannedFrozenValidationErrors[st][F]=[];else{if(!S[this.validatedSchemasKey])try{Object.defineProperty(S,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(S,this.validationErrorsKey,{value:[],configurable:!0})}catch{S[this.validatedSchemasKey]=[],S[this.validationErrorsKey]=[]}H=S[this.validatedSchemasKey].length,S[this.validatedSchemasKey][H]=U,S[this.validationErrorsKey][H]=[]}}var Y=this.errors.length,T=this.validateBasic(S,U,G)||this.validateNumeric(S,U,G)||this.validateString(S,U,G)||this.validateArray(S,U,G)||this.validateObject(S,U,G)||this.validateCombinations(S,U,G)||this.validateHypermedia(S,U,G)||this.validateFormat(S,U,G)||this.validateDefinedKeywords(S,U,G)||null;if(it){for(;this.scanned.length;)delete this.scanned.pop()[this.validatedSchemasKey];this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(T||Y!==this.errors.length)for(;V&&V.length||Q&&Q.length;){var N=V&&V.length?""+V.pop():null,L=Q&&Q.length?""+Q.pop():null;T&&(T=T.prefixWith(N,L)),this.prefixErrors(Y,N,L)}return F!==null?this.scannedFrozenValidationErrors[st][F]=this.errors.slice(rt):H!==null&&(S[this.validationErrorsKey][H]=this.errors.slice(rt)),this.handleError(T)},k.prototype.validateFormat=function(S,U){if(typeof U.format!="string"||!this.formatValidators[U.format])return null;var V=this.formatValidators[U.format].call(null,S,U);return typeof V=="string"||typeof V=="number"?this.createError(y.FORMAT_CUSTOM,{message:V},"","/format",null,S,U):V&&typeof V=="object"?this.createError(y.FORMAT_CUSTOM,{message:V.message||"?"},V.dataPath||"",V.schemaPath||"/format",null,S,U):null},k.prototype.validateDefinedKeywords=function(S,U,V){for(var Q in this.definedKeywords)if(U[Q]!==void 0)for(var G=this.definedKeywords[Q],it=0;it<G.length;it++){var st=(0,G[it])(S,U[Q],U,V);if(typeof st=="string"||typeof st=="number")return this.createError(y.KEYWORD_CUSTOM,{key:Q,message:st},"","",null,S,U).prefixWith(null,Q);if(st&&typeof st=="object"){var rt=st.code;if(typeof rt=="string"){if(!y[rt])throw new Error("Undefined error code (use defineError): "+rt);rt=y[rt]}else typeof rt!="number"&&(rt=y.KEYWORD_CUSTOM);var F=typeof st.message=="object"?st.message:{key:Q,message:st.message||"?"},H=st.schemaPath||"/"+Q.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(rt,F,st.dataPath||null,H,null,S,U)}}return null},k.prototype.validateBasic=function(S,U,V){var Q;return(Q=this.validateType(S,U,V))||(Q=this.validateEnum(S,U,V))?Q.prefixWith(null,"type"):null},k.prototype.validateType=function(S,U){if(U.type===void 0)return null;var V=typeof S;S===null?V="null":Array.isArray(S)&&(V="array");var Q=U.type;Array.isArray(Q)||(Q=[Q]);for(var G=0;G<Q.length;G++){var it=Q[G];if(it===V||it==="integer"&&V==="number"&&S%1==0)return null}return this.createError(y.INVALID_TYPE,{type:V,expected:Q.join("/")},"","",null,S,U)},k.prototype.validateEnum=function(S,U){if(U.enum===void 0)return null;for(var V=0;V<U.enum.length;V++)if(P(S,U.enum[V]))return null;return this.createError(y.ENUM_MISMATCH,{value:typeof JSON!="undefined"?JSON.stringify(S):S},"","",null,S,U)},k.prototype.validateNumeric=function(S,U,V){return this.validateMultipleOf(S,U,V)||this.validateMinMax(S,U,V)||this.validateNaN(S,U,V)||null};var A=Math.pow(2,-51),E=1-A;function z(S){var U=String(S).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return U?{href:U[0]||"",protocol:U[1]||"",authority:U[2]||"",host:U[3]||"",hostname:U[4]||"",port:U[5]||"",pathname:U[6]||"",search:U[7]||"",hash:U[8]||""}:null}function w(S,U){return U=z(U||""),S=z(S||""),U&&S?(U.protocol||S.protocol)+(U.protocol||U.authority?U.authority:S.authority)+(V=U.protocol||U.authority||U.pathname.charAt(0)==="/"?U.pathname:U.pathname?(S.authority&&!S.pathname?"/":"")+S.pathname.slice(0,S.pathname.lastIndexOf("/")+1)+U.pathname:S.pathname,Q=[],V.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(G){G==="/.."?Q.pop():Q.push(G)}),Q.join("").replace(/^\//,V.charAt(0)==="/"?"/":""))+(U.protocol||U.authority||U.pathname?U.search:U.search||S.search)+U.hash:null;var V,Q}function M(S){return S.split("#")[0]}function f(S,U){if(S&&typeof S=="object")if(U===void 0?U=S.id:typeof S.id=="string"&&(U=w(U,S.id),S.id=U),Array.isArray(S))for(var V=0;V<S.length;V++)f(S[V],U);else for(var Q in typeof S.$ref=="string"&&(S.$ref=w(U,S.$ref)),S)Q!=="enum"&&f(S[Q],U)}function b(S){var U=q[S=S||"en"];return function(V){var Q=U[V.code]||I[V.code];if(typeof Q!="string")return"Unknown error code "+V.code+": "+JSON.stringify(V.messageParams);var G=V.params;return Q.replace(/\{([^{}]*)\}/g,function(it,st){var rt=G[st];return typeof rt=="string"||typeof rt=="number"?rt:it})}}k.prototype.validateMultipleOf=function(S,U){var V=U.multipleOf||U.divisibleBy;if(V===void 0)return null;if(typeof S=="number"){var Q=S/V%1;if(Q>=A&&Q<E)return this.createError(y.NUMBER_MULTIPLE_OF,{value:S,multipleOf:V},"","",null,S,U)}return null},k.prototype.validateMinMax=function(S,U){if(typeof S!="number")return null;if(U.minimum!==void 0){if(S<U.minimum)return this.createError(y.NUMBER_MINIMUM,{value:S,minimum:U.minimum},"","/minimum",null,S,U);if(U.exclusiveMinimum&&S===U.minimum)return this.createError(y.NUMBER_MINIMUM_EXCLUSIVE,{value:S,minimum:U.minimum},"","/exclusiveMinimum",null,S,U)}if(U.maximum!==void 0){if(S>U.maximum)return this.createError(y.NUMBER_MAXIMUM,{value:S,maximum:U.maximum},"","/maximum",null,S,U);if(U.exclusiveMaximum&&S===U.maximum)return this.createError(y.NUMBER_MAXIMUM_EXCLUSIVE,{value:S,maximum:U.maximum},"","/exclusiveMaximum",null,S,U)}return null},k.prototype.validateNaN=function(S,U){return typeof S!="number"?null:isNaN(S)===!0||S===1/0||S===-1/0?this.createError(y.NUMBER_NOT_A_NUMBER,{value:S},"","/type",null,S,U):null},k.prototype.validateString=function(S,U,V){return this.validateStringLength(S,U,V)||this.validateStringPattern(S,U,V)||null},k.prototype.validateStringLength=function(S,U){return typeof S!="string"?null:U.minLength!==void 0&&S.length<U.minLength?this.createError(y.STRING_LENGTH_SHORT,{length:S.length,minimum:U.minLength},"","/minLength",null,S,U):U.maxLength!==void 0&&S.length>U.maxLength?this.createError(y.STRING_LENGTH_LONG,{length:S.length,maximum:U.maxLength},"","/maxLength",null,S,U):null},k.prototype.validateStringPattern=function(S,U){if(typeof S!="string"||typeof U.pattern!="string"&&!(U.pattern instanceof RegExp))return null;var V;if(U.pattern instanceof RegExp)V=U.pattern;else{var Q,G="",it=U.pattern.match(/^\/(.+)\/([img]*)$/);it?(Q=it[1],G=it[2]):Q=U.pattern,V=new RegExp(Q,G)}return V.test(S)?null:this.createError(y.STRING_PATTERN,{pattern:U.pattern},"","/pattern",null,S,U)},k.prototype.validateArray=function(S,U,V){return Array.isArray(S)&&(this.validateArrayLength(S,U,V)||this.validateArrayUniqueItems(S,U,V)||this.validateArrayItems(S,U,V))||null},k.prototype.validateArrayLength=function(S,U){var V;return U.minItems!==void 0&&S.length<U.minItems&&(V=this.createError(y.ARRAY_LENGTH_SHORT,{length:S.length,minimum:U.minItems},"","/minItems",null,S,U),this.handleError(V))||U.maxItems!==void 0&&S.length>U.maxItems&&(V=this.createError(y.ARRAY_LENGTH_LONG,{length:S.length,maximum:U.maxItems},"","/maxItems",null,S,U),this.handleError(V))?V:null},k.prototype.validateArrayUniqueItems=function(S,U){if(U.uniqueItems){for(var V=0;V<S.length;V++)for(var Q=V+1;Q<S.length;Q++)if(P(S[V],S[Q])){var G=this.createError(y.ARRAY_UNIQUE,{match1:V,match2:Q},"","/uniqueItems",null,S,U);if(this.handleError(G))return G}}return null},k.prototype.validateArrayItems=function(S,U,V){if(U.items===void 0)return null;var Q,G;if(Array.isArray(U.items)){for(G=0;G<S.length;G++)if(G<U.items.length){if(Q=this.validateAll(S[G],U.items[G],[G],["items",G],V+"/"+G))return Q}else if(U.additionalItems!==void 0){if(typeof U.additionalItems=="boolean"){if(!U.additionalItems&&(Q=this.createError(y.ARRAY_ADDITIONAL_ITEMS,{},"/"+G,"/additionalItems",null,S,U),this.handleError(Q)))return Q}else if(Q=this.validateAll(S[G],U.additionalItems,[G],["additionalItems"],V+"/"+G))return Q}}else for(G=0;G<S.length;G++)if(Q=this.validateAll(S[G],U.items,[G],["items"],V+"/"+G))return Q;return null},k.prototype.validateObject=function(S,U,V){return typeof S!="object"||S===null||Array.isArray(S)?null:this.validateObjectMinMaxProperties(S,U,V)||this.validateObjectRequiredProperties(S,U,V)||this.validateObjectProperties(S,U,V)||this.validateObjectDependencies(S,U,V)||null},k.prototype.validateObjectMinMaxProperties=function(S,U){var V,Q=Object.keys(S);return U.minProperties!==void 0&&Q.length<U.minProperties&&(V=this.createError(y.OBJECT_PROPERTIES_MINIMUM,{propertyCount:Q.length,minimum:U.minProperties},"","/minProperties",null,S,U),this.handleError(V))||U.maxProperties!==void 0&&Q.length>U.maxProperties&&(V=this.createError(y.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:Q.length,maximum:U.maxProperties},"","/maxProperties",null,S,U),this.handleError(V))?V:null},k.prototype.validateObjectRequiredProperties=function(S,U){if(U.required!==void 0)for(var V=0;V<U.required.length;V++){var Q=U.required[V];if(S[Q]===void 0){var G=this.createError(y.OBJECT_REQUIRED,{key:Q},"","/required/"+V,null,S,U);if(this.handleError(G))return G}}return null},k.prototype.validateObjectProperties=function(S,U,V){var Q;for(var G in S){var it=V+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1"),st=!1;if(U.properties!==void 0&&U.properties[G]!==void 0&&(st=!0,Q=this.validateAll(S[G],U.properties[G],[G],["properties",G],it)))return Q;if(U.patternProperties!==void 0){for(var rt in U.patternProperties)if(new RegExp(rt).test(G)&&(st=!0,Q=this.validateAll(S[G],U.patternProperties[rt],[G],["patternProperties",rt],it)))return Q}if(st)this.trackUnknownProperties&&(this.knownPropertyPaths[it]=!0,delete this.unknownPropertyPaths[it]);else if(U.additionalProperties!==void 0){if(this.trackUnknownProperties&&(this.knownPropertyPaths[it]=!0,delete this.unknownPropertyPaths[it]),typeof U.additionalProperties=="boolean"){if(!U.additionalProperties&&(Q=this.createError(y.OBJECT_ADDITIONAL_PROPERTIES,{key:G},"","/additionalProperties",null,S,U).prefixWith(G,null),this.handleError(Q)))return Q}else if(Q=this.validateAll(S[G],U.additionalProperties,[G],["additionalProperties"],it))return Q}else this.trackUnknownProperties&&!this.knownPropertyPaths[it]&&(this.unknownPropertyPaths[it]=!0)}return null},k.prototype.validateObjectDependencies=function(S,U,V){var Q;if(U.dependencies!==void 0){for(var G in U.dependencies)if(S[G]!==void 0){var it=U.dependencies[G];if(typeof it=="string"){if(S[it]===void 0&&(Q=this.createError(y.OBJECT_DEPENDENCY_KEY,{key:G,missing:it},"","",null,S,U).prefixWith(null,G).prefixWith(null,"dependencies"),this.handleError(Q)))return Q}else if(Array.isArray(it))for(var st=0;st<it.length;st++){var rt=it[st];if(S[rt]===void 0&&(Q=this.createError(y.OBJECT_DEPENDENCY_KEY,{key:G,missing:rt},"","/"+st,null,S,U).prefixWith(null,G).prefixWith(null,"dependencies"),this.handleError(Q)))return Q}else if(Q=this.validateAll(S,it,[],["dependencies",G],V))return Q}}return null},k.prototype.validateCombinations=function(S,U,V){return this.validateAllOf(S,U,V)||this.validateAnyOf(S,U,V)||this.validateOneOf(S,U,V)||this.validateNot(S,U,V)||null},k.prototype.validateAllOf=function(S,U,V){if(U.allOf===void 0)return null;for(var Q,G=0;G<U.allOf.length;G++){var it=U.allOf[G];if(Q=this.validateAll(S,it,[],["allOf",G],V))return Q}return null},k.prototype.validateAnyOf=function(S,U,V){if(U.anyOf===void 0)return null;var Q,G,it=[],st=this.errors.length;this.trackUnknownProperties&&(Q=this.unknownPropertyPaths,G=this.knownPropertyPaths);for(var rt=!0,F=0;F<U.anyOf.length;F++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var H=U.anyOf[F],K=this.errors.length,C=this.validateAll(S,H,[],["anyOf",F],V);if(C===null&&K===this.errors.length){if(this.errors=this.errors.slice(0,st),this.trackUnknownProperties){for(var Y in this.knownPropertyPaths)G[Y]=!0,delete Q[Y];for(var T in this.unknownPropertyPaths)G[T]||(Q[T]=!0);rt=!1;continue}return null}C&&it.push(C.prefixWith(null,""+F).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=Q,this.knownPropertyPaths=G),rt?(it=it.concat(this.errors.slice(st)),this.errors=this.errors.slice(0,st),this.createError(y.ANY_OF_MISSING,{},"","/anyOf",it,S,U)):void 0},k.prototype.validateOneOf=function(S,U,V){if(U.oneOf===void 0)return null;var Q,G,it=null,st=[],rt=this.errors.length;this.trackUnknownProperties&&(Q=this.unknownPropertyPaths,G=this.knownPropertyPaths);for(var F=0;F<U.oneOf.length;F++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var H=U.oneOf[F],K=this.errors.length,C=this.validateAll(S,H,[],["oneOf",F],V);if(C===null&&K===this.errors.length){if(it!==null)return this.errors=this.errors.slice(0,rt),this.createError(y.ONE_OF_MULTIPLE,{index1:it,index2:F},"","/oneOf",null,S,U);if(it=F,this.trackUnknownProperties){for(var Y in this.knownPropertyPaths)G[Y]=!0,delete Q[Y];for(var T in this.unknownPropertyPaths)G[T]||(Q[T]=!0)}}else C&&st.push(C)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=Q,this.knownPropertyPaths=G),it===null?(st=st.concat(this.errors.slice(rt)),this.errors=this.errors.slice(0,rt),this.createError(y.ONE_OF_MISSING,{},"","/oneOf",st,S,U)):(this.errors=this.errors.slice(0,rt),null)},k.prototype.validateNot=function(S,U,V){if(U.not===void 0)return null;var Q,G,it=this.errors.length;this.trackUnknownProperties&&(Q=this.unknownPropertyPaths,G=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var st=this.validateAll(S,U.not,null,null,V),rt=this.errors.slice(it);return this.errors=this.errors.slice(0,it),this.trackUnknownProperties&&(this.unknownPropertyPaths=Q,this.knownPropertyPaths=G),st===null&&rt.length===0?this.createError(y.NOT_PASSED,{},"","/not",null,S,U):null},k.prototype.validateHypermedia=function(S,U,V){if(!U.links)return null;for(var Q,G=0;G<U.links.length;G++){var it=U.links[G];if(it.rel==="describedby"){for(var st=new _(it.href),rt=!0,F=0;F<st.varNames.length;F++)if(!(st.varNames[F]in S)){rt=!1;break}if(rt){var H={$ref:st.fillFromObject(S)};if(Q=this.validateAll(S,H,[],["links",G],V))return Q}}}};var y={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},m={};for(var x in y)m[y[x]]=x;var I={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};function O(S,U,V,Q,G){if(Error.call(this),S===void 0)throw new Error("No error code supplied: "+Q);this.message="",this.params=U,this.code=S,this.dataPath=V||"",this.schemaPath=Q||"",this.subErrors=G||null;var it=new Error(this.message);if(this.stack=it.stack||it.stacktrace,!this.stack)try{throw it}catch(st){this.stack=st.stack||st.stacktrace}}O.prototype=Object.create(Error.prototype),O.prototype.constructor=O,O.prototype.name="ValidationError",O.prototype.prefixWith=function(S,U){if(S!==null&&(S=S.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+S+this.dataPath),U!==null&&(U=U.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+U+this.schemaPath),this.subErrors!==null)for(var V=0;V<this.subErrors.length;V++)this.subErrors[V].prefixWith(S,U);return this};var q={},Z=function S(U){var V,Q,G=new k,it={setErrorReporter:function(st){return typeof st=="string"?this.language(st):(Q=st,!0)},addFormat:function(){G.addFormat.apply(G,arguments)},language:function(st){return st?(q[st]||(st=st.split("-")[0]),!!q[st]&&(V=st,st)):V},addLanguage:function(st,rt){var F;for(F in y)rt[F]&&!rt[y[F]]&&(rt[y[F]]=rt[F]);var H=st.split("-")[0];if(q[H])for(F in q[st]=Object.create(q[H]),rt)q[H][F]===void 0&&(q[H][F]=rt[F]),q[st][F]=rt[F];else q[st]=rt,q[H]=rt;return this},freshApi:function(st){var rt=S();return st&&rt.language(st),rt},validate:function(st,rt,F,H){var K=b(V),C=new k(G,!1,Q?function(T,N,L){return Q(T,N,L)||K(T,N,L)}:K,F,H);typeof rt=="string"&&(rt={$ref:rt}),C.addSchema("",rt);var Y=C.validateAll(st,rt,null,null,"");return!Y&&H&&(Y=C.banUnknownProperties(st,rt)),this.error=Y,this.missing=C.missing,this.valid=Y===null,this.valid},validateResult:function(){var st={toString:function(){return this.valid?"valid":this.error.message}};return this.validate.apply(st,arguments),st},validateMultiple:function(st,rt,F,H){var K=b(V),C=new k(G,!0,Q?function(T,N,L){return Q(T,N,L)||K(T,N,L)}:K,F,H);typeof rt=="string"&&(rt={$ref:rt}),C.addSchema("",rt),C.validateAll(st,rt,null,null,""),H&&C.banUnknownProperties(st,rt);var Y={toString:function(){return this.valid?"valid":this.error.message}};return Y.errors=C.errors,Y.missing=C.missing,Y.valid=Y.errors.length===0,Y},addSchema:function(){return G.addSchema.apply(G,arguments)},getSchema:function(){return G.getSchema.apply(G,arguments)},getSchemaMap:function(){return G.getSchemaMap.apply(G,arguments)},getSchemaUris:function(){return G.getSchemaUris.apply(G,arguments)},getMissingUris:function(){return G.getMissingUris.apply(G,arguments)},dropSchemas:function(){G.dropSchemas.apply(G,arguments)},defineKeyword:function(){G.defineKeyword.apply(G,arguments)},defineError:function(st,rt,F){if(typeof st!="string"||!/^[A-Z]+(_[A-Z]+)*$/.test(st))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if(typeof rt!="number"||rt%1!=0||rt<1e4)throw new Error("Code number must be an integer > 10000");if(y[st]!==void 0)throw new Error("Error already defined: "+st+" as "+y[st]);if(m[rt]!==void 0)throw new Error("Error code already used: "+m[rt]+" as "+rt);for(var H in y[st]=rt,m[rt]=st,I[st]=I[rt]=F,q){var K=q[H];K[st]&&(K[rt]=K[rt]||K[st])}},reset:function(){G.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:f,resolveUrl:w,getDocumentUri:M,errorCodes:y};return it.language(U||"en"),it}();return Z.addLanguage("en-gb",I),Z.tv4=Z,Z})=="function"?s.apply(n,a):s)===void 0||(r.exports=o)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BaseClientTypes=void 0;class s{constructor(){this.uris={},this.schemas={},this.aliases={}}declare(u,c,l,h){const d=u+"/"+c;if(h.extends){const p=h.extends.split("/"),g=p.length===1?u+"/"+p.shift():p.join("/"),v=this.uris[g];if(!v)throw"Type '"+d+"' tries to extend unknown schema '"+g+"'";h.extends=this.schemas[v]}this.uris[d]=l,this.aliases[l]=d,this.schemas[l]=h}resolveAlias(u){return this.uris[u]}getSchema(u){return this.schemas[u]}inScope(u){const c=u.length,l={};for(const h in this.uris)if(h.substr(0,c+1)===u+"/"){const d=this.uris[h];l[d]=this.schemas[d]}return l}}n.BaseClientTypes=s;const a=new s;n.default=a},function(r,n,i){class s extends Error{constructor(o){super();const u=new Error("Schema not found: "+o);return u.name="SchemaNotFound",u}}r.exports=s},function(r,n,i){r.exports=class{constructor(s){this._itemsRev={},this._storage={},this._canPropagate=!1,this.defaultValue=s,this.activatePropagation()}get(s){s=s.toLowerCase();let a=this._storage[s];return a===void 0&&(a=this.defaultValue,this._storage[s]=a),a}set(s,a){return s=s.toLowerCase(),this._storage[s]===a||(this._storage[s]=a,a||delete this._itemsRev[s],this._updateParentFolderItemRev(s,a),this._canPropagate&&this._propagate(s)),a}delete(s){return this.set(s,null)}deactivatePropagation(){return this._canPropagate=!1,!0}activatePropagation(){return this._canPropagate||(this._generateFolderRev("/"),this._canPropagate=!0),!0}_hashCode(s){let a=0;if(s.length===0)return a;for(let o=0;o<s.length;o++)a=(a<<5)-a+s.charCodeAt(o),a|=0;return a}_generateHash(s){const a=s.sort().join("|");return""+this._hashCode(a)}_updateParentFolderItemRev(s,a){if(s!=="/"){const o=this._getParentFolder(s);this._itemsRev[o]||(this._itemsRev[o]={});const u=this._itemsRev[o];a?u[s]=a:delete u[s],this._updateParentFolderItemRev(o,this.defaultValue)}}_getParentFolder(s){return s.substr(0,s.lastIndexOf("/",s.length-2)+1)}_propagate(s){if(s!=="/"){const a=this._getParentFolder(s),o=this._itemsRev[a],u=[];for(const l in o)u.push(o[l]);const c=this._generateHash(u);this.set(a,c)}}_generateFolderRev(s){const a=this._itemsRev[s];let o=this.defaultValue;if(a){const u=[];for(const c in a){let l;l=c.substr(-1)==="/"?this._generateFolderRev(c):a[c],u.push(l)}u.length>0&&(o=this._generateHash(u))}return this.set(s,o),o}}},function(r,n,i){var s;/*!
 * webfinger.js
 *   version 2.7.0
 *   http://github.com/silverbucket/webfinger.js
 *
 * Developed and Maintained by:
 *   Nick Jennings <nick@silverbucket.net> 2012
 *
 * webfinger.js is released under the AGPL (see LICENSE).
 *
 * You don't have to do anything special to choose one license or the other and you don't
 * have to notify anyone which license you are using.
 * Please see the corresponding license file for details of these licenses.
 * You are free to use, modify and distribute this software, but all copyright
 * information must remain.
 *
 */typeof fetch!="function"&&typeof XMLHttpRequest!="function"&&(XMLHttpRequest=i(28)),function(a){var o={"http://webfist.org/spec/rel":"webfist","http://webfinger.net/rel/avatar":"avatar",remotestorage:"remotestorage","http://tools.ietf.org/id/draft-dejong-remotestorage":"remotestorage",remoteStorage:"remotestorage","http://www.packetizer.com/rel/share":"share","http://webfinger.net/rel/profile-page":"profile",me:"profile",vcard:"vcard",blog:"blog","http://packetizer.com/rel/blog":"blog","http://schemas.google.com/g/2010#updates-from":"updates","https://camlistore.org/rel/server":"camilstore"},u={avatar:[],remotestorage:[],blog:[],vcard:[],updates:[],share:[],profile:[],webfist:[],camlistore:[]},c=["webfinger","host-meta","host-meta.json"];function l(d){return d.toString=function(){return this.message},d}function h(d){typeof d!="object"&&(d={}),this.config={tls_only:d.tls_only===void 0||d.tls_only,webfist_fallback:d.webfist_fallback!==void 0&&d.webfist_fallback,uri_fallback:d.uri_fallback!==void 0&&d.uri_fallback,request_timeout:d.request_timeout!==void 0?d.request_timeout:1e4}}h.prototype.__fetchJRD=function(d,p,g){if(typeof fetch=="function")return this.__fetchJRD_fetch(d,p,g);if(typeof XMLHttpRequest=="function")return this.__fetchJRD_XHR(d,p,g);throw new Error("add a polyfill for fetch or XMLHttpRequest")},h.prototype.__fetchJRD_fetch=function(d,p,g){var v,_=this;typeof AbortController=="function"&&(v=new AbortController);var k=fetch(d,{headers:{Accept:"application/jrd+json, application/json"},signal:v?v.signal:void 0}).then(function(A){if(A.ok)return A.text();throw A.status===404?l({message:"resource not found",url:d,status:A.status}):l({message:"error during request",url:d,status:A.status})},function(A){throw l({message:"error during request",url:d,status:void 0,err:A})}).then(function(A){if(_.__isValidJSON(A))return A;throw l({message:"invalid json",url:d,status:void 0})}),P=new Promise(function(A,E){setTimeout(function(){E(l({message:"request timed out",url:d,status:void 0})),v&&v.abort()},_.config.request_timeout)});Promise.race([k,P]).then(function(A){g(A)}).catch(function(A){p(A)})},h.prototype.__fetchJRD_XHR=function(d,p,g){var v=this,_=!1,k=new XMLHttpRequest;function P(){if(!_){if(_=!0,k.status===200)return v.__isValidJSON(k.responseText)?g(k.responseText):p(l({message:"invalid json",url:d,status:k.status}));if(k.status===404)return p(l({message:"resource not found",url:d,status:k.status}));if(k.status>=301&&k.status<=302){var E=k.getResponseHeader("Location");return function(z){return typeof z=="string"&&z.split("://")[0]==="https"}(E)?A():p(l({message:"no redirect URL found",url:d,status:k.status}))}return p(l({message:"error during request",url:d,status:k.status}))}}function A(){k.onreadystatechange=function(){k.readyState===4&&P()},k.onload=function(){P()},k.ontimeout=function(){return p(l({message:"request timed out",url:d,status:k.status}))},k.open("GET",d,!0),k.timeout=v.config.request_timeout,k.setRequestHeader("Accept","application/jrd+json, application/json"),k.send()}return A()},h.prototype.__isValidJSON=function(d){try{JSON.parse(d)}catch{return!1}return!0},h.prototype.__isLocalhost=function(d){return/^localhost(\.localdomain)?(\:[0-9]+)?$/.test(d)},h.prototype.__processJRD=function(d,p,g,v){var _=JSON.parse(p);if(typeof _!="object"||typeof _.links!="object")return _.error!==void 0?g(l({message:_.error,request:d})):g(l({message:"unknown response from server",request:d}));var k=_.links;Array.isArray(k)||(k=[]);var P={object:_,json:p,idx:{}};P.idx.properties={name:void 0},P.idx.links=JSON.parse(JSON.stringify(u)),k.map(function(z,w){if(o.hasOwnProperty(z.rel)&&P.idx.links[o[z.rel]]){var M={};Object.keys(z).map(function(f,b){M[f]=z[f]}),P.idx.links[o[z.rel]].push(M)}});var A=JSON.parse(p).properties;for(var E in A)A.hasOwnProperty(E)&&E==="http://packetizer.com/ns/name"&&(P.idx.properties.name=A[E]);return v(P)},h.prototype.lookup=function(d,p){if(typeof d!="string")throw new Error("first parameter must be a user address");if(typeof p!="function")throw new Error("second parameter must be a callback");var g=this,v="";v=d.indexOf("://")>-1?d.replace(/ /g,"").split("/")[2]:d.replace(/ /g,"").split("@")[1];var _=0,k="https";function P(){var z="";return d.split("://")[1]||(z="acct:"),k+"://"+v+"/.well-known/"+c[_]+"?resource="+z+d}function A(z){if(g.config.uri_fallback&&v!=="webfist.org"&&_!==c.length-1)return _+=1,E();if(!g.config.tls_only&&k==="https")return _=0,k="http",E();if(!g.config.webfist_fallback||v==="webfist.org")return p(z);_=0,k="http",v="webfist.org";var w=P();g.__fetchJRD(w,p,function(M){g.__processJRD(w,M,p,function(f){typeof f.idx.links.webfist=="object"&&typeof f.idx.links.webfist[0].href=="string"&&g.__fetchJRD(f.idx.links.webfist[0].href,p,function(b){g.__processJRD(w,b,p,function(y){return p(null,p)})})})})}function E(){var z=P();g.__fetchJRD(z,A,function(w){g.__processJRD(z,w,p,function(M){p(null,M)})})}return g.__isLocalhost(v)&&(k="http"),setTimeout(E,0)},h.prototype.lookupLink=function(d,p,g){if(!u.hasOwnProperty(p))return g("unsupported rel "+p);this.lookup(d,function(v,_){var k=_.idx.links[p];return v?g(v):k.length===0?g('no links found with rel="'+p+'"'):g(null,k[0])})},(s=function(){return h}.apply(n,[]))===void 0||(r.exports=s)}()},function(r,n){r.exports=XMLHttpRequest},function(r,n,i){var s=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};const a=s(i(3)),o=s(i(16)),u=s(i(1)),c=i(0),l=s(i(30)),h=s(i(11)),d=s(i(6)),p=s(i(15)),g=s(i(7)),v=s(i(13)),_=s(i(14)),k=s(i(8)),P=s(i(31)),A=s(i(12)),E=s(i(32)),z=s(i(33)),w=s(i(34)),M={features:[],featuresDone:0,readyFired:!1,loadFeatures(){this.features=[],this.featuresDone=0,this.readyFired=!1,this.featureModules={WireClient:k.default,Dropbox:_.default,GoogleDrive:v.default,Access:h.default,Discover:p.default,Authorize:d.default,BaseClient:g.default,Env:o.default},a.default.cache&&c.extend(this.featureModules,{Caching:A.default,IndexedDB:E.default,LocalStorage:z.default,InMemoryStorage:w.default,Sync:P.default}),a.default.disableFeatures.forEach(f=>{this.featureModules[f]&&delete this.featureModules[f]}),this._allLoaded=!1;for(const f in this.featureModules)this.loadFeature(f)},hasFeature(f){for(let b=this.features.length-1;b>=0;b--)if(this.features[b].name===f)return this.features[b].supported;return!1},loadFeature(f){const b=this.featureModules[f],y=!b._rs_supported||b._rs_supported();u.default(`[RemoteStorage] [FEATURE ${f}] initializing ...`),typeof y=="object"?y.then(()=>{this.featureSupported(f,!0),this.initFeature(f)},()=>{this.featureSupported(f,!1)}):typeof y=="boolean"?(this.featureSupported(f,y),y&&this.initFeature(f)):this.featureSupported(f,!1)},initFeature(f){const b=this.featureModules[f];let y;try{y=b._rs_init(this)}catch(m){return void this.featureFailed(f,m)}typeof y=="object"&&typeof y.then=="function"?y.then(()=>{this.featureInitialized(f)},m=>{this.featureFailed(f,m)}):this.featureInitialized(f)},featureFailed(f,b){u.default(`[RemoteStorage] [FEATURE ${f}] initialization failed (${b})`),this.featureDone()},featureSupported(f,b){u.default(`[RemoteStorage] [FEATURE ${f}]${b?"":"not "} supported`),b||this.featureDone()},featureInitialized(f){u.default(`[RemoteStorage] [FEATURE ${f}] initialized`),this.features.push({name:f,init:this.featureModules[f]._rs_init,supported:!0,cleanup:this.featureModules[f]._rs_cleanup}),this.featureDone()},featureDone(){this.featuresDone++,this.featuresDone===Object.keys(this.featureModules).length&&setTimeout(this.featuresLoaded.bind(this),0)},_setCachingModule(){["IndexedDB","LocalStorage","InMemoryStorage"].some(f=>{if(this.features.some(b=>b.name===f))return this.features.local=this.featureModules[f],!0})},_fireReady(){try{this.readyFired||(this._emit("ready"),this.readyFired=!0)}catch(f){console.error("'ready' failed: ",f,f.stack),this._emit("error",f)}},featuresLoaded(){u.default("[RemoteStorage] All features loaded"),this._setCachingModule(),this.local=a.default.cache&&this.features.local&&new this.features.local,this.local&&this.remote?(this._setGPD(l.default,this),this._bindChange(this.local)):this.remote&&this._setGPD(this.remote,this.remote),this.remote&&(this.remote.on("connected",()=>{this._fireReady(),this._emit("connected")}),this.remote.on("not-connected",()=>{this._fireReady(),this._emit("not-connected")}),this.remote.connected&&(this._fireReady(),this._emit("connected")),this.hasFeature("Authorize")||this.remote.stopWaitingForToken()),this._collectCleanupFunctions();try{this._allLoaded=!0,this._emit("features-loaded")}catch(f){c.logError(f),this._emit("error",f)}this._processPending()},_collectCleanupFunctions(){this._cleanups=[];for(let f=0;f<this.features.length;f++){const b=this.features[f].cleanup;typeof b=="function"&&this._cleanups.push(b)}}};r.exports=M},function(r,n,i){var s=this&&this.__awaiter||function(c,l,h,d){return new(h||(h=Promise))(function(p,g){function v(P){try{k(d.next(P))}catch(A){g(A)}}function _(P){try{k(d.throw(P))}catch(A){g(A)}}function k(P){var A;P.done?p(P.value):(A=P.value,A instanceof h?A:new h(function(E){E(A)})).then(v,_)}k((d=d.apply(c,l||[])).next())})};const a=(this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}})(i(1));function o(c){return this.backend==="dropbox"&&!!c.match(/^\/public\/.*[^\/]$/)}const u={get:function(c,l){if(this.local){if(l===void 0)l=typeof(h=this).remote=="object"&&h.remote.connected&&h.remote.online?2*h.getSyncInterval():(a.default("Not setting default maxAge, because remote is offline or not connected"),!1);else if(typeof l!="number"&&l!==!1)return Promise.reject("Argument 'maxAge' must be 'false' or a number");return this.local.get(c,l,this.sync.queueGetRequest.bind(this.sync))}return this.remote.get(c);var h},put:function(c,l,h){return o.bind(this)(c)?u._wrapBusyDone.call(this,this.remote.put(c,l,h)):this.local?this.local.put(c,l,h):u._wrapBusyDone.call(this,this.remote.put(c,l,h))},delete:function(c){return this.local?this.local.delete(c):u._wrapBusyDone.call(this,this.remote.delete(c))},_wrapBusyDone:function(c){return s(this,void 0,void 0,function*(){return this._emit("wire-busy"),c.then(l=>(this._emit("wire-done",{success:!0}),Promise.resolve(l)),l=>(this._emit("wire-done",{success:!1}),Promise.reject(l)))})}};r.exports=u},function(r,n,i){var s=this&&this.__awaiter||function(z,w,M,f){return new(M||(M=Promise))(function(b,y){function m(O){try{I(f.next(O))}catch(q){y(q)}}function x(O){try{I(f.throw(O))}catch(q){y(q)}}function I(O){var q;O.done?b(O.value):(q=O.value,q instanceof M?q:new M(function(Z){Z(q)})).then(m,x)}I((f=f.apply(z,w||[])).next())})},a=this&&this.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};const o=a(i(3)),u=a(i(16)),c=a(i(2)),l=a(i(1)),h=a(i(6)),d=a(i(9)),p=a(i(4)),g=i(0);let v,_;function k(z,w,M){return{action:z,path:w,promise:M}}function P(z,w){return z.common.revision!==w&&(!z.remote||z.remote.revision!==w)}function A(z){return z.common&&z.common.revision}class E{constructor(w){this.rs=w,this._tasks={},this._running={},this._timeStarted={},this.numThreads=10,this.rs.local.onDiff(M=>{this.addTask(M),this.doTasks()}),this.rs.caching.onActivate(M=>{this.addTask(M),this.doTasks()}),this.addEvents(["done","req-done"])}now(){return new Date().getTime()}queueGetRequest(w){return new Promise((M,f)=>{this.rs.remote.connected?this.rs.remote.online?(this.addTask(w,function(){this.rs.local.get(w).then(b=>M(b))}.bind(this)),this.doTasks()):f("cannot fulfill maxAge requirement - remote is not online"):f("cannot fulfill maxAge requirement - remote is not connected")})}corruptServerItemsMap(w,M){if(typeof w!="object"||Array.isArray(w))return!0;for(const f in w){const b=w[f];if(typeof b!="object"||typeof b.ETag!="string")return!0;if(g.isFolder(f)){if(f.substring(0,f.length-1).indexOf("/")!==-1)return!0}else if(f.indexOf("/")!==-1||M&&(typeof b["Content-Type"]!="string"||typeof b["Content-Length"]!="number"))return!0}return!1}corruptItemsMap(w){if(typeof w!="object"||Array.isArray(w))return!0;for(const M in w)if(typeof w[M]!="boolean")return!0;return!1}corruptRevision(w){return typeof w!="object"||Array.isArray(w)||w.revision&&typeof w.revision!="string"||w.body&&typeof w.body!="string"&&typeof w.body!="object"||w.contentType&&typeof w.contentType!="string"||w.contentLength&&typeof w.contentLength!="number"||w.timestamp&&typeof w.timestamp!="number"||w.itemsMap&&this.corruptItemsMap(w.itemsMap)}isCorrupt(w){return typeof w!="object"||Array.isArray(w)||typeof w.path!="string"||this.corruptRevision(w.common)||w.local&&this.corruptRevision(w.local)||w.remote&&this.corruptRevision(w.remote)||w.push&&this.corruptRevision(w.push)}hasTasks(){return Object.getOwnPropertyNames(this._tasks).length>0}collectDiffTasks(){return s(this,void 0,void 0,function*(){let w=0;return this.rs.local.forAllNodes(M=>{w>100||(this.isCorrupt(M)?(l.default("[Sync] WARNING: corrupt node in local cache",M),typeof M=="object"&&M.path&&(this.addTask(M.path),w++)):(this.needsFetch(M)&&this.rs.access.checkPathPermission(M.path,"r")||g.isDocument(M.path)&&this.needsPush(M)&&this.rs.access.checkPathPermission(M.path,"rw"))&&(this.addTask(M.path),w++))}).then(()=>w).catch(M=>{throw M})})}inConflict(w){return w.local&&w.remote&&(w.remote.body!==void 0||w.remote.itemsMap)}needsRefresh(w){return!!w.common&&(!w.common.timestamp||this.now()-w.common.timestamp>o.default.syncInterval)}needsFetch(w){return!!this.inConflict(w)||!(!w.common||w.common.itemsMap!==void 0||w.common.body!==void 0)||!(!w.remote||w.remote.itemsMap!==void 0||w.remote.body!==void 0)}needsPush(w){return!this.inConflict(w)&&(!(!w.local||w.push)||void 0)}needsRemotePut(w){return w.local&&w.local.body}needsRemoteDelete(w){return w.local&&w.local.body===!1}getParentPath(w){const M=w.match(/^(.*\/)([^\/]+\/?)$/);if(M)return M[1];throw new Error('Not a valid path: "'+w+'"')}deleteChildPathsFromTasks(){for(const w in this._tasks){const M=g.pathsFromRoot(w);for(let f=1;f<M.length;f++)this._tasks[M[f]]&&(Array.isArray(this._tasks[w])&&this._tasks[w].length&&Array.prototype.push.apply(this._tasks[M[f]],this._tasks[w]),delete this._tasks[w])}}collectRefreshTasks(){return s(this,void 0,void 0,function*(){return this.rs.local.forAllNodes(w=>{let M;if(this.needsRefresh(w)){try{M=this.getParentPath(w.path)}catch{}M&&this.rs.access.checkPathPermission(M,"r")?this.addTask(M):this.rs.access.checkPathPermission(w.path,"r")&&this.addTask(w.path)}}).then(()=>this.deleteChildPathsFromTasks()).catch(w=>{throw w})})}flush(w){for(const M in w)this.rs.caching.checkPath(M)==="FLUSH"&&w[M]&&!w[M].local&&(l.default("[Sync] Flushing",M),w[M]=void 0);return w}doTask(w){return this.rs.local.getNodes([w]).then(M=>{const f=M[w];return f===void 0||function(b){return b.remote&&b.remote.revision&&!b.remote.itemsMap&&!b.remote.body}(f)?k("get",w,this.rs.remote.get(w)):this.needsRemotePut(f)?(f.push=g.deepClone(f.local),f.push.timestamp=this.now(),this.rs.local.setNodes(this.flush(M)).then(()=>{let b;return b=A(f)?{ifMatch:f.common.revision}:{ifNoneMatch:"*"},k("put",w,this.rs.remote.put(w,f.push.body,f.push.contentType,b))})):this.needsRemoteDelete(f)?(f.push={body:!1,timestamp:this.now()},this.rs.local.setNodes(this.flush(M)).then(()=>A(f)?k("delete",w,this.rs.remote.delete(w,{ifMatch:f.common.revision})):k("get",w,this.rs.remote.get(w)))):A(f)?k("get",w,this.rs.remote.get(w,{ifNoneMatch:f.common.revision})):k("get",w,this.rs.remote.get(w))})}autoMergeFolder(w){if(w.remote.itemsMap&&(w.common=w.remote,delete w.remote,w.common.itemsMap)){for(const M in w.common.itemsMap)w.local.itemsMap[M]||(w.local.itemsMap[M]=!1);g.equal(w.local.itemsMap,w.common.itemsMap)&&delete w.local}return w}autoMergeDocument(w){return function(M){return(!M.remote||!M.remote.revision||M.remote.revision===M.common.revision)&&(M.common.body===void 0&&M.remote.body===!1||M.remote.body===M.common.body&&M.remote.contentType===M.common.contentType)}(w)?delete(w=function(M){return M.remote&&M.remote.body===!1&&M.local&&M.local.body===!1&&delete M.local,M}(w)).remote:w.remote.body!==void 0&&(l.default("[Sync] Emitting keep/revert"),this.rs.local._emitChange({origin:"conflict",path:w.path,oldValue:w.local.body,newValue:w.remote.body,lastCommonValue:w.common.body,oldContentType:w.local.contentType,newContentType:w.remote.contentType,lastCommonContentType:w.common.contentType}),w.remote.body?w.common=w.remote:w.common={},delete w.remote,delete w.local),w}autoMerge(w){if(w.remote){if(w.local)return g.isFolder(w.path)?this.autoMergeFolder(w):this.autoMergeDocument(w);if(g.isFolder(w.path))w.remote.itemsMap!==void 0&&(w.common=w.remote,delete w.remote);else if(w.remote.body!==void 0){const M={origin:"remote",path:w.path,oldValue:w.common.body===!1?void 0:w.common.body,newValue:w.remote.body===!1?void 0:w.remote.body,oldContentType:w.common.contentType,newContentType:w.remote.contentType};if((M.oldValue||M.newValue)&&this.rs.local._emitChange(M),!w.remote.body)return;w.common=w.remote,delete w.remote}return w}w.common.body&&this.rs.local._emitChange({origin:"remote",path:w.path,oldValue:w.common.body,newValue:void 0,oldContentType:w.common.contentType,newContentType:void 0})}updateCommonTimestamp(w,M){return s(this,void 0,void 0,function*(){return this.rs.local.getNodes([w]).then(f=>(f[w]&&f[w].common&&f[w].common.revision===M&&(f[w].common.timestamp=this.now()),this.rs.local.setNodes(this.flush(f))))})}markChildren(w,M,f,b){return s(this,void 0,void 0,function*(){const y=[],m={},x={};for(const I in M)y.push(w+I),m[w+I]=M[I];for(const I in b)y.push(w+I);return this.rs.local.getNodes(y).then(I=>{let O,q;for(const Z in I)if(q=I[Z],m[Z])q&&q.common?P(q,m[Z].ETag)&&(f[Z]=g.deepClone(q),f[Z].remote={revision:m[Z].ETag,timestamp:this.now()},f[Z]=this.autoMerge(f[Z])):(O=this.rs.caching.checkPath(Z),O==="ALL"&&(f[Z]={path:Z,common:{timestamp:this.now()},remote:{revision:m[Z].ETag,timestamp:this.now()}})),f[Z]&&m[Z]["Content-Type"]&&(f[Z].remote.contentType=m[Z]["Content-Type"]),f[Z]&&m[Z]["Content-Length"]&&(f[Z].remote.contentLength=m[Z]["Content-Length"]);else if(b[Z.substring(w.length)]&&q&&q.common){if(q.common.itemsMap)for(const S in q.common.itemsMap)x[Z+S]=!0;if(q.local&&q.local.itemsMap)for(const S in q.local.itemsMap)x[Z+S]=!0;if(q.remote||g.isFolder(Z))f[Z]=void 0;else if(f[Z]=this.autoMerge(q),f[Z]===void 0){const S=this.getParentPath(Z),U=f[S],V=Z.substring(w.length);U&&U.local&&(delete U.local.itemsMap[V],g.equal(U.local.itemsMap,U.common.itemsMap)&&delete U.local)}}return this.deleteRemoteTrees(Object.keys(x),f).then(Z=>this.rs.local.setNodes(this.flush(Z)))})})}deleteRemoteTrees(w,M){return s(this,void 0,void 0,function*(){return w.length===0?Promise.resolve(M):this.rs.local.getNodes(w).then(f=>s(this,void 0,void 0,function*(){const b={};function y(m,x){if(m&&m.itemsMap)for(const I in m.itemsMap)b[x+I]=!0}for(const m in f){const x=f[m];x&&(g.isFolder(m)?(y(x.common,m),y(x.local,m)):x.common&&typeof x.common.body!==void 0&&(M[m]=g.deepClone(x),M[m].remote={body:!1,timestamp:this.now()},M[m]=this.autoMerge(M[m])))}return this.deleteRemoteTrees(Object.keys(b),M).then(m=>this.rs.local.setNodes(this.flush(m)))}))})}completeFetch(w,M,f,b){return s(this,void 0,void 0,function*(){let y,m;const x=g.pathsFromRoot(w);return g.isFolder(w)?y=[w]:(m=x[1],y=[w,m]),this.rs.local.getNodes(y).then(I=>{let O,q,Z=I[w];const S={};function U(V){if(V&&V.itemsMap)for(O in V.itemsMap)M[O]||(S[O]=!0)}if(typeof Z=="object"&&Z.path===w&&typeof Z.common=="object"||(Z={path:w,common:{}},I[w]=Z),Z.remote={revision:b,timestamp:this.now()},g.isFolder(w))for(O in U(Z.common),U(Z.remote),Z.remote.itemsMap={},M)Z.remote.itemsMap[O]=!0;else Z.remote.body=M,Z.remote.contentType=f,q=I[m],q&&q.local&&q.local.itemsMap&&(O=w.substring(m.length),q.local.itemsMap[O]=!0,g.equal(q.local.itemsMap,q.common.itemsMap)&&delete q.local);return I[w]=this.autoMerge(Z),{toBeSaved:I,missingChildren:S}})})}completePush(w,M,f,b){return s(this,void 0,void 0,function*(){return this.rs.local.getNodes([w]).then(y=>{const m=y[w];if(!m.push)throw this.stopped=!0,new Error("completePush called but no push version!");return f?(l.default("[Sync] We have a conflict"),m.remote&&m.remote.revision===b||(m.remote={revision:b||"conflict",timestamp:this.now()},delete m.push),y[w]=this.autoMerge(m)):(m.common={revision:b,timestamp:this.now()},M==="put"?(m.common.body=m.push.body,m.common.contentType=m.push.contentType,g.equal(m.local.body,m.push.body)&&m.local.contentType===m.push.contentType&&delete m.local,delete m.push):M==="delete"&&(m.local.body===!1?y[w]=void 0:delete m.push)),this.rs.local.setNodes(this.flush(y))})})}dealWithFailure(w){return s(this,void 0,void 0,function*(){return this.rs.local.getNodes([w]).then(M=>{if(M[w])return delete M[w].push,this.rs.local.setNodes(this.flush(M))})})}interpretStatus(w){const M={statusCode:w,successful:void 0,conflict:void 0,unAuth:void 0,notFound:void 0,changed:void 0,networkProblems:void 0};if(typeof w=="string"&&(w==="offline"||w==="timeout"))return M.successful=!1,M.networkProblems=!0,M;if(typeof w=="number"){const f=Math.floor(w/100);return M.successful=f===2||w===304||w===412||w===404,M.conflict=w===412,M.unAuth=w===401&&this.rs.remote.token!==h.default.IMPLIED_FAKE_TOKEN||w===402||w===403,M.notFound=w===404,M.changed=w!==304,M}}handleGetResponse(w,M,f,b,y){return s(this,void 0,void 0,function*(){return M.notFound&&(f=!!g.isFolder(w)&&{}),M.changed?this.completeFetch(w,f,b,y).then(m=>g.isFolder(w)?this.corruptServerItemsMap(f)?(l.default("[Sync] WARNING: Discarding corrupt folder description from server for "+w),!1):this.markChildren(w,f,m.toBeSaved,m.missingChildren).then(()=>!0):this.rs.local.setNodes(this.flush(m.toBeSaved)).then(()=>!0)):this.updateCommonTimestamp(w,y).then(()=>!0)})}handleResponse(w,M,f){const b=this.interpretStatus(f.statusCode);if(b.successful){if(M==="get")return this.handleGetResponse(w,b,f.body,f.contentType,f.revision);if(M==="put"||M==="delete")return this.completePush(w,M,b.conflict,f.revision).then(function(){return!0});throw new Error("cannot handle response for unknown action "+M)}{let y;return y=b.unAuth?new p.default:b.networkProblems?new d.default("Network request failed."):new Error("HTTP response code "+b.statusCode+" received."),this.dealWithFailure(w).then(()=>{throw this.rs._emit("error",y),y})}}finishTask(w){if(w.action!==void 0)return w.promise.then(M=>this.handleResponse(w.path,w.action,M),M=>(l.default("[Sync] wireclient rejects its promise!",w.path,w.action,M),this.handleResponse(w.path,w.action,{statusCode:"offline"}))).then(M=>{if(delete this._timeStarted[w.path],delete this._running[w.path],M&&this._tasks[w.path]){for(let f=0;f<this._tasks[w.path].length;f++)this._tasks[w.path][f]();delete this._tasks[w.path]}this.rs._emit("sync-req-done"),this.collectTasks(!1).then(()=>{!this.hasTasks()||this.stopped?(l.default("[Sync] Sync is done! Reschedule?",Object.getOwnPropertyNames(this._tasks).length,this.stopped),this.done||(this.done=!0,this.rs._emit("sync-done"))):setTimeout(()=>{this.doTasks()},10)})},M=>{l.default("[Sync] Error",M),delete this._timeStarted[w.path],delete this._running[w.path],this.rs._emit("sync-req-done"),this.done||(this.done=!0,this.rs._emit("sync-done"))});delete this._running[w.path]}doTasks(){let w,M,f=0;w=this.rs.remote.connected?this.rs.remote.online?this.numThreads:1:0;const b=w-Object.getOwnPropertyNames(this._running).length;if(b<=0)return!0;for(M in this._tasks)if(!this._running[M]&&(this._timeStarted[M]=this.now(),this._running[M]=this.doTask(M),this._running[M].then(this.finishTask.bind(this)),f++,f>=b))return!0;return f>=b}collectTasks(w){return s(this,void 0,void 0,function*(){return this.hasTasks()||this.stopped?Promise.resolve():this.collectDiffTasks().then(M=>M||w===!1?Promise.resolve():this.collectRefreshTasks(),function(M){throw M})})}addTask(w,M){this._tasks[w]||(this._tasks[w]=[]),typeof M=="function"&&this._tasks[w].push(M)}sync(){return this.done=!1,this.doTasks()?Promise.resolve():this.collectTasks().then(()=>{try{this.doTasks()}catch(w){l.default("[Sync] doTasks error",w)}},function(w){throw l.default("[Sync] Sync error",w),new Error("Local cache unavailable")})}static _rs_init(w){v=function(){l.default("[Sync] syncCycleCb calling syncCycle");const M=new u.default;M.isBrowser()&&function(f,b){function y(m){const x=b.getCurrentSyncInterval();o.default.isBackground=!m;const I=b.getCurrentSyncInterval();b._emit("sync-interval-change",{oldValue:x,newValue:I})}f.on("background",()=>y(!1)),f.on("foreground",()=>y(!0))}(M,w),w.sync||(w.sync=new E(w),w.syncStopped&&(l.default("[Sync] Instantiating sync stopped"),w.sync.stopped=!0,delete w.syncStopped)),l.default("[Sync] syncCycleCb calling syncCycle"),w.syncCycle()},_=function(){w.removeEventListener("connected",_),w.startSync()},w.on("ready",v),w.on("connected",_)}static _rs_cleanup(w){w.stopSync(),w.removeEventListener("ready",v),w.removeEventListener("connected",_),w.sync=void 0,delete w.sync}}g.applyMixins(E,[c.default]),r.exports=E},function(r,n,i){(function(s){var a=this&&this.__awaiter||function(g,v,_,k){return new(_||(_=Promise))(function(P,A){function E(M){try{w(k.next(M))}catch(f){A(f)}}function z(M){try{w(k.throw(M))}catch(f){A(f)}}function w(M){var f;M.done?P(M.value):(f=M.value,f instanceof _?f:new _(function(b){b(f)})).then(E,z)}w((k=k.apply(g,v||[])).next())})},o=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};const u=o(i(2)),c=o(i(10)),l=o(i(1)),h=i(0);let d;class p extends c.default{constructor(v){super(),this.addEvents(["change","local-events-done"]),this.db=v||d,this.db?(this.getsRunning=0,this.putsRunning=0,this.changesQueued={},this.changesRunning={},this.commitSlownessWarning=null):l.default("[IndexedDB] Failed to open DB")}getNodes(v){return a(this,void 0,void 0,function*(){const _=[],k={};for(let P=0,A=v.length;P<A;P++)this.changesQueued[v[P]]!==void 0?k[v[P]]=h.deepClone(this.changesQueued[v[P]]||void 0):this.changesRunning[v[P]]!==void 0?k[v[P]]=h.deepClone(this.changesRunning[v[P]]||void 0):_.push(v[P]);return _.length>0?this.getNodesFromDb(_).then(function(P){for(const A in k)P[A]=k[A];return P}):Promise.resolve(k)})}setNodes(v){return a(this,void 0,void 0,function*(){for(const _ in v)this.changesQueued[_]=v[_]||!1;return this.maybeFlush(),Promise.resolve()})}maybeFlush(){this.putsRunning===0?this.flushChangesQueued():this.commitSlownessWarning||(this.commitSlownessWarning=s.setInterval(function(){console.warn("WARNING: waited more than 10 seconds for previous commit to finish")},1e4))}flushChangesQueued(){this.commitSlownessWarning&&(clearInterval(this.commitSlownessWarning),this.commitSlownessWarning=null),Object.keys(this.changesQueued).length>0&&(this.changesRunning=this.changesQueued,this.changesQueued={},this.setNodesInDb(this.changesRunning).then(this.flushChangesQueued.bind(this)))}getNodesFromDb(v){return new Promise((_,k)=>{const P=this.db.transaction(["nodes"],"readonly"),A=P.objectStore("nodes"),E={};this.getsRunning++,v.map(z=>{A.get(z).onsuccess=w=>{E[z]=w.target.result}}),P.oncomplete=()=>{_(E),this.getsRunning--},P.onerror=P.onabort=()=>{k("get transaction error/abort"),this.getsRunning--}})}setNodesInDb(v){return a(this,void 0,void 0,function*(){return new Promise((_,k)=>{const P=this.db.transaction(["nodes"],"readwrite"),A=P.objectStore("nodes"),E=new Date().getTime();this.putsRunning++,l.default("[IndexedDB] Starting put",v,this.putsRunning);for(const z in v){const w=v[z];if(typeof w=="object")try{A.put(w)}catch(M){throw l.default("[IndexedDB] Error while putting",w,M),M}else try{A.delete(z)}catch(M){throw l.default("[IndexedDB] Error while removing",A,w,M),M}}P.oncomplete=()=>{this.putsRunning--,l.default("[IndexedDB] Finished put",v,this.putsRunning,new Date().getTime()-E+"ms"),_()},P.onerror=()=>{this.putsRunning--,k("transaction error")},P.onabort=()=>{k("transaction abort"),this.putsRunning--}})})}reset(v){const _=this.db.name;this.db.close(),p.clean(this.db.name,()=>{p.open(_,(k,P)=>{k?l.default("[IndexedDB] Error while resetting local storage",k):this.db=P,typeof v=="function"&&v(self)})})}forAllNodes(v){return a(this,void 0,void 0,function*(){return new Promise(_=>{this.db.transaction(["nodes"],"readonly").objectStore("nodes").openCursor().onsuccess=k=>{const P=k.target.result;P?(v(this.migrate(P.value)),P.continue()):_()}})})}closeDB(){this.putsRunning===0?this.db.close():setTimeout(this.closeDB.bind(this),100)}static open(v,_){const k=setTimeout(function(){_("timeout trying to open db")},1e4);try{const P=indexedDB.open(v,2);P.onerror=function(){l.default("[IndexedDB] Opening DB failed",P),clearTimeout(k),_(P.error)},P.onupgradeneeded=function(A){const E=P.result;l.default("[IndexedDB] Upgrade: from ",A.oldVersion," to ",A.newVersion),A.oldVersion!==1&&(l.default("[IndexedDB] Creating object store: nodes"),E.createObjectStore("nodes",{keyPath:"path"})),l.default("[IndexedDB] Creating object store: changes"),E.createObjectStore("changes",{keyPath:"path"})},P.onsuccess=function(){clearTimeout(k);const A=P.result;if(!A.objectStoreNames.contains("nodes")||!A.objectStoreNames.contains("changes"))return l.default("[IndexedDB] Missing object store. Resetting the database."),void p.clean(v,function(){p.open(v,_)});_(null,P.result)}}catch(P){l.default("[IndexedDB] Failed to open database: "+P),l.default("[IndexedDB] Resetting database and trying again."),clearTimeout(k),p.clean(v,function(){p.open(v,_)})}}static clean(v,_){const k=indexedDB.deleteDatabase(v);k.onsuccess=function(){l.default("[IndexedDB] Done removing DB"),_()},k.onerror=k.onabort=function(P){console.error('Failed to remove database "'+v+'"',P)}}static _rs_init(v){return new Promise((_,k)=>{p.open("remotestorage",function(P,A){P?k(P):(d=A,A.onerror=()=>{v._emit("error",P)},_())})})}static _rs_supported(){return new Promise((v,_)=>{const k=h.getGlobalContext();let P=!1;if(typeof navigator!="undefined"&&navigator.userAgent.match(/Android (2|3|4\.[0-3])/)&&(navigator.userAgent.match(/Chrome|Firefox/)||(P=!0)),"indexedDB"in k&&!P)try{const A=indexedDB.open("rs-check");A.onerror=function(){_()},A.onsuccess=function(){A.result.close(),indexedDB.deleteDatabase("rs-check"),v()}}catch{_()}else _()})}static _rs_cleanup(v){return new Promise(_=>{v.local&&v.local.closeDB(),p.clean("remotestorage",_)})}diffHandler(){}}h.applyMixins(p,[u.default]),r.exports=p}).call(this,i(5))},function(r,n,i){var s=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};const a=s(i(10)),o=s(i(2)),u=s(i(1)),c=i(0),l="remotestorage:cache:nodes:";function h(p){return p.substr(0,l.length)===l||p.substr(0,28)==="remotestorage:cache:changes:"}class d extends a.default{constructor(){super(),this.addEvents(["change","local-events-done"])}diffHandler(...g){}getNodes(g){const v={};for(let _=0,k=g.length;_<k;_++)try{v[g[_]]=JSON.parse(localStorage[l+g[_]])}catch{v[g[_]]=void 0}return Promise.resolve(v)}setNodes(g){for(const v in g)localStorage[l+v]=JSON.stringify(g[v]);return Promise.resolve()}forAllNodes(g){let v;for(let _=0,k=localStorage.length;_<k;_++)if(localStorage.key(_).substr(0,l.length)===l){try{v=this.migrate(JSON.parse(localStorage[localStorage.key(_)]))}catch{v=void 0}v&&g(v)}return Promise.resolve()}static _rs_init(){}static _rs_supported(){return c.localStorageAvailable()}static _rs_cleanup(){const g=[];for(let v=0,_=localStorage.length;v<_;v++){const k=localStorage.key(v);h(k)&&g.push(k)}g.forEach(v=>{u.default("[LocalStorage] Removing",v),delete localStorage[v]})}}c.applyMixins(d,[o.default]),r.exports=d},function(r,n,i){var s=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};const a=s(i(2)),o=s(i(10)),u=i(0);class c extends o.default{constructor(){super(),this._storage={},this.addEvents(["change","local-events-done"])}getNodes(h){const d={};for(let p=0,g=h.length;p<g;p++)d[h[p]]=this._storage[h[p]];return Promise.resolve(d)}setNodes(h){for(const d in h)h[d]===void 0?delete this._storage[d]:this._storage[d]=h[d];return Promise.resolve()}forAllNodes(h){for(const d in this._storage)h(this.migrate(this._storage[d]));return Promise.resolve()}diffHandler(){}static _rs_init(){}static _rs_supported(){return!0}static _rs_cleanup(){}}u.applyMixins(c,[a.default]),r.exports=c}])})})(lh);var op=sp(lh.exports);const Vr=new op;Vr.setApiKeys({dropbox:np,googledrive:ip});/*! OpenPGP.js v5.3.0 - 2022-06-08 - this is LGPL licensed code, see LICENSE/our website https://openpgpjs.org/ for more information. */const kr=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},bs=Symbol("doneWritingPromise"),fh=Symbol("doneWritingResolve"),hh=Symbol("doneWritingReject"),Vs=Symbol("readingIndex");class yn extends Array{constructor(){super(),this[bs]=new Promise((t,r)=>{this[fh]=t,this[hh]=r}),this[bs].catch(()=>{})}}function Re(e){return e&&e.getReader&&Array.isArray(e)}function ra(e){if(!Re(e)){const t=e.getWriter(),r=t.releaseLock;return t.releaseLock=()=>{t.closed.catch(function(){}),r.call(t)},t}this.stream=e}yn.prototype.getReader=function(){return this[Vs]===void 0&&(this[Vs]=0),{read:async()=>(await this[bs],this[Vs]===this.length?{value:void 0,done:!0}:{value:this[this[Vs]++],done:!1})}},yn.prototype.readToEnd=async function(e){await this[bs];const t=e(this.slice(this[Vs]));return this.length=0,t},yn.prototype.clone=function(){const e=new yn;return e[bs]=this[bs].then(()=>{e.push(...this)}),e},ra.prototype.write=async function(e){this.stream.push(e)},ra.prototype.close=async function(){this.stream[fh]()},ra.prototype.abort=async function(e){return this.stream[hh](e),e},ra.prototype.releaseLock=function(){};const M0=typeof kr.process=="object"&&typeof kr.process.versions=="object",F1=M0&&void 0;function vr(e){return Re(e)?"array":kr.ReadableStream&&kr.ReadableStream.prototype.isPrototypeOf(e)?"web":Gn&&Gn.prototype.isPrototypeOf(e)?"ponyfill":F1&&F1.prototype.isPrototypeOf(e)?"node":!(!e||!e.getReader)&&"web-like"}function R0(e){return Uint8Array.prototype.isPrototypeOf(e)}function dh(e){if(e.length===1)return e[0];let t=0;for(let i=0;i<e.length;i++){if(!R0(e[i]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");t+=e[i].length}const r=new Uint8Array(t);let n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}const cp=M0&&void 0,K1=M0&&void 0;let T0,Du;if(K1){T0=function(t){let r=!1;return new Gn({start(n){t.pause(),t.on("data",i=>{r||(cp.isBuffer(i)&&(i=new Uint8Array(i.buffer,i.byteOffset,i.byteLength)),n.enqueue(i),t.pause())}),t.on("end",()=>{r||n.close()}),t.on("error",i=>n.error(i))},pull(){t.resume()},cancel(n){r=!0,t.destroy(n)}})};class e extends K1{constructor(r,n){super(n),this._reader=Rn(r)}async _read(r){try{for(;;){const{done:n,value:i}=await this._reader.read();if(n){this.push(null);break}if(!this.push(i)||this._cancelling){this._reading=!1;break}}}catch(n){this.emit("error",n)}}_destroy(r){this._reader.cancel(r)}}Du=function(t,r){return new e(t,r)}}const L1=new WeakSet,we=Symbol("externalBuffer");function on(e){if(this.stream=e,e[we]&&(this[we]=e[we].slice()),Re(e)){const n=e.getReader();return this._read=n.read.bind(n),this._releaseLock=()=>{},void(this._cancel=()=>{})}let t=vr(e);if(t==="node"&&(e=T0(e)),t){const n=e.getReader();return this._read=n.read.bind(n),this._releaseLock=()=>{n.closed.catch(function(){}),n.releaseLock()},void(this._cancel=n.cancel.bind(n))}let r=!1;this._read=async()=>r||L1.has(e)?{value:void 0,done:!0}:(r=!0,{value:e,done:!1}),this._releaseLock=()=>{if(r)try{L1.add(e)}catch{}}}on.prototype.read=async function(){return this[we]&&this[we].length?{done:!1,value:this[we].shift()}:this._read()},on.prototype.releaseLock=function(){this[we]&&(this.stream[we]=this[we]),this._releaseLock()},on.prototype.cancel=function(e){return this._cancel(e)},on.prototype.readLine=async function(){let e,t=[];for(;!e;){let{done:r,value:n}=await this.read();if(n+="",r)return t.length?br(t):void 0;const i=n.indexOf(`
`)+1;i&&(e=br(t.concat(n.substr(0,i))),t=[]),i!==n.length&&t.push(n.substr(i))}return this.unshift(...t),e},on.prototype.readByte=async function(){const{done:e,value:t}=await this.read();if(e)return;const r=t[0];return this.unshift(Ye(t,1)),r},on.prototype.readBytes=async function(e){const t=[];let r=0;for(;;){const{done:n,value:i}=await this.read();if(n)return t.length?br(t):void 0;if(t.push(i),r+=i.length,r>=e){const s=br(t);return this.unshift(Ye(s,e)),Ye(s,0,e)}}},on.prototype.peekBytes=async function(e){const t=await this.readBytes(e);return this.unshift(t),t},on.prototype.unshift=function(...e){this[we]||(this[we]=[]),e.length===1&&R0(e[0])&&this[we].length&&e[0].length&&this[we][0].byteOffset>=e[0].length?this[we][0]=new Uint8Array(this[we][0].buffer,this[we][0].byteOffset-e[0].length,this[we][0].byteLength+e[0].length):this[we].unshift(...e.filter(t=>t&&t.length))},on.prototype.readToEnd=async function(e=br){const t=[];for(;;){const{done:r,value:n}=await this.read();if(r)break;t.push(n)}return e(t)};let Gc,ph,{ReadableStream:Gn,WritableStream:mh,TransformStream:Ts}=kr;async function yh(){if(Ts)return;const[e,t]=await Promise.all([Promise.resolve().then(function(){return K5}),Promise.resolve().then(function(){return H5})]);({ReadableStream:Gn,WritableStream:mh,TransformStream:Ts}=e);const{createReadableStreamWrapper:r}=t;kr.ReadableStream&&Gn!==kr.ReadableStream&&(Gc=r(Gn),ph=r(kr.ReadableStream))}const ga=M0&&void 0;function Wa(e){let t=vr(e);return t==="node"?T0(e):t==="web"&&Gc?Gc(e):t?e:new Gn({start(r){r.enqueue(e),r.close()}})}function bh(e){if(vr(e))return e;const t=new yn;return(async()=>{const r=wr(t);await r.write(e),await r.close()})(),t}function br(e){return e.some(t=>vr(t)&&!Re(t))?function(t){t=t.map(Wa);const r=vh(async function(s){await Promise.all(i.map(a=>Vc(a,s)))});let n=Promise.resolve();const i=t.map((s,a)=>Vn(s,(o,u)=>(n=n.then(()=>ki(o,r.writable,{preventClose:a!==t.length-1})),n)));return r.readable}(e):e.some(t=>Re(t))?function(t){const r=new yn;let n=Promise.resolve();return t.forEach((i,s)=>(n=n.then(()=>ki(i,r,{preventClose:s!==t.length-1})),n)),r}(e):typeof e[0]=="string"?e.join(""):ga&&ga.isBuffer(e[0])?ga.concat(e):dh(e)}function Rn(e){return new on(e)}function wr(e){return new ra(e)}async function ki(e,t,{preventClose:r=!1,preventAbort:n=!1,preventCancel:i=!1}={}){if(vr(e)&&!Re(e)){e=Wa(e);try{if(e[we]){const o=wr(t);for(let u=0;u<e[we].length;u++)await o.ready,await o.write(e[we][u]);o.releaseLock()}await e.pipeTo(t,{preventClose:r,preventAbort:n,preventCancel:i})}catch{}return}const s=Rn(e=bh(e)),a=wr(t);try{for(;;){await a.ready;const{done:o,value:u}=await s.read();if(o){r||await a.close();break}await a.write(u)}}catch(o){n||await a.abort(o)}finally{s.releaseLock(),a.releaseLock()}}function gh(e,t){const r=new Ts(t);return ki(e,r.writable),r.readable}function vh(e){let t,r,n=!1;return{readable:new Gn({start(i){r=i},pull(){t?t():n=!0},cancel:e},{highWaterMark:0}),writable:new mh({write:async function(i){r.enqueue(i),n?n=!1:(await new Promise(s=>{t=s}),t=null)},close:r.close.bind(r),abort:r.error.bind(r)})}}function Ee(e,t=()=>{},r=()=>{}){if(Re(e)){const s=new yn;return(async()=>{const a=await Ie(e),o=t(a),u=r();let c;c=o!==void 0&&u!==void 0?br([o,u]):o!==void 0?o:u;const l=wr(s);await l.write(c),await l.close()})(),s}if(vr(e))return gh(e,{async transform(s,a){try{const o=await t(s);o!==void 0&&a.enqueue(o)}catch(o){a.error(o)}},async flush(s){try{const a=await r();a!==void 0&&s.enqueue(a)}catch(a){s.error(a)}}});const n=t(e),i=r();return n!==void 0&&i!==void 0?br([n,i]):n!==void 0?n:i}function Vn(e,t){if(vr(e)&&!Re(e)){let n;const i=new Ts({start(o){n=o}}),s=ki(e,i.writable),a=vh(async function(o){n.error(o),await s,await new Promise(setTimeout)});return t(i.readable,a.writable),a.readable}e=bh(e);const r=new yn;return t(e,r),r}function I0(e,t){let r;const n=Vn(e,(i,s)=>{const a=Rn(i);a.remainder=()=>(a.releaseLock(),ki(i,s),n),r=t(a)});return r}function Zi(e){if(Re(e))return e.clone();if(vr(e)){const t=function(r){if(Re(r))throw Error("ArrayStream cannot be tee()d, use clone() instead");if(vr(r)){const n=Wa(r).tee();return n[0][we]=n[1][we]=r[we],n}return[Ye(r),Ye(r)]}(e);return wh(e,t[0]),t[1]}return Ye(e)}function Ss(e){return Re(e)?Zi(e):vr(e)?new Gn({start(t){const r=Vn(e,async(n,i)=>{const s=Rn(n),a=wr(i);try{for(;;){await a.ready;const{done:o,value:u}=await s.read();if(o){try{t.close()}catch{}return void await a.close()}try{t.enqueue(u)}catch{}await a.write(u)}}catch(o){t.error(o),await a.abort(o)}});wh(e,r)}}):Ye(e)}function wh(e,t){Object.entries(Object.getOwnPropertyDescriptors(e.constructor.prototype)).forEach(([r,n])=>{r!=="constructor"&&(n.value?n.value=n.value.bind(t):n.get=n.get.bind(t),Object.defineProperty(e,r,n))})}function Ye(e,t=0,r=1/0){if(Re(e))throw Error("Not implemented");if(vr(e)){if(t>=0&&r>=0){let n=0;return gh(e,{transform(i,s){n<r?(n+i.length>=t&&s.enqueue(Ye(i,Math.max(t-n,0),r-n)),n+=i.length):s.terminate()}})}if(t<0&&(r<0||r===1/0)){let n=[];return Ee(e,i=>{i.length>=-t?n=[i]:n.push(i)},()=>Ye(br(n),t,r))}if(t===0&&r<0){let n;return Ee(e,i=>{const s=n?br([n,i]):i;if(s.length>=-r)return n=Ye(s,r),Ye(s,t,r);n=s})}return console.warn(`stream.slice(input, ${t}, ${r}) not implemented efficiently.`),Ri(async()=>Ye(await Ie(e),t,r))}return e[we]&&(e=br(e[we].concat([e]))),!R0(e)||ga&&ga.isBuffer(e)?e.slice(t,r):(r===1/0&&(r=e.length),e.subarray(t,r))}async function Ie(e,t=br){return Re(e)?e.readToEnd(t):vr(e)?Rn(e).readToEnd(t):e}async function Vc(e,t){if(vr(e)){if(e.cancel)return e.cancel(t);if(e.destroy)return e.destroy(t),await new Promise(setTimeout),t}}function Ri(e){const t=new yn;return(async()=>{const r=wr(t);try{await r.write(await e()),await r.close()}catch(n){await r.abort(n)}})(),t}class ar{constructor(t){if(t===void 0)throw Error("Invalid BigInteger input");if(t instanceof Uint8Array){const r=t,n=Array(r.length);for(let i=0;i<r.length;i++){const s=r[i].toString(16);n[i]=r[i]<=15?"0"+s:s}this.value=BigInt("0x0"+n.join(""))}else this.value=BigInt(t)}clone(){return new ar(this.value)}iinc(){return this.value++,this}inc(){return this.clone().iinc()}idec(){return this.value--,this}dec(){return this.clone().idec()}iadd(t){return this.value+=t.value,this}add(t){return this.clone().iadd(t)}isub(t){return this.value-=t.value,this}sub(t){return this.clone().isub(t)}imul(t){return this.value*=t.value,this}mul(t){return this.clone().imul(t)}imod(t){return this.value%=t.value,this.isNegative()&&this.iadd(t),this}mod(t){return this.clone().imod(t)}modExp(t,r){if(r.isZero())throw Error("Modulo cannot be zero");if(r.isOne())return new ar(0);if(t.isNegative())throw Error("Unsopported negative exponent");let n=t.value,i=this.value;i%=r.value;let s=BigInt(1);for(;n>BigInt(0);){const a=n&BigInt(1);n>>=BigInt(1);const o=s*i%r.value;s=a?o:s,i=i*i%r.value}return new ar(s)}modInv(t){const{gcd:r,x:n}=this._egcd(t);if(!r.isOne())throw Error("Inverse does not exist");return n.add(t).mod(t)}_egcd(t){let r=BigInt(0),n=BigInt(1),i=BigInt(1),s=BigInt(0),a=this.value;for(t=t.value;t!==BigInt(0);){const o=a/t;let u=r;r=i-o*r,i=u,u=n,n=s-o*n,s=u,u=t,t=a%t,a=u}return{x:new ar(i),y:new ar(s),gcd:new ar(a)}}gcd(t){let r=this.value;for(t=t.value;t!==BigInt(0);){const n=t;t=r%t,r=n}return new ar(r)}ileftShift(t){return this.value<<=t.value,this}leftShift(t){return this.clone().ileftShift(t)}irightShift(t){return this.value>>=t.value,this}rightShift(t){return this.clone().irightShift(t)}equal(t){return this.value===t.value}lt(t){return this.value<t.value}lte(t){return this.value<=t.value}gt(t){return this.value>t.value}gte(t){return this.value>=t.value}isZero(){return this.value===BigInt(0)}isOne(){return this.value===BigInt(1)}isNegative(){return this.value<BigInt(0)}isEven(){return!(this.value&BigInt(1))}abs(){const t=this.clone();return this.isNegative()&&(t.value=-t.value),t}toString(){return this.value.toString()}toNumber(){const t=Number(this.value);if(t>Number.MAX_SAFE_INTEGER)throw Error("Number can only safely store up to 53 bits");return t}getBit(t){return(this.value>>BigInt(t)&BigInt(1))===BigInt(0)?0:1}bitLength(){const t=new ar(0),r=new ar(1),n=new ar(-1),i=this.isNegative()?n:t;let s=1;const a=this.clone();for(;!a.irightShift(r).equal(i);)s++;return s}byteLength(){const t=new ar(0),r=new ar(-1),n=this.isNegative()?r:t,i=new ar(8);let s=1;const a=this.clone();for(;!a.irightShift(i).equal(n);)s++;return s}toUint8Array(t="be",r){let n=this.value.toString(16);n.length%2==1&&(n="0"+n);const i=n.length/2,s=new Uint8Array(r||i),a=r?r-i:0;let o=0;for(;o<i;)s[o+a]=parseInt(n.slice(2*o,2*o+2),16),o++;return t!=="be"&&s.reverse(),s}}const j1=(()=>{try{return!1}catch{}return!1})(),X={isString:function(e){return typeof e=="string"||String.prototype.isPrototypeOf(e)},isArray:function(e){return Array.prototype.isPrototypeOf(e)},isUint8Array:R0,isStream:vr,readNumber:function(e){let t=0;for(let r=0;r<e.length;r++)t+=256**r*e[e.length-1-r];return t},writeNumber:function(e,t){const r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e>>8*(t-n-1)&255;return r},readDate:function(e){const t=X.readNumber(e);return new Date(1e3*t)},writeDate:function(e){const t=Math.floor(e.getTime()/1e3);return X.writeNumber(t,4)},normalizeDate:function(e=Date.now()){return e===null||e===1/0?e:new Date(1e3*Math.floor(+e/1e3))},readMPI:function(e){const t=(e[0]<<8|e[1])+7>>>3;return e.subarray(2,2+t)},leftPad(e,t){const r=new Uint8Array(t),n=t-e.length;return r.set(e,n),r},uint8ArrayToMPI:function(e){const t=X.uint8ArrayBitLength(e);if(t===0)throw Error("Zero MPI");const r=e.subarray(e.length-Math.ceil(t/8)),n=new Uint8Array([(65280&t)>>8,255&t]);return X.concatUint8Array([n,r])},uint8ArrayBitLength:function(e){let t;for(t=0;t<e.length&&e[t]===0;t++);if(t===e.length)return 0;const r=e.subarray(t);return 8*(r.length-1)+X.nbits(r[0])},hexToUint8Array:function(e){const t=new Uint8Array(e.length>>1);for(let r=0;r<e.length>>1;r++)t[r]=parseInt(e.substr(r<<1,2),16);return t},uint8ArrayToHex:function(e){const t=[],r=e.length;let n,i=0;for(;i<r;){for(n=e[i++].toString(16);n.length<2;)n="0"+n;t.push(""+n)}return t.join("")},stringToUint8Array:function(e){return Ee(e,t=>{if(!X.isString(t))throw Error("stringToUint8Array: Data must be in the form of a string");const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r})},uint8ArrayToString:function(e){const t=[],n=(e=new Uint8Array(e)).length;for(let i=0;i<n;i+=16384)t.push(String.fromCharCode.apply(String,e.subarray(i,i+16384<n?i+16384:n)));return t.join("")},encodeUTF8:function(e){const t=new TextEncoder("utf-8");function r(n,i=!1){return t.encode(n,{stream:!i})}return Ee(e,r,()=>r("",!0))},decodeUTF8:function(e){const t=new TextDecoder("utf-8");function r(n,i=!1){return t.decode(n,{stream:!i})}return Ee(e,r,()=>r(new Uint8Array,!0))},concat:br,concatUint8Array:dh,equalsUint8Array:function(e,t){if(!X.isUint8Array(e)||!X.isUint8Array(t))throw Error("Data must be in the form of a Uint8Array");if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},writeChecksum:function(e){let t=0;for(let r=0;r<e.length;r++)t=t+e[r]&65535;return X.writeNumber(t,2)},printDebug:function(e){j1&&console.log(e)},printDebugError:function(e){j1&&console.error(e)},nbits:function(e){let t=1,r=e>>>16;return r!==0&&(e=r,t+=16),r=e>>8,r!==0&&(e=r,t+=8),r=e>>4,r!==0&&(e=r,t+=4),r=e>>2,r!==0&&(e=r,t+=2),r=e>>1,r!==0&&(e=r,t+=1),t},double:function(e){const t=new Uint8Array(e.length),r=e.length-1;for(let n=0;n<r;n++)t[n]=e[n]<<1^e[n+1]>>7;return t[r]=e[r]<<1^135*(e[0]>>7),t},shiftRight:function(e,t){if(t)for(let r=e.length-1;r>=0;r--)e[r]>>=t,r>0&&(e[r]|=e[r-1]<<8-t);return e},getWebCrypto:function(){return kr!==void 0&&kr.crypto&&kr.crypto.subtle},detectBigInt:()=>typeof BigInt!="undefined",getBigInteger:async function(){if(X.detectBigInt())return ar;{const{default:e}=await Promise.resolve().then(function(){return W5});return e}},getNodeCrypto:function(){},getNodeZlib:function(){},getNodeBuffer:function(){return{}.Buffer},getHardwareConcurrency:function(){return typeof navigator!="undefined"?navigator.hardwareConcurrency||1:(void 0).cpus().length},isEmailAddress:function(e){return X.isString(e)?/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}|xn--[a-zA-Z\-0-9]+)))$/.test(e):!1},canonicalizeEOL:function(e){let t=!1;return Ee(e,r=>{let n;t&&(r=X.concatUint8Array([new Uint8Array([13]),r])),r[r.length-1]===13?(t=!0,r=r.subarray(0,-1)):t=!1;const i=[];for(let o=0;n=r.indexOf(10,o)+1,n;o=n)r[n-2]!==13&&i.push(n);if(!i.length)return r;const s=new Uint8Array(r.length+i.length);let a=0;for(let o=0;o<i.length;o++){const u=r.subarray(i[o-1]||0,i[o]);s.set(u,a),a+=u.length,s[a-1]=13,s[a]=10,a++}return s.set(r.subarray(i[i.length-1]||0),a),s},()=>t?new Uint8Array([13]):void 0)},nativeEOL:function(e){let t=!1;return Ee(e,r=>{let n;(r=t&&r[0]!==10?X.concatUint8Array([new Uint8Array([13]),r]):new Uint8Array(r))[r.length-1]===13?(t=!0,r=r.subarray(0,-1)):t=!1;let i=0;for(let s=0;s!==r.length;s=n){n=r.indexOf(13,s)+1,n||(n=r.length);const a=n-(r[n]===10?1:0);s&&r.copyWithin(i,s,a),i+=a-s}return r.subarray(0,i)},()=>t?new Uint8Array([13]):void 0)},removeTrailingSpaces:function(e){return e.split(`
`).map(t=>{let r=t.length-1;for(;r>=0&&(t[r]===" "||t[r]==="	");r--);return t.substr(0,r+1)}).join(`
`)},wrapError:function(e,t){if(!t)return Error(e);try{t.message=e+": "+t.message}catch{}return t},constructAllowedPackets:function(e){const t={};return e.forEach(r=>{if(!r.tag)throw Error("Invalid input: expected a packet class");t[r.tag]=r}),t},anyPromise:function(e){return new Promise(async(t,r)=>{let n;await Promise.all(e.map(async i=>{try{t(await i)}catch(s){n=s}})),r(n)})},selectUint8Array:function(e,t,r){const n=Math.max(t.length,r.length),i=new Uint8Array(n);let s=0;for(let a=0;a<i.length;a++)i[a]=t[a]&256-e|r[a]&255+e,s+=e&a<t.length|1-e&a<r.length;return i.subarray(0,s)},selectUint8:function(e,t,r){return t&256-e|r&255+e}},lc=X.getNodeBuffer();let Lo,jo;function Nn(e){let t=new Uint8Array;return Ee(e,r=>{t=X.concatUint8Array([t,r]);const n=[],i=Math.floor(t.length/45),s=45*i,a=Lo(t.subarray(0,s));for(let o=0;o<i;o++)n.push(a.substr(60*o,60)),n.push(`
`);return t=t.subarray(s),n.join("")},()=>t.length?Lo(t)+`
`:"")}function _h(e){let t="";return Ee(e,r=>{t+=r;let n=0;const i=[" ","	","\r",`
`];for(let o=0;o<i.length;o++){const u=i[o];for(let c=t.indexOf(u);c!==-1;c=t.indexOf(u,c+1))n++}let s=t.length;for(;s>0&&(s-n)%4!=0;s--)i.includes(t[s])&&n--;const a=jo(t.substr(0,s));return t=t.substr(s),a},()=>jo(t))}function zn(e){return _h(e.replace(/-/g,"+").replace(/_/g,"/"))}function Ar(e,t){let r=Nn(e).replace(/[\r\n]/g,"");return t&&(r=r.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")),r}lc?(Lo=e=>lc.from(e).toString("base64"),jo=e=>{const t=lc.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}):(Lo=e=>btoa(X.uint8ArrayToString(e)),jo=e=>X.stringToUint8Array(atob(e)));const Ys=Symbol("byValue");var J={curve:{p256:"p256","P-256":"p256",secp256r1:"p256",prime256v1:"p256","1.2.840.10045.3.1.7":"p256","2a8648ce3d030107":"p256","2A8648CE3D030107":"p256",p384:"p384","P-384":"p384",secp384r1:"p384","1.3.132.0.34":"p384","2b81040022":"p384","2B81040022":"p384",p521:"p521","P-521":"p521",secp521r1:"p521","1.3.132.0.35":"p521","2b81040023":"p521","2B81040023":"p521",secp256k1:"secp256k1","1.3.132.0.10":"secp256k1","2b8104000a":"secp256k1","2B8104000A":"secp256k1",ED25519:"ed25519",ed25519:"ed25519",Ed25519:"ed25519","1.3.6.1.4.1.11591.15.1":"ed25519","2b06010401da470f01":"ed25519","2B06010401DA470F01":"ed25519",X25519:"curve25519",cv25519:"curve25519",curve25519:"curve25519",Curve25519:"curve25519","1.3.6.1.4.1.3029.1.5.1":"curve25519","2b060104019755010501":"curve25519","2B060104019755010501":"curve25519",brainpoolP256r1:"brainpoolP256r1","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1","2b2403030208010107":"brainpoolP256r1","2B2403030208010107":"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1","2b240303020801010b":"brainpoolP384r1","2B240303020801010B":"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1","2b240303020801010d":"brainpoolP512r1","2B240303020801010D":"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsa:22,aedh:23,aedsa:24},symmetric:{plaintext:0,idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20},literal:{binary:98,text:116,utf8:117,mime:109},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuer:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4},write:function(e,t){if(typeof t=="number"&&(t=this.read(e,t)),e[t]!==void 0)return e[t];throw Error("Invalid enum value.")},read:function(e,t){if(e[Ys]||(e[Ys]=[],Object.entries(e).forEach(([r,n])=>{e[Ys][n]=r})),e[Ys][t]!==void 0)return e[Ys][t];throw Error("Invalid enum value.")}},Ht={preferredHashAlgorithm:J.hash.sha256,preferredSymmetricAlgorithm:J.symmetric.aes256,preferredCompressionAlgorithm:J.compression.uncompressed,deflateLevel:6,aeadProtect:!1,preferredAEADAlgorithm:J.aead.eax,aeadChunkSizeByte:12,v5Keys:!1,s2kIterationCountByte:224,allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,checksumRequired:!1,minRSABits:2047,passwordCollisionCheck:!1,revocationsExpire:!1,allowInsecureDecryptionWithSigningKeys:!1,allowInsecureVerificationWithReformattedKeys:!1,constantTimePKCS1Decryption:!1,constantTimePKCS1DecryptionSupportedSymmetricAlgorithms:new Set([J.symmetric.aes128,J.symmetric.aes192,J.symmetric.aes256]),minBytesForWebCrypto:1e3,ignoreUnsupportedPackets:!0,ignoreMalformedPackets:!1,showVersion:!1,showComment:!1,versionString:"OpenPGP.js 5.3.0",commentString:"https://openpgpjs.org",maxUserIDLength:5120,knownNotations:["preferred-email-encoding@pgp.com","pka-address@gnupg.org"],useIndutnyElliptic:!0,rejectHashAlgorithms:new Set([J.hash.md5,J.hash.ripemd]),rejectMessageHashAlgorithms:new Set([J.hash.md5,J.hash.ripemd,J.hash.sha1]),rejectPublicKeyAlgorithms:new Set([J.publicKey.elgamal,J.publicKey.dsa]),rejectCurves:new Set([J.curve.brainpoolP256r1,J.curve.brainpoolP384r1,J.curve.brainpoolP512r1,J.curve.secp256k1])};function up(e){const t=e.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!t)throw Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(t[1])?J.armor.multipartSection:/MESSAGE, PART \d+/.test(t[1])?J.armor.multipartLast:/SIGNED MESSAGE/.test(t[1])?J.armor.signed:/MESSAGE/.test(t[1])?J.armor.message:/PUBLIC KEY BLOCK/.test(t[1])?J.armor.publicKey:/PRIVATE KEY BLOCK/.test(t[1])?J.armor.privateKey:/SIGNATURE/.test(t[1])?J.armor.signature:void 0}function Oi(e,t){let r="";return t.showVersion&&(r+="Version: "+t.versionString+`
`),t.showComment&&(r+="Comment: "+t.commentString+`
`),e&&(r+="Comment: "+e+`
`),r+=`
`,r}function oi(e){return Nn(function(t){let r=13501623;return Ee(t,n=>{const i=lp?Math.floor(n.length/4):0,s=new Uint32Array(n.buffer,n.byteOffset,i);for(let a=0;a<i;a++)r^=s[a],r=je[0][r>>24&255]^je[1][r>>16&255]^je[2][r>>8&255]^je[3][r>>0&255];for(let a=4*i;a<n.length;a++)r=r>>8^je[0][255&r^n[a]]},()=>new Uint8Array([r,r>>8,r>>16]))}(e))}const je=[Array(255),Array(255),Array(255),Array(255)];for(let e=0;e<=255;e++){let t=e<<16;for(let r=0;r<8;r++)t=t<<1^((8388608&t)!=0?8801531:0);je[0][e]=(16711680&t)>>16|65280&t|(255&t)<<16}for(let e=0;e<=255;e++)je[1][e]=je[0][e]>>8^je[0][255&je[0][e]];for(let e=0;e<=255;e++)je[2][e]=je[1][e]>>8^je[0][255&je[1][e]];for(let e=0;e<=255;e++)je[3][e]=je[2][e]>>8^je[0][255&je[2][e]];const lp=function(){const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,255,!0),new Int16Array(e)[0]===255}();function q1(e){for(let t=0;t<e.length;t++){if(!/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(e[t]))throw Error("Improperly formatted armor header: "+e[t]);/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(e[t])||X.printDebugError(Error("Unknown header: "+e[t]))}}function fp(e){let t=e,r="";const n=e.lastIndexOf("=");return n>=0&&n!==e.length-1&&(t=e.slice(0,n),r=e.slice(n+1).substr(0,4)),{body:t,checksum:r}}function xh(e,t=Ht){return new Promise(async(r,n)=>{try{const i=/^-----[^-]+-----$/m,s=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/;let a;const o=[];let u,c,l,h=o,d=[],p=_h(Vn(e,async(g,v)=>{const _=Rn(g);try{for(;;){let P=await _.readLine();if(P===void 0)throw Error("Misformed armored text");if(P=X.removeTrailingSpaces(P.replace(/[\r\n]/g,"")),a)if(u)c||a!==2||(i.test(P)?(d=d.join(`\r
`),c=!0,q1(h),h=[],u=!1):d.push(P.replace(/^- /,"")));else if(i.test(P)&&n(Error("Mandatory blank line missing between armor headers and armor data")),s.test(P)){if(q1(h),u=!0,c||a!==2){r({text:d,data:p,headers:o,type:a});break}}else h.push(P);else i.test(P)&&(a=up(P))}}catch(P){return void n(P)}const k=wr(v);try{for(;;){await k.ready;const{done:P,value:A}=await _.read();if(P)throw Error("Misformed armored text");const E=A+"";if(E.indexOf("=")!==-1||E.indexOf("-")!==-1){let z=await _.readToEnd();z.length||(z=""),z=E+z,z=X.removeTrailingSpaces(z.replace(/\r/g,""));const w=z.split(i);if(w.length===1)throw Error("Misformed armored text");const M=fp(w[0].slice(0,-1));l=M.checksum,await k.write(M.body);break}await k.write(E)}await k.ready,await k.close()}catch(P){await k.abort(P)}}));p=Vn(p,async(g,v)=>{const _=Ie(oi(Ss(g)));_.catch(()=>{}),await ki(g,v,{preventClose:!0});const k=wr(v);try{const P=(await _).replace(`
`,"");if(l!==P&&(l||t.checksumRequired))throw Error("Ascii armor integrity check failed");await k.ready,await k.close()}catch(P){await k.abort(P)}})}catch(i){n(i)}}).then(async r=>(Re(r.data)&&(r.data=await Ie(r.data)),r))}function Ah(e,t,r,n,i,s=Ht){let a,o;e===J.armor.signed&&(a=t.text,o=t.hash,t=t.data);const u=Ss(t),c=[];switch(e){case J.armor.multipartSection:c.push("-----BEGIN PGP MESSAGE, PART "+r+"/"+n+`-----
`),c.push(Oi(i,s)),c.push(Nn(t)),c.push("=",oi(u)),c.push("-----END PGP MESSAGE, PART "+r+"/"+n+`-----
`);break;case J.armor.multipartLast:c.push("-----BEGIN PGP MESSAGE, PART "+r+`-----
`),c.push(Oi(i,s)),c.push(Nn(t)),c.push("=",oi(u)),c.push("-----END PGP MESSAGE, PART "+r+`-----
`);break;case J.armor.signed:c.push(`
-----BEGIN PGP SIGNED MESSAGE-----
`),c.push("Hash: "+o+`

`),c.push(a.replace(/^-/gm,"- -")),c.push(`
-----BEGIN PGP SIGNATURE-----
`),c.push(Oi(i,s)),c.push(Nn(t)),c.push("=",oi(u)),c.push(`-----END PGP SIGNATURE-----
`);break;case J.armor.message:c.push(`-----BEGIN PGP MESSAGE-----
`),c.push(Oi(i,s)),c.push(Nn(t)),c.push("=",oi(u)),c.push(`-----END PGP MESSAGE-----
`);break;case J.armor.publicKey:c.push(`-----BEGIN PGP PUBLIC KEY BLOCK-----
`),c.push(Oi(i,s)),c.push(Nn(t)),c.push("=",oi(u)),c.push(`-----END PGP PUBLIC KEY BLOCK-----
`);break;case J.armor.privateKey:c.push(`-----BEGIN PGP PRIVATE KEY BLOCK-----
`),c.push(Oi(i,s)),c.push(Nn(t)),c.push("=",oi(u)),c.push(`-----END PGP PRIVATE KEY BLOCK-----
`);break;case J.armor.signature:c.push(`-----BEGIN PGP SIGNATURE-----
`),c.push(Oi(i,s)),c.push(Nn(t)),c.push("=",oi(u)),c.push(`-----END PGP SIGNATURE-----
`)}return X.concat(c)}class Ei{constructor(){this.bytes=""}read(t){this.bytes=X.uint8ArrayToString(t.subarray(0,8))}write(){return X.stringToUint8Array(this.bytes)}toHex(){return X.uint8ArrayToHex(X.stringToUint8Array(this.bytes))}equals(t,r=!1){return r&&(t.isWildcard()||this.isWildcard())||this.bytes===t.bytes}isNull(){return this.bytes===""}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(t){return t.toHex()}static fromID(t){const r=new Ei;return r.read(X.hexToUint8Array(t)),r}static wildcard(){const t=new Ei;return t.read(new Uint8Array(8)),t}}var ie=function(){var e,t,r=!1;function n(h,d){var p=e[(t[h]+t[d])%255];return h!==0&&d!==0||(p=0),p}var i,s,a,o,u=!1;function c(){function h(v){var _,k,P;for(k=P=function(A){var E=e[255-t[A]];return A===0&&(E=0),E}(v),_=0;_<4;_++)P^=k=255&(k<<1|k>>>7);return P^=99}r||function(){e=[],t=[];var v,_,k=1;for(v=0;v<255;v++)e[v]=k,_=128&k,k<<=1,k&=255,_===128&&(k^=27),k^=e[v],t[e[v]]=v;e[255]=e[0],t[0]=0,r=!0}(),i=[],s=[],a=[[],[],[],[]],o=[[],[],[],[]];for(var d=0;d<256;d++){var p=h(d);i[d]=p,s[p]=d,a[0][d]=n(2,p)<<24|p<<16|p<<8|n(3,p),o[0][p]=n(14,d)<<24|n(9,d)<<16|n(13,d)<<8|n(11,d);for(var g=1;g<4;g++)a[g][d]=a[g-1][d]>>>8|a[g-1][d]<<24,o[g][p]=o[g-1][p]>>>8|o[g-1][p]<<24}u=!0}var l=function(h,d){u||c();var p=new Uint32Array(d);p.set(i,512),p.set(s,768);for(var g=0;g<4;g++)p.set(a[g],4096+1024*g>>2),p.set(o[g],8192+1024*g>>2);var v=function(_,k,P){var A=0,E=0,z=0,w=0,M=0,f=0,b=0,y=0,m=0,x=0,I=0,O=0,q=0,Z=0,S=0,U=0,V=0,Q=0,G=0,it=0,st=0,rt=new _.Uint32Array(P),F=new _.Uint8Array(P);function H(W,$,wt,gt,Nt,ne,Ft,zt){W=W|0,$=$|0,wt=wt|0,gt=gt|0,Nt=Nt|0,ne=ne|0,Ft=Ft|0,zt=zt|0;var me=0,Gt=0,Qt=0,Se=0,Ot=0,Kt=0,ae=0,Ut=0;for(me=wt|1024,Gt=wt|2048,Qt=wt|3072,Nt=Nt^rt[(W|0)>>2],ne=ne^rt[(W|4)>>2],Ft=Ft^rt[(W|8)>>2],zt=zt^rt[(W|12)>>2],Ut=16;(Ut|0)<=gt<<4;Ut=Ut+16|0)Se=rt[(wt|Nt>>22&1020)>>2]^rt[(me|ne>>14&1020)>>2]^rt[(Gt|Ft>>6&1020)>>2]^rt[(Qt|zt<<2&1020)>>2]^rt[(W|Ut|0)>>2],Ot=rt[(wt|ne>>22&1020)>>2]^rt[(me|Ft>>14&1020)>>2]^rt[(Gt|zt>>6&1020)>>2]^rt[(Qt|Nt<<2&1020)>>2]^rt[(W|Ut|4)>>2],Kt=rt[(wt|Ft>>22&1020)>>2]^rt[(me|zt>>14&1020)>>2]^rt[(Gt|Nt>>6&1020)>>2]^rt[(Qt|ne<<2&1020)>>2]^rt[(W|Ut|8)>>2],ae=rt[(wt|zt>>22&1020)>>2]^rt[(me|Nt>>14&1020)>>2]^rt[(Gt|ne>>6&1020)>>2]^rt[(Qt|Ft<<2&1020)>>2]^rt[(W|Ut|12)>>2],Nt=Se,ne=Ot,Ft=Kt,zt=ae;A=rt[($|Nt>>22&1020)>>2]<<24^rt[($|ne>>14&1020)>>2]<<16^rt[($|Ft>>6&1020)>>2]<<8^rt[($|zt<<2&1020)>>2]^rt[(W|Ut|0)>>2],E=rt[($|ne>>22&1020)>>2]<<24^rt[($|Ft>>14&1020)>>2]<<16^rt[($|zt>>6&1020)>>2]<<8^rt[($|Nt<<2&1020)>>2]^rt[(W|Ut|4)>>2],z=rt[($|Ft>>22&1020)>>2]<<24^rt[($|zt>>14&1020)>>2]<<16^rt[($|Nt>>6&1020)>>2]<<8^rt[($|ne<<2&1020)>>2]^rt[(W|Ut|8)>>2],w=rt[($|zt>>22&1020)>>2]<<24^rt[($|Nt>>14&1020)>>2]<<16^rt[($|ne>>6&1020)>>2]<<8^rt[($|Ft<<2&1020)>>2]^rt[(W|Ut|12)>>2]}function K(W,$,wt,gt){W=W|0,$=$|0,wt=wt|0,gt=gt|0,H(0,2048,4096,st,W,$,wt,gt)}function C(W,$,wt,gt){W=W|0,$=$|0,wt=wt|0,gt=gt|0;var Nt=0;H(1024,3072,8192,st,W,gt,wt,$),Nt=E,E=w,w=Nt}function Y(W,$,wt,gt){W=W|0,$=$|0,wt=wt|0,gt=gt|0,H(0,2048,4096,st,M^W,f^$,b^wt,y^gt),M=A,f=E,b=z,y=w}function T(W,$,wt,gt){W=W|0,$=$|0,wt=wt|0,gt=gt|0;var Nt=0;H(1024,3072,8192,st,W,gt,wt,$),Nt=E,E=w,w=Nt,A=A^M,E=E^f,z=z^b,w=w^y,M=W,f=$,b=wt,y=gt}function N(W,$,wt,gt){W=W|0,$=$|0,wt=wt|0,gt=gt|0,H(0,2048,4096,st,M,f,b,y),M=A=A^W,f=E=E^$,b=z=z^wt,y=w=w^gt}function L(W,$,wt,gt){W=W|0,$=$|0,wt=wt|0,gt=gt|0,H(0,2048,4096,st,M,f,b,y),A=A^W,E=E^$,z=z^wt,w=w^gt,M=W,f=$,b=wt,y=gt}function B(W,$,wt,gt){W=W|0,$=$|0,wt=wt|0,gt=gt|0,H(0,2048,4096,st,M,f,b,y),M=A,f=E,b=z,y=w,A=A^W,E=E^$,z=z^wt,w=w^gt}function R(W,$,wt,gt){W=W|0,$=$|0,wt=wt|0,gt=gt|0,H(0,2048,4096,st,m,x,I,O),O=~U&O|U&O+1,I=~S&I|S&I+((O|0)==0),x=~Z&x|Z&x+((I|0)==0),m=~q&m|q&m+((x|0)==0),A=A^W,E=E^$,z=z^wt,w=w^gt}function D(W,$,wt,gt){W=W|0,$=$|0,wt=wt|0,gt=gt|0;var Nt=0,ne=0,Ft=0,zt=0,me=0,Gt=0,Qt=0,Se=0,Ot=0,Kt=0;for(W=W^M,$=$^f,wt=wt^b,gt=gt^y,Nt=V|0,ne=Q|0,Ft=G|0,zt=it|0;(Ot|0)<128;Ot=Ot+1|0)Nt>>>31&&(me=me^W,Gt=Gt^$,Qt=Qt^wt,Se=Se^gt),Nt=Nt<<1|ne>>>31,ne=ne<<1|Ft>>>31,Ft=Ft<<1|zt>>>31,zt=zt<<1,Kt=gt&1,gt=gt>>>1|wt<<31,wt=wt>>>1|$<<31,$=$>>>1|W<<31,W=W>>>1,Kt&&(W=W^3774873600);M=me,f=Gt,b=Qt,y=Se}function j(W){W=W|0,st=W}function et(W,$,wt,gt){W=W|0,$=$|0,wt=wt|0,gt=gt|0,A=W,E=$,z=wt,w=gt}function tt(W,$,wt,gt){W=W|0,$=$|0,wt=wt|0,gt=gt|0,M=W,f=$,b=wt,y=gt}function ot(W,$,wt,gt){W=W|0,$=$|0,wt=wt|0,gt=gt|0,m=W,x=$,I=wt,O=gt}function pt(W,$,wt,gt){W=W|0,$=$|0,wt=wt|0,gt=gt|0,q=W,Z=$,S=wt,U=gt}function yt(W,$,wt,gt){W=W|0,$=$|0,wt=wt|0,gt=gt|0,O=~U&O|U&gt,I=~S&I|S&wt,x=~Z&x|Z&$,m=~q&m|q&W}function vt(W){return W=W|0,W&15?-1:(F[W|0]=A>>>24,F[W|1]=A>>>16&255,F[W|2]=A>>>8&255,F[W|3]=A&255,F[W|4]=E>>>24,F[W|5]=E>>>16&255,F[W|6]=E>>>8&255,F[W|7]=E&255,F[W|8]=z>>>24,F[W|9]=z>>>16&255,F[W|10]=z>>>8&255,F[W|11]=z&255,F[W|12]=w>>>24,F[W|13]=w>>>16&255,F[W|14]=w>>>8&255,F[W|15]=w&255,16)}function nt(W){return W=W|0,W&15?-1:(F[W|0]=M>>>24,F[W|1]=M>>>16&255,F[W|2]=M>>>8&255,F[W|3]=M&255,F[W|4]=f>>>24,F[W|5]=f>>>16&255,F[W|6]=f>>>8&255,F[W|7]=f&255,F[W|8]=b>>>24,F[W|9]=b>>>16&255,F[W|10]=b>>>8&255,F[W|11]=b&255,F[W|12]=y>>>24,F[W|13]=y>>>16&255,F[W|14]=y>>>8&255,F[W|15]=y&255,16)}function at(){K(0,0,0,0),V=A,Q=E,G=z,it=w}function lt(W,$,wt){W=W|0,$=$|0,wt=wt|0;var gt=0;if($&15)return-1;for(;(wt|0)>=16;)ut[W&7](F[$|0]<<24|F[$|1]<<16|F[$|2]<<8|F[$|3],F[$|4]<<24|F[$|5]<<16|F[$|6]<<8|F[$|7],F[$|8]<<24|F[$|9]<<16|F[$|10]<<8|F[$|11],F[$|12]<<24|F[$|13]<<16|F[$|14]<<8|F[$|15]),F[$|0]=A>>>24,F[$|1]=A>>>16&255,F[$|2]=A>>>8&255,F[$|3]=A&255,F[$|4]=E>>>24,F[$|5]=E>>>16&255,F[$|6]=E>>>8&255,F[$|7]=E&255,F[$|8]=z>>>24,F[$|9]=z>>>16&255,F[$|10]=z>>>8&255,F[$|11]=z&255,F[$|12]=w>>>24,F[$|13]=w>>>16&255,F[$|14]=w>>>8&255,F[$|15]=w&255,gt=gt+16|0,$=$+16|0,wt=wt-16|0;return gt|0}function ct(W,$,wt){W=W|0,$=$|0,wt=wt|0;var gt=0;if($&15)return-1;for(;(wt|0)>=16;)ft[W&1](F[$|0]<<24|F[$|1]<<16|F[$|2]<<8|F[$|3],F[$|4]<<24|F[$|5]<<16|F[$|6]<<8|F[$|7],F[$|8]<<24|F[$|9]<<16|F[$|10]<<8|F[$|11],F[$|12]<<24|F[$|13]<<16|F[$|14]<<8|F[$|15]),gt=gt+16|0,$=$+16|0,wt=wt-16|0;return gt|0}var ut=[K,C,Y,T,N,L,B,R],ft=[Y,D];return{set_rounds:j,set_state:et,set_iv:tt,set_nonce:ot,set_mask:pt,set_counter:yt,get_state:vt,get_iv:nt,gcm_init:at,cipher:lt,mac:ct}}({Uint8Array,Uint32Array},h,d);return v.set_key=function(_,k,P,A,E,z,w,M,f){var b=p.subarray(0,60),y=p.subarray(256,316);b.set([k,P,A,E,z,w,M,f]);for(var m=_,x=1;m<4*_+28;m++){var I=b[m-1];(m%_==0||_===8&&m%_==4)&&(I=i[I>>>24]<<24^i[I>>>16&255]<<16^i[I>>>8&255]<<8^i[255&I]),m%_==0&&(I=I<<8^I>>>24^x<<24,x=x<<1^(128&x?27:0)),b[m]=b[m-_]^I}for(var O=0;O<m;O+=4)for(var q=0;q<4;q++)I=b[m-(4+O)+(4-q)%4],y[O+q]=O<4||O>=m-4?I:o[0][i[I>>>24]]^o[1][i[I>>>16&255]]^o[2][i[I>>>8&255]]^o[3][i[255&I]];v.set_rounds(_+5)},v};return l.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},l.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},l.MAC={CBC:0,GCM:1},l.HEAP_DATA=16384,l}();function $1(e){return e instanceof Uint8Array}function Uu(e,t){const r=e?e.byteLength:t||65536;if(4095&r||r<=0)throw Error("heap size must be a positive integer and a multiple of 4096");return e=e||new Uint8Array(new ArrayBuffer(r))}function Hi(e,t,r,n,i){const s=e.length-t,a=s<i?s:i;return e.set(r.subarray(n,n+a),t),a}function Pi(...e){const t=e.reduce((i,s)=>i+s.length,0),r=new Uint8Array(t);let n=0;for(let i=0;i<e.length;i++)r.set(e[i],n),n+=e[i].length;return r}class Yc extends Error{constructor(...t){super(...t)}}class Ln extends Error{constructor(...t){super(...t)}}class Xc extends Error{constructor(...t){super(...t)}}const H1=[],W1=[];class Ga{constructor(t,r,n=!0,i,s,a){this.pos=0,this.len=0,this.mode=i,this.pos=0,this.len=0,this.key=t,this.iv=r,this.padding=n,this.acquire_asm(s,a)}acquire_asm(t,r){return this.heap!==void 0&&this.asm!==void 0||(this.heap=t||H1.pop()||Uu().subarray(ie.HEAP_DATA),this.asm=r||W1.pop()||new ie(null,this.heap.buffer),this.reset(this.key,this.iv)),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(H1.push(this.heap),W1.push(this.asm)),this.heap=void 0,this.asm=void 0}reset(t,r){const{asm:n}=this.acquire_asm(),i=t.length;if(i!==16&&i!==24&&i!==32)throw new Ln("illegal key size");const s=new DataView(t.buffer,t.byteOffset,t.byteLength);if(n.set_key(i>>2,s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12),i>16?s.getUint32(16):0,i>16?s.getUint32(20):0,i>24?s.getUint32(24):0,i>24?s.getUint32(28):0),r!==void 0){if(r.length!==16)throw new Ln("illegal iv size");let a=new DataView(r.buffer,r.byteOffset,r.byteLength);n.set_iv(a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12))}else n.set_iv(0,0,0,0)}AES_Encrypt_process(t){if(!$1(t))throw new TypeError("data isn't of expected type");let{heap:r,asm:n}=this.acquire_asm(),i=ie.ENC[this.mode],s=ie.HEAP_DATA,a=this.pos,o=this.len,u=0,c=t.length||0,l=0,h=0,d=new Uint8Array(o+c&-16);for(;c>0;)h=Hi(r,a+o,t,u,c),o+=h,u+=h,c-=h,h=n.cipher(i,s+a,o),h&&d.set(r.subarray(a,a+h),l),l+=h,h<o?(a+=h,o-=h):(a=0,o=0);return this.pos=a,this.len=o,d}AES_Encrypt_finish(){let{heap:t,asm:r}=this.acquire_asm(),n=ie.ENC[this.mode],i=ie.HEAP_DATA,s=this.pos,a=this.len,o=16-a%16,u=a;if(this.hasOwnProperty("padding")){if(this.padding){for(let l=0;l<o;++l)t[s+a+l]=o;a+=o,u=a}else if(a%16)throw new Ln("data length must be a multiple of the block size")}else a+=o;const c=new Uint8Array(u);return a&&r.cipher(n,i+s,a),u&&c.set(t.subarray(s,s+u)),this.pos=0,this.len=0,this.release_asm(),c}AES_Decrypt_process(t){if(!$1(t))throw new TypeError("data isn't of expected type");let{heap:r,asm:n}=this.acquire_asm(),i=ie.DEC[this.mode],s=ie.HEAP_DATA,a=this.pos,o=this.len,u=0,c=t.length||0,l=0,h=o+c&-16,d=0,p=0;this.padding&&(d=o+c-h||16,h-=d);const g=new Uint8Array(h);for(;c>0;)p=Hi(r,a+o,t,u,c),o+=p,u+=p,c-=p,p=n.cipher(i,s+a,o-(c?0:d)),p&&g.set(r.subarray(a,a+p),l),l+=p,p<o?(a+=p,o-=p):(a=0,o=0);return this.pos=a,this.len=o,g}AES_Decrypt_finish(){let{heap:t,asm:r}=this.acquire_asm(),n=ie.DEC[this.mode],i=ie.HEAP_DATA,s=this.pos,a=this.len,o=a;if(a>0){if(a%16){if(this.hasOwnProperty("padding"))throw new Ln("data length must be a multiple of the block size");a+=16-a%16}if(r.cipher(n,i+s,a),this.hasOwnProperty("padding")&&this.padding){let c=t[s+o-1];if(c<1||c>16||c>o)throw new Xc("bad padding");let l=0;for(let h=c;h>1;h--)l|=c^t[s+o-h];if(l)throw new Xc("bad padding");o-=c}}const u=new Uint8Array(o);return o>0&&u.set(t.subarray(s,s+o)),this.pos=0,this.len=0,this.release_asm(),u}}class qo{static encrypt(t,r,n=!1){return new qo(r,n).encrypt(t)}static decrypt(t,r,n=!1){return new qo(r,n).decrypt(t)}constructor(t,r=!1,n){this.aes=n||new Ga(t,void 0,r,"ECB")}encrypt(t){return Pi(this.aes.AES_Encrypt_process(t),this.aes.AES_Encrypt_finish())}decrypt(t){return Pi(this.aes.AES_Decrypt_process(t),this.aes.AES_Decrypt_finish())}}function Nu(e){const t=function(r){const n=new qo(r);this.encrypt=function(i){return n.encrypt(i)},this.decrypt=function(i){return n.decrypt(i)}};return t.blockSize=t.prototype.blockSize=16,t.keySize=t.prototype.keySize=e/8,t}function va(e,t,r,n,i,s){const a=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],u=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],l=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],h=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],d=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],p=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];let g,v,_,k,P,A,E,z,w,M,f,b,y,m,x=0,I=t.length;const O=e.length===32?3:9;z=O===3?r?[0,32,2]:[30,-2,-2]:r?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],r&&(I=(t=function(S,U){const V=8-S.length%8;let Q;if(U===2&&V<8)Q=32;else if(U===1)Q=V;else{if(U||!(V<8)){if(V===8)return S;throw Error("des: invalid padding")}Q=0}const G=new Uint8Array(S.length+V);for(let it=0;it<S.length;it++)G[it]=S[it];for(let it=0;it<V;it++)G[S.length+it]=Q;return G}(t,s)).length);let q=new Uint8Array(I),Z=0;for(n===1&&(w=i[x++]<<24|i[x++]<<16|i[x++]<<8|i[x++],f=i[x++]<<24|i[x++]<<16|i[x++]<<8|i[x++],x=0);x<I;){for(A=t[x++]<<24|t[x++]<<16|t[x++]<<8|t[x++],E=t[x++]<<24|t[x++]<<16|t[x++]<<8|t[x++],n===1&&(r?(A^=w,E^=f):(M=w,b=f,w=A,f=E)),_=252645135&(A>>>4^E),E^=_,A^=_<<4,_=65535&(A>>>16^E),E^=_,A^=_<<16,_=858993459&(E>>>2^A),A^=_,E^=_<<2,_=16711935&(E>>>8^A),A^=_,E^=_<<8,_=1431655765&(A>>>1^E),E^=_,A^=_<<1,A=A<<1|A>>>31,E=E<<1|E>>>31,v=0;v<O;v+=3){for(y=z[v+1],m=z[v+2],g=z[v];g!==y;g+=m)k=E^e[g],P=(E>>>4|E<<28)^e[g+1],_=A,A=E,E=_^(o[k>>>24&63]|c[k>>>16&63]|h[k>>>8&63]|p[63&k]|a[P>>>24&63]|u[P>>>16&63]|l[P>>>8&63]|d[63&P]);_=A,A=E,E=_}A=A>>>1|A<<31,E=E>>>1|E<<31,_=1431655765&(A>>>1^E),E^=_,A^=_<<1,_=16711935&(E>>>8^A),A^=_,E^=_<<8,_=858993459&(E>>>2^A),A^=_,E^=_<<2,_=65535&(A>>>16^E),E^=_,A^=_<<16,_=252645135&(A>>>4^E),E^=_,A^=_<<4,n===1&&(r?(w=A,f=E):(A^=M,E^=b)),q[Z++]=A>>>24,q[Z++]=A>>>16&255,q[Z++]=A>>>8&255,q[Z++]=255&A,q[Z++]=E>>>24,q[Z++]=E>>>16&255,q[Z++]=E>>>8&255,q[Z++]=255&E}return r||(q=function(S,U){let V,Q=null;if(U===2)V=32;else if(U===1)Q=S[S.length-1];else{if(U)throw Error("des: invalid padding");V=0}if(!Q){for(Q=1;S[S.length-Q]===V;)Q++;Q--}return S.subarray(0,S.length-Q)}(q,s)),q}function wa(e){const t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],l=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],d=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],v=e.length>8?3:1,_=Array(32*v),k=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0];let P,A,E,z=0,w=0;for(let M=0;M<v;M++){let f=e[z++]<<24|e[z++]<<16|e[z++]<<8|e[z++],b=e[z++]<<24|e[z++]<<16|e[z++]<<8|e[z++];E=252645135&(f>>>4^b),b^=E,f^=E<<4,E=65535&(b>>>-16^f),f^=E,b^=E<<-16,E=858993459&(f>>>2^b),b^=E,f^=E<<2,E=65535&(b>>>-16^f),f^=E,b^=E<<-16,E=1431655765&(f>>>1^b),b^=E,f^=E<<1,E=16711935&(b>>>8^f),f^=E,b^=E<<8,E=1431655765&(f>>>1^b),b^=E,f^=E<<1,E=f<<8|b>>>20&240,f=b<<24|b<<8&16711680|b>>>8&65280|b>>>24&240,b=E;for(let y=0;y<16;y++)k[y]?(f=f<<2|f>>>26,b=b<<2|b>>>26):(f=f<<1|f>>>27,b=b<<1|b>>>27),f&=-15,b&=-15,P=t[f>>>28]|r[f>>>24&15]|n[f>>>20&15]|i[f>>>16&15]|s[f>>>12&15]|a[f>>>8&15]|o[f>>>4&15],A=u[b>>>28]|c[b>>>24&15]|l[b>>>20&15]|h[b>>>16&15]|d[b>>>12&15]|p[b>>>8&15]|g[b>>>4&15],E=65535&(A>>>16^P),_[w++]=P^E,_[w++]=A^E<<16}return _}function na(e){this.key=[];for(let t=0;t<3;t++)this.key.push(new Uint8Array(e.subarray(8*t,8*t+8)));this.encrypt=function(t){return va(wa(this.key[2]),va(wa(this.key[1]),va(wa(this.key[0]),t,!0,0,null,null),!1,0,null,null),!0,0,null,null)}}function hp(){this.BlockSize=8,this.KeySize=16,this.setKey=function(a){if(this.masking=Array(16),this.rotate=Array(16),this.reset(),a.length!==this.KeySize)throw Error("CAST-128: keys must be 16 bytes");return this.keySchedule(a),!0},this.reset=function(){for(let a=0;a<16;a++)this.masking[a]=0,this.rotate[a]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(a){const o=Array(a.length);for(let u=0;u<a.length;u+=8){let c,l=a[u]<<24|a[u+1]<<16|a[u+2]<<8|a[u+3],h=a[u+4]<<24|a[u+5]<<16|a[u+6]<<8|a[u+7];c=h,h=l^r(h,this.masking[0],this.rotate[0]),l=c,c=h,h=l^n(h,this.masking[1],this.rotate[1]),l=c,c=h,h=l^i(h,this.masking[2],this.rotate[2]),l=c,c=h,h=l^r(h,this.masking[3],this.rotate[3]),l=c,c=h,h=l^n(h,this.masking[4],this.rotate[4]),l=c,c=h,h=l^i(h,this.masking[5],this.rotate[5]),l=c,c=h,h=l^r(h,this.masking[6],this.rotate[6]),l=c,c=h,h=l^n(h,this.masking[7],this.rotate[7]),l=c,c=h,h=l^i(h,this.masking[8],this.rotate[8]),l=c,c=h,h=l^r(h,this.masking[9],this.rotate[9]),l=c,c=h,h=l^n(h,this.masking[10],this.rotate[10]),l=c,c=h,h=l^i(h,this.masking[11],this.rotate[11]),l=c,c=h,h=l^r(h,this.masking[12],this.rotate[12]),l=c,c=h,h=l^n(h,this.masking[13],this.rotate[13]),l=c,c=h,h=l^i(h,this.masking[14],this.rotate[14]),l=c,c=h,h=l^r(h,this.masking[15],this.rotate[15]),l=c,o[u]=h>>>24&255,o[u+1]=h>>>16&255,o[u+2]=h>>>8&255,o[u+3]=255&h,o[u+4]=l>>>24&255,o[u+5]=l>>>16&255,o[u+6]=l>>>8&255,o[u+7]=255&l}return o},this.decrypt=function(a){const o=Array(a.length);for(let u=0;u<a.length;u+=8){let c,l=a[u]<<24|a[u+1]<<16|a[u+2]<<8|a[u+3],h=a[u+4]<<24|a[u+5]<<16|a[u+6]<<8|a[u+7];c=h,h=l^r(h,this.masking[15],this.rotate[15]),l=c,c=h,h=l^i(h,this.masking[14],this.rotate[14]),l=c,c=h,h=l^n(h,this.masking[13],this.rotate[13]),l=c,c=h,h=l^r(h,this.masking[12],this.rotate[12]),l=c,c=h,h=l^i(h,this.masking[11],this.rotate[11]),l=c,c=h,h=l^n(h,this.masking[10],this.rotate[10]),l=c,c=h,h=l^r(h,this.masking[9],this.rotate[9]),l=c,c=h,h=l^i(h,this.masking[8],this.rotate[8]),l=c,c=h,h=l^n(h,this.masking[7],this.rotate[7]),l=c,c=h,h=l^r(h,this.masking[6],this.rotate[6]),l=c,c=h,h=l^i(h,this.masking[5],this.rotate[5]),l=c,c=h,h=l^n(h,this.masking[4],this.rotate[4]),l=c,c=h,h=l^r(h,this.masking[3],this.rotate[3]),l=c,c=h,h=l^i(h,this.masking[2],this.rotate[2]),l=c,c=h,h=l^n(h,this.masking[1],this.rotate[1]),l=c,c=h,h=l^r(h,this.masking[0],this.rotate[0]),l=c,o[u]=h>>>24&255,o[u+1]=h>>>16&255,o[u+2]=h>>>8&255,o[u+3]=255&h,o[u+4]=l>>>24&255,o[u+5]=l>>16&255,o[u+6]=l>>8&255,o[u+7]=255&l}return o};const e=[,,,,];e[0]=[,,,,],e[0][0]=[4,0,13,15,12,14,8],e[0][1]=[5,2,16,18,17,19,10],e[0][2]=[6,3,23,22,21,20,9],e[0][3]=[7,1,26,25,27,24,11],e[1]=[,,,,],e[1][0]=[0,6,21,23,20,22,16],e[1][1]=[1,4,0,2,1,3,18],e[1][2]=[2,5,7,6,5,4,17],e[1][3]=[3,7,10,9,11,8,19],e[2]=[,,,,],e[2][0]=[4,0,13,15,12,14,8],e[2][1]=[5,2,16,18,17,19,10],e[2][2]=[6,3,23,22,21,20,9],e[2][3]=[7,1,26,25,27,24,11],e[3]=[,,,,],e[3][0]=[0,6,21,23,20,22,16],e[3][1]=[1,4,0,2,1,3,18],e[3][2]=[2,5,7,6,5,4,17],e[3][3]=[3,7,10,9,11,8,19];const t=[,,,,];function r(a,o,u){const c=o+a,l=c<<u|c>>>32-u;return(s[0][l>>>24]^s[1][l>>>16&255])-s[2][l>>>8&255]+s[3][255&l]}function n(a,o,u){const c=o^a,l=c<<u|c>>>32-u;return s[0][l>>>24]-s[1][l>>>16&255]+s[2][l>>>8&255]^s[3][255&l]}function i(a,o,u){const c=o-a,l=c<<u|c>>>32-u;return(s[0][l>>>24]+s[1][l>>>16&255]^s[2][l>>>8&255])-s[3][255&l]}t[0]=[,,,,],t[0][0]=[24,25,23,22,18],t[0][1]=[26,27,21,20,22],t[0][2]=[28,29,19,18,25],t[0][3]=[30,31,17,16,28],t[1]=[,,,,],t[1][0]=[3,2,12,13,8],t[1][1]=[1,0,14,15,13],t[1][2]=[7,6,8,9,3],t[1][3]=[5,4,10,11,7],t[2]=[,,,,],t[2][0]=[19,18,28,29,25],t[2][1]=[17,16,30,31,28],t[2][2]=[23,22,24,25,18],t[2][3]=[21,20,26,27,22],t[3]=[,,,,],t[3][0]=[8,9,7,6,3],t[3][1]=[10,11,5,4,7],t[3][2]=[12,13,3,2,8],t[3][3]=[14,15,1,0,13],this.keySchedule=function(a){const o=[,,,,,,,,],u=Array(32);let c;for(let p=0;p<4;p++)c=4*p,o[p]=a[c]<<24|a[c+1]<<16|a[c+2]<<8|a[c+3];const l=[6,7,4,5];let h,d=0;for(let p=0;p<2;p++)for(let g=0;g<4;g++){for(c=0;c<4;c++){const v=e[g][c];h=o[v[1]],h^=s[4][o[v[2]>>>2]>>>24-8*(3&v[2])&255],h^=s[5][o[v[3]>>>2]>>>24-8*(3&v[3])&255],h^=s[6][o[v[4]>>>2]>>>24-8*(3&v[4])&255],h^=s[7][o[v[5]>>>2]>>>24-8*(3&v[5])&255],h^=s[l[c]][o[v[6]>>>2]>>>24-8*(3&v[6])&255],o[v[0]]=h}for(c=0;c<4;c++){const v=t[g][c];h=s[4][o[v[0]>>>2]>>>24-8*(3&v[0])&255],h^=s[5][o[v[1]>>>2]>>>24-8*(3&v[1])&255],h^=s[6][o[v[2]>>>2]>>>24-8*(3&v[2])&255],h^=s[7][o[v[3]>>>2]>>>24-8*(3&v[3])&255],h^=s[4+c][o[v[4]>>>2]>>>24-8*(3&v[4])&255],u[d]=h,d++}}for(let p=0;p<16;p++)this.masking[p]=u[p],this.rotate[p]=31&u[16+p]};const s=[,,,,,,,,];s[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],s[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],s[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],s[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],s[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],s[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],s[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],s[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function ia(e){this.cast5=new hp,this.cast5.setKey(e),this.encrypt=function(t){return this.cast5.encrypt(t)}}na.keySize=na.prototype.keySize=24,na.blockSize=na.prototype.blockSize=8,ia.blockSize=ia.prototype.blockSize=8,ia.keySize=ia.prototype.keySize=16;const Br=4294967295;function nn(e,t){return(e<<t|e>>>32-t)&Br}function Dn(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function si(e,t,r){e.splice(t,4,255&r,r>>>8&255,r>>>16&255,r>>>24&255)}function te(e,t){return e>>>8*t&255}function sa(e){this.tf=function(){let t=null,r=null,n=-1,i=[],s=[[],[],[],[]];function a(l){return s[0][te(l,0)]^s[1][te(l,1)]^s[2][te(l,2)]^s[3][te(l,3)]}function o(l){return s[0][te(l,3)]^s[1][te(l,0)]^s[2][te(l,1)]^s[3][te(l,2)]}function u(l,h){let d=a(h[0]),p=o(h[1]);h[2]=nn(h[2]^d+p+i[4*l+8]&Br,31),h[3]=nn(h[3],1)^d+2*p+i[4*l+9]&Br,d=a(h[2]),p=o(h[3]),h[0]=nn(h[0]^d+p+i[4*l+10]&Br,31),h[1]=nn(h[1],1)^d+2*p+i[4*l+11]&Br}function c(l,h){let d=a(h[0]),p=o(h[1]);h[2]=nn(h[2],1)^d+p+i[4*l+10]&Br,h[3]=nn(h[3]^d+2*p+i[4*l+11]&Br,31),d=a(h[2]),p=o(h[3]),h[0]=nn(h[0],1)^d+p+i[4*l+8]&Br,h[1]=nn(h[1]^d+2*p+i[4*l+9]&Br,31)}return{name:"twofish",blocksize:16,open:function(l){let h,d,p,g,v;t=l;const _=[],k=[],P=[];let A;const E=[];let z,w,M;const f=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],b=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],y=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],m=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],x=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],I=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],O=[[],[]],q=[[],[],[],[]];function Z(G){return G^G>>2^[0,90,180,238][3&G]}function S(G){return G^G>>1^G>>2^[0,238,180,90][3&G]}function U(G,it){let st,rt,F;for(st=0;st<8;st++)rt=it>>>24,it=it<<8&Br|G>>>24,G=G<<8&Br,F=rt<<1,128&rt&&(F^=333),it^=rt^F<<16,F^=rt>>>1,1&rt&&(F^=166),it^=F<<24|F<<8;return it}function V(G,it){const st=it>>4,rt=15&it,F=f[G][st^rt],H=b[G][x[rt]^I[st]];return m[G][x[H]^I[F]]<<4|y[G][F^H]}function Q(G,it){let st=te(G,0),rt=te(G,1),F=te(G,2),H=te(G,3);switch(A){case 4:st=O[1][st]^te(it[3],0),rt=O[0][rt]^te(it[3],1),F=O[0][F]^te(it[3],2),H=O[1][H]^te(it[3],3);case 3:st=O[1][st]^te(it[2],0),rt=O[1][rt]^te(it[2],1),F=O[0][F]^te(it[2],2),H=O[0][H]^te(it[2],3);case 2:st=O[0][O[0][st]^te(it[1],0)]^te(it[0],0),rt=O[0][O[1][rt]^te(it[1],1)]^te(it[0],1),F=O[1][O[0][F]^te(it[1],2)]^te(it[0],2),H=O[1][O[1][H]^te(it[1],3)]^te(it[0],3)}return q[0][st]^q[1][rt]^q[2][F]^q[3][H]}for(t=t.slice(0,32),h=t.length;h!==16&&h!==24&&h!==32;)t[h++]=0;for(h=0;h<t.length;h+=4)P[h>>2]=Dn(t,h);for(h=0;h<256;h++)O[0][h]=V(0,h),O[1][h]=V(1,h);for(h=0;h<256;h++)z=O[1][h],w=Z(z),M=S(z),q[0][h]=z+(w<<8)+(M<<16)+(M<<24),q[2][h]=w+(M<<8)+(z<<16)+(M<<24),z=O[0][h],w=Z(z),M=S(z),q[1][h]=M+(M<<8)+(w<<16)+(z<<24),q[3][h]=w+(z<<8)+(M<<16)+(w<<24);for(A=P.length/2,h=0;h<A;h++)d=P[h+h],_[h]=d,p=P[h+h+1],k[h]=p,E[A-h-1]=U(d,p);for(h=0;h<40;h+=2)d=16843009*h,p=d+16843009,d=Q(d,_),p=nn(Q(p,k),8),i[h]=d+p&Br,i[h+1]=nn(d+2*p,9);for(h=0;h<256;h++)switch(d=p=g=v=h,A){case 4:d=O[1][d]^te(E[3],0),p=O[0][p]^te(E[3],1),g=O[0][g]^te(E[3],2),v=O[1][v]^te(E[3],3);case 3:d=O[1][d]^te(E[2],0),p=O[1][p]^te(E[2],1),g=O[0][g]^te(E[2],2),v=O[0][v]^te(E[2],3);case 2:s[0][h]=q[0][O[0][O[0][d]^te(E[1],0)]^te(E[0],0)],s[1][h]=q[1][O[0][O[1][p]^te(E[1],1)]^te(E[0],1)],s[2][h]=q[2][O[1][O[0][g]^te(E[1],2)]^te(E[0],2)],s[3][h]=q[3][O[1][O[1][v]^te(E[1],3)]^te(E[0],3)]}},close:function(){i=[],s=[[],[],[],[]]},encrypt:function(l,h){r=l,n=h;const d=[Dn(r,n)^i[0],Dn(r,n+4)^i[1],Dn(r,n+8)^i[2],Dn(r,n+12)^i[3]];for(let p=0;p<8;p++)u(p,d);return si(r,n,d[2]^i[4]),si(r,n+4,d[3]^i[5]),si(r,n+8,d[0]^i[6]),si(r,n+12,d[1]^i[7]),n+=16,r},decrypt:function(l,h){r=l,n=h;const d=[Dn(r,n)^i[4],Dn(r,n+4)^i[5],Dn(r,n+8)^i[6],Dn(r,n+12)^i[7]];for(let p=7;p>=0;p--)c(p,d);si(r,n,d[2]^i[0]),si(r,n+4,d[3]^i[1]),si(r,n+8,d[0]^i[2]),si(r,n+12,d[1]^i[3]),n+=16},finalize:function(){return r}}}(),this.tf.open(Array.from(e),0),this.encrypt=function(t){return this.tf.encrypt(Array.from(t),0)}}function Lr(){}function aa(e){this.bf=new Lr,this.bf.init(e),this.encrypt=function(t){return this.bf.encryptBlock(t)}}sa.keySize=sa.prototype.keySize=32,sa.blockSize=sa.prototype.blockSize=16,Lr.prototype.BLOCKSIZE=8,Lr.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],Lr.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Lr.prototype.NN=16,Lr.prototype._clean=function(e){return e<0&&(e=(2147483647&e)+2147483648),e},Lr.prototype._F=function(e){let t;const r=255&e,n=255&(e>>>=8),i=255&(e>>>=8),s=255&(e>>>=8);return t=this.sboxes[0][s]+this.sboxes[1][i],t^=this.sboxes[2][n],t+=this.sboxes[3][r],t},Lr.prototype._encryptBlock=function(e){let t,r=e[0],n=e[1];for(t=0;t<this.NN;++t){r^=this.parray[t],n=this._F(r)^n;const i=r;r=n,n=i}r^=this.parray[this.NN+0],n^=this.parray[this.NN+1],e[0]=this._clean(n),e[1]=this._clean(r)},Lr.prototype.encryptBlock=function(e){let t;const r=[0,0],n=this.BLOCKSIZE/2;for(t=0;t<this.BLOCKSIZE/2;++t)r[0]=r[0]<<8|255&e[t+0],r[1]=r[1]<<8|255&e[t+n];this._encryptBlock(r);const i=[];for(t=0;t<this.BLOCKSIZE/2;++t)i[t+0]=r[0]>>>24-8*t&255,i[t+n]=r[1]>>>24-8*t&255;return i},Lr.prototype._decryptBlock=function(e){let t,r=e[0],n=e[1];for(t=this.NN+1;t>1;--t){r^=this.parray[t],n=this._F(r)^n;const i=r;r=n,n=i}r^=this.parray[1],n^=this.parray[0],e[0]=this._clean(n),e[1]=this._clean(r)},Lr.prototype.init=function(e){let t,r=0;for(this.parray=[],t=0;t<this.NN+2;++t){let i=0;for(let s=0;s<4;++s)i=i<<8|255&e[r],++r>=e.length&&(r=0);this.parray[t]=this.PARRAY[t]^i}for(this.sboxes=[],t=0;t<4;++t)for(this.sboxes[t]=[],r=0;r<256;++r)this.sboxes[t][r]=this.SBOXES[t][r];const n=[0,0];for(t=0;t<this.NN+2;t+=2)this._encryptBlock(n),this.parray[t+0]=n[0],this.parray[t+1]=n[1];for(t=0;t<4;++t)for(r=0;r<256;r+=2)this._encryptBlock(n),this.sboxes[t][r+0]=n[0],this.sboxes[t][r+1]=n[1]},aa.keySize=aa.prototype.keySize=16,aa.blockSize=aa.prototype.blockSize=8;const dp=Nu(128),pp=Nu(192),mp=Nu(256);var Qi=Object.freeze({__proto__:null,aes128:dp,aes192:pp,aes256:mp,des:function(e){this.key=e,this.encrypt=function(t,r){return va(wa(this.key),t,!0,0,null,r)},this.decrypt=function(t,r){return va(wa(this.key),t,!1,0,null,r)}},tripledes:na,cast5:ia,twofish:sa,blowfish:aa,idea:function(){throw Error("IDEA symmetric-key algorithm not implemented")}}),Sh=function(e,t,r){var n=0,i=0,s=0,a=0,o=0,u=0,c=0,l=0,h=0,d=0,p=0,g=0,v=0,_=0,k=0,P=0,A=0,E=new e.Uint8Array(r);function z(S,U,V,Q,G,it,st,rt,F,H,K,C,Y,T,N,L){S=S|0,U=U|0,V=V|0,Q=Q|0,G=G|0,it=it|0,st=st|0,rt=rt|0,F=F|0,H=H|0,K=K|0,C=C|0,Y=Y|0,T=T|0,N=N|0,L=L|0;var B=0,R=0,D=0,j=0,et=0,tt=0,ot=0,pt=0,yt=0,vt=0,nt=0,at=0,lt=0,ct=0,ut=0,ft=0,W=0,$=0,wt=0,gt=0,Nt=0,ne=0,Ft=0,zt=0,me=0,Gt=0,Qt=0,Se=0,Ot=0,Kt=0,ae=0,Ut=0,$t=0,le=0,qt=0,mt=0,bt=0,_t=0,Pt=0,Dt=0,Rt=0,It=0,oe=0,Vt=0,de=0,ir=0,sr=0,dr=0,Xr=0,Jr=0,Zr=0,Qr=0,tn=0,en=0,rn=0,In=0,Bn=0,Qn=0,ti=0,ei=0,ri=0,ni=0,ii=0,Ni=0,sc=0,ac=0,oc=0,cc=0,I1=0,B1=0,D1=0;B=n,R=i,D=s,j=a,et=o,ot=S+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,ot=U+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,ot=V+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,ot=Q+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,ot=G+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,ot=it+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,ot=st+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,ot=rt+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,ot=F+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,ot=H+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,ot=K+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,ot=C+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,ot=Y+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,ot=T+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,ot=N+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,ot=L+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=T^F^V^S,pt=tt<<1|tt>>>31,ot=pt+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=N^H^Q^U,yt=tt<<1|tt>>>31,ot=yt+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=L^K^G^V,vt=tt<<1|tt>>>31,ot=vt+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=pt^C^it^Q,nt=tt<<1|tt>>>31,ot=nt+(B<<5|B>>>27)+et+(R&D|~R&j)+1518500249|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=yt^Y^st^G,at=tt<<1|tt>>>31,ot=at+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=vt^T^rt^it,lt=tt<<1|tt>>>31,ot=lt+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=nt^N^F^st,ct=tt<<1|tt>>>31,ot=ct+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=at^L^H^rt,ut=tt<<1|tt>>>31,ot=ut+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=lt^pt^K^F,ft=tt<<1|tt>>>31,ot=ft+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=ct^yt^C^H,W=tt<<1|tt>>>31,ot=W+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=ut^vt^Y^K,$=tt<<1|tt>>>31,ot=$+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=ft^nt^T^C,wt=tt<<1|tt>>>31,ot=wt+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=W^at^N^Y,gt=tt<<1|tt>>>31,ot=gt+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=$^lt^L^T,Nt=tt<<1|tt>>>31,ot=Nt+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=wt^ct^pt^N,ne=tt<<1|tt>>>31,ot=ne+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=gt^ut^yt^L,Ft=tt<<1|tt>>>31,ot=Ft+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Nt^ft^vt^pt,zt=tt<<1|tt>>>31,ot=zt+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=ne^W^nt^yt,me=tt<<1|tt>>>31,ot=me+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Ft^$^at^vt,Gt=tt<<1|tt>>>31,ot=Gt+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=zt^wt^lt^nt,Qt=tt<<1|tt>>>31,ot=Qt+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=me^gt^ct^at,Se=tt<<1|tt>>>31,ot=Se+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Gt^Nt^ut^lt,Ot=tt<<1|tt>>>31,ot=Ot+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Qt^ne^ft^ct,Kt=tt<<1|tt>>>31,ot=Kt+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Se^Ft^W^ut,ae=tt<<1|tt>>>31,ot=ae+(B<<5|B>>>27)+et+(R^D^j)+1859775393|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Ot^zt^$^ft,Ut=tt<<1|tt>>>31,ot=Ut+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Kt^me^wt^W,$t=tt<<1|tt>>>31,ot=$t+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=ae^Gt^gt^$,le=tt<<1|tt>>>31,ot=le+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Ut^Qt^Nt^wt,qt=tt<<1|tt>>>31,ot=qt+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=$t^Se^ne^gt,mt=tt<<1|tt>>>31,ot=mt+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=le^Ot^Ft^Nt,bt=tt<<1|tt>>>31,ot=bt+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=qt^Kt^zt^ne,_t=tt<<1|tt>>>31,ot=_t+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=mt^ae^me^Ft,Pt=tt<<1|tt>>>31,ot=Pt+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=bt^Ut^Gt^zt,Dt=tt<<1|tt>>>31,ot=Dt+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=_t^$t^Qt^me,Rt=tt<<1|tt>>>31,ot=Rt+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Pt^le^Se^Gt,It=tt<<1|tt>>>31,ot=It+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Dt^qt^Ot^Qt,oe=tt<<1|tt>>>31,ot=oe+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Rt^mt^Kt^Se,Vt=tt<<1|tt>>>31,ot=Vt+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=It^bt^ae^Ot,de=tt<<1|tt>>>31,ot=de+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=oe^_t^Ut^Kt,ir=tt<<1|tt>>>31,ot=ir+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Vt^Pt^$t^ae,sr=tt<<1|tt>>>31,ot=sr+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=de^Dt^le^Ut,dr=tt<<1|tt>>>31,ot=dr+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=ir^Rt^qt^$t,Xr=tt<<1|tt>>>31,ot=Xr+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=sr^It^mt^le,Jr=tt<<1|tt>>>31,ot=Jr+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=dr^oe^bt^qt,Zr=tt<<1|tt>>>31,ot=Zr+(B<<5|B>>>27)+et+(R&D|R&j|D&j)-1894007588|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Xr^Vt^_t^mt,Qr=tt<<1|tt>>>31,ot=Qr+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Jr^de^Pt^bt,tn=tt<<1|tt>>>31,ot=tn+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Zr^ir^Dt^_t,en=tt<<1|tt>>>31,ot=en+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Qr^sr^Rt^Pt,rn=tt<<1|tt>>>31,ot=rn+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=tn^dr^It^Dt,In=tt<<1|tt>>>31,ot=In+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=en^Xr^oe^Rt,Bn=tt<<1|tt>>>31,ot=Bn+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=rn^Jr^Vt^It,Qn=tt<<1|tt>>>31,ot=Qn+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=In^Zr^de^oe,ti=tt<<1|tt>>>31,ot=ti+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Bn^Qr^ir^Vt,ei=tt<<1|tt>>>31,ot=ei+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Qn^tn^sr^de,ri=tt<<1|tt>>>31,ot=ri+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=ti^en^dr^ir,ni=tt<<1|tt>>>31,ot=ni+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=ei^rn^Xr^sr,ii=tt<<1|tt>>>31,ot=ii+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=ri^In^Jr^dr,Ni=tt<<1|tt>>>31,ot=Ni+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=ni^Bn^Zr^Xr,sc=tt<<1|tt>>>31,ot=sc+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=ii^Qn^Qr^Jr,ac=tt<<1|tt>>>31,ot=ac+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=Ni^ti^tn^Zr,oc=tt<<1|tt>>>31,ot=oc+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=sc^ei^en^Qr,cc=tt<<1|tt>>>31,ot=cc+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=ac^ri^rn^tn,I1=tt<<1|tt>>>31,ot=I1+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=oc^ni^In^en,B1=tt<<1|tt>>>31,ot=B1+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,tt=cc^ii^Bn^rn,D1=tt<<1|tt>>>31,ot=D1+(B<<5|B>>>27)+et+(R^D^j)-899497514|0,et=j,j=D,D=R<<30|R>>>2,R=B,B=ot,n=n+B|0,i=i+R|0,s=s+D|0,a=a+j|0,o=o+et|0}function w(S){S=S|0,z(E[S|0]<<24|E[S|1]<<16|E[S|2]<<8|E[S|3],E[S|4]<<24|E[S|5]<<16|E[S|6]<<8|E[S|7],E[S|8]<<24|E[S|9]<<16|E[S|10]<<8|E[S|11],E[S|12]<<24|E[S|13]<<16|E[S|14]<<8|E[S|15],E[S|16]<<24|E[S|17]<<16|E[S|18]<<8|E[S|19],E[S|20]<<24|E[S|21]<<16|E[S|22]<<8|E[S|23],E[S|24]<<24|E[S|25]<<16|E[S|26]<<8|E[S|27],E[S|28]<<24|E[S|29]<<16|E[S|30]<<8|E[S|31],E[S|32]<<24|E[S|33]<<16|E[S|34]<<8|E[S|35],E[S|36]<<24|E[S|37]<<16|E[S|38]<<8|E[S|39],E[S|40]<<24|E[S|41]<<16|E[S|42]<<8|E[S|43],E[S|44]<<24|E[S|45]<<16|E[S|46]<<8|E[S|47],E[S|48]<<24|E[S|49]<<16|E[S|50]<<8|E[S|51],E[S|52]<<24|E[S|53]<<16|E[S|54]<<8|E[S|55],E[S|56]<<24|E[S|57]<<16|E[S|58]<<8|E[S|59],E[S|60]<<24|E[S|61]<<16|E[S|62]<<8|E[S|63])}function M(S){S=S|0,E[S|0]=n>>>24,E[S|1]=n>>>16&255,E[S|2]=n>>>8&255,E[S|3]=n&255,E[S|4]=i>>>24,E[S|5]=i>>>16&255,E[S|6]=i>>>8&255,E[S|7]=i&255,E[S|8]=s>>>24,E[S|9]=s>>>16&255,E[S|10]=s>>>8&255,E[S|11]=s&255,E[S|12]=a>>>24,E[S|13]=a>>>16&255,E[S|14]=a>>>8&255,E[S|15]=a&255,E[S|16]=o>>>24,E[S|17]=o>>>16&255,E[S|18]=o>>>8&255,E[S|19]=o&255}function f(){n=1732584193,i=4023233417,s=2562383102,a=271733878,o=3285377520,u=c=0}function b(S,U,V,Q,G,it,st){S=S|0,U=U|0,V=V|0,Q=Q|0,G=G|0,it=it|0,st=st|0,n=S,i=U,s=V,a=Q,o=G,u=it,c=st}function y(S,U){S=S|0,U=U|0;var V=0;if(S&63)return-1;for(;(U|0)>=64;)w(S),S=S+64|0,U=U-64|0,V=V+64|0;return u=u+V|0,u>>>0<V>>>0&&(c=c+1|0),V|0}function m(S,U,V){S=S|0,U=U|0,V=V|0;var Q=0,G=0;if(S&63||~V&&V&31)return-1;if((U|0)>=64){if(Q=y(S,U)|0,(Q|0)==-1)return-1;S=S+Q|0,U=U-Q|0}if(Q=Q+U|0,u=u+U|0,u>>>0<U>>>0&&(c=c+1|0),E[S|U]=128,(U|0)>=56){for(G=U+1|0;(G|0)<64;G=G+1|0)E[S|G]=0;w(S),U=0,E[S|0]=0}for(G=U+1|0;(G|0)<59;G=G+1|0)E[S|G]=0;return E[S|56]=c>>>21&255,E[S|57]=c>>>13&255,E[S|58]=c>>>5&255,E[S|59]=c<<3&255|u>>>29,E[S|60]=u>>>21&255,E[S|61]=u>>>13&255,E[S|62]=u>>>5&255,E[S|63]=u<<3&255,w(S),~V&&M(V),Q|0}function x(){n=l,i=h,s=d,a=p,o=g,u=64,c=0}function I(){n=v,i=_,s=k,a=P,o=A,u=64,c=0}function O(S,U,V,Q,G,it,st,rt,F,H,K,C,Y,T,N,L){S=S|0,U=U|0,V=V|0,Q=Q|0,G=G|0,it=it|0,st=st|0,rt=rt|0,F=F|0,H=H|0,K=K|0,C=C|0,Y=Y|0,T=T|0,N=N|0,L=L|0,f(),z(S^1549556828,U^1549556828,V^1549556828,Q^1549556828,G^1549556828,it^1549556828,st^1549556828,rt^1549556828,F^1549556828,H^1549556828,K^1549556828,C^1549556828,Y^1549556828,T^1549556828,N^1549556828,L^1549556828),v=n,_=i,k=s,P=a,A=o,f(),z(S^909522486,U^909522486,V^909522486,Q^909522486,G^909522486,it^909522486,st^909522486,rt^909522486,F^909522486,H^909522486,K^909522486,C^909522486,Y^909522486,T^909522486,N^909522486,L^909522486),l=n,h=i,d=s,p=a,g=o,u=64,c=0}function q(S,U,V){S=S|0,U=U|0,V=V|0;var Q=0,G=0,it=0,st=0,rt=0,F=0;return S&63||~V&&V&31?-1:(F=m(S,U,-1)|0,Q=n,G=i,it=s,st=a,rt=o,I(),z(Q,G,it,st,rt,2147483648,0,0,0,0,0,0,0,0,0,672),~V&&M(V),F|0)}function Z(S,U,V,Q,G){S=S|0,U=U|0,V=V|0,Q=Q|0,G=G|0;var it=0,st=0,rt=0,F=0,H=0,K=0,C=0,Y=0,T=0,N=0;if(S&63||~G&&G&31)return-1;for(E[S+U|0]=V>>>24,E[S+U+1|0]=V>>>16&255,E[S+U+2|0]=V>>>8&255,E[S+U+3|0]=V&255,q(S,U+4|0,-1)|0,it=K=n,st=C=i,rt=Y=s,F=T=a,H=N=o,Q=Q-1|0;(Q|0)>0;)x(),z(K,C,Y,T,N,2147483648,0,0,0,0,0,0,0,0,0,672),K=n,C=i,Y=s,T=a,N=o,I(),z(K,C,Y,T,N,2147483648,0,0,0,0,0,0,0,0,0,672),K=n,C=i,Y=s,T=a,N=o,it=it^n,st=st^i,rt=rt^s,F=F^a,H=H^o,Q=Q-1|0;return n=it,i=st,s=rt,a=F,o=H,~G&&M(G),0}return{reset:f,init:b,process:y,finish:m,hmac_reset:x,hmac_init:O,hmac_finish:q,pbkdf2_generate_block:Z}};class kh{constructor(){this.pos=0,this.len=0}reset(){const{asm:t}=this.acquire_asm();return this.result=null,this.pos=0,this.len=0,t.reset(),this}process(t){if(this.result!==null)throw new Yc("state must be reset before processing new data");const{asm:r,heap:n}=this.acquire_asm();let i=this.pos,s=this.len,a=0,o=t.length,u=0;for(;o>0;)u=Hi(n,i+s,t,a,o),s+=u,a+=u,o-=u,u=r.process(i,s),i+=u,s-=u,s||(i=0);return this.pos=i,this.len=s,this}finish(){if(this.result!==null)throw new Yc("state must be reset before processing new data");const{asm:t,heap:r}=this.acquire_asm();return t.finish(this.pos,this.len,0),this.result=new Uint8Array(this.HASH_SIZE),this.result.set(r.subarray(0,this.HASH_SIZE)),this.pos=0,this.len=0,this.release_asm(),this}}const G1=[],V1=[];class Wi extends kh{constructor(){super(),this.NAME="sha1",this.BLOCK_SIZE=64,this.HASH_SIZE=20,this.acquire_asm()}acquire_asm(){return this.heap!==void 0&&this.asm!==void 0||(this.heap=G1.pop()||Uu(),this.asm=V1.pop()||Sh({Uint8Array},null,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(G1.push(this.heap),V1.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(t){return new Wi().process(t).finish().result}}Wi.NAME="sha1",Wi.heap_pool=[],Wi.asm_pool=[],Wi.asm_function=Sh;const Y1=[],X1=[];class B0 extends kh{constructor(){super(),this.NAME="sha256",this.BLOCK_SIZE=64,this.HASH_SIZE=32,this.acquire_asm()}acquire_asm(){return this.heap!==void 0&&this.asm!==void 0||(this.heap=Y1.pop()||Uu(),this.asm=X1.pop()||function(t,r,n){var i=0,s=0,a=0,o=0,u=0,c=0,l=0,h=0,d=0,p=0,g=0,v=0,_=0,k=0,P=0,A=0,E=0,z=0,w=0,M=0,f=0,b=0,y=0,m=0,x=0,I=0,O=new t.Uint8Array(n);function q(K,C,Y,T,N,L,B,R,D,j,et,tt,ot,pt,yt,vt){K=K|0,C=C|0,Y=Y|0,T=T|0,N=N|0,L=L|0,B=B|0,R=R|0,D=D|0,j=j|0,et=et|0,tt=tt|0,ot=ot|0,pt=pt|0,yt=yt|0,vt=vt|0;var nt=0,at=0,lt=0,ct=0,ut=0,ft=0,W=0,$=0;nt=i,at=s,lt=a,ct=o,ut=u,ft=c,W=l,$=h,$=K+$+(ut>>>6^ut>>>11^ut>>>25^ut<<26^ut<<21^ut<<7)+(W^ut&(ft^W))+1116352408|0,ct=ct+$|0,$=$+(nt&at^lt&(nt^at))+(nt>>>2^nt>>>13^nt>>>22^nt<<30^nt<<19^nt<<10)|0,W=C+W+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(ft^ct&(ut^ft))+1899447441|0,lt=lt+W|0,W=W+($&nt^at&($^nt))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,ft=Y+ft+(lt>>>6^lt>>>11^lt>>>25^lt<<26^lt<<21^lt<<7)+(ut^lt&(ct^ut))+3049323471|0,at=at+ft|0,ft=ft+(W&$^nt&(W^$))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,ut=T+ut+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+(ct^at&(lt^ct))+3921009573|0,nt=nt+ut|0,ut=ut+(ft&W^$&(ft^W))+(ft>>>2^ft>>>13^ft>>>22^ft<<30^ft<<19^ft<<10)|0,ct=N+ct+(nt>>>6^nt>>>11^nt>>>25^nt<<26^nt<<21^nt<<7)+(lt^nt&(at^lt))+961987163|0,$=$+ct|0,ct=ct+(ut&ft^W&(ut^ft))+(ut>>>2^ut>>>13^ut>>>22^ut<<30^ut<<19^ut<<10)|0,lt=L+lt+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(at^$&(nt^at))+1508970993|0,W=W+lt|0,lt=lt+(ct&ut^ft&(ct^ut))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,at=B+at+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(nt^W&($^nt))+2453635748|0,ft=ft+at|0,at=at+(lt&ct^ut&(lt^ct))+(lt>>>2^lt>>>13^lt>>>22^lt<<30^lt<<19^lt<<10)|0,nt=R+nt+(ft>>>6^ft>>>11^ft>>>25^ft<<26^ft<<21^ft<<7)+($^ft&(W^$))+2870763221|0,ut=ut+nt|0,nt=nt+(at&lt^ct&(at^lt))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,$=D+$+(ut>>>6^ut>>>11^ut>>>25^ut<<26^ut<<21^ut<<7)+(W^ut&(ft^W))+3624381080|0,ct=ct+$|0,$=$+(nt&at^lt&(nt^at))+(nt>>>2^nt>>>13^nt>>>22^nt<<30^nt<<19^nt<<10)|0,W=j+W+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(ft^ct&(ut^ft))+310598401|0,lt=lt+W|0,W=W+($&nt^at&($^nt))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,ft=et+ft+(lt>>>6^lt>>>11^lt>>>25^lt<<26^lt<<21^lt<<7)+(ut^lt&(ct^ut))+607225278|0,at=at+ft|0,ft=ft+(W&$^nt&(W^$))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,ut=tt+ut+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+(ct^at&(lt^ct))+1426881987|0,nt=nt+ut|0,ut=ut+(ft&W^$&(ft^W))+(ft>>>2^ft>>>13^ft>>>22^ft<<30^ft<<19^ft<<10)|0,ct=ot+ct+(nt>>>6^nt>>>11^nt>>>25^nt<<26^nt<<21^nt<<7)+(lt^nt&(at^lt))+1925078388|0,$=$+ct|0,ct=ct+(ut&ft^W&(ut^ft))+(ut>>>2^ut>>>13^ut>>>22^ut<<30^ut<<19^ut<<10)|0,lt=pt+lt+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(at^$&(nt^at))+2162078206|0,W=W+lt|0,lt=lt+(ct&ut^ft&(ct^ut))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,at=yt+at+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(nt^W&($^nt))+2614888103|0,ft=ft+at|0,at=at+(lt&ct^ut&(lt^ct))+(lt>>>2^lt>>>13^lt>>>22^lt<<30^lt<<19^lt<<10)|0,nt=vt+nt+(ft>>>6^ft>>>11^ft>>>25^ft<<26^ft<<21^ft<<7)+($^ft&(W^$))+3248222580|0,ut=ut+nt|0,nt=nt+(at&lt^ct&(at^lt))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,K=(C>>>7^C>>>18^C>>>3^C<<25^C<<14)+(yt>>>17^yt>>>19^yt>>>10^yt<<15^yt<<13)+K+j|0,$=K+$+(ut>>>6^ut>>>11^ut>>>25^ut<<26^ut<<21^ut<<7)+(W^ut&(ft^W))+3835390401|0,ct=ct+$|0,$=$+(nt&at^lt&(nt^at))+(nt>>>2^nt>>>13^nt>>>22^nt<<30^nt<<19^nt<<10)|0,C=(Y>>>7^Y>>>18^Y>>>3^Y<<25^Y<<14)+(vt>>>17^vt>>>19^vt>>>10^vt<<15^vt<<13)+C+et|0,W=C+W+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(ft^ct&(ut^ft))+4022224774|0,lt=lt+W|0,W=W+($&nt^at&($^nt))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,Y=(T>>>7^T>>>18^T>>>3^T<<25^T<<14)+(K>>>17^K>>>19^K>>>10^K<<15^K<<13)+Y+tt|0,ft=Y+ft+(lt>>>6^lt>>>11^lt>>>25^lt<<26^lt<<21^lt<<7)+(ut^lt&(ct^ut))+264347078|0,at=at+ft|0,ft=ft+(W&$^nt&(W^$))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,T=(N>>>7^N>>>18^N>>>3^N<<25^N<<14)+(C>>>17^C>>>19^C>>>10^C<<15^C<<13)+T+ot|0,ut=T+ut+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+(ct^at&(lt^ct))+604807628|0,nt=nt+ut|0,ut=ut+(ft&W^$&(ft^W))+(ft>>>2^ft>>>13^ft>>>22^ft<<30^ft<<19^ft<<10)|0,N=(L>>>7^L>>>18^L>>>3^L<<25^L<<14)+(Y>>>17^Y>>>19^Y>>>10^Y<<15^Y<<13)+N+pt|0,ct=N+ct+(nt>>>6^nt>>>11^nt>>>25^nt<<26^nt<<21^nt<<7)+(lt^nt&(at^lt))+770255983|0,$=$+ct|0,ct=ct+(ut&ft^W&(ut^ft))+(ut>>>2^ut>>>13^ut>>>22^ut<<30^ut<<19^ut<<10)|0,L=(B>>>7^B>>>18^B>>>3^B<<25^B<<14)+(T>>>17^T>>>19^T>>>10^T<<15^T<<13)+L+yt|0,lt=L+lt+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(at^$&(nt^at))+1249150122|0,W=W+lt|0,lt=lt+(ct&ut^ft&(ct^ut))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,B=(R>>>7^R>>>18^R>>>3^R<<25^R<<14)+(N>>>17^N>>>19^N>>>10^N<<15^N<<13)+B+vt|0,at=B+at+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(nt^W&($^nt))+1555081692|0,ft=ft+at|0,at=at+(lt&ct^ut&(lt^ct))+(lt>>>2^lt>>>13^lt>>>22^lt<<30^lt<<19^lt<<10)|0,R=(D>>>7^D>>>18^D>>>3^D<<25^D<<14)+(L>>>17^L>>>19^L>>>10^L<<15^L<<13)+R+K|0,nt=R+nt+(ft>>>6^ft>>>11^ft>>>25^ft<<26^ft<<21^ft<<7)+($^ft&(W^$))+1996064986|0,ut=ut+nt|0,nt=nt+(at&lt^ct&(at^lt))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,D=(j>>>7^j>>>18^j>>>3^j<<25^j<<14)+(B>>>17^B>>>19^B>>>10^B<<15^B<<13)+D+C|0,$=D+$+(ut>>>6^ut>>>11^ut>>>25^ut<<26^ut<<21^ut<<7)+(W^ut&(ft^W))+2554220882|0,ct=ct+$|0,$=$+(nt&at^lt&(nt^at))+(nt>>>2^nt>>>13^nt>>>22^nt<<30^nt<<19^nt<<10)|0,j=(et>>>7^et>>>18^et>>>3^et<<25^et<<14)+(R>>>17^R>>>19^R>>>10^R<<15^R<<13)+j+Y|0,W=j+W+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(ft^ct&(ut^ft))+2821834349|0,lt=lt+W|0,W=W+($&nt^at&($^nt))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,et=(tt>>>7^tt>>>18^tt>>>3^tt<<25^tt<<14)+(D>>>17^D>>>19^D>>>10^D<<15^D<<13)+et+T|0,ft=et+ft+(lt>>>6^lt>>>11^lt>>>25^lt<<26^lt<<21^lt<<7)+(ut^lt&(ct^ut))+2952996808|0,at=at+ft|0,ft=ft+(W&$^nt&(W^$))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,tt=(ot>>>7^ot>>>18^ot>>>3^ot<<25^ot<<14)+(j>>>17^j>>>19^j>>>10^j<<15^j<<13)+tt+N|0,ut=tt+ut+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+(ct^at&(lt^ct))+3210313671|0,nt=nt+ut|0,ut=ut+(ft&W^$&(ft^W))+(ft>>>2^ft>>>13^ft>>>22^ft<<30^ft<<19^ft<<10)|0,ot=(pt>>>7^pt>>>18^pt>>>3^pt<<25^pt<<14)+(et>>>17^et>>>19^et>>>10^et<<15^et<<13)+ot+L|0,ct=ot+ct+(nt>>>6^nt>>>11^nt>>>25^nt<<26^nt<<21^nt<<7)+(lt^nt&(at^lt))+3336571891|0,$=$+ct|0,ct=ct+(ut&ft^W&(ut^ft))+(ut>>>2^ut>>>13^ut>>>22^ut<<30^ut<<19^ut<<10)|0,pt=(yt>>>7^yt>>>18^yt>>>3^yt<<25^yt<<14)+(tt>>>17^tt>>>19^tt>>>10^tt<<15^tt<<13)+pt+B|0,lt=pt+lt+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(at^$&(nt^at))+3584528711|0,W=W+lt|0,lt=lt+(ct&ut^ft&(ct^ut))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,yt=(vt>>>7^vt>>>18^vt>>>3^vt<<25^vt<<14)+(ot>>>17^ot>>>19^ot>>>10^ot<<15^ot<<13)+yt+R|0,at=yt+at+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(nt^W&($^nt))+113926993|0,ft=ft+at|0,at=at+(lt&ct^ut&(lt^ct))+(lt>>>2^lt>>>13^lt>>>22^lt<<30^lt<<19^lt<<10)|0,vt=(K>>>7^K>>>18^K>>>3^K<<25^K<<14)+(pt>>>17^pt>>>19^pt>>>10^pt<<15^pt<<13)+vt+D|0,nt=vt+nt+(ft>>>6^ft>>>11^ft>>>25^ft<<26^ft<<21^ft<<7)+($^ft&(W^$))+338241895|0,ut=ut+nt|0,nt=nt+(at&lt^ct&(at^lt))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,K=(C>>>7^C>>>18^C>>>3^C<<25^C<<14)+(yt>>>17^yt>>>19^yt>>>10^yt<<15^yt<<13)+K+j|0,$=K+$+(ut>>>6^ut>>>11^ut>>>25^ut<<26^ut<<21^ut<<7)+(W^ut&(ft^W))+666307205|0,ct=ct+$|0,$=$+(nt&at^lt&(nt^at))+(nt>>>2^nt>>>13^nt>>>22^nt<<30^nt<<19^nt<<10)|0,C=(Y>>>7^Y>>>18^Y>>>3^Y<<25^Y<<14)+(vt>>>17^vt>>>19^vt>>>10^vt<<15^vt<<13)+C+et|0,W=C+W+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(ft^ct&(ut^ft))+773529912|0,lt=lt+W|0,W=W+($&nt^at&($^nt))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,Y=(T>>>7^T>>>18^T>>>3^T<<25^T<<14)+(K>>>17^K>>>19^K>>>10^K<<15^K<<13)+Y+tt|0,ft=Y+ft+(lt>>>6^lt>>>11^lt>>>25^lt<<26^lt<<21^lt<<7)+(ut^lt&(ct^ut))+1294757372|0,at=at+ft|0,ft=ft+(W&$^nt&(W^$))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,T=(N>>>7^N>>>18^N>>>3^N<<25^N<<14)+(C>>>17^C>>>19^C>>>10^C<<15^C<<13)+T+ot|0,ut=T+ut+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+(ct^at&(lt^ct))+1396182291|0,nt=nt+ut|0,ut=ut+(ft&W^$&(ft^W))+(ft>>>2^ft>>>13^ft>>>22^ft<<30^ft<<19^ft<<10)|0,N=(L>>>7^L>>>18^L>>>3^L<<25^L<<14)+(Y>>>17^Y>>>19^Y>>>10^Y<<15^Y<<13)+N+pt|0,ct=N+ct+(nt>>>6^nt>>>11^nt>>>25^nt<<26^nt<<21^nt<<7)+(lt^nt&(at^lt))+1695183700|0,$=$+ct|0,ct=ct+(ut&ft^W&(ut^ft))+(ut>>>2^ut>>>13^ut>>>22^ut<<30^ut<<19^ut<<10)|0,L=(B>>>7^B>>>18^B>>>3^B<<25^B<<14)+(T>>>17^T>>>19^T>>>10^T<<15^T<<13)+L+yt|0,lt=L+lt+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(at^$&(nt^at))+1986661051|0,W=W+lt|0,lt=lt+(ct&ut^ft&(ct^ut))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,B=(R>>>7^R>>>18^R>>>3^R<<25^R<<14)+(N>>>17^N>>>19^N>>>10^N<<15^N<<13)+B+vt|0,at=B+at+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(nt^W&($^nt))+2177026350|0,ft=ft+at|0,at=at+(lt&ct^ut&(lt^ct))+(lt>>>2^lt>>>13^lt>>>22^lt<<30^lt<<19^lt<<10)|0,R=(D>>>7^D>>>18^D>>>3^D<<25^D<<14)+(L>>>17^L>>>19^L>>>10^L<<15^L<<13)+R+K|0,nt=R+nt+(ft>>>6^ft>>>11^ft>>>25^ft<<26^ft<<21^ft<<7)+($^ft&(W^$))+2456956037|0,ut=ut+nt|0,nt=nt+(at&lt^ct&(at^lt))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,D=(j>>>7^j>>>18^j>>>3^j<<25^j<<14)+(B>>>17^B>>>19^B>>>10^B<<15^B<<13)+D+C|0,$=D+$+(ut>>>6^ut>>>11^ut>>>25^ut<<26^ut<<21^ut<<7)+(W^ut&(ft^W))+2730485921|0,ct=ct+$|0,$=$+(nt&at^lt&(nt^at))+(nt>>>2^nt>>>13^nt>>>22^nt<<30^nt<<19^nt<<10)|0,j=(et>>>7^et>>>18^et>>>3^et<<25^et<<14)+(R>>>17^R>>>19^R>>>10^R<<15^R<<13)+j+Y|0,W=j+W+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(ft^ct&(ut^ft))+2820302411|0,lt=lt+W|0,W=W+($&nt^at&($^nt))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,et=(tt>>>7^tt>>>18^tt>>>3^tt<<25^tt<<14)+(D>>>17^D>>>19^D>>>10^D<<15^D<<13)+et+T|0,ft=et+ft+(lt>>>6^lt>>>11^lt>>>25^lt<<26^lt<<21^lt<<7)+(ut^lt&(ct^ut))+3259730800|0,at=at+ft|0,ft=ft+(W&$^nt&(W^$))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,tt=(ot>>>7^ot>>>18^ot>>>3^ot<<25^ot<<14)+(j>>>17^j>>>19^j>>>10^j<<15^j<<13)+tt+N|0,ut=tt+ut+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+(ct^at&(lt^ct))+3345764771|0,nt=nt+ut|0,ut=ut+(ft&W^$&(ft^W))+(ft>>>2^ft>>>13^ft>>>22^ft<<30^ft<<19^ft<<10)|0,ot=(pt>>>7^pt>>>18^pt>>>3^pt<<25^pt<<14)+(et>>>17^et>>>19^et>>>10^et<<15^et<<13)+ot+L|0,ct=ot+ct+(nt>>>6^nt>>>11^nt>>>25^nt<<26^nt<<21^nt<<7)+(lt^nt&(at^lt))+3516065817|0,$=$+ct|0,ct=ct+(ut&ft^W&(ut^ft))+(ut>>>2^ut>>>13^ut>>>22^ut<<30^ut<<19^ut<<10)|0,pt=(yt>>>7^yt>>>18^yt>>>3^yt<<25^yt<<14)+(tt>>>17^tt>>>19^tt>>>10^tt<<15^tt<<13)+pt+B|0,lt=pt+lt+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(at^$&(nt^at))+3600352804|0,W=W+lt|0,lt=lt+(ct&ut^ft&(ct^ut))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,yt=(vt>>>7^vt>>>18^vt>>>3^vt<<25^vt<<14)+(ot>>>17^ot>>>19^ot>>>10^ot<<15^ot<<13)+yt+R|0,at=yt+at+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(nt^W&($^nt))+4094571909|0,ft=ft+at|0,at=at+(lt&ct^ut&(lt^ct))+(lt>>>2^lt>>>13^lt>>>22^lt<<30^lt<<19^lt<<10)|0,vt=(K>>>7^K>>>18^K>>>3^K<<25^K<<14)+(pt>>>17^pt>>>19^pt>>>10^pt<<15^pt<<13)+vt+D|0,nt=vt+nt+(ft>>>6^ft>>>11^ft>>>25^ft<<26^ft<<21^ft<<7)+($^ft&(W^$))+275423344|0,ut=ut+nt|0,nt=nt+(at&lt^ct&(at^lt))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,K=(C>>>7^C>>>18^C>>>3^C<<25^C<<14)+(yt>>>17^yt>>>19^yt>>>10^yt<<15^yt<<13)+K+j|0,$=K+$+(ut>>>6^ut>>>11^ut>>>25^ut<<26^ut<<21^ut<<7)+(W^ut&(ft^W))+430227734|0,ct=ct+$|0,$=$+(nt&at^lt&(nt^at))+(nt>>>2^nt>>>13^nt>>>22^nt<<30^nt<<19^nt<<10)|0,C=(Y>>>7^Y>>>18^Y>>>3^Y<<25^Y<<14)+(vt>>>17^vt>>>19^vt>>>10^vt<<15^vt<<13)+C+et|0,W=C+W+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(ft^ct&(ut^ft))+506948616|0,lt=lt+W|0,W=W+($&nt^at&($^nt))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,Y=(T>>>7^T>>>18^T>>>3^T<<25^T<<14)+(K>>>17^K>>>19^K>>>10^K<<15^K<<13)+Y+tt|0,ft=Y+ft+(lt>>>6^lt>>>11^lt>>>25^lt<<26^lt<<21^lt<<7)+(ut^lt&(ct^ut))+659060556|0,at=at+ft|0,ft=ft+(W&$^nt&(W^$))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,T=(N>>>7^N>>>18^N>>>3^N<<25^N<<14)+(C>>>17^C>>>19^C>>>10^C<<15^C<<13)+T+ot|0,ut=T+ut+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+(ct^at&(lt^ct))+883997877|0,nt=nt+ut|0,ut=ut+(ft&W^$&(ft^W))+(ft>>>2^ft>>>13^ft>>>22^ft<<30^ft<<19^ft<<10)|0,N=(L>>>7^L>>>18^L>>>3^L<<25^L<<14)+(Y>>>17^Y>>>19^Y>>>10^Y<<15^Y<<13)+N+pt|0,ct=N+ct+(nt>>>6^nt>>>11^nt>>>25^nt<<26^nt<<21^nt<<7)+(lt^nt&(at^lt))+958139571|0,$=$+ct|0,ct=ct+(ut&ft^W&(ut^ft))+(ut>>>2^ut>>>13^ut>>>22^ut<<30^ut<<19^ut<<10)|0,L=(B>>>7^B>>>18^B>>>3^B<<25^B<<14)+(T>>>17^T>>>19^T>>>10^T<<15^T<<13)+L+yt|0,lt=L+lt+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(at^$&(nt^at))+1322822218|0,W=W+lt|0,lt=lt+(ct&ut^ft&(ct^ut))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,B=(R>>>7^R>>>18^R>>>3^R<<25^R<<14)+(N>>>17^N>>>19^N>>>10^N<<15^N<<13)+B+vt|0,at=B+at+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(nt^W&($^nt))+1537002063|0,ft=ft+at|0,at=at+(lt&ct^ut&(lt^ct))+(lt>>>2^lt>>>13^lt>>>22^lt<<30^lt<<19^lt<<10)|0,R=(D>>>7^D>>>18^D>>>3^D<<25^D<<14)+(L>>>17^L>>>19^L>>>10^L<<15^L<<13)+R+K|0,nt=R+nt+(ft>>>6^ft>>>11^ft>>>25^ft<<26^ft<<21^ft<<7)+($^ft&(W^$))+1747873779|0,ut=ut+nt|0,nt=nt+(at&lt^ct&(at^lt))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,D=(j>>>7^j>>>18^j>>>3^j<<25^j<<14)+(B>>>17^B>>>19^B>>>10^B<<15^B<<13)+D+C|0,$=D+$+(ut>>>6^ut>>>11^ut>>>25^ut<<26^ut<<21^ut<<7)+(W^ut&(ft^W))+1955562222|0,ct=ct+$|0,$=$+(nt&at^lt&(nt^at))+(nt>>>2^nt>>>13^nt>>>22^nt<<30^nt<<19^nt<<10)|0,j=(et>>>7^et>>>18^et>>>3^et<<25^et<<14)+(R>>>17^R>>>19^R>>>10^R<<15^R<<13)+j+Y|0,W=j+W+(ct>>>6^ct>>>11^ct>>>25^ct<<26^ct<<21^ct<<7)+(ft^ct&(ut^ft))+2024104815|0,lt=lt+W|0,W=W+($&nt^at&($^nt))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,et=(tt>>>7^tt>>>18^tt>>>3^tt<<25^tt<<14)+(D>>>17^D>>>19^D>>>10^D<<15^D<<13)+et+T|0,ft=et+ft+(lt>>>6^lt>>>11^lt>>>25^lt<<26^lt<<21^lt<<7)+(ut^lt&(ct^ut))+2227730452|0,at=at+ft|0,ft=ft+(W&$^nt&(W^$))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,tt=(ot>>>7^ot>>>18^ot>>>3^ot<<25^ot<<14)+(j>>>17^j>>>19^j>>>10^j<<15^j<<13)+tt+N|0,ut=tt+ut+(at>>>6^at>>>11^at>>>25^at<<26^at<<21^at<<7)+(ct^at&(lt^ct))+2361852424|0,nt=nt+ut|0,ut=ut+(ft&W^$&(ft^W))+(ft>>>2^ft>>>13^ft>>>22^ft<<30^ft<<19^ft<<10)|0,ot=(pt>>>7^pt>>>18^pt>>>3^pt<<25^pt<<14)+(et>>>17^et>>>19^et>>>10^et<<15^et<<13)+ot+L|0,ct=ot+ct+(nt>>>6^nt>>>11^nt>>>25^nt<<26^nt<<21^nt<<7)+(lt^nt&(at^lt))+2428436474|0,$=$+ct|0,ct=ct+(ut&ft^W&(ut^ft))+(ut>>>2^ut>>>13^ut>>>22^ut<<30^ut<<19^ut<<10)|0,pt=(yt>>>7^yt>>>18^yt>>>3^yt<<25^yt<<14)+(tt>>>17^tt>>>19^tt>>>10^tt<<15^tt<<13)+pt+B|0,lt=pt+lt+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(at^$&(nt^at))+2756734187|0,W=W+lt|0,lt=lt+(ct&ut^ft&(ct^ut))+(ct>>>2^ct>>>13^ct>>>22^ct<<30^ct<<19^ct<<10)|0,yt=(vt>>>7^vt>>>18^vt>>>3^vt<<25^vt<<14)+(ot>>>17^ot>>>19^ot>>>10^ot<<15^ot<<13)+yt+R|0,at=yt+at+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(nt^W&($^nt))+3204031479|0,ft=ft+at|0,at=at+(lt&ct^ut&(lt^ct))+(lt>>>2^lt>>>13^lt>>>22^lt<<30^lt<<19^lt<<10)|0,vt=(K>>>7^K>>>18^K>>>3^K<<25^K<<14)+(pt>>>17^pt>>>19^pt>>>10^pt<<15^pt<<13)+vt+D|0,nt=vt+nt+(ft>>>6^ft>>>11^ft>>>25^ft<<26^ft<<21^ft<<7)+($^ft&(W^$))+3329325298|0,ut=ut+nt|0,nt=nt+(at&lt^ct&(at^lt))+(at>>>2^at>>>13^at>>>22^at<<30^at<<19^at<<10)|0,i=i+nt|0,s=s+at|0,a=a+lt|0,o=o+ct|0,u=u+ut|0,c=c+ft|0,l=l+W|0,h=h+$|0}function Z(K){K=K|0,q(O[K|0]<<24|O[K|1]<<16|O[K|2]<<8|O[K|3],O[K|4]<<24|O[K|5]<<16|O[K|6]<<8|O[K|7],O[K|8]<<24|O[K|9]<<16|O[K|10]<<8|O[K|11],O[K|12]<<24|O[K|13]<<16|O[K|14]<<8|O[K|15],O[K|16]<<24|O[K|17]<<16|O[K|18]<<8|O[K|19],O[K|20]<<24|O[K|21]<<16|O[K|22]<<8|O[K|23],O[K|24]<<24|O[K|25]<<16|O[K|26]<<8|O[K|27],O[K|28]<<24|O[K|29]<<16|O[K|30]<<8|O[K|31],O[K|32]<<24|O[K|33]<<16|O[K|34]<<8|O[K|35],O[K|36]<<24|O[K|37]<<16|O[K|38]<<8|O[K|39],O[K|40]<<24|O[K|41]<<16|O[K|42]<<8|O[K|43],O[K|44]<<24|O[K|45]<<16|O[K|46]<<8|O[K|47],O[K|48]<<24|O[K|49]<<16|O[K|50]<<8|O[K|51],O[K|52]<<24|O[K|53]<<16|O[K|54]<<8|O[K|55],O[K|56]<<24|O[K|57]<<16|O[K|58]<<8|O[K|59],O[K|60]<<24|O[K|61]<<16|O[K|62]<<8|O[K|63])}function S(K){K=K|0,O[K|0]=i>>>24,O[K|1]=i>>>16&255,O[K|2]=i>>>8&255,O[K|3]=i&255,O[K|4]=s>>>24,O[K|5]=s>>>16&255,O[K|6]=s>>>8&255,O[K|7]=s&255,O[K|8]=a>>>24,O[K|9]=a>>>16&255,O[K|10]=a>>>8&255,O[K|11]=a&255,O[K|12]=o>>>24,O[K|13]=o>>>16&255,O[K|14]=o>>>8&255,O[K|15]=o&255,O[K|16]=u>>>24,O[K|17]=u>>>16&255,O[K|18]=u>>>8&255,O[K|19]=u&255,O[K|20]=c>>>24,O[K|21]=c>>>16&255,O[K|22]=c>>>8&255,O[K|23]=c&255,O[K|24]=l>>>24,O[K|25]=l>>>16&255,O[K|26]=l>>>8&255,O[K|27]=l&255,O[K|28]=h>>>24,O[K|29]=h>>>16&255,O[K|30]=h>>>8&255,O[K|31]=h&255}function U(){i=1779033703,s=3144134277,a=1013904242,o=2773480762,u=1359893119,c=2600822924,l=528734635,h=1541459225,d=p=0}function V(K,C,Y,T,N,L,B,R,D,j){K=K|0,C=C|0,Y=Y|0,T=T|0,N=N|0,L=L|0,B=B|0,R=R|0,D=D|0,j=j|0,i=K,s=C,a=Y,o=T,u=N,c=L,l=B,h=R,d=D,p=j}function Q(K,C){K=K|0,C=C|0;var Y=0;if(K&63)return-1;for(;(C|0)>=64;)Z(K),K=K+64|0,C=C-64|0,Y=Y+64|0;return d=d+Y|0,d>>>0<Y>>>0&&(p=p+1|0),Y|0}function G(K,C,Y){K=K|0,C=C|0,Y=Y|0;var T=0,N=0;if(K&63||~Y&&Y&31)return-1;if((C|0)>=64){if(T=Q(K,C)|0,(T|0)==-1)return-1;K=K+T|0,C=C-T|0}if(T=T+C|0,d=d+C|0,d>>>0<C>>>0&&(p=p+1|0),O[K|C]=128,(C|0)>=56){for(N=C+1|0;(N|0)<64;N=N+1|0)O[K|N]=0;Z(K),C=0,O[K|0]=0}for(N=C+1|0;(N|0)<59;N=N+1|0)O[K|N]=0;return O[K|56]=p>>>21&255,O[K|57]=p>>>13&255,O[K|58]=p>>>5&255,O[K|59]=p<<3&255|d>>>29,O[K|60]=d>>>21&255,O[K|61]=d>>>13&255,O[K|62]=d>>>5&255,O[K|63]=d<<3&255,Z(K),~Y&&S(Y),T|0}function it(){i=g,s=v,a=_,o=k,u=P,c=A,l=E,h=z,d=64,p=0}function st(){i=w,s=M,a=f,o=b,u=y,c=m,l=x,h=I,d=64,p=0}function rt(K,C,Y,T,N,L,B,R,D,j,et,tt,ot,pt,yt,vt){K=K|0,C=C|0,Y=Y|0,T=T|0,N=N|0,L=L|0,B=B|0,R=R|0,D=D|0,j=j|0,et=et|0,tt=tt|0,ot=ot|0,pt=pt|0,yt=yt|0,vt=vt|0,U(),q(K^1549556828,C^1549556828,Y^1549556828,T^1549556828,N^1549556828,L^1549556828,B^1549556828,R^1549556828,D^1549556828,j^1549556828,et^1549556828,tt^1549556828,ot^1549556828,pt^1549556828,yt^1549556828,vt^1549556828),w=i,M=s,f=a,b=o,y=u,m=c,x=l,I=h,U(),q(K^909522486,C^909522486,Y^909522486,T^909522486,N^909522486,L^909522486,B^909522486,R^909522486,D^909522486,j^909522486,et^909522486,tt^909522486,ot^909522486,pt^909522486,yt^909522486,vt^909522486),g=i,v=s,_=a,k=o,P=u,A=c,E=l,z=h,d=64,p=0}function F(K,C,Y){K=K|0,C=C|0,Y=Y|0;var T=0,N=0,L=0,B=0,R=0,D=0,j=0,et=0,tt=0;return K&63||~Y&&Y&31?-1:(tt=G(K,C,-1)|0,T=i,N=s,L=a,B=o,R=u,D=c,j=l,et=h,st(),q(T,N,L,B,R,D,j,et,2147483648,0,0,0,0,0,0,768),~Y&&S(Y),tt|0)}function H(K,C,Y,T,N){K=K|0,C=C|0,Y=Y|0,T=T|0,N=N|0;var L=0,B=0,R=0,D=0,j=0,et=0,tt=0,ot=0,pt=0,yt=0,vt=0,nt=0,at=0,lt=0,ct=0,ut=0;if(K&63||~N&&N&31)return-1;for(O[K+C|0]=Y>>>24,O[K+C+1|0]=Y>>>16&255,O[K+C+2|0]=Y>>>8&255,O[K+C+3|0]=Y&255,F(K,C+4|0,-1)|0,L=pt=i,B=yt=s,R=vt=a,D=nt=o,j=at=u,et=lt=c,tt=ct=l,ot=ut=h,T=T-1|0;(T|0)>0;)it(),q(pt,yt,vt,nt,at,lt,ct,ut,2147483648,0,0,0,0,0,0,768),pt=i,yt=s,vt=a,nt=o,at=u,lt=c,ct=l,ut=h,st(),q(pt,yt,vt,nt,at,lt,ct,ut,2147483648,0,0,0,0,0,0,768),pt=i,yt=s,vt=a,nt=o,at=u,lt=c,ct=l,ut=h,L=L^i,B=B^s,R=R^a,D=D^o,j=j^u,et=et^c,tt=tt^l,ot=ot^h,T=T-1|0;return i=L,s=B,a=R,o=D,u=j,c=et,l=tt,h=ot,~N&&S(N),0}return{reset:U,init:V,process:Q,finish:G,hmac_reset:it,hmac_init:rt,hmac_finish:F,pbkdf2_generate_block:H}}({Uint8Array},null,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(Y1.push(this.heap),X1.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(t){return new B0().process(t).finish().result}}B0.NAME="sha256";var Ti=Eh;function Eh(e,t){if(!e)throw Error(t||"Assertion failed")}Eh.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)};var yp=kr!==void 0?kr:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Tn(e,t){return e(t={exports:{}},t.exports),t.exports}var xi=Tn(function(e){e.exports=typeof Object.create=="function"?function(t,r){t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}});function J1(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function Z1(e){return e.length===1?"0"+e:e}function Q1(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}var ee={inherits:xi,toArray:function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,a=255&i;s?r.push(s,a):r.push(a)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},toHex:function(e){for(var t="",r=0;r<e.length;r++)t+=Z1(e[r].toString(16));return t},htonl:J1,toHex32:function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];t==="little"&&(i=J1(i)),r+=Q1(i.toString(16))}return r},zero2:Z1,zero8:Q1,join32:function(e,t,r,n){var i=r-t;Ti(i%4==0);for(var s=Array(i/4),a=0,o=t;a<s.length;a++,o+=4){var u;u=n==="big"?e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]:e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o],s[a]=u>>>0}return s},split32:function(e,t){for(var r=Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];t==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},rotr32:function(e,t){return e>>>t|e<<32-t},rotl32:function(e,t){return e<<t|e>>>32-t},sum32:function(e,t){return e+t>>>0},sum32_3:function(e,t,r){return e+t+r>>>0},sum32_4:function(e,t,r,n){return e+t+r+n>>>0},sum32_5:function(e,t,r,n,i){return e+t+r+n+i>>>0},sum64:function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0,a=(s<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=s},sum64_hi:function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},sum64_lo:function(e,t,r,n){return t+n>>>0},sum64_4_hi:function(e,t,r,n,i,s,a,o){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+s>>>0)<s?1:0,e+r+i+a+(u+=(c=c+o>>>0)<o?1:0)>>>0},sum64_4_lo:function(e,t,r,n,i,s,a,o){return t+n+s+o>>>0},sum64_5_hi:function(e,t,r,n,i,s,a,o,u,c){var l=0,h=t;return l+=(h=h+n>>>0)<t?1:0,l+=(h=h+s>>>0)<s?1:0,l+=(h=h+o>>>0)<o?1:0,e+r+i+a+u+(l+=(h=h+c>>>0)<c?1:0)>>>0},sum64_5_lo:function(e,t,r,n,i,s,a,o,u,c){return t+n+s+o+c>>>0},rotr64_hi:function(e,t,r){return(t<<32-r|e>>>r)>>>0},rotr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0},shr64_hi:function(e,t,r){return e>>>r},shr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0}};function Eo(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var bp=Eo;Eo.prototype.update=function(e,t){if(e=ee.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=ee.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},Eo.prototype.digest=function(e){return this.update(this._pad()),Ti(this.pending===null),this._digest(e)},Eo.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var Va={BlockHash:bp},sn=ee.rotr32;function tl(e,t,r){return e&t^~e&r}function el(e,t,r){return e&t^e&r^t&r}function rl(e,t,r){return e^t^r}var os={ft_1:function(e,t,r,n){return e===0?tl(t,r,n):e===1||e===3?rl(t,r,n):e===2?el(t,r,n):void 0},ch32:tl,maj32:el,p32:rl,s0_256:function(e){return sn(e,2)^sn(e,13)^sn(e,22)},s1_256:function(e){return sn(e,6)^sn(e,11)^sn(e,25)},g0_256:function(e){return sn(e,7)^sn(e,18)^e>>>3},g1_256:function(e){return sn(e,17)^sn(e,19)^e>>>10}},Kr=ee.sum32,gp=ee.sum32_4,vp=ee.sum32_5,wp=os.ch32,_p=os.maj32,xp=os.s0_256,Ap=os.s1_256,Sp=os.g0_256,kp=os.g1_256,Ph=Va.BlockHash,Ep=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ln(){if(!(this instanceof ln))return new ln;Ph.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Ep,this.W=Array(64)}ee.inherits(ln,Ph);var Ou=ln;function Fn(){if(!(this instanceof Fn))return new Fn;Ou.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}ln.blockSize=512,ln.outSize=256,ln.hmacStrength=192,ln.padLength=64,ln.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=gp(kp(r[n-2]),r[n-7],Sp(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],a=this.h[2],o=this.h[3],u=this.h[4],c=this.h[5],l=this.h[6],h=this.h[7];for(Ti(this.k.length===r.length),n=0;n<r.length;n++){var d=vp(h,Ap(u),wp(u,c,l),this.k[n],r[n]),p=Kr(xp(i),_p(i,s,a));h=l,l=c,c=u,u=Kr(o,d),o=a,a=s,s=i,i=Kr(d,p)}this.h[0]=Kr(this.h[0],i),this.h[1]=Kr(this.h[1],s),this.h[2]=Kr(this.h[2],a),this.h[3]=Kr(this.h[3],o),this.h[4]=Kr(this.h[4],u),this.h[5]=Kr(this.h[5],c),this.h[6]=Kr(this.h[6],l),this.h[7]=Kr(this.h[7],h)},ln.prototype._digest=function(e){return e==="hex"?ee.toHex32(this.h,"big"):ee.split32(this.h,"big")},ee.inherits(Fn,Ou);var Ch=Fn;Fn.blockSize=512,Fn.outSize=224,Fn.hmacStrength=192,Fn.padLength=64,Fn.prototype._digest=function(e){return e==="hex"?ee.toHex32(this.h.slice(0,7),"big"):ee.split32(this.h.slice(0,7),"big")};var _n=ee.rotr64_hi,xn=ee.rotr64_lo,Mh=ee.shr64_hi,Rh=ee.shr64_lo,ai=ee.sum64,fc=ee.sum64_hi,hc=ee.sum64_lo,Pp=ee.sum64_4_hi,Cp=ee.sum64_4_lo,Mp=ee.sum64_5_hi,Rp=ee.sum64_5_lo,Th=Va.BlockHash,Tp=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function jr(){if(!(this instanceof jr))return new jr;Th.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Tp,this.W=Array(160)}ee.inherits(jr,Th);var Ya=jr;function Ip(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function Bp(e,t,r,n,i,s){var a=t&n^~t&s;return a<0&&(a+=4294967296),a}function Dp(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function Up(e,t,r,n,i,s){var a=t&n^t&s^n&s;return a<0&&(a+=4294967296),a}function Np(e,t){var r=_n(e,t,28)^_n(t,e,2)^_n(t,e,7);return r<0&&(r+=4294967296),r}function Op(e,t){var r=xn(e,t,28)^xn(t,e,2)^xn(t,e,7);return r<0&&(r+=4294967296),r}function zp(e,t){var r=_n(e,t,14)^_n(e,t,18)^_n(t,e,9);return r<0&&(r+=4294967296),r}function Fp(e,t){var r=xn(e,t,14)^xn(e,t,18)^xn(t,e,9);return r<0&&(r+=4294967296),r}function Kp(e,t){var r=_n(e,t,1)^_n(e,t,8)^Mh(e,t,7);return r<0&&(r+=4294967296),r}function Lp(e,t){var r=xn(e,t,1)^xn(e,t,8)^Rh(e,t,7);return r<0&&(r+=4294967296),r}function jp(e,t){var r=_n(e,t,19)^_n(t,e,29)^Mh(e,t,6);return r<0&&(r+=4294967296),r}function qp(e,t){var r=xn(e,t,19)^xn(t,e,29)^Rh(e,t,6);return r<0&&(r+=4294967296),r}function Kn(){if(!(this instanceof Kn))return new Kn;Ya.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}jr.blockSize=1024,jr.outSize=512,jr.hmacStrength=192,jr.padLength=128,jr.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=jp(r[n-4],r[n-3]),s=qp(r[n-4],r[n-3]),a=r[n-14],o=r[n-13],u=Kp(r[n-30],r[n-29]),c=Lp(r[n-30],r[n-29]),l=r[n-32],h=r[n-31];r[n]=Pp(i,s,a,o,u,c,l,h),r[n+1]=Cp(i,s,a,o,u,c,l,h)}},jr.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],o=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7],h=this.h[8],d=this.h[9],p=this.h[10],g=this.h[11],v=this.h[12],_=this.h[13],k=this.h[14],P=this.h[15];Ti(this.k.length===r.length);for(var A=0;A<r.length;A+=2){var E=k,z=P,w=zp(h,d),M=Fp(h,d),f=Ip(h,d,p,g,v),b=Bp(h,d,p,g,v,_),y=this.k[A],m=this.k[A+1],x=r[A],I=r[A+1],O=Mp(E,z,w,M,f,b,y,m,x,I),q=Rp(E,z,w,M,f,b,y,m,x,I);E=Np(n,i),z=Op(n,i),w=Dp(n,i,s,a,o),M=Up(n,i,s,a,o,u);var Z=fc(E,z,w,M),S=hc(E,z,w,M);k=v,P=_,v=p,_=g,p=h,g=d,h=fc(c,l,O,q),d=hc(l,l,O,q),c=o,l=u,o=s,u=a,s=n,a=i,n=fc(O,q,Z,S),i=hc(O,q,Z,S)}ai(this.h,0,n,i),ai(this.h,2,s,a),ai(this.h,4,o,u),ai(this.h,6,c,l),ai(this.h,8,h,d),ai(this.h,10,p,g),ai(this.h,12,v,_),ai(this.h,14,k,P)},jr.prototype._digest=function(e){return e==="hex"?ee.toHex32(this.h,"big"):ee.split32(this.h,"big")},ee.inherits(Kn,Ya);var Ih=Kn;Kn.blockSize=1024,Kn.outSize=384,Kn.hmacStrength=192,Kn.padLength=128,Kn.prototype._digest=function(e){return e==="hex"?ee.toHex32(this.h.slice(0,12),"big"):ee.split32(this.h.slice(0,12),"big")};var so=ee.rotl32,nl=ee.sum32,Xs=ee.sum32_3,il=ee.sum32_4,Bh=Va.BlockHash;function fn(){if(!(this instanceof fn))return new fn;Bh.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ee.inherits(fn,Bh);var Dh=fn;function sl(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function $p(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Hp(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}fn.blockSize=512,fn.outSize=160,fn.hmacStrength=192,fn.padLength=64,fn.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],a=this.h[4],o=r,u=n,c=i,l=s,h=a,d=0;d<80;d++){var p=nl(so(il(r,sl(d,n,i,s),e[Wp[d]+t],$p(d)),Vp[d]),a);r=a,a=s,s=so(i,10),i=n,n=p,p=nl(so(il(o,sl(79-d,u,c,l),e[Gp[d]+t],Hp(d)),Yp[d]),h),o=h,h=l,l=so(c,10),c=u,u=p}p=Xs(this.h[1],i,l),this.h[1]=Xs(this.h[2],s,h),this.h[2]=Xs(this.h[3],a,o),this.h[3]=Xs(this.h[4],r,u),this.h[4]=Xs(this.h[0],n,c),this.h[0]=p},fn.prototype._digest=function(e){return e==="hex"?ee.toHex32(this.h,"little"):ee.split32(this.h,"little")};var Wp=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Gp=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Vp=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Yp=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Xp={ripemd160:Dh};function dc(e,t){let r=e[0],n=e[1],i=e[2],s=e[3];r=Xe(r,n,i,s,t[0],7,-680876936),s=Xe(s,r,n,i,t[1],12,-389564586),i=Xe(i,s,r,n,t[2],17,606105819),n=Xe(n,i,s,r,t[3],22,-1044525330),r=Xe(r,n,i,s,t[4],7,-176418897),s=Xe(s,r,n,i,t[5],12,1200080426),i=Xe(i,s,r,n,t[6],17,-1473231341),n=Xe(n,i,s,r,t[7],22,-45705983),r=Xe(r,n,i,s,t[8],7,1770035416),s=Xe(s,r,n,i,t[9],12,-1958414417),i=Xe(i,s,r,n,t[10],17,-42063),n=Xe(n,i,s,r,t[11],22,-1990404162),r=Xe(r,n,i,s,t[12],7,1804603682),s=Xe(s,r,n,i,t[13],12,-40341101),i=Xe(i,s,r,n,t[14],17,-1502002290),n=Xe(n,i,s,r,t[15],22,1236535329),r=Je(r,n,i,s,t[1],5,-165796510),s=Je(s,r,n,i,t[6],9,-1069501632),i=Je(i,s,r,n,t[11],14,643717713),n=Je(n,i,s,r,t[0],20,-373897302),r=Je(r,n,i,s,t[5],5,-701558691),s=Je(s,r,n,i,t[10],9,38016083),i=Je(i,s,r,n,t[15],14,-660478335),n=Je(n,i,s,r,t[4],20,-405537848),r=Je(r,n,i,s,t[9],5,568446438),s=Je(s,r,n,i,t[14],9,-1019803690),i=Je(i,s,r,n,t[3],14,-187363961),n=Je(n,i,s,r,t[8],20,1163531501),r=Je(r,n,i,s,t[13],5,-1444681467),s=Je(s,r,n,i,t[2],9,-51403784),i=Je(i,s,r,n,t[7],14,1735328473),n=Je(n,i,s,r,t[12],20,-1926607734),r=Ze(r,n,i,s,t[5],4,-378558),s=Ze(s,r,n,i,t[8],11,-2022574463),i=Ze(i,s,r,n,t[11],16,1839030562),n=Ze(n,i,s,r,t[14],23,-35309556),r=Ze(r,n,i,s,t[1],4,-1530992060),s=Ze(s,r,n,i,t[4],11,1272893353),i=Ze(i,s,r,n,t[7],16,-155497632),n=Ze(n,i,s,r,t[10],23,-1094730640),r=Ze(r,n,i,s,t[13],4,681279174),s=Ze(s,r,n,i,t[0],11,-358537222),i=Ze(i,s,r,n,t[3],16,-722521979),n=Ze(n,i,s,r,t[6],23,76029189),r=Ze(r,n,i,s,t[9],4,-640364487),s=Ze(s,r,n,i,t[12],11,-421815835),i=Ze(i,s,r,n,t[15],16,530742520),n=Ze(n,i,s,r,t[2],23,-995338651),r=Qe(r,n,i,s,t[0],6,-198630844),s=Qe(s,r,n,i,t[7],10,1126891415),i=Qe(i,s,r,n,t[14],15,-1416354905),n=Qe(n,i,s,r,t[5],21,-57434055),r=Qe(r,n,i,s,t[12],6,1700485571),s=Qe(s,r,n,i,t[3],10,-1894986606),i=Qe(i,s,r,n,t[10],15,-1051523),n=Qe(n,i,s,r,t[1],21,-2054922799),r=Qe(r,n,i,s,t[8],6,1873313359),s=Qe(s,r,n,i,t[15],10,-30611744),i=Qe(i,s,r,n,t[6],15,-1560198380),n=Qe(n,i,s,r,t[13],21,1309151649),r=Qe(r,n,i,s,t[4],6,-145523070),s=Qe(s,r,n,i,t[11],10,-1120210379),i=Qe(i,s,r,n,t[2],15,718787259),n=Qe(n,i,s,r,t[9],21,-343485551),e[0]=bi(r,e[0]),e[1]=bi(n,e[1]),e[2]=bi(i,e[2]),e[3]=bi(s,e[3])}function D0(e,t,r,n,i,s){return t=bi(bi(t,e),bi(n,s)),bi(t<<i|t>>>32-i,r)}function Xe(e,t,r,n,i,s,a){return D0(t&r|~t&n,e,t,i,s,a)}function Je(e,t,r,n,i,s,a){return D0(t&n|r&~n,e,t,i,s,a)}function Ze(e,t,r,n,i,s,a){return D0(t^r^n,e,t,i,s,a)}function Qe(e,t,r,n,i,s,a){return D0(r^(t|~n),e,t,i,s,a)}function Jp(e){const t=[];let r;for(r=0;r<64;r+=4)t[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return t}const al="0123456789abcdef".split("");function Zp(e){let t="",r=0;for(;r<4;r++)t+=al[e>>8*r+4&15]+al[e>>8*r&15];return t}function bi(e,t){return e+t&4294967295}const $o=X.getWebCrypto(),Uh=X.getNodeCrypto();function zi(e){return async function(t){const r=Uh.createHash(e);return Ee(t,n=>{r.update(n)},()=>new Uint8Array(r.digest()))}}function ao(e,t){return async function(r,n=Ht){if(Re(r)&&(r=await Ie(r)),!X.isStream(r)&&$o&&t&&r.length>=n.minBytesForWebCrypto)return new Uint8Array(await $o.digest(t,r));const i=e();return Ee(r,s=>{i.update(s)},()=>new Uint8Array(i.digest()))}}function ol(e,t){return async function(r,n=Ht){if(Re(r)&&(r=await Ie(r)),X.isStream(r)){const i=new e;return Ee(r,s=>{i.process(s)},()=>i.finish().result)}return $o&&t&&r.length>=n.minBytesForWebCrypto?new Uint8Array(await $o.digest(t,r)):e.bytes(r)}}let ci;ci=Uh?{md5:zi("md5"),sha1:zi("sha1"),sha224:zi("sha224"),sha256:zi("sha256"),sha384:zi("sha384"),sha512:zi("sha512"),ripemd:zi("ripemd160")}:{md5:async function(e){const t=function(r){const n=r.length,i=[1732584193,-271733879,-1732584194,271733878];let s;for(s=64;s<=r.length;s+=64)dc(i,Jp(r.substring(s-64,s)));r=r.substring(s-64);const a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<r.length;s++)a[s>>2]|=r.charCodeAt(s)<<(s%4<<3);if(a[s>>2]|=128<<(s%4<<3),s>55)for(dc(i,a),s=0;s<16;s++)a[s]=0;return a[14]=8*n,dc(i,a),i}(X.uint8ArrayToString(e));return X.hexToUint8Array(function(r){for(let n=0;n<r.length;n++)r[n]=Zp(r[n]);return r.join("")}(t))},sha1:ol(Wi,"SHA-1"),sha224:ao(Ch),sha256:ol(B0,"SHA-256"),sha384:ao(Ih,"SHA-384"),sha512:ao(Ya,"SHA-512"),ripemd:ao(Dh)};var Is={md5:ci.md5,sha1:ci.sha1,sha224:ci.sha224,sha256:ci.sha256,sha384:ci.sha384,sha512:ci.sha512,ripemd:ci.ripemd,digest:function(e,t){switch(e){case J.hash.md5:return this.md5(t);case J.hash.sha1:return this.sha1(t);case J.hash.ripemd:return this.ripemd(t);case J.hash.sha256:return this.sha256(t);case J.hash.sha384:return this.sha384(t);case J.hash.sha512:return this.sha512(t);case J.hash.sha224:return this.sha224(t);default:throw Error("Invalid hash function.")}},getHashByteLength:function(e){switch(e){case J.hash.md5:return 16;case J.hash.sha1:case J.hash.ripemd:return 20;case J.hash.sha256:return 32;case J.hash.sha384:return 48;case J.hash.sha512:return 64;case J.hash.sha224:return 28;default:throw Error("Invalid hash algorithm.")}}};class ks{static encrypt(t,r,n){return new ks(r,n).encrypt(t)}static decrypt(t,r,n){return new ks(r,n).decrypt(t)}constructor(t,r,n){this.aes=n||new Ga(t,r,!0,"CFB"),delete this.aes.padding}encrypt(t){return Pi(this.aes.AES_Encrypt_process(t),this.aes.AES_Encrypt_finish())}decrypt(t){return Pi(this.aes.AES_Decrypt_process(t),this.aes.AES_Decrypt_finish())}}var An=Tn(function(e){(function(t){var r=function(F){var H,K=new Float64Array(16);if(F)for(H=0;H<F.length;H++)K[H]=F[H];return K},n=function(){throw Error("no PRNG")},i=new Uint8Array(32);i[0]=9;var s=r(),a=r([1]),o=r([56129,1]),u=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(F,H,K,C){return function(Y,T,N,L,B){var R,D=0;for(R=0;R<B;R++)D|=Y[T+R]^N[L+R];return(1&D-1>>>8)-1}(F,H,K,C,32)}function g(F,H){var K;for(K=0;K<16;K++)F[K]=0|H[K]}function v(F){var H,K,C=1;for(H=0;H<16;H++)K=F[H]+C+65535,C=Math.floor(K/65536),F[H]=K-65536*C;F[0]+=C-1+37*(C-1)}function _(F,H,K){for(var C,Y=~(K-1),T=0;T<16;T++)C=Y&(F[T]^H[T]),F[T]^=C,H[T]^=C}function k(F,H){var K,C,Y,T=r(),N=r();for(K=0;K<16;K++)N[K]=H[K];for(v(N),v(N),v(N),C=0;C<2;C++){for(T[0]=N[0]-65517,K=1;K<15;K++)T[K]=N[K]-65535-(T[K-1]>>16&1),T[K-1]&=65535;T[15]=N[15]-32767-(T[14]>>16&1),Y=T[15]>>16&1,T[14]&=65535,_(N,T,1-Y)}for(K=0;K<16;K++)F[2*K]=255&N[K],F[2*K+1]=N[K]>>8}function P(F,H){var K=new Uint8Array(32),C=new Uint8Array(32);return k(K,F),k(C,H),p(K,0,C,0)}function A(F){var H=new Uint8Array(32);return k(H,F),1&H[0]}function E(F,H){var K;for(K=0;K<16;K++)F[K]=H[2*K]+(H[2*K+1]<<8);F[15]&=32767}function z(F,H,K){for(var C=0;C<16;C++)F[C]=H[C]+K[C]}function w(F,H,K){for(var C=0;C<16;C++)F[C]=H[C]-K[C]}function M(F,H,K){var C,Y,T=0,N=0,L=0,B=0,R=0,D=0,j=0,et=0,tt=0,ot=0,pt=0,yt=0,vt=0,nt=0,at=0,lt=0,ct=0,ut=0,ft=0,W=0,$=0,wt=0,gt=0,Nt=0,ne=0,Ft=0,zt=0,me=0,Gt=0,Qt=0,Se=0,Ot=K[0],Kt=K[1],ae=K[2],Ut=K[3],$t=K[4],le=K[5],qt=K[6],mt=K[7],bt=K[8],_t=K[9],Pt=K[10],Dt=K[11],Rt=K[12],It=K[13],oe=K[14],Vt=K[15];T+=(C=H[0])*Ot,N+=C*Kt,L+=C*ae,B+=C*Ut,R+=C*$t,D+=C*le,j+=C*qt,et+=C*mt,tt+=C*bt,ot+=C*_t,pt+=C*Pt,yt+=C*Dt,vt+=C*Rt,nt+=C*It,at+=C*oe,lt+=C*Vt,N+=(C=H[1])*Ot,L+=C*Kt,B+=C*ae,R+=C*Ut,D+=C*$t,j+=C*le,et+=C*qt,tt+=C*mt,ot+=C*bt,pt+=C*_t,yt+=C*Pt,vt+=C*Dt,nt+=C*Rt,at+=C*It,lt+=C*oe,ct+=C*Vt,L+=(C=H[2])*Ot,B+=C*Kt,R+=C*ae,D+=C*Ut,j+=C*$t,et+=C*le,tt+=C*qt,ot+=C*mt,pt+=C*bt,yt+=C*_t,vt+=C*Pt,nt+=C*Dt,at+=C*Rt,lt+=C*It,ct+=C*oe,ut+=C*Vt,B+=(C=H[3])*Ot,R+=C*Kt,D+=C*ae,j+=C*Ut,et+=C*$t,tt+=C*le,ot+=C*qt,pt+=C*mt,yt+=C*bt,vt+=C*_t,nt+=C*Pt,at+=C*Dt,lt+=C*Rt,ct+=C*It,ut+=C*oe,ft+=C*Vt,R+=(C=H[4])*Ot,D+=C*Kt,j+=C*ae,et+=C*Ut,tt+=C*$t,ot+=C*le,pt+=C*qt,yt+=C*mt,vt+=C*bt,nt+=C*_t,at+=C*Pt,lt+=C*Dt,ct+=C*Rt,ut+=C*It,ft+=C*oe,W+=C*Vt,D+=(C=H[5])*Ot,j+=C*Kt,et+=C*ae,tt+=C*Ut,ot+=C*$t,pt+=C*le,yt+=C*qt,vt+=C*mt,nt+=C*bt,at+=C*_t,lt+=C*Pt,ct+=C*Dt,ut+=C*Rt,ft+=C*It,W+=C*oe,$+=C*Vt,j+=(C=H[6])*Ot,et+=C*Kt,tt+=C*ae,ot+=C*Ut,pt+=C*$t,yt+=C*le,vt+=C*qt,nt+=C*mt,at+=C*bt,lt+=C*_t,ct+=C*Pt,ut+=C*Dt,ft+=C*Rt,W+=C*It,$+=C*oe,wt+=C*Vt,et+=(C=H[7])*Ot,tt+=C*Kt,ot+=C*ae,pt+=C*Ut,yt+=C*$t,vt+=C*le,nt+=C*qt,at+=C*mt,lt+=C*bt,ct+=C*_t,ut+=C*Pt,ft+=C*Dt,W+=C*Rt,$+=C*It,wt+=C*oe,gt+=C*Vt,tt+=(C=H[8])*Ot,ot+=C*Kt,pt+=C*ae,yt+=C*Ut,vt+=C*$t,nt+=C*le,at+=C*qt,lt+=C*mt,ct+=C*bt,ut+=C*_t,ft+=C*Pt,W+=C*Dt,$+=C*Rt,wt+=C*It,gt+=C*oe,Nt+=C*Vt,ot+=(C=H[9])*Ot,pt+=C*Kt,yt+=C*ae,vt+=C*Ut,nt+=C*$t,at+=C*le,lt+=C*qt,ct+=C*mt,ut+=C*bt,ft+=C*_t,W+=C*Pt,$+=C*Dt,wt+=C*Rt,gt+=C*It,Nt+=C*oe,ne+=C*Vt,pt+=(C=H[10])*Ot,yt+=C*Kt,vt+=C*ae,nt+=C*Ut,at+=C*$t,lt+=C*le,ct+=C*qt,ut+=C*mt,ft+=C*bt,W+=C*_t,$+=C*Pt,wt+=C*Dt,gt+=C*Rt,Nt+=C*It,ne+=C*oe,Ft+=C*Vt,yt+=(C=H[11])*Ot,vt+=C*Kt,nt+=C*ae,at+=C*Ut,lt+=C*$t,ct+=C*le,ut+=C*qt,ft+=C*mt,W+=C*bt,$+=C*_t,wt+=C*Pt,gt+=C*Dt,Nt+=C*Rt,ne+=C*It,Ft+=C*oe,zt+=C*Vt,vt+=(C=H[12])*Ot,nt+=C*Kt,at+=C*ae,lt+=C*Ut,ct+=C*$t,ut+=C*le,ft+=C*qt,W+=C*mt,$+=C*bt,wt+=C*_t,gt+=C*Pt,Nt+=C*Dt,ne+=C*Rt,Ft+=C*It,zt+=C*oe,me+=C*Vt,nt+=(C=H[13])*Ot,at+=C*Kt,lt+=C*ae,ct+=C*Ut,ut+=C*$t,ft+=C*le,W+=C*qt,$+=C*mt,wt+=C*bt,gt+=C*_t,Nt+=C*Pt,ne+=C*Dt,Ft+=C*Rt,zt+=C*It,me+=C*oe,Gt+=C*Vt,at+=(C=H[14])*Ot,lt+=C*Kt,ct+=C*ae,ut+=C*Ut,ft+=C*$t,W+=C*le,$+=C*qt,wt+=C*mt,gt+=C*bt,Nt+=C*_t,ne+=C*Pt,Ft+=C*Dt,zt+=C*Rt,me+=C*It,Gt+=C*oe,Qt+=C*Vt,lt+=(C=H[15])*Ot,N+=38*(ut+=C*ae),L+=38*(ft+=C*Ut),B+=38*(W+=C*$t),R+=38*($+=C*le),D+=38*(wt+=C*qt),j+=38*(gt+=C*mt),et+=38*(Nt+=C*bt),tt+=38*(ne+=C*_t),ot+=38*(Ft+=C*Pt),pt+=38*(zt+=C*Dt),yt+=38*(me+=C*Rt),vt+=38*(Gt+=C*It),nt+=38*(Qt+=C*oe),at+=38*(Se+=C*Vt),T=(C=(T+=38*(ct+=C*Kt))+(Y=1)+65535)-65536*(Y=Math.floor(C/65536)),N=(C=N+Y+65535)-65536*(Y=Math.floor(C/65536)),L=(C=L+Y+65535)-65536*(Y=Math.floor(C/65536)),B=(C=B+Y+65535)-65536*(Y=Math.floor(C/65536)),R=(C=R+Y+65535)-65536*(Y=Math.floor(C/65536)),D=(C=D+Y+65535)-65536*(Y=Math.floor(C/65536)),j=(C=j+Y+65535)-65536*(Y=Math.floor(C/65536)),et=(C=et+Y+65535)-65536*(Y=Math.floor(C/65536)),tt=(C=tt+Y+65535)-65536*(Y=Math.floor(C/65536)),ot=(C=ot+Y+65535)-65536*(Y=Math.floor(C/65536)),pt=(C=pt+Y+65535)-65536*(Y=Math.floor(C/65536)),yt=(C=yt+Y+65535)-65536*(Y=Math.floor(C/65536)),vt=(C=vt+Y+65535)-65536*(Y=Math.floor(C/65536)),nt=(C=nt+Y+65535)-65536*(Y=Math.floor(C/65536)),at=(C=at+Y+65535)-65536*(Y=Math.floor(C/65536)),lt=(C=lt+Y+65535)-65536*(Y=Math.floor(C/65536)),T=(C=(T+=Y-1+37*(Y-1))+(Y=1)+65535)-65536*(Y=Math.floor(C/65536)),N=(C=N+Y+65535)-65536*(Y=Math.floor(C/65536)),L=(C=L+Y+65535)-65536*(Y=Math.floor(C/65536)),B=(C=B+Y+65535)-65536*(Y=Math.floor(C/65536)),R=(C=R+Y+65535)-65536*(Y=Math.floor(C/65536)),D=(C=D+Y+65535)-65536*(Y=Math.floor(C/65536)),j=(C=j+Y+65535)-65536*(Y=Math.floor(C/65536)),et=(C=et+Y+65535)-65536*(Y=Math.floor(C/65536)),tt=(C=tt+Y+65535)-65536*(Y=Math.floor(C/65536)),ot=(C=ot+Y+65535)-65536*(Y=Math.floor(C/65536)),pt=(C=pt+Y+65535)-65536*(Y=Math.floor(C/65536)),yt=(C=yt+Y+65535)-65536*(Y=Math.floor(C/65536)),vt=(C=vt+Y+65535)-65536*(Y=Math.floor(C/65536)),nt=(C=nt+Y+65535)-65536*(Y=Math.floor(C/65536)),at=(C=at+Y+65535)-65536*(Y=Math.floor(C/65536)),lt=(C=lt+Y+65535)-65536*(Y=Math.floor(C/65536)),T+=Y-1+37*(Y-1),F[0]=T,F[1]=N,F[2]=L,F[3]=B,F[4]=R,F[5]=D,F[6]=j,F[7]=et,F[8]=tt,F[9]=ot,F[10]=pt,F[11]=yt,F[12]=vt,F[13]=nt,F[14]=at,F[15]=lt}function f(F,H){M(F,H,H)}function b(F,H){var K,C=r();for(K=0;K<16;K++)C[K]=H[K];for(K=253;K>=0;K--)f(C,C),K!==2&&K!==4&&M(C,C,H);for(K=0;K<16;K++)F[K]=C[K]}function y(F,H,K){var C,Y,T=new Uint8Array(32),N=new Float64Array(80),L=r(),B=r(),R=r(),D=r(),j=r(),et=r();for(Y=0;Y<31;Y++)T[Y]=H[Y];for(T[31]=127&H[31]|64,T[0]&=248,E(N,K),Y=0;Y<16;Y++)B[Y]=N[Y],D[Y]=L[Y]=R[Y]=0;for(L[0]=D[0]=1,Y=254;Y>=0;--Y)_(L,B,C=T[Y>>>3]>>>(7&Y)&1),_(R,D,C),z(j,L,R),w(L,L,R),z(R,B,D),w(B,B,D),f(D,j),f(et,L),M(L,R,L),M(R,B,j),z(j,L,R),w(L,L,R),f(B,L),w(R,D,et),M(L,R,o),z(L,L,D),M(R,R,L),M(L,D,et),M(D,B,N),f(B,j),_(L,B,C),_(R,D,C);for(Y=0;Y<16;Y++)N[Y+16]=L[Y],N[Y+32]=R[Y],N[Y+48]=B[Y],N[Y+64]=D[Y];var tt=N.subarray(32),ot=N.subarray(16);return b(tt,tt),M(ot,ot,tt),k(F,ot),0}function m(F,H){return y(F,H,i)}function x(F,H){var K=r(),C=r(),Y=r(),T=r(),N=r(),L=r(),B=r(),R=r(),D=r();w(K,F[1],F[0]),w(D,H[1],H[0]),M(K,K,D),z(C,F[0],F[1]),z(D,H[0],H[1]),M(C,C,D),M(Y,F[3],H[3]),M(Y,Y,c),M(T,F[2],H[2]),z(T,T,T),w(N,C,K),w(L,T,Y),z(B,T,Y),z(R,C,K),M(F[0],N,L),M(F[1],R,B),M(F[2],B,L),M(F[3],N,R)}function I(F,H,K){var C;for(C=0;C<4;C++)_(F[C],H[C],K)}function O(F,H){var K=r(),C=r(),Y=r();b(Y,H[2]),M(K,H[0],Y),M(C,H[1],Y),k(F,C),F[31]^=A(K)<<7}function q(F,H,K){var C,Y;for(g(F[0],s),g(F[1],a),g(F[2],a),g(F[3],s),Y=255;Y>=0;--Y)I(F,H,C=K[Y/8|0]>>(7&Y)&1),x(H,F),x(F,F),I(F,H,C)}function Z(F,H){var K=[r(),r(),r(),r()];g(K[0],l),g(K[1],h),g(K[2],a),M(K[3],l,h),q(F,K,H)}function S(F,H,K){var C,Y,T=[r(),r(),r(),r()];for(K||n(H,32),(C=t.hash(H.subarray(0,32)))[0]&=248,C[31]&=127,C[31]|=64,Z(T,C),O(F,T),Y=0;Y<32;Y++)H[Y+32]=F[Y];return 0}var U=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function V(F,H){var K,C,Y,T;for(C=63;C>=32;--C){for(K=0,Y=C-32,T=C-12;Y<T;++Y)H[Y]+=K-16*H[C]*U[Y-(C-32)],K=Math.floor((H[Y]+128)/256),H[Y]-=256*K;H[Y]+=K,H[C]=0}for(K=0,Y=0;Y<32;Y++)H[Y]+=K-(H[31]>>4)*U[Y],K=H[Y]>>8,H[Y]&=255;for(Y=0;Y<32;Y++)H[Y]-=K*U[Y];for(C=0;C<32;C++)H[C+1]+=H[C]>>8,F[C]=255&H[C]}function Q(F){var H,K=new Float64Array(64);for(H=0;H<64;H++)K[H]=F[H];for(H=0;H<64;H++)F[H]=0;V(F,K)}function G(F,H){var K=r(),C=r(),Y=r(),T=r(),N=r(),L=r(),B=r();return g(F[2],a),E(F[1],H),f(Y,F[1]),M(T,Y,u),w(Y,Y,F[2]),z(T,F[2],T),f(N,T),f(L,N),M(B,L,N),M(K,B,Y),M(K,K,T),function(R,D){var j,et=r();for(j=0;j<16;j++)et[j]=D[j];for(j=250;j>=0;j--)f(et,et),j!==1&&M(et,et,D);for(j=0;j<16;j++)R[j]=et[j]}(K,K),M(K,K,Y),M(K,K,T),M(K,K,T),M(F[0],K,T),f(C,F[0]),M(C,C,T),P(C,Y)&&M(F[0],F[0],d),f(C,F[0]),M(C,C,T),P(C,Y)?-1:(A(F[0])===H[31]>>7&&w(F[0],s,F[0]),M(F[3],F[0],F[1]),0)}var it=64;function st(){for(var F=0;F<arguments.length;F++)if(!(arguments[F]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function rt(F){for(var H=0;H<F.length;H++)F[H]=0}t.scalarMult=function(F,H){if(st(F,H),F.length!==32)throw Error("bad n size");if(H.length!==32)throw Error("bad p size");var K=new Uint8Array(32);return y(K,F,H),K},t.box={},t.box.keyPair=function(){var F,H,K=new Uint8Array(32),C=new Uint8Array(32);return F=K,n(H=C,32),m(F,H),{publicKey:K,secretKey:C}},t.box.keyPair.fromSecretKey=function(F){if(st(F),F.length!==32)throw Error("bad secret key size");var H=new Uint8Array(32);return m(H,F),{publicKey:H,secretKey:new Uint8Array(F)}},t.sign=function(F,H){if(st(F,H),H.length!==64)throw Error("bad secret key size");var K=new Uint8Array(it+F.length);return function(C,Y,T,N){var L,B,R,D,j,et=new Float64Array(64),tt=[r(),r(),r(),r()];(L=t.hash(N.subarray(0,32)))[0]&=248,L[31]&=127,L[31]|=64;var ot=T+64;for(D=0;D<T;D++)C[64+D]=Y[D];for(D=0;D<32;D++)C[32+D]=L[32+D];for(Q(R=t.hash(C.subarray(32,ot))),Z(tt,R),O(C,tt),D=32;D<64;D++)C[D]=N[D];for(Q(B=t.hash(C.subarray(0,ot))),D=0;D<64;D++)et[D]=0;for(D=0;D<32;D++)et[D]=R[D];for(D=0;D<32;D++)for(j=0;j<32;j++)et[D+j]+=B[D]*L[j];V(C.subarray(32),et)}(K,F,F.length,H),K},t.sign.detached=function(F,H){for(var K=t.sign(F,H),C=new Uint8Array(it),Y=0;Y<C.length;Y++)C[Y]=K[Y];return C},t.sign.detached.verify=function(F,H,K){if(st(F,H,K),H.length!==it)throw Error("bad signature size");if(K.length!==32)throw Error("bad public key size");var C,Y=new Uint8Array(it+F.length),T=new Uint8Array(it+F.length);for(C=0;C<it;C++)Y[C]=H[C];for(C=0;C<F.length;C++)Y[C+it]=F[C];return function(N,L,B,R){var D,j,et=new Uint8Array(32),tt=[r(),r(),r(),r()],ot=[r(),r(),r(),r()];if(B<64||G(ot,R))return-1;for(D=0;D<B;D++)N[D]=L[D];for(D=0;D<32;D++)N[D+32]=R[D];if(Q(j=t.hash(N.subarray(0,B))),q(tt,ot,j),Z(ot,L.subarray(32)),x(tt,ot),O(et,tt),B-=64,p(L,0,et,0)){for(D=0;D<B;D++)N[D]=0;return-1}for(D=0;D<B;D++)N[D]=L[D+64];return B}(T,Y,Y.length,K)>=0},t.sign.keyPair=function(){var F=new Uint8Array(32),H=new Uint8Array(64);return S(F,H),{publicKey:F,secretKey:H}},t.sign.keyPair.fromSecretKey=function(F){if(st(F),F.length!==64)throw Error("bad secret key size");for(var H=new Uint8Array(32),K=0;K<H.length;K++)H[K]=F[32+K];return{publicKey:H,secretKey:new Uint8Array(F)}},t.sign.keyPair.fromSeed=function(F){if(st(F),F.length!==32)throw Error("bad seed size");for(var H=new Uint8Array(32),K=new Uint8Array(64),C=0;C<32;C++)K[C]=F[C];return S(H,K,!0),{publicKey:H,secretKey:K}},t.setPRNG=function(F){n=F},function(){var F=typeof self!="undefined"?self.crypto||self.msCrypto:null;F&&F.getRandomValues?t.setPRNG(function(H,K){var C,Y=new Uint8Array(K);for(C=0;C<K;C+=65536)F.getRandomValues(Y.subarray(C,C+Math.min(K-C,65536)));for(C=0;C<K;C++)H[C]=Y[C];rt(Y)}):(F=void 0)&&F.randomBytes&&t.setPRNG(function(H,K){var C,Y=F.randomBytes(K);for(C=0;C<K;C++)H[C]=Y[C];rt(Y)})}()})(e.exports?e.exports:self.nacl=self.nacl||{})});const cl=X.getNodeCrypto();async function Sn(e){const t=new Uint8Array(e);if(typeof crypto!="undefined"&&crypto.getRandomValues)crypto.getRandomValues(t);else if(cl){const r=cl.randomBytes(t.length);t.set(r)}else{if(!Jc.buffer)throw Error("No secure random number generator available.");await Jc.get(t)}return t}async function Yn(e,t){const r=await X.getBigInteger();if(t.lt(e))throw Error("Illegal parameter value: max <= min");const n=t.sub(e),i=n.byteLength();return new r(await Sn(i+8)).mod(n).add(e)}const Jc=new class{constructor(){this.buffer=null,this.size=null,this.callback=null}init(e,t){this.buffer=new Uint8Array(e),this.size=0,this.callback=t}set(e){if(!this.buffer)throw Error("RandomBuffer is not initialized");if(!(e instanceof Uint8Array))throw Error("Invalid type: buf not an Uint8Array");const t=this.buffer.length-this.size;e.length>t&&(e=e.subarray(0,t)),this.buffer.set(e,this.size),this.size+=e.length}async get(e){if(!this.buffer)throw Error("RandomBuffer is not initialized");if(!(e instanceof Uint8Array))throw Error("Invalid type: buf not an Uint8Array");if(this.size<e.length){if(!this.callback)throw Error("Random number buffer depleted");return await this.callback(),this.get(e)}for(let t=0;t<e.length;t++)e[t]=this.buffer[--this.size],this.buffer[this.size]=0}};var Qp=Object.freeze({__proto__:null,getRandomBytes:Sn,getRandomBigInteger:Yn,randomBuffer:Jc});async function ul(e,t,r){const n=await X.getBigInteger(),i=new n(1),s=i.leftShift(new n(e-1)),a=new n(30),o=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],u=await Yn(s,s.leftShift(i));let c=u.mod(a).toNumber();do u.iadd(new n(o[c])),c=(c+o[c])%o.length,u.bitLength()>e&&(u.imod(s.leftShift(i)).iadd(s),c=u.mod(a).toNumber());while(!await Nh(u,t,r));return u}async function Nh(e,t,r){return!(t&&!e.dec().gcd(t).isOne())&&!!await async function(n){const i=await X.getBigInteger();return t4.every(s=>n.mod(new i(s))!==0)}(e)&&!!await async function(n,i){const s=await X.getBigInteger();return(i=i||new s(2)).modExp(n.dec(),n).isOne()}(e)&&!!await async function(n,i,s){const a=await X.getBigInteger(),o=n.bitLength();i||(i=Math.max(1,o/48|0));const u=n.dec();let c=0;for(;!u.getBit(c);)c++;const l=n.rightShift(new a(c));for(;i>0;i--){let h,d=(s?s():await Yn(new a(2),u)).modExp(l,n);if(!d.isOne()&&!d.equal(u)){for(h=1;h<c;h++){if(d=d.mul(d).mod(n),d.isOne())return!1;if(d.equal(u))break}if(h===c)return!1}}return!0}(e,r)}const t4=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999],un=[];async function zu(e,t){const r=e.length;if(r>t-11)throw Error("Message too long");const n=await async function(s){const a=new Uint8Array(s);let o=0;for(;o<s;){const u=await Sn(s-o);for(let c=0;c<u.length;c++)u[c]!==0&&(a[o++]=u[c])}return a}(t-r-3),i=new Uint8Array(t);return i[1]=2,i.set(n,2),i.set(e,t-r),i}function Fu(e,t){let r=2,n=1;for(let o=r;o<e.length;o++)n&=e[o]!==0,r+=n;const i=r-2,s=e.subarray(r+1),a=e[0]===0&e[1]===2&i>=8&!n;if(t)return X.selectUint8Array(a,s,t);if(a)return s;throw Error("Decryption error")}async function Zc(e,t,r){let n;if(t.length!==Is.getHashByteLength(e))throw Error("Invalid hash length");const i=new Uint8Array(un[e].length);for(n=0;n<un[e].length;n++)i[n]=un[e][n];const s=i.length+t.length;if(r<s+11)throw Error("Intended encoded message length too short");const a=new Uint8Array(r-s-3).fill(255),o=new Uint8Array(r);return o[1]=1,o.set(a,2),o.set(i,r-s),o.set(t,r-t.length),o}un[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],un[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],un[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],un[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],un[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],un[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],un[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];var e4=Object.freeze({__proto__:null,emeEncode:zu,emeDecode:Fu,emsaEncode:Zc});const hs=X.getWebCrypto(),er=X.getNodeCrypto(),Oh=void 0,ds=er?Oh.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}):void 0,oo=er?Oh.define("RSAPubliceKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}):void 0;var r4=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,s,a,o,u){if(t&&!X.isStream(t)){if(X.getWebCrypto())try{return await async function(c,l,h,d,p,g,v,_){const k=await async function(E,z,w,M,f,b){const y=await X.getBigInteger(),m=new y(M),x=new y(f),I=new y(w);let O=I.mod(x.dec()),q=I.mod(m.dec());return q=q.toUint8Array(),O=O.toUint8Array(),{kty:"RSA",n:Ar(E,!0),e:Ar(z,!0),d:Ar(w,!0),p:Ar(f,!0),q:Ar(M,!0),dp:Ar(O,!0),dq:Ar(q,!0),qi:Ar(b,!0),ext:!0}}(h,d,p,g,v,_),P={name:"RSASSA-PKCS1-v1_5",hash:{name:c}},A=await hs.importKey("jwk",k,P,!1,["sign"]);return new Uint8Array(await hs.sign("RSASSA-PKCS1-v1_5",A,l))}(J.read(J.webHash,e),t,r,n,i,s,a,o)}catch(c){X.printDebugError(c)}else if(X.getNodeCrypto())return async function(c,l,h,d,p,g,v,_){const{default:k}=await Promise.resolve().then(function(){return pa}),P=new k(g),A=new k(v),E=new k(p),z=E.mod(A.subn(1)),w=E.mod(P.subn(1)),M=er.createSign(J.read(J.hash,c));M.write(l),M.end();const f={version:0,modulus:new k(h),publicExponent:new k(d),privateExponent:new k(p),prime1:new k(v),prime2:new k(g),exponent1:z,exponent2:w,coefficient:new k(_)};if(er.createPrivateKey!==void 0){const y=ds.encode(f,"der");return new Uint8Array(M.sign({key:y,format:"der",type:"pkcs1"}))}const b=ds.encode(f,"pem",{label:"RSA PRIVATE KEY"});return new Uint8Array(M.sign(b))}(e,t,r,n,i,s,a,o)}return async function(c,l,h,d){const p=await X.getBigInteger();l=new p(l);const g=new p(await Zc(c,d,l.byteLength()));if(h=new p(h),g.gte(l))throw Error("Message size cannot exceed modulus size");return g.modExp(h,l).toUint8Array("be",l.byteLength())}(e,r,i,u)},verify:async function(e,t,r,n,i,s){if(t&&!X.isStream(t)){if(X.getWebCrypto())try{return await async function(a,o,u,c,l){const h=function(p,g){return{kty:"RSA",n:Ar(p,!0),e:Ar(g,!0),ext:!0}}(c,l),d=await hs.importKey("jwk",h,{name:"RSASSA-PKCS1-v1_5",hash:{name:a}},!1,["verify"]);return hs.verify("RSASSA-PKCS1-v1_5",d,u,o)}(J.read(J.webHash,e),t,r,n,i)}catch(a){X.printDebugError(a)}else if(X.getNodeCrypto())return async function(a,o,u,c,l){const{default:h}=await Promise.resolve().then(function(){return pa}),d=er.createVerify(J.read(J.hash,a));d.write(o),d.end();const p={modulus:new h(c),publicExponent:new h(l)};let g;er.createPrivateKey!==void 0?g={key:oo.encode(p,"der"),format:"der",type:"pkcs1"}:g=oo.encode(p,"pem",{label:"RSA PUBLIC KEY"});try{return await d.verify(g,u)}catch{return!1}}(e,t,r,n,i)}return async function(a,o,u,c,l){const h=await X.getBigInteger();if(u=new h(u),o=new h(o),c=new h(c),o.gte(u))throw Error("Signature size cannot exceed modulus size");const d=o.modExp(c,u).toUint8Array("be",u.byteLength()),p=await Zc(a,l,u.byteLength());return X.equalsUint8Array(d,p)}(e,r,n,i,s)},encrypt:async function(e,t,r){return X.getNodeCrypto()?async function(n,i,s){const{default:a}=await Promise.resolve().then(function(){return pa}),o={modulus:new a(i),publicExponent:new a(s)};let u;return er.createPrivateKey!==void 0?u={key:oo.encode(o,"der"),format:"der",type:"pkcs1",padding:er.constants.RSA_PKCS1_PADDING}:u={key:oo.encode(o,"pem",{label:"RSA PUBLIC KEY"}),padding:er.constants.RSA_PKCS1_PADDING},new Uint8Array(er.publicEncrypt(u,n))}(e,t,r):async function(n,i,s){const a=await X.getBigInteger();if(i=new a(i),n=new a(await zu(n,i.byteLength())),s=new a(s),n.gte(i))throw Error("Message size cannot exceed modulus size");return n.modExp(s,i).toUint8Array("be",i.byteLength())}(e,t,r)},decrypt:async function(e,t,r,n,i,s,a,o){return X.getNodeCrypto()?async function(u,c,l,h,d,p,g,v){const{default:_}=await Promise.resolve().then(function(){return pa}),k=new _(d),P=new _(p),A=new _(h),E=A.mod(P.subn(1)),z=A.mod(k.subn(1)),w={version:0,modulus:new _(c),publicExponent:new _(l),privateExponent:new _(h),prime1:new _(p),prime2:new _(d),exponent1:E,exponent2:z,coefficient:new _(g)};let M;er.createPrivateKey!==void 0?M={key:ds.encode(w,"der"),format:"der",type:"pkcs1",padding:er.constants.RSA_PKCS1_PADDING}:M={key:ds.encode(w,"pem",{label:"RSA PRIVATE KEY"}),padding:er.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(er.privateDecrypt(M,u))}catch{if(v)return v;throw Error("Decryption error")}}(e,t,r,n,i,s,a,o):async function(u,c,l,h,d,p,g,v){const _=await X.getBigInteger();if(u=new _(u),c=new _(c),l=new _(l),h=new _(h),d=new _(d),p=new _(p),g=new _(g),u.gte(c))throw Error("Data too large.");const k=h.mod(p.dec()),P=h.mod(d.dec()),A=(await Yn(new _(2),c)).mod(c),E=A.modInv(c).modExp(l,c),z=(u=u.mul(E).mod(c)).modExp(P,d),w=u.modExp(k,p);let M=g.mul(w.sub(z)).mod(p).mul(d).add(z);return M=M.mul(A).mod(c),Fu(M.toUint8Array("be",c.byteLength()),v)}(e,t,r,n,i,s,a,o)},generate:async function(e,t){if(t=new(await X.getBigInteger())(t),X.getWebCrypto()){const a={name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:t.toUint8Array(),hash:{name:"SHA-1"}},o=await hs.generateKey(a,!0,["sign","verify"]),u=await hs.exportKey("jwk",o.privateKey);return{n:zn(u.n),e:t.toUint8Array(),d:zn(u.d),p:zn(u.q),q:zn(u.p),u:zn(u.qi)}}if(X.getNodeCrypto()&&er.generateKeyPair&&ds){const a={modulusLength:e,publicExponent:t.toNumber(),publicKeyEncoding:{type:"pkcs1",format:"der"},privateKeyEncoding:{type:"pkcs1",format:"der"}},o=await new Promise((u,c)=>er.generateKeyPair("rsa",a,(l,h,d)=>{l?c(l):u(ds.decode(d,"der"))}));return{n:o.modulus.toArrayLike(Uint8Array),e:o.publicExponent.toArrayLike(Uint8Array),d:o.privateExponent.toArrayLike(Uint8Array),p:o.prime2.toArrayLike(Uint8Array),q:o.prime1.toArrayLike(Uint8Array),u:o.coefficient.toArrayLike(Uint8Array)}}let r,n,i;do n=await ul(e-(e>>1),t,40),r=await ul(e>>1,t,40),i=r.mul(n);while(i.bitLength()!==e);const s=r.dec().imul(n.dec());return n.lt(r)&&([r,n]=[n,r]),{n:i.toUint8Array(),e:t.toUint8Array(),d:t.modInv(s).toUint8Array(),p:r.toUint8Array(),q:n.toUint8Array(),u:r.modInv(n).toUint8Array()}},validateParams:async function(e,t,r,n,i,s){const a=await X.getBigInteger();if(e=new a(e),n=new a(n),i=new a(i),!n.mul(i).equal(e))return!1;const o=new a(2);if(s=new a(s),!n.mul(s).mod(i).isOne())return!1;t=new a(t),r=new a(r);const u=new a(Math.floor(e.bitLength()/3)),c=await Yn(o,o.leftShift(u)),l=c.mul(r).mul(t);return!(!l.mod(n.dec()).equal(c)||!l.mod(i.dec()).equal(c))}}),n4=Object.freeze({__proto__:null,encrypt:async function(e,t,r,n){const i=await X.getBigInteger();t=new i(t),r=new i(r),n=new i(n);const s=new i(await zu(e,t.byteLength())),a=await Yn(new i(1),t.dec());return{c1:r.modExp(a,t).toUint8Array(),c2:n.modExp(a,t).imul(s).imod(t).toUint8Array()}},decrypt:async function(e,t,r,n,i){const s=await X.getBigInteger();return e=new s(e),t=new s(t),r=new s(r),n=new s(n),Fu(e.modExp(n,r).modInv(r).imul(t).imod(r).toUint8Array("be",r.byteLength()),i)},validateParams:async function(e,t,r,n){const i=await X.getBigInteger();e=new i(e),t=new i(t),r=new i(r);const s=new i(1);if(t.lte(s)||t.gte(e))return!1;const a=new i(e.bitLength()),o=new i(1023);if(a.lt(o)||!t.modExp(e.dec(),e).isOne())return!1;let u=t;const c=new i(1),l=new i(2).leftShift(new i(17));for(;c.lt(l);){if(u=u.mul(t).imod(e),u.isOne())return!1;c.iinc()}n=new i(n);const h=new i(2),d=await Yn(h.leftShift(a.dec()),h.leftShift(a)),p=e.dec().imul(d).iadd(n);return!!r.equal(t.modExp(p,e))}});class hn{constructor(t){if(t instanceof hn)this.oid=t.oid;else if(X.isArray(t)||X.isUint8Array(t)){if((t=new Uint8Array(t))[0]===6){if(t[1]!==t.length-2)throw Error("Length mismatch in DER encoded oid");t=t.subarray(2)}this.oid=t}else this.oid=""}read(t){if(t.length>=1){const r=t[0];if(t.length>=1+r)return this.oid=t.subarray(1,1+r),1+this.oid.length}throw Error("Invalid oid")}write(){return X.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return X.uint8ArrayToHex(this.oid)}getName(){const t=this.toHex();if(J.curve[t])return J.write(J.curve,t);throw Error("Unknown curve object identifier.")}}function U0(e,t){return e.keyPair({priv:t})}function N0(e,t){const r=e.keyPair({pub:t});if(r.validate().result!==!0)throw Error("Invalid elliptic public key");return r}async function Ls(e){if(!Ht.useIndutnyElliptic)throw Error("This curve is only supported in the full build of OpenPGP.js");const{default:t}=await Promise.resolve().then(function(){return p6});return new t.ec(e)}function i4(e){let t,r=0;const n=e[0];return n<192?([r]=e,t=1):n<255?(r=(e[0]-192<<8)+e[1]+192,t=2):n===255&&(r=X.readNumber(e.subarray(1,5)),t=5),{len:r,offset:t}}function O0(e){return e<192?new Uint8Array([e]):e>191&&e<8384?new Uint8Array([192+(e-192>>8),e-192&255]):X.concatUint8Array([new Uint8Array([255]),X.writeNumber(e,4)])}function s4(e){if(e<0||e>30)throw Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+e])}function zh(e){return new Uint8Array([192|e])}function ll(e,t){return X.concatUint8Array([zh(e),O0(t)])}function Po(e){return[J.packet.literalData,J.packet.compressedData,J.packet.symmetricallyEncryptedData,J.packet.symEncryptedIntegrityProtectedData,J.packet.aeadEncryptedData].includes(e)}async function a4(e,t){const r=Rn(e);let n,i;try{const s=await r.peekBytes(2);if(!s||s.length<2||(128&s[0])==0)throw Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");const a=await r.readByte();let o,u,c=-1,l=-1;l=0,(64&a)!=0&&(l=1),l?c=63&a:(c=(63&a)>>2,u=3&a);const h=Po(c);let d,p=null;if(h){if(X.isStream(e)==="array"){const v=new yn;n=wr(v),p=v}else{const v=new Ts;n=wr(v.writable),p=v.readable}i=t({tag:c,packet:p})}else p=[];do{if(l){const v=await r.readByte();if(d=!1,v<192)o=v;else if(v>=192&&v<224)o=(v-192<<8)+await r.readByte()+192;else if(v>223&&v<255){if(o=1<<(31&v),d=!0,!h)throw new TypeError("This packet type does not support partial lengths.")}else o=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte()}else switch(u){case 0:o=await r.readByte();break;case 1:o=await r.readByte()<<8|await r.readByte();break;case 2:o=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte();break;default:o=1/0}if(o>0){let v=0;for(;;){n&&await n.ready;const{done:_,value:k}=await r.read();if(_){if(o===1/0)break;throw Error("Unexpected end of packet")}const P=o===1/0?k:k.subarray(0,o-v);if(n?await n.write(P):p.push(P),v+=k.length,v>=o){r.unshift(k.subarray(o-v+k.length));break}}}}while(d);const g=await r.peekBytes(h?1/0:2);return n?(await n.ready,await n.close()):(p=X.concatUint8Array(p),await t({tag:c,packet:p})),!g||!g.length}catch(s){if(n)return await n.abort(s),!0;throw s}finally{n&&await i,r.releaseLock()}}class Ne extends Error{constructor(...t){super(...t),Error.captureStackTrace&&Error.captureStackTrace(this,Ne),this.name="UnsupportedError"}}class fl{constructor(t,r){this.tag=t,this.rawContent=r}write(){return this.rawContent}}const pc=X.getWebCrypto(),Ho=X.getNodeCrypto(),kn={p256:"P-256",p384:"P-384",p521:"P-521"},Un=Ho?Ho.getCurves():[],ui=Ho?{secp256k1:Un.includes("secp256k1")?"secp256k1":void 0,p256:Un.includes("prime256v1")?"prime256v1":void 0,p384:Un.includes("secp384r1")?"secp384r1":void 0,p521:Un.includes("secp521r1")?"secp521r1":void 0,ed25519:Un.includes("ED25519")?"ED25519":void 0,curve25519:Un.includes("X25519")?"X25519":void 0,brainpoolP256r1:Un.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,brainpoolP384r1:Un.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,brainpoolP512r1:Un.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},Co={p256:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:J.publicKey.ecdsa,hash:J.hash.sha256,cipher:J.symmetric.aes128,node:ui.p256,web:kn.p256,payloadSize:32,sharedSize:256},p384:{oid:[6,5,43,129,4,0,34],keyType:J.publicKey.ecdsa,hash:J.hash.sha384,cipher:J.symmetric.aes192,node:ui.p384,web:kn.p384,payloadSize:48,sharedSize:384},p521:{oid:[6,5,43,129,4,0,35],keyType:J.publicKey.ecdsa,hash:J.hash.sha512,cipher:J.symmetric.aes256,node:ui.p521,web:kn.p521,payloadSize:66,sharedSize:528},secp256k1:{oid:[6,5,43,129,4,0,10],keyType:J.publicKey.ecdsa,hash:J.hash.sha256,cipher:J.symmetric.aes128,node:ui.secp256k1,payloadSize:32},ed25519:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:J.publicKey.eddsa,hash:J.hash.sha512,node:!1,payloadSize:32},curve25519:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:J.publicKey.ecdh,hash:J.hash.sha256,cipher:J.symmetric.aes128,node:!1,payloadSize:32},brainpoolP256r1:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:J.publicKey.ecdsa,hash:J.hash.sha256,cipher:J.symmetric.aes128,node:ui.brainpoolP256r1,payloadSize:32},brainpoolP384r1:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:J.publicKey.ecdsa,hash:J.hash.sha384,cipher:J.symmetric.aes192,node:ui.brainpoolP384r1,payloadSize:48},brainpoolP512r1:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:J.publicKey.ecdsa,hash:J.hash.sha512,cipher:J.symmetric.aes256,node:ui.brainpoolP512r1,payloadSize:64}};class Xn{constructor(t,r){try{(X.isArray(t)||X.isUint8Array(t))&&(t=new hn(t)),t instanceof hn&&(t=t.getName()),this.name=J.write(J.curve,t)}catch{throw new Ne("Unknown curve")}r=r||Co[this.name],this.keyType=r.keyType,this.oid=r.oid,this.hash=r.hash,this.cipher=r.cipher,this.node=r.node&&Co[this.name],this.web=r.web&&Co[this.name],this.payloadSize=r.payloadSize,this.web&&X.getWebCrypto()?this.type="web":this.node&&X.getNodeCrypto()?this.type="node":this.name==="curve25519"?this.type="curve25519":this.name==="ed25519"&&(this.type="ed25519")}async genKeyPair(){let t;switch(this.type){case"web":try{return await async function(n){const i=await pc.generateKey({name:"ECDSA",namedCurve:kn[n]},!0,["sign","verify"]),s=await pc.exportKey("jwk",i.privateKey);return{publicKey:Kh(await pc.exportKey("jwk",i.publicKey)),privateKey:zn(s.d)}}(this.name)}catch(n){X.printDebugError("Browser did not support generating ec key "+n.message);break}case"node":return async function(n){const i=Ho.createECDH(ui[n]);return await i.generateKeys(),{publicKey:new Uint8Array(i.getPublicKey()),privateKey:new Uint8Array(i.getPrivateKey())}}(this.name);case"curve25519":{const n=await Sn(32);n[0]=127&n[0]|64,n[31]&=248;const i=n.slice().reverse();return t=An.box.keyPair.fromSecretKey(i),{publicKey:X.concatUint8Array([new Uint8Array([64]),t.publicKey]),privateKey:n}}case"ed25519":{const n=await Sn(32),i=An.sign.keyPair.fromSeed(n);return{publicKey:X.concatUint8Array([new Uint8Array([64]),i.publicKey]),privateKey:n}}}return t=await(await Ls(this.name)).genKeyPair({entropy:X.uint8ArrayToString(await Sn(32))}),{publicKey:new Uint8Array(t.getPublic("array",!1)),privateKey:t.getPrivate().toArrayLike(Uint8Array)}}}async function Fh(e,t,r,n){const i={p256:!0,p384:!0,p521:!0,secp256k1:!0,curve25519:e===J.publicKey.ecdh,brainpoolP256r1:!0,brainpoolP384r1:!0,brainpoolP512r1:!0},s=t.getName();if(!i[s])return!1;if(s==="curve25519"){n=n.slice().reverse();const{publicKey:o}=An.box.keyPair.fromSecretKey(n);r=new Uint8Array(r);const u=new Uint8Array([64,...o]);return!!X.equalsUint8Array(u,r)}const a=await Ls(s);try{r=N0(a,r).getPublic()}catch{return!1}return!!U0(a,n).getPublic().eq(r)}function Kh(e){const t=zn(e.x),r=zn(e.y),n=new Uint8Array(t.length+r.length+1);return n[0]=4,n.set(t,1),n.set(r,t.length+1),n}function z0(e,t,r){const n=e,i=r.slice(1,n+1),s=r.slice(n+1,2*n+1);return{kty:"EC",crv:t,x:Ar(i,!0),y:Ar(s,!0),ext:!0}}function Lh(e,t,r,n){const i=z0(e,t,r);return i.d=Ar(n,!0),i}const Wo=X.getWebCrypto(),js=X.getNodeCrypto();async function hl(e,t,r,n,i,s){const a=new Xn(e);if(r&&!X.isStream(r)){const o={publicKey:n,privateKey:i};switch(a.type){case"web":try{return await async function(u,c,l,h){const d=u.payloadSize,p=Lh(u.payloadSize,kn[u.name],h.publicKey,h.privateKey),g=await Wo.importKey("jwk",p,{name:"ECDSA",namedCurve:kn[u.name],hash:{name:J.read(J.webHash,u.hash)}},!1,["sign"]),v=new Uint8Array(await Wo.sign({name:"ECDSA",namedCurve:kn[u.name],hash:{name:J.read(J.webHash,c)}},g,l));return{r:v.slice(0,d),s:v.slice(d,d<<1)}}(a,t,r,o)}catch(u){if(a.name!=="p521"&&(u.name==="DataError"||u.name==="OperationError"))throw u;X.printDebugError("Browser did not support signing: "+u.message)}break;case"node":{const u=await async function(c,l,h,d){const p=js.createSign(J.read(J.hash,l));p.write(h),p.end();const g=o4.encode({version:1,parameters:c.oid,privateKey:Array.from(d.privateKey),publicKey:{unused:0,data:Array.from(d.publicKey)}},"pem",{label:"EC PRIVATE KEY"});return jh.decode(p.sign(g),"der")}(a,t,r,o);return{r:u.r.toArrayLike(Uint8Array),s:u.s.toArrayLike(Uint8Array)}}}}return async function(o,u,c){const l=await Ls(o.name),h=U0(l,c).sign(u);return{r:h.r.toArrayLike(Uint8Array),s:h.s.toArrayLike(Uint8Array)}}(a,s,i)}async function dl(e,t,r,n,i,s){const a=new Xn(e);if(n&&!X.isStream(n))switch(a.type){case"web":try{return await async function(o,u,{r:c,s:l},h,d){const p=z0(o.payloadSize,kn[o.name],d),g=await Wo.importKey("jwk",p,{name:"ECDSA",namedCurve:kn[o.name],hash:{name:J.read(J.webHash,o.hash)}},!1,["verify"]),v=X.concatUint8Array([c,l]).buffer;return Wo.verify({name:"ECDSA",namedCurve:kn[o.name],hash:{name:J.read(J.webHash,u)}},g,v,h)}(a,t,r,n,i)}catch(o){if(a.name!=="p521"&&(o.name==="DataError"||o.name==="OperationError"))throw o;X.printDebugError("Browser did not support verifying: "+o.message)}break;case"node":return async function(o,u,{r:c,s:l},h,d){const{default:p}=await Promise.resolve().then(function(){return pa}),g=js.createVerify(J.read(J.hash,u));g.write(h),g.end();const v=u4.encode({algorithm:{algorithm:[1,2,840,10045,2,1],parameters:o.oid},subjectPublicKey:{unused:0,data:Array.from(d)}},"pem",{label:"PUBLIC KEY"}),_=jh.encode({r:new p(c),s:new p(l)},"der");try{return g.verify(v,_)}catch{return!1}}(a,t,r,n,i)}return async function(o,u,c,l){const h=await Ls(o.name);return N0(h,l).verify(c,u)}(a,r,t===void 0?n:s,i)}const F0=void 0,jh=js?F0.define("ECDSASignature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}):void 0,o4=js?F0.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())}):void 0,c4=js?F0.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}):void 0,u4=js?F0.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(c4),this.key("subjectPublicKey").bitstr())}):void 0;var l4=Object.freeze({__proto__:null,sign:hl,verify:dl,validateParams:async function(e,t,r){const n=new Xn(e);if(n.keyType!==J.publicKey.ecdsa)return!1;switch(n.type){case"web":case"node":{const i=await Sn(8),s=J.hash.sha256,a=await Is.digest(s,i);try{const o=await hl(e,s,i,t,r,a);return await dl(e,s,o,i,t,a)}catch{return!1}}default:return Fh(J.publicKey.ecdsa,e,t,r)}}});An.hash=e=>new Uint8Array(Ya().update(e).digest());var f4=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,s){if(Is.getHashByteLength(t)<Is.getHashByteLength(J.hash.sha256))throw Error("Hash algorithm too weak: sha256 or stronger is required for EdDSA.");const a=X.concatUint8Array([i,n.subarray(1)]),o=An.sign.detached(s,a);return{r:o.subarray(0,32),s:o.subarray(32)}},verify:async function(e,t,{r,s:n},i,s,a){const o=X.concatUint8Array([r,n]);return An.sign.detached.verify(a,o,s.subarray(1))},validateParams:async function(e,t,r){if(e.getName()!=="ed25519")return!1;const{publicKey:n}=An.sign.keyPair.fromSeed(r),i=new Uint8Array([64,...n]);return X.equalsUint8Array(t,i)}});function qh(e,t){const r=new Qi["aes"+8*e.length](e),n=new Uint32Array([2795939494,2795939494]),i=Go(t);let s=n;const a=i,o=i.length/2,u=new Uint32Array([0,0]);let c=new Uint32Array(4);for(let l=0;l<=5;++l)for(let h=0;h<o;++h)u[1]=o*l+(1+h),c[0]=s[0],c[1]=s[1],c[2]=a[2*h],c[3]=a[2*h+1],c=Go(r.encrypt(Vo(c))),s=c.subarray(0,2),s[0]^=u[0],s[1]^=u[1],a[2*h]=c[2],a[2*h+1]=c[3];return Vo(s,a)}function $h(e,t){const r=new Qi["aes"+8*e.length](e),n=new Uint32Array([2795939494,2795939494]),i=Go(t);let s=i.subarray(0,2);const a=i.subarray(2),o=i.length/2-1,u=new Uint32Array([0,0]);let c=new Uint32Array(4);for(let l=5;l>=0;--l)for(let h=o-1;h>=0;--h)u[1]=o*l+(h+1),c[0]=s[0]^u[0],c[1]=s[1]^u[1],c[2]=a[2*h],c[3]=a[2*h+1],c=Go(r.decrypt(Vo(c))),s=c.subarray(0,2),a[2*h]=c[2],a[2*h+1]=c[3];if(s[0]===n[0]&&s[1]===n[1])return Vo(a);throw Error("Key Data Integrity failed")}function Go(e){const{length:t}=e,r=function(s){if(X.isString(s)){const{length:a}=s,o=new ArrayBuffer(a),u=new Uint8Array(o);for(let c=0;c<a;++c)u[c]=s.charCodeAt(c);return o}return new Uint8Array(s).buffer}(e),n=new DataView(r),i=new Uint32Array(t/4);for(let s=0;s<t/4;++s)i[s]=n.getUint32(4*s);return i}function Vo(){let e=0;for(let i=0;i<arguments.length;++i)e+=4*arguments[i].length;const t=new ArrayBuffer(e),r=new DataView(t);let n=0;for(let i=0;i<arguments.length;++i){for(let s=0;s<arguments[i].length;++s)r.setUint32(n+4*s,arguments[i][s]);n+=4*arguments[i].length}return new Uint8Array(t)}var h4=Object.freeze({__proto__:null,wrap:qh,unwrap:$h});function Hh(e){const t=8-e.length%8,r=new Uint8Array(e.length+t).fill(t);return r.set(e),r}function Wh(e){const t=e.length;if(t>0){const r=e[t-1];if(r>=1){const n=e.subarray(t-r),i=new Uint8Array(r).fill(r);if(X.equalsUint8Array(n,i))return e.subarray(0,t-r)}}throw Error("Invalid padding")}var d4=Object.freeze({__proto__:null,encode:Hh,decode:Wh});const gi=X.getWebCrypto(),Gh=X.getNodeCrypto();function pl(e,t,r,n){return X.concatUint8Array([t.write(),new Uint8Array([e]),r.write(),X.stringToUint8Array("Anonymous Sender    "),n.subarray(0,20)])}async function ml(e,t,r,n,i=!1,s=!1){let a;if(i){for(a=0;a<t.length&&t[a]===0;a++);t=t.subarray(a)}if(s){for(a=t.length-1;a>=0&&t[a]===0;a--);t=t.subarray(0,a+1)}return(await Is.digest(e,X.concatUint8Array([new Uint8Array([0,0,0,1]),t,n]))).subarray(0,r)}async function p4(e,t){switch(e.type){case"curve25519":{const r=await Sn(32),{secretKey:n,sharedKey:i}=await Vh(e,t,null,r);let{publicKey:s}=An.box.keyPair.fromSecretKey(n);return s=X.concatUint8Array([new Uint8Array([64]),s]),{publicKey:s,sharedKey:i}}case"web":if(e.web&&X.getWebCrypto())try{return await async function(r,n){const i=z0(r.payloadSize,r.web.web,n);let s=gi.generateKey({name:"ECDH",namedCurve:r.web.web},!0,["deriveKey","deriveBits"]),a=gi.importKey("jwk",i,{name:"ECDH",namedCurve:r.web.web},!1,[]);[s,a]=await Promise.all([s,a]);let o=gi.deriveBits({name:"ECDH",namedCurve:r.web.web,public:a},s.privateKey,r.web.sharedSize),u=gi.exportKey("jwk",s.publicKey);[o,u]=await Promise.all([o,u]);const c=new Uint8Array(o);return{publicKey:new Uint8Array(Kh(u)),sharedKey:c}}(e,t)}catch(r){X.printDebugError(r)}break;case"node":return async function(r,n){const i=Gh.createECDH(r.node.node);i.generateKeys();const s=new Uint8Array(i.computeSecret(n));return{publicKey:new Uint8Array(i.getPublicKey()),sharedKey:s}}(e,t)}return async function(r,n){const i=await Ls(r.name),s=await r.genKeyPair();n=N0(i,n);const a=U0(i,s.privateKey),o=s.publicKey,u=a.derive(n.getPublic()),c=i.curve.p.byteLength(),l=u.toArrayLike(Uint8Array,"be",c);return{publicKey:o,sharedKey:l}}(e,t)}async function Vh(e,t,r,n){if(n.length!==e.payloadSize){const i=new Uint8Array(e.payloadSize);i.set(n,e.payloadSize-n.length),n=i}switch(e.type){case"curve25519":{const i=n.slice().reverse();return{secretKey:i,sharedKey:An.scalarMult(i,t.subarray(1))}}case"web":if(e.web&&X.getWebCrypto())try{return await async function(i,s,a,o){const u=Lh(i.payloadSize,i.web.web,a,o);let c=gi.importKey("jwk",u,{name:"ECDH",namedCurve:i.web.web},!0,["deriveKey","deriveBits"]);const l=z0(i.payloadSize,i.web.web,s);let h=gi.importKey("jwk",l,{name:"ECDH",namedCurve:i.web.web},!0,[]);[c,h]=await Promise.all([c,h]);let d=gi.deriveBits({name:"ECDH",namedCurve:i.web.web,public:h},c,i.web.sharedSize),p=gi.exportKey("jwk",c);[d,p]=await Promise.all([d,p]);const g=new Uint8Array(d);return{secretKey:zn(p.d),sharedKey:g}}(e,t,r,n)}catch(i){X.printDebugError(i)}break;case"node":return async function(i,s,a){const o=Gh.createECDH(i.node.node);o.setPrivateKey(a);const u=new Uint8Array(o.computeSecret(s));return{secretKey:new Uint8Array(o.getPrivateKey()),sharedKey:u}}(e,t,n)}return async function(i,s,a){const o=await Ls(i.name);s=N0(o,s),a=U0(o,a);const u=new Uint8Array(a.getPrivate()),c=a.derive(s.getPublic()),l=o.curve.p.byteLength(),h=c.toArrayLike(Uint8Array,"be",l);return{secretKey:u,sharedKey:h}}(e,t,n)}var m4=Object.freeze({__proto__:null,validateParams:async function(e,t,r){return Fh(J.publicKey.ecdh,e,t,r)},encrypt:async function(e,t,r,n,i){const s=Hh(r),a=new Xn(e),{publicKey:o,sharedKey:u}=await p4(a,n),c=pl(J.publicKey.ecdh,e,t,i),{keySize:l}=Es(t.cipher);return{publicKey:o,wrappedKey:qh(await ml(t.hash,u,l,c),s)}},decrypt:async function(e,t,r,n,i,s,a){const o=new Xn(e),{sharedKey:u}=await Vh(o,r,i,s),c=pl(J.publicKey.ecdh,e,t,a),{keySize:l}=Es(t.cipher);let h;for(let d=0;d<3;d++)try{return Wh($h(await ml(t.hash,u,l,c,d===1,d===2),n))}catch(p){h=p}throw h}}),xe={rsa:r4,elgamal:n4,elliptic:Object.freeze({__proto__:null,Curve:Xn,ecdh:m4,ecdsa:l4,eddsa:f4,generate:async function(e){const t=await X.getBigInteger();e=new Xn(e);const r=await e.genKeyPair(),n=new t(r.publicKey).toUint8Array(),i=new t(r.privateKey).toUint8Array("be",e.payloadSize);return{oid:e.oid,Q:n,secret:i,hash:e.hash,cipher:e.cipher}},getPreferredHashAlgo:function(e){return Co[J.write(J.curve,e.toHex())].hash}}),dsa:Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,s){const a=await X.getBigInteger(),o=new a(1);let u,c,l,h;n=new a(n),i=new a(i),r=new a(r),s=new a(s),r=r.mod(n),s=s.mod(i);const d=new a(t.subarray(0,i.byteLength())).mod(i);for(;;){if(u=await Yn(o,i),c=r.modExp(u,n).imod(i),c.isZero())continue;const p=s.mul(c).imod(i);if(h=d.add(p).imod(i),l=u.modInv(i).imul(h).imod(i),!l.isZero())break}return{r:c.toUint8Array("be",i.byteLength()),s:l.toUint8Array("be",i.byteLength())}},verify:async function(e,t,r,n,i,s,a,o){const u=await X.getBigInteger(),c=new u(0);if(t=new u(t),r=new u(r),s=new u(s),a=new u(a),i=new u(i),o=new u(o),t.lte(c)||t.gte(a)||r.lte(c)||r.gte(a))return X.printDebug("invalid DSA Signature"),!1;const l=new u(n.subarray(0,a.byteLength())).imod(a),h=r.modInv(a);if(h.isZero())return X.printDebug("invalid DSA Signature"),!1;i=i.mod(s),o=o.mod(s);const d=l.mul(h).imod(a),p=t.mul(h).imod(a),g=i.modExp(d,s),v=o.modExp(p,s);return g.mul(v).imod(s).imod(a).equal(t)},validateParams:async function(e,t,r,n,i){const s=await X.getBigInteger();e=new s(e),t=new s(t),r=new s(r),n=new s(n);const a=new s(1);if(r.lte(a)||r.gte(e)||!e.dec().mod(t).isZero()||!r.modExp(t,e).isOne())return!1;const o=new s(t.bitLength()),u=new s(150);if(o.lt(u)||!await Nh(t,null,32))return!1;i=new s(i);const c=new s(2),l=await Yn(c.leftShift(o.dec()),c.leftShift(o)),h=t.mul(l).add(i);return!!n.equal(r.modExp(h,e))}}),nacl:An};class yl{constructor(t){t=t===void 0?new Uint8Array([]):X.isString(t)?X.stringToUint8Array(t):new Uint8Array(t),this.data=t}read(t){if(t.length>=1){const r=t[0];if(t.length>=1+r)return this.data=t.subarray(1,1+r),1+this.data.length}throw Error("Invalid symmetric key")}write(){return X.concatUint8Array([new Uint8Array([this.data.length]),this.data])}}class bl{constructor(t){if(t){const{hash:r,cipher:n}=t;this.hash=r,this.cipher=n}else this.hash=null,this.cipher=null}read(t){if(t.length<4||t[0]!==3||t[1]!==1)throw Error("Cannot read KDFParams");return this.hash=t[2],this.cipher=t[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}}function Es(e){const t=J.read(J.symmetric,e);return Qi[t]}function mc(e){try{e.getName()}catch{throw new Ne("Unknown curve OID")}}var y4=Object.freeze({__proto__:null,publicKeyEncrypt:async function(e,t,r,n){switch(e){case J.publicKey.rsaEncrypt:case J.publicKey.rsaEncryptSign:{const{n:i,e:s}=t;return{c:await xe.rsa.encrypt(r,i,s)}}case J.publicKey.elgamal:{const{p:i,g:s,y:a}=t;return xe.elgamal.encrypt(r,i,s,a)}case J.publicKey.ecdh:{const{oid:i,Q:s,kdfParams:a}=t,{publicKey:o,wrappedKey:u}=await xe.elliptic.ecdh.encrypt(i,a,r,s,n);return{V:o,C:new yl(u)}}default:return[]}},publicKeyDecrypt:async function(e,t,r,n,i,s){switch(e){case J.publicKey.rsaEncryptSign:case J.publicKey.rsaEncrypt:{const{c:a}=n,{n:o,e:u}=t,{d:c,p:l,q:h,u:d}=r;return xe.rsa.decrypt(a,o,u,c,l,h,d,s)}case J.publicKey.elgamal:{const{c1:a,c2:o}=n,u=t.p,c=r.x;return xe.elgamal.decrypt(a,o,u,c,s)}case J.publicKey.ecdh:{const{oid:a,Q:o,kdfParams:u}=t,{d:c}=r,{V:l,C:h}=n;return xe.elliptic.ecdh.decrypt(a,u,l,h.data,o,c,i)}default:throw Error("Unknown public key encryption algorithm.")}},parsePublicKeyParams:function(e,t){let r=0;switch(e){case J.publicKey.rsaEncrypt:case J.publicKey.rsaEncryptSign:case J.publicKey.rsaSign:{const n=X.readMPI(t.subarray(r));r+=n.length+2;const i=X.readMPI(t.subarray(r));return r+=i.length+2,{read:r,publicParams:{n,e:i}}}case J.publicKey.dsa:{const n=X.readMPI(t.subarray(r));r+=n.length+2;const i=X.readMPI(t.subarray(r));r+=i.length+2;const s=X.readMPI(t.subarray(r));r+=s.length+2;const a=X.readMPI(t.subarray(r));return r+=a.length+2,{read:r,publicParams:{p:n,q:i,g:s,y:a}}}case J.publicKey.elgamal:{const n=X.readMPI(t.subarray(r));r+=n.length+2;const i=X.readMPI(t.subarray(r));r+=i.length+2;const s=X.readMPI(t.subarray(r));return r+=s.length+2,{read:r,publicParams:{p:n,g:i,y:s}}}case J.publicKey.ecdsa:{const n=new hn;r+=n.read(t),mc(n);const i=X.readMPI(t.subarray(r));return r+=i.length+2,{read:r,publicParams:{oid:n,Q:i}}}case J.publicKey.eddsa:{const n=new hn;r+=n.read(t),mc(n);let i=X.readMPI(t.subarray(r));return r+=i.length+2,i=X.leftPad(i,33),{read:r,publicParams:{oid:n,Q:i}}}case J.publicKey.ecdh:{const n=new hn;r+=n.read(t),mc(n);const i=X.readMPI(t.subarray(r));r+=i.length+2;const s=new bl;return r+=s.read(t.subarray(r)),{read:r,publicParams:{oid:n,Q:i,kdfParams:s}}}default:throw new Ne("Unknown public key encryption algorithm.")}},parsePrivateKeyParams:function(e,t,r){let n=0;switch(e){case J.publicKey.rsaEncrypt:case J.publicKey.rsaEncryptSign:case J.publicKey.rsaSign:{const i=X.readMPI(t.subarray(n));n+=i.length+2;const s=X.readMPI(t.subarray(n));n+=s.length+2;const a=X.readMPI(t.subarray(n));n+=a.length+2;const o=X.readMPI(t.subarray(n));return n+=o.length+2,{read:n,privateParams:{d:i,p:s,q:a,u:o}}}case J.publicKey.dsa:case J.publicKey.elgamal:{const i=X.readMPI(t.subarray(n));return n+=i.length+2,{read:n,privateParams:{x:i}}}case J.publicKey.ecdsa:case J.publicKey.ecdh:{const i=new Xn(r.oid);let s=X.readMPI(t.subarray(n));return n+=s.length+2,s=X.leftPad(s,i.payloadSize),{read:n,privateParams:{d:s}}}case J.publicKey.eddsa:{const i=new Xn(r.oid);let s=X.readMPI(t.subarray(n));return n+=s.length+2,s=X.leftPad(s,i.payloadSize),{read:n,privateParams:{seed:s}}}default:throw new Ne("Unknown public key encryption algorithm.")}},parseEncSessionKeyParams:function(e,t){let r=0;switch(e){case J.publicKey.rsaEncrypt:case J.publicKey.rsaEncryptSign:return{c:X.readMPI(t.subarray(r))};case J.publicKey.elgamal:{const n=X.readMPI(t.subarray(r));return r+=n.length+2,{c1:n,c2:X.readMPI(t.subarray(r))}}case J.publicKey.ecdh:{const n=X.readMPI(t.subarray(r));r+=n.length+2;const i=new yl;return i.read(t.subarray(r)),{V:n,C:i}}default:throw new Ne("Unknown public key encryption algorithm.")}},serializeParams:function(e,t){const r=Object.keys(t).map(n=>{const i=t[n];return X.isUint8Array(i)?X.uint8ArrayToMPI(i):i.write()});return X.concatUint8Array(r)},generateParams:function(e,t,r){switch(e){case J.publicKey.rsaEncrypt:case J.publicKey.rsaEncryptSign:case J.publicKey.rsaSign:return xe.rsa.generate(t,65537).then(({n,e:i,d:s,p:a,q:o,u})=>({privateParams:{d:s,p:a,q:o,u},publicParams:{n,e:i}}));case J.publicKey.ecdsa:return xe.elliptic.generate(r).then(({oid:n,Q:i,secret:s})=>({privateParams:{d:s},publicParams:{oid:new hn(n),Q:i}}));case J.publicKey.eddsa:return xe.elliptic.generate(r).then(({oid:n,Q:i,secret:s})=>({privateParams:{seed:s},publicParams:{oid:new hn(n),Q:i}}));case J.publicKey.ecdh:return xe.elliptic.generate(r).then(({oid:n,Q:i,secret:s,hash:a,cipher:o})=>({privateParams:{d:s},publicParams:{oid:new hn(n),Q:i,kdfParams:new bl({hash:a,cipher:o})}}));case J.publicKey.dsa:case J.publicKey.elgamal:throw Error("Unsupported algorithm for key generation.");default:throw Error("Unknown public key algorithm.")}},validateParams:async function(e,t,r){if(!t||!r)throw Error("Missing key parameters");switch(e){case J.publicKey.rsaEncrypt:case J.publicKey.rsaEncryptSign:case J.publicKey.rsaSign:{const{n,e:i}=t,{d:s,p:a,q:o,u}=r;return xe.rsa.validateParams(n,i,s,a,o,u)}case J.publicKey.dsa:{const{p:n,q:i,g:s,y:a}=t,{x:o}=r;return xe.dsa.validateParams(n,i,s,a,o)}case J.publicKey.elgamal:{const{p:n,g:i,y:s}=t,{x:a}=r;return xe.elgamal.validateParams(n,i,s,a)}case J.publicKey.ecdsa:case J.publicKey.ecdh:{const n=xe.elliptic[J.read(J.publicKey,e)],{oid:i,Q:s}=t,{d:a}=r;return n.validateParams(i,s,a)}case J.publicKey.eddsa:{const{oid:n,Q:i}=t,{seed:s}=r;return xe.elliptic.eddsa.validateParams(n,i,s)}default:throw Error("Unknown public key algorithm.")}},getPrefixRandom:async function(e){const{blockSize:t}=Es(e),r=await Sn(t),n=new Uint8Array([r[r.length-2],r[r.length-1]]);return X.concat([r,n])},generateSessionKey:function(e){const{keySize:t}=Es(e);return Sn(t)},getAEADMode:function(e){const t=J.read(J.aead,e);return Yh[t]},getCipher:Es});const gl=X.getWebCrypto(),Yo=X.getNodeCrypto(),Fi=Yo?Yo.getCiphers():[],co={idea:Fi.includes("idea-cfb")?"idea-cfb":void 0,tripledes:Fi.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:Fi.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:Fi.includes("bf-cfb")?"bf-cfb":void 0,aes128:Fi.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:Fi.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:Fi.includes("aes-256-cfb")?"aes-256-cfb":void 0};var b4=Object.freeze({__proto__:null,encrypt:async function(e,t,r,n,i){const s=J.read(J.symmetric,e);if(X.getNodeCrypto()&&co[s])return function(h,d,p,g){const v=J.read(J.symmetric,h),_=new Yo.createCipheriv(co[v],d,g);return Ee(p,k=>new Uint8Array(_.update(k)))}(e,t,r,n);if(s.substr(0,3)==="aes")return function(h,d,p,g,v){if(X.getWebCrypto()&&d.length!==24&&!X.isStream(p)&&p.length>=3e3*v.minBytesForWebCrypto)return async function(k,P,A,E){const z="AES-CBC",w=await gl.importKey("raw",P,{name:z},!1,["encrypt"]),{blockSize:M}=Es(k),f=X.concatUint8Array([new Uint8Array(M),A]),b=new Uint8Array(await gl.encrypt({name:z,iv:E},w,f)).subarray(0,A.length);return function(y,m){for(let x=0;x<y.length;x++)y[x]=y[x]^m[x]}(b,A),b}(h,d,p,g);const _=new ks(d,g);return Ee(p,k=>_.aes.AES_Encrypt_process(k),()=>_.aes.AES_Encrypt_finish())}(e,t,r,n,i);const a=new Qi[s](t),o=a.blockSize,u=n.slice();let c=new Uint8Array;const l=h=>{h&&(c=X.concatUint8Array([c,h]));const d=new Uint8Array(c.length);let p,g=0;for(;h?c.length>=o:c.length;){const v=a.encrypt(u);for(p=0;p<o;p++)u[p]=c[p]^v[p],d[g++]=u[p];c=c.subarray(o)}return d.subarray(0,g)};return Ee(r,l,l)},decrypt:async function(e,t,r,n){const i=J.read(J.symmetric,e);if(X.getNodeCrypto()&&co[i])return function(l,h,d,p){const g=J.read(J.symmetric,l),v=new Yo.createDecipheriv(co[g],h,p);return Ee(d,_=>new Uint8Array(v.update(_)))}(e,t,r,n);if(i.substr(0,3)==="aes")return function(l,h,d,p){if(X.isStream(d)){const g=new ks(h,p);return Ee(d,v=>g.aes.AES_Decrypt_process(v),()=>g.aes.AES_Decrypt_finish())}return ks.decrypt(d,h,p)}(0,t,r,n);const s=new Qi[i](t),a=s.blockSize;let o=n,u=new Uint8Array;const c=l=>{l&&(u=X.concatUint8Array([u,l]));const h=new Uint8Array(u.length);let d,p=0;for(;l?u.length>=a:u.length;){const g=s.encrypt(o);for(o=u,d=0;d<a;d++)h[p++]=o[d]^g[d];u=u.subarray(a)}return h.subarray(0,p)};return Ee(r,c,c)}});class Xo{static encrypt(t,r,n){return new Xo(r,n).encrypt(t)}static decrypt(t,r,n){return new Xo(r,n).encrypt(t)}constructor(t,r,n){this.aes=n||new Ga(t,void 0,!1,"CTR"),delete this.aes.padding,this.AES_CTR_set_options(r)}encrypt(t){return Pi(this.aes.AES_Encrypt_process(t),this.aes.AES_Encrypt_finish())}decrypt(t){return Pi(this.aes.AES_Encrypt_process(t),this.aes.AES_Encrypt_finish())}AES_CTR_set_options(t,r,n){let{asm:i}=this.aes.acquire_asm();if(n!==void 0){if(n<8||n>48)throw new Ln("illegal counter size");let s=Math.pow(2,n)-1;i.set_mask(0,0,s/4294967296|0,0|s)}else n=48,i.set_mask(0,0,65535,4294967295);if(t===void 0)throw Error("nonce is required");{let s=t.length;if(!s||s>16)throw new Ln("illegal nonce size");let a=new DataView(new ArrayBuffer(16));new Uint8Array(a.buffer).set(t),i.set_nonce(a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12))}if(r!==void 0){if(r<0||r>=Math.pow(2,n))throw new Ln("illegal counter value");i.set_counter(0,0,r/4294967296|0,0|r)}}}class Jo{static encrypt(t,r,n=!0,i){return new Jo(r,i,n).encrypt(t)}static decrypt(t,r,n=!0,i){return new Jo(r,i,n).decrypt(t)}constructor(t,r,n=!0,i){this.aes=i||new Ga(t,r,n,"CBC")}encrypt(t){return Pi(this.aes.AES_Encrypt_process(t),this.aes.AES_Encrypt_finish())}decrypt(t){return Pi(this.aes.AES_Decrypt_process(t),this.aes.AES_Decrypt_finish())}}const vl=X.getWebCrypto(),g4=X.getNodeCrypto();function wl(e,t){const r=e.length-16;for(let n=0;n<16;n++)e[n+r]^=t[n];return e}const uo=new Uint8Array(16);async function v4(e){const t=await async function(i){return X.getWebCrypto()&&i.length!==24?(i=await vl.importKey("raw",i,{name:"AES-CBC",length:8*i.length},!1,["encrypt"]),async function(s){const a=await vl.encrypt({name:"AES-CBC",iv:uo,length:128},i,s);return new Uint8Array(a).subarray(0,a.byteLength-16)}):X.getNodeCrypto()?async function(s){const a=new g4.createCipheriv("aes-"+8*i.length+"-cbc",i,uo).update(s);return new Uint8Array(a)}:async function(s){return Jo.encrypt(s,i,!1,uo)}}(e),r=X.double(await t(uo)),n=X.double(r);return async function(i){return(await t(function(s,a,o){if(s.length&&s.length%16==0)return wl(s,a);const u=new Uint8Array(s.length+(16-s.length%16));return u.set(s),u[s.length]=128,wl(u,o)}(i,r,n))).subarray(-16)}}const _l=X.getWebCrypto(),w4=X.getNodeCrypto(),_4=X.getNodeBuffer(),xl=new Uint8Array(16),Qc=new Uint8Array(16);Qc[15]=1;const tu=new Uint8Array(16);async function x4(e){const t=await v4(e);return function(r,n){return t(X.concatUint8Array([r,n]))}}async function A4(e){return X.getWebCrypto()&&e.length!==24?(e=await _l.importKey("raw",e,{name:"AES-CTR",length:8*e.length},!1,["encrypt"]),async function(t,r){const n=await _l.encrypt({name:"AES-CTR",counter:r,length:128},e,t);return new Uint8Array(n)}):X.getNodeCrypto()?async function(t,r){const n=new w4.createCipheriv("aes-"+8*e.length+"-ctr",e,r),i=_4.concat([n.update(t),n.final()]);return new Uint8Array(i)}:async function(t,r){return Xo.encrypt(t,e,r)}}async function oa(e,t){if(e!==J.symmetric.aes128&&e!==J.symmetric.aes192&&e!==J.symmetric.aes256)throw Error("EAX mode supports only AES cipher");const[r,n]=await Promise.all([x4(t),A4(t)]);return{encrypt:async function(i,s,a){const[o,u]=await Promise.all([r(xl,s),r(Qc,a)]),c=await n(i,o),l=await r(tu,c);for(let h=0;h<16;h++)l[h]^=u[h]^o[h];return X.concatUint8Array([c,l])},decrypt:async function(i,s,a){if(i.length<16)throw Error("Invalid EAX ciphertext");const o=i.subarray(0,-16),u=i.subarray(-16),[c,l,h]=await Promise.all([r(xl,s),r(Qc,a),r(tu,o)]),d=h;for(let p=0;p<16;p++)d[p]^=l[p]^c[p];if(!X.equalsUint8Array(u,d))throw Error("Authentication tag mismatch");return await n(o,c)}}}tu[15]=2,oa.getNonce=function(e,t){const r=e.slice();for(let n=0;n<t.length;n++)r[8+n]^=t[n];return r},oa.blockLength=16,oa.ivLength=16,oa.tagLength=16;function Al(e){let t=0;for(let r=1;(e&r)==0;r<<=1)t++;return t}function pr(e,t){for(let r=0;r<e.length;r++)e[r]^=t[r];return e}function lo(e,t){return pr(e.slice(),t)}const yc=new Uint8Array(16),S4=new Uint8Array([1]);async function ca(e,t){let r,n,i,s=0;function a(o,u,c,l){const h=u.length/16|0;(function(w,M){const f=X.nbits(Math.max(w.length,M.length)/16|0)-1;for(let b=s+1;b<=f;b++)i[b]=X.double(i[b-1]);s=f})(u,l);const d=X.concatUint8Array([yc.subarray(0,15-c.length),S4,c]),p=63&d[15];d[15]&=192;const g=r(d),v=X.concatUint8Array([g,lo(g.subarray(0,8),g.subarray(1,9))]),_=X.shiftRight(v.subarray(0+(p>>3),17+(p>>3)),8-(7&p)).subarray(1),k=new Uint8Array(16),P=new Uint8Array(u.length+16);let A,E=0;for(A=0;A<h;A++)pr(_,i[Al(A+1)]),P.set(pr(o(lo(_,u)),_),E),pr(k,o===r?u:P.subarray(E)),u=u.subarray(16),E+=16;if(u.length){pr(_,i.x);const w=r(_);P.set(lo(u,w),E);const M=new Uint8Array(16);M.set(o===r?u:P.subarray(E,-16),0),M[u.length]=128,pr(k,M),E+=u.length}const z=pr(r(pr(pr(k,_),i.$)),function(w){if(!w.length)return yc;const M=w.length/16|0,f=new Uint8Array(16),b=new Uint8Array(16);for(let y=0;y<M;y++)pr(f,i[Al(y+1)]),pr(b,r(lo(f,w))),w=w.subarray(16);if(w.length){pr(f,i.x);const y=new Uint8Array(16);y.set(w,0),y[w.length]=128,pr(y,f),pr(b,r(y))}return b}(l));return P.set(z,E),P}return function(o,u){const c=J.read(J.symmetric,o),l=new Qi[c](u);r=l.encrypt.bind(l),n=l.decrypt.bind(l);const h=r(yc),d=X.double(h);i=[],i[0]=X.double(d),i.x=h,i.$=d}(e,t),{encrypt:async function(o,u,c){return a(r,o,u,c)},decrypt:async function(o,u,c){if(o.length<16)throw Error("Invalid OCB ciphertext");const l=o.subarray(-16);o=o.subarray(0,-16);const h=a(n,o,u,c);if(X.equalsUint8Array(l,h.subarray(-16)))return h.subarray(0,-16);throw Error("Authentication tag mismatch")}}}ca.getNonce=function(e,t){const r=e.slice();for(let n=0;n<t.length;n++)r[7+n]^=t[n];return r},ca.blockLength=16,ca.ivLength=15,ca.tagLength=16;class Gi{constructor(t,r,n,i=16,s){this.tagSize=i,this.gamma0=0,this.counter=1,this.aes=s||new Ga(t,void 0,!1,"CTR");let{asm:a,heap:o}=this.aes.acquire_asm();if(a.gcm_init(),this.tagSize<4||this.tagSize>16)throw new Ln("illegal tagSize value");const u=r.length||0,c=new Uint8Array(16);u!==12?(this._gcm_mac_process(r),o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=0,o[11]=u>>>29,o[12]=u>>>21&255,o[13]=u>>>13&255,o[14]=u>>>5&255,o[15]=u<<3&255,a.mac(ie.MAC.GCM,ie.HEAP_DATA,16),a.get_iv(ie.HEAP_DATA),a.set_iv(0,0,0,0),c.set(o.subarray(0,16))):(c.set(r),c[15]=1);const l=new DataView(c.buffer);if(this.gamma0=l.getUint32(12),a.set_nonce(l.getUint32(0),l.getUint32(4),l.getUint32(8),0),a.set_mask(0,0,0,4294967295),n!==void 0){if(n.length>68719476704)throw new Ln("illegal adata length");n.length?(this.adata=n,this._gcm_mac_process(n)):this.adata=void 0}else this.adata=void 0;if(this.counter<1||this.counter>4294967295)throw new RangeError("counter must be a positive 32-bit integer");a.set_counter(0,0,0,this.gamma0+this.counter|0)}static encrypt(t,r,n,i,s){return new Gi(r,n,i,s).encrypt(t)}static decrypt(t,r,n,i,s){return new Gi(r,n,i,s).decrypt(t)}encrypt(t){return this.AES_GCM_encrypt(t)}decrypt(t){return this.AES_GCM_decrypt(t)}AES_GCM_Encrypt_process(t){let r=0,n=t.length||0,{asm:i,heap:s}=this.aes.acquire_asm(),a=this.counter,o=this.aes.pos,u=this.aes.len,c=0,l=u+n&-16,h=0;if((a-1<<4)+u+n>68719476704)throw new RangeError("counter overflow");const d=new Uint8Array(l);for(;n>0;)h=Hi(s,o+u,t,r,n),u+=h,r+=h,n-=h,h=i.cipher(ie.ENC.CTR,ie.HEAP_DATA+o,u),h=i.mac(ie.MAC.GCM,ie.HEAP_DATA+o,h),h&&d.set(s.subarray(o,o+h),c),a+=h>>>4,c+=h,h<u?(o+=h,u-=h):(o=0,u=0);return this.counter=a,this.aes.pos=o,this.aes.len=u,d}AES_GCM_Encrypt_finish(){let{asm:t,heap:r}=this.aes.acquire_asm(),n=this.counter,i=this.tagSize,s=this.adata,a=this.aes.pos,o=this.aes.len;const u=new Uint8Array(o+i);t.cipher(ie.ENC.CTR,ie.HEAP_DATA+a,o+15&-16),o&&u.set(r.subarray(a,a+o));let c=o;for(;15&c;c++)r[a+c]=0;t.mac(ie.MAC.GCM,ie.HEAP_DATA+a,c);const l=s!==void 0?s.length:0,h=(n-1<<4)+o;return r[0]=0,r[1]=0,r[2]=0,r[3]=l>>>29,r[4]=l>>>21,r[5]=l>>>13&255,r[6]=l>>>5&255,r[7]=l<<3&255,r[8]=r[9]=r[10]=0,r[11]=h>>>29,r[12]=h>>>21&255,r[13]=h>>>13&255,r[14]=h>>>5&255,r[15]=h<<3&255,t.mac(ie.MAC.GCM,ie.HEAP_DATA,16),t.get_iv(ie.HEAP_DATA),t.set_counter(0,0,0,this.gamma0),t.cipher(ie.ENC.CTR,ie.HEAP_DATA,16),u.set(r.subarray(0,i),o),this.counter=1,this.aes.pos=0,this.aes.len=0,u}AES_GCM_Decrypt_process(t){let r=0,n=t.length||0,{asm:i,heap:s}=this.aes.acquire_asm(),a=this.counter,o=this.tagSize,u=this.aes.pos,c=this.aes.len,l=0,h=c+n>o?c+n-o&-16:0,d=c+n-h,p=0;if((a-1<<4)+c+n>68719476704)throw new RangeError("counter overflow");const g=new Uint8Array(h);for(;n>d;)p=Hi(s,u+c,t,r,n-d),c+=p,r+=p,n-=p,p=i.mac(ie.MAC.GCM,ie.HEAP_DATA+u,p),p=i.cipher(ie.DEC.CTR,ie.HEAP_DATA+u,p),p&&g.set(s.subarray(u,u+p),l),a+=p>>>4,l+=p,u=0,c=0;return n>0&&(c+=Hi(s,0,t,r,n)),this.counter=a,this.aes.pos=u,this.aes.len=c,g}AES_GCM_Decrypt_finish(){let{asm:t,heap:r}=this.aes.acquire_asm(),n=this.tagSize,i=this.adata,s=this.counter,a=this.aes.pos,o=this.aes.len,u=o-n;if(o<n)throw new Yc("authentication tag not found");const c=new Uint8Array(u),l=new Uint8Array(r.subarray(a+u,a+o));let h=u;for(;15&h;h++)r[a+h]=0;t.mac(ie.MAC.GCM,ie.HEAP_DATA+a,h),t.cipher(ie.DEC.CTR,ie.HEAP_DATA+a,h),u&&c.set(r.subarray(a,a+u));const d=i!==void 0?i.length:0,p=(s-1<<4)+o-n;r[0]=0,r[1]=0,r[2]=0,r[3]=d>>>29,r[4]=d>>>21,r[5]=d>>>13&255,r[6]=d>>>5&255,r[7]=d<<3&255,r[8]=r[9]=r[10]=0,r[11]=p>>>29,r[12]=p>>>21&255,r[13]=p>>>13&255,r[14]=p>>>5&255,r[15]=p<<3&255,t.mac(ie.MAC.GCM,ie.HEAP_DATA,16),t.get_iv(ie.HEAP_DATA),t.set_counter(0,0,0,this.gamma0),t.cipher(ie.ENC.CTR,ie.HEAP_DATA,16);let g=0;for(let v=0;v<n;++v)g|=l[v]^r[v];if(g)throw new Xc("data integrity check failed");return this.counter=1,this.aes.pos=0,this.aes.len=0,c}AES_GCM_decrypt(t){const r=this.AES_GCM_Decrypt_process(t),n=this.AES_GCM_Decrypt_finish(),i=new Uint8Array(r.length+n.length);return r.length&&i.set(r),n.length&&i.set(n,r.length),i}AES_GCM_encrypt(t){const r=this.AES_GCM_Encrypt_process(t),n=this.AES_GCM_Encrypt_finish(),i=new Uint8Array(r.length+n.length);return r.length&&i.set(r),n.length&&i.set(n,r.length),i}_gcm_mac_process(t){let{asm:r,heap:n}=this.aes.acquire_asm(),i=0,s=t.length||0,a=0;for(;s>0;){for(a=Hi(n,0,t,i,s),i+=a,s-=a;15&a;)n[a++]=0;r.mac(ie.MAC.GCM,ie.HEAP_DATA,a)}}}const bc=X.getWebCrypto(),Sl=X.getNodeCrypto(),kl=X.getNodeBuffer();async function gs(e,t){if(e!==J.symmetric.aes128&&e!==J.symmetric.aes192&&e!==J.symmetric.aes256)throw Error("GCM mode supports only AES cipher");if(X.getWebCrypto()&&t.length!==24){const r=await bc.importKey("raw",t,{name:"AES-GCM"},!1,["encrypt","decrypt"]);return{encrypt:async function(n,i,s=new Uint8Array){if(!n.length)return Gi.encrypt(n,t,i,s);const a=await bc.encrypt({name:"AES-GCM",iv:i,additionalData:s,tagLength:128},r,n);return new Uint8Array(a)},decrypt:async function(n,i,s=new Uint8Array){if(n.length===16)return Gi.decrypt(n,t,i,s);const a=await bc.decrypt({name:"AES-GCM",iv:i,additionalData:s,tagLength:128},r,n);return new Uint8Array(a)}}}return X.getNodeCrypto()?{encrypt:async function(r,n,i=new Uint8Array){const s=new Sl.createCipheriv("aes-"+8*t.length+"-gcm",t,n);s.setAAD(i);const a=kl.concat([s.update(r),s.final(),s.getAuthTag()]);return new Uint8Array(a)},decrypt:async function(r,n,i=new Uint8Array){const s=new Sl.createDecipheriv("aes-"+8*t.length+"-gcm",t,n);s.setAAD(i),s.setAuthTag(r.slice(r.length-16,r.length));const a=kl.concat([s.update(r.slice(0,r.length-16)),s.final()]);return new Uint8Array(a)}}:{encrypt:async function(r,n,i){return Gi.encrypt(r,t,n,i)},decrypt:async function(r,n,i){return Gi.decrypt(r,t,n,i)}}}gs.getNonce=function(e,t){const r=e.slice();for(let n=0;n<t.length;n++)r[4+n]^=t[n];return r},gs.blockLength=16,gs.ivLength=12,gs.tagLength=16;var Yh={cfb:b4,gcm:gs,experimentalGCM:gs,eax:oa,ocb:ca},k4=Object.freeze({__proto__:null,parseSignatureParams:function(e,t){let r=0;switch(e){case J.publicKey.rsaEncryptSign:case J.publicKey.rsaEncrypt:case J.publicKey.rsaSign:return{s:X.readMPI(t.subarray(r))};case J.publicKey.dsa:case J.publicKey.ecdsa:{const n=X.readMPI(t.subarray(r));return r+=n.length+2,{r:n,s:X.readMPI(t.subarray(r))}}case J.publicKey.eddsa:{let n=X.readMPI(t.subarray(r));r+=n.length+2,n=X.leftPad(n,32);let i=X.readMPI(t.subarray(r));return i=X.leftPad(i,32),{r:n,s:i}}default:throw new Ne("Unknown signature algorithm.")}},verify:async function(e,t,r,n,i,s){switch(e){case J.publicKey.rsaEncryptSign:case J.publicKey.rsaEncrypt:case J.publicKey.rsaSign:{const{n:a,e:o}=n,u=X.leftPad(r.s,a.length);return xe.rsa.verify(t,i,u,a,o,s)}case J.publicKey.dsa:{const{g:a,p:o,q:u,y:c}=n,{r:l,s:h}=r;return xe.dsa.verify(t,l,h,s,a,o,u,c)}case J.publicKey.ecdsa:{const{oid:a,Q:o}=n,u=new xe.elliptic.Curve(a).payloadSize,c=X.leftPad(r.r,u),l=X.leftPad(r.s,u);return xe.elliptic.ecdsa.verify(a,t,{r:c,s:l},i,o,s)}case J.publicKey.eddsa:{const{oid:a,Q:o}=n;return xe.elliptic.eddsa.verify(a,t,r,i,o,s)}default:throw Error("Unknown signature algorithm.")}},sign:async function(e,t,r,n,i,s){if(!r||!n)throw Error("Missing key parameters");switch(e){case J.publicKey.rsaEncryptSign:case J.publicKey.rsaEncrypt:case J.publicKey.rsaSign:{const{n:a,e:o}=r,{d:u,p:c,q:l,u:h}=n;return{s:await xe.rsa.sign(t,i,a,o,u,c,l,h,s)}}case J.publicKey.dsa:{const{g:a,p:o,q:u}=r,{x:c}=n;return xe.dsa.sign(t,s,a,o,u,c)}case J.publicKey.elgamal:throw Error("Signing with Elgamal is not defined in the OpenPGP standard.");case J.publicKey.ecdsa:{const{oid:a,Q:o}=r,{d:u}=n;return xe.elliptic.ecdsa.sign(a,t,i,o,u,s)}case J.publicKey.eddsa:{const{oid:a,Q:o}=r,{seed:u}=n;return xe.elliptic.eddsa.sign(a,t,i,o,u,s)}default:throw Error("Unknown signature algorithm.")}}});const Bt={cipher:Qi,hash:Is,mode:Yh,publicKey:xe,signature:k4,random:Qp,pkcs1:e4,pkcs5:d4,aesKW:h4};Object.assign(Bt,y4);var Xa=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function Xh(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)}const Jh={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(let s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){let t,r,n,i,s;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;const a=new Uint8Array(n);for(i=0,t=0,r=e.length;t<r;t++)s=e[t],a.set(s,i),i+=s.length;return a}},Zh={arraySet:function(e,t,r,n,i){for(let s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};let bn=Xa?Uint8Array:Array,Nr=Xa?Uint16Array:Array,Zo=Xa?Int32Array:Array,Qh=Xa?Jh.flattenChunks:Zh.flattenChunks,En=Xa?Jh.arraySet:Zh.arraySet;function qs(e){let t=e.length;for(;--t>=0;)e[t]=0}const eu=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Mo=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E4=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],El=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],On=Array(576);qs(On);const _a=Array(60);qs(_a);const Ia=Array(512);qs(Ia);const Ba=Array(256);qs(Ba);const Ku=Array(29);qs(Ku);const Qo=Array(30);function gc(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let Pl,Cl,Ml;function vc(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function td(e){return e<256?Ia[e]:Ia[256+(e>>>7)]}function Da(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function yr(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,Da(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function pn(e,t,r){yr(e,r[2*t],r[2*t+1])}function ed(e,t){let r=0;do r|=1&e,e>>>=1,r<<=1;while(--t>0);return r>>>1}function rd(e,t,r){const n=Array(16);let i,s,a=0;for(i=1;i<=15;i++)n[i]=a=a+r[i-1]<<1;for(s=0;s<=t;s++){const o=e[2*s+1];o!==0&&(e[2*s]=ed(n[o]++,o))}}function nd(e){let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function id(e){e.bi_valid>8?Da(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Rl(e,t,r,n){const i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function wc(e,t,r){const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&Rl(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Rl(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function Tl(e,t,r){let n,i,s,a,o=0;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,n===0?pn(e,i,t):(s=Ba[i],pn(e,s+256+1,t),a=eu[s],a!==0&&(i-=Ku[s],yr(e,i,a)),n--,s=td(n),pn(e,s,r),a=Mo[s],a!==0&&(n-=Qo[s],yr(e,n,a)));while(o<e.last_lit);pn(e,256,t)}function _c(e,t){const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let a,o,u,c=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<s;a++)r[2*a]!==0?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):r[2*a+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[2*u]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=n[2*u+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)wc(e,r,a);u=s;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],wc(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,r[2*u]=r[2*a]+r[2*o],e.depth[u]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,r[2*a+1]=r[2*o+1]=u,e.heap[1]=u++,wc(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(l,h){const d=h.dyn_tree,p=h.max_code,g=h.stat_desc.static_tree,v=h.stat_desc.has_stree,_=h.stat_desc.extra_bits,k=h.stat_desc.extra_base,P=h.stat_desc.max_length;let A,E,z,w,M,f,b=0;for(w=0;w<=15;w++)l.bl_count[w]=0;for(d[2*l.heap[l.heap_max]+1]=0,A=l.heap_max+1;A<573;A++)E=l.heap[A],w=d[2*d[2*E+1]+1]+1,w>P&&(w=P,b++),d[2*E+1]=w,E>p||(l.bl_count[w]++,M=0,E>=k&&(M=_[E-k]),f=d[2*E],l.opt_len+=f*(w+M),v&&(l.static_len+=f*(g[2*E+1]+M)));if(b!==0){do{for(w=P-1;l.bl_count[w]===0;)w--;l.bl_count[w]--,l.bl_count[w+1]+=2,l.bl_count[P]--,b-=2}while(b>0);for(w=P;w!==0;w--)for(E=l.bl_count[w];E!==0;)z=l.heap[--A],z>p||(d[2*z+1]!==w&&(l.opt_len+=(w-d[2*z+1])*d[2*z],d[2*z+1]=w),E--)}}(e,t),rd(r,c,e.bl_count)}function Il(e,t,r){let n,i,s=-1,a=t[1],o=0,u=7,c=4;for(a===0&&(u=138,c=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++o<u&&i===a||(o<c?e.bl_tree[2*i]+=o:i!==0?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,s=i,a===0?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))}function Bl(e,t,r){let n,i,s=-1,a=t[1],o=0,u=7,c=4;for(a===0&&(u=138,c=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++o<u&&i===a)){if(o<c)do pn(e,i,e.bl_tree);while(--o!=0);else i!==0?(i!==s&&(pn(e,i,e.bl_tree),o--),pn(e,16,e.bl_tree),yr(e,o-3,2)):o<=10?(pn(e,17,e.bl_tree),yr(e,o-3,3)):(pn(e,18,e.bl_tree),yr(e,o-11,7));o=0,s=i,a===0?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4)}}qs(Qo);let Dl=!1;function P4(e){Dl||(function(){let t,r,n,i,s;const a=Array(16);for(n=0,i=0;i<28;i++)for(Ku[i]=n,t=0;t<1<<eu[i];t++)Ba[n++]=i;for(Ba[n-1]=i,s=0,i=0;i<16;i++)for(Qo[i]=s,t=0;t<1<<Mo[i];t++)Ia[s++]=i;for(s>>=7;i<30;i++)for(Qo[i]=s<<7,t=0;t<1<<Mo[i]-7;t++)Ia[256+s++]=i;for(r=0;r<=15;r++)a[r]=0;for(t=0;t<=143;)On[2*t+1]=8,t++,a[8]++;for(;t<=255;)On[2*t+1]=9,t++,a[9]++;for(;t<=279;)On[2*t+1]=7,t++,a[7]++;for(;t<=287;)On[2*t+1]=8,t++,a[8]++;for(rd(On,287,a),t=0;t<30;t++)_a[2*t+1]=5,_a[2*t]=ed(t,5);Pl=new gc(On,eu,257,286,15),Cl=new gc(_a,Mo,0,30,15),Ml=new gc([],E4,0,19,7)}(),Dl=!0),e.l_desc=new vc(e.dyn_ltree,Pl),e.d_desc=new vc(e.dyn_dtree,Cl),e.bl_desc=new vc(e.bl_tree,Ml),e.bi_buf=0,e.bi_valid=0,nd(e)}function sd(e,t,r,n){yr(e,0+(n?1:0),3),function(i,s,a,o){id(i),o&&(Da(i,a),Da(i,~a)),En(i.pending_buf,i.window,s,a,i.pending),i.pending+=a}(e,t,r,!0)}function C4(e){yr(e,2,3),pn(e,256,On),function(t){t.bi_valid===16?(Da(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(e)}function M4(e,t,r,n){let i,s,a=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=function(o){let u,c=4093624447;for(u=0;u<=31;u++,c>>>=1)if(1&c&&o.dyn_ltree[2*u]!==0)return 0;if(o.dyn_ltree[18]!==0||o.dyn_ltree[20]!==0||o.dyn_ltree[26]!==0)return 1;for(u=32;u<256;u++)if(o.dyn_ltree[2*u]!==0)return 1;return 0}(e)),_c(e,e.l_desc),_c(e,e.d_desc),a=function(o){let u;for(Il(o,o.dyn_ltree,o.l_desc.max_code),Il(o,o.dyn_dtree,o.d_desc.max_code),_c(o,o.bl_desc),u=18;u>=3&&o.bl_tree[2*El[u]+1]===0;u--);return o.opt_len+=3*(u+1)+5+5+4,u}(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&t!==-1?sd(e,t,r,n):e.strategy===4||s===i?(yr(e,2+(n?1:0),3),Tl(e,On,_a)):(yr(e,4+(n?1:0),3),function(o,u,c,l){let h;for(yr(o,u-257,5),yr(o,c-1,5),yr(o,l-4,4),h=0;h<l;h++)yr(o,o.bl_tree[2*El[h]+1],3);Bl(o,o.dyn_ltree,u-1),Bl(o,o.dyn_dtree,c-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),Tl(e,e.dyn_ltree,e.dyn_dtree)),nd(e),n&&id(e)}function Ai(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,t===0?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(Ba[r]+256+1)]++,e.dyn_dtree[2*td(t)]++),e.last_lit===e.lit_bufsize-1}function Ua(e,t,r,n){let i=65535&e|0,s=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+t[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0}const R4=function(){let e;const t=[];for(let r=0;r<256;r++){e=r;for(let n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();function Le(e,t,r,n){const i=R4,s=n+r;e^=-1;for(let a=n;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}var Na={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function vi(e,t){return e.msg=Na[t],t}function Ul(e){return(e<<1)-(e>4?9:0)}function mi(e){let t=e.length;for(;--t>=0;)e[t]=0}function li(e){const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(En(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function Ve(e,t){M4(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,li(e.strm)}function pe(e,t){e.pending_buf[e.pending++]=t}function Js(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function T4(e,t,r,n){let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,En(t,e.input,e.next_in,i,r),e.state.wrap===1?e.adler=Ua(e.adler,t,i,r):e.state.wrap===2&&(e.adler=Le(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function ad(e,t){let r,n,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match;const u=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,l=e.w_mask,h=e.prev,d=e.strstart+258;let p=c[s+a-1],g=c[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do if(r=t,c[r+a]===g&&c[r+a-1]===p&&c[r]===c[s]&&c[++r]===c[s+1]){s+=2,r++;do;while(c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&s<d);if(n=258-(d-s),s=d-258,n>a){if(e.match_start=t,a=n,n>=o)break;p=c[s+a-1],g=c[s+a]}}while((t=h[t&l])>u&&--i!=0);return a<=e.lookahead?a:e.lookahead}function ts(e){const t=e.w_size;let r,n,i,s,a;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-262)){En(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do i=e.head[--r],e.head[r]=i>=t?i-t:0;while(--n);n=t,r=n;do i=e.prev[--r],e.prev[r]=i>=t?i-t:0;while(--n);s+=t}if(e.strm.avail_in===0)break;if(n=T4(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+3-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&e.strm.avail_in!==0)}function xc(e,t){let r,n;for(;;){if(e.lookahead<262){if(ts(e),e.lookahead<262&&t===0)return 1;if(e.lookahead===0)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-262&&(e.match_length=ad(e,r)),e.match_length>=3)if(n=Ai(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!=0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=Ai(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Ve(e,!1),e.strm.avail_out===0))return 1}return e.insert=e.strstart<2?e.strstart:2,t===4?(Ve(e,!0),e.strm.avail_out===0?3:4):e.last_lit&&(Ve(e,!1),e.strm.avail_out===0)?1:2}function ps(e,t){let r,n,i;for(;;){if(e.lookahead<262){if(ts(e),e.lookahead<262&&t===0)return 1;if(e.lookahead===0)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=ad(e,r),e.match_length<=5&&(e.strategy===1||e.match_length===3&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=Ai(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!=0);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(Ve(e,!1),e.strm.avail_out===0))return 1}else if(e.match_available){if(n=Ai(e,0,e.window[e.strstart-1]),n&&Ve(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Ai(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===4?(Ve(e,!0),e.strm.avail_out===0?3:4):e.last_lit&&(Ve(e,!1),e.strm.avail_out===0)?1:2}class an{constructor(t,r,n,i,s){this.good_length=t,this.max_lazy=r,this.nice_length=n,this.max_chain=i,this.func=s}}const ua=[new an(0,0,0,0,function(e,t){let r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ts(e),e.lookahead===0&&t===0)return 1;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;const n=e.block_start+r;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,Ve(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-262&&(Ve(e,!1),e.strm.avail_out===0))return 1}return e.insert=0,t===4?(Ve(e,!0),e.strm.avail_out===0?3:4):(e.strstart>e.block_start&&(Ve(e,!1),e.strm.avail_out),1)}),new an(4,4,8,4,xc),new an(4,5,16,8,xc),new an(4,6,32,32,xc),new an(4,4,16,16,ps),new an(8,16,32,32,ps),new an(8,16,128,128,ps),new an(8,32,128,256,ps),new an(32,128,258,1024,ps),new an(32,258,258,4096,ps)];class I4{constructor(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Nr(1146),this.dyn_dtree=new Nr(122),this.bl_tree=new Nr(78),mi(this.dyn_ltree),mi(this.dyn_dtree),mi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Nr(16),this.heap=new Nr(573),mi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Nr(573),mi(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}}function B4(e){const t=function(r){let n;return r&&r.state?(r.total_in=r.total_out=0,r.data_type=2,n=r.state,n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?42:113,r.adler=n.wrap===2?0:1,n.last_flush=0,P4(n),0):vi(r,-2)}(e);return t===0&&function(r){r.window_size=2*r.w_size,mi(r.head),r.max_lazy_match=ua[r.level].max_lazy,r.good_match=ua[r.level].good_length,r.nice_match=ua[r.level].nice_length,r.max_chain_length=ua[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0}(e.state),t}function D4(e,t){let r,n,i,s;if(!e||!e.state||t>5||t<0)return e?vi(e,-2):-2;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===666&&t!==4)return vi(e,e.avail_out===0?-5:-2);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===42)if(n.wrap===2)e.adler=0,pe(n,31),pe(n,139),pe(n,8),n.gzhead?(pe(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),pe(n,255&n.gzhead.time),pe(n,n.gzhead.time>>8&255),pe(n,n.gzhead.time>>16&255),pe(n,n.gzhead.time>>24&255),pe(n,n.level===9?2:n.strategy>=2||n.level<2?4:0),pe(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(pe(n,255&n.gzhead.extra.length),pe(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Le(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(pe(n,0),pe(n,0),pe(n,0),pe(n,0),pe(n,0),pe(n,n.level===9?2:n.strategy>=2||n.level<2?4:0),pe(n,3),n.status=113);else{let o=8+(n.w_bits-8<<4)<<8,u=-1;u=n.strategy>=2||n.level<2?0:n.level<6?1:n.level===6?2:3,o|=u<<6,n.strstart!==0&&(o|=32),o+=31-o%31,n.status=113,Js(n,o),n.strstart!==0&&(Js(n,e.adler>>>16),Js(n,65535&e.adler)),e.adler=1}if(n.status===69)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=Le(e.adler,n.pending_buf,n.pending-i,i)),li(e),i=n.pending,n.pending!==n.pending_buf_size));)pe(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=Le(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(n.status===73)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Le(e.adler,n.pending_buf,n.pending-i,i)),li(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,pe(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Le(e.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.gzindex=0,n.status=91)}else n.status=91;if(n.status===91)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Le(e.adler,n.pending_buf,n.pending-i,i)),li(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,pe(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Le(e.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.status=103)}else n.status=103;if(n.status===103&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&li(e),n.pending+2<=n.pending_buf_size&&(pe(n,255&e.adler),pe(n,e.adler>>8&255),e.adler=0,n.status=113)):n.status=113),n.pending!==0){if(li(e),e.avail_out===0)return n.last_flush=-1,0}else if(e.avail_in===0&&Ul(t)<=Ul(r)&&t!==4)return vi(e,-5);if(n.status===666&&e.avail_in!==0)return vi(e,-5);if(e.avail_in!==0||n.lookahead!==0||t!==0&&n.status!==666){var a=n.strategy===2?function(o,u){let c;for(;;){if(o.lookahead===0&&(ts(o),o.lookahead===0)){if(u===0)return 1;break}if(o.match_length=0,c=Ai(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++,c&&(Ve(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,u===4?(Ve(o,!0),o.strm.avail_out===0?3:4):o.last_lit&&(Ve(o,!1),o.strm.avail_out===0)?1:2}(n,t):n.strategy===3?function(o,u){let c,l,h,d;const p=o.window;for(;;){if(o.lookahead<=258){if(ts(o),o.lookahead<=258&&u===0)return 1;if(o.lookahead===0)break}if(o.match_length=0,o.lookahead>=3&&o.strstart>0&&(h=o.strstart-1,l=p[h],l===p[++h]&&l===p[++h]&&l===p[++h])){d=o.strstart+258;do;while(l===p[++h]&&l===p[++h]&&l===p[++h]&&l===p[++h]&&l===p[++h]&&l===p[++h]&&l===p[++h]&&l===p[++h]&&h<d);o.match_length=258-(d-h),o.match_length>o.lookahead&&(o.match_length=o.lookahead)}if(o.match_length>=3?(c=Ai(o,1,o.match_length-3),o.lookahead-=o.match_length,o.strstart+=o.match_length,o.match_length=0):(c=Ai(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++),c&&(Ve(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,u===4?(Ve(o,!0),o.strm.avail_out===0?3:4):o.last_lit&&(Ve(o,!1),o.strm.avail_out===0)?1:2}(n,t):ua[n.level].func(n,t);if(a!==3&&a!==4||(n.status=666),a===1||a===3)return e.avail_out===0&&(n.last_flush=-1),0;if(a===2&&(t===1?C4(n):t!==5&&(sd(n,0,0,!1),t===3&&(mi(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),li(e),e.avail_out===0))return n.last_flush=-1,0}return t!==4?0:n.wrap<=0?1:(n.wrap===2?(pe(n,255&e.adler),pe(n,e.adler>>8&255),pe(n,e.adler>>16&255),pe(n,e.adler>>24&255),pe(n,255&e.total_in),pe(n,e.total_in>>8&255),pe(n,e.total_in>>16&255),pe(n,e.total_in>>24&255)):(Js(n,e.adler>>>16),Js(n,65535&e.adler)),li(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?0:1)}try{String.fromCharCode.call(null,0)}catch{}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{}const ru=new bn(256);for(let e=0;e<256;e++)ru[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;function nu(e){let t,r,n,i,s=0;const a=e.length;for(n=0;n<a;n++)t=e.charCodeAt(n),(64512&t)==55296&&n+1<a&&(r=e.charCodeAt(n+1),(64512&r)==56320&&(t=65536+(t-55296<<10)+(r-56320),n++)),s+=t<128?1:t<2048?2:t<65536?3:4;const o=new bn(s);for(i=0,n=0;i<s;n++)t=e.charCodeAt(n),(64512&t)==55296&&n+1<a&&(r=e.charCodeAt(n+1),(64512&r)==56320&&(t=65536+(t-55296<<10)+(r-56320),n++)),t<128?o[i++]=t:t<2048?(o[i++]=192|t>>>6,o[i++]=128|63&t):t<65536?(o[i++]=224|t>>>12,o[i++]=128|t>>>6&63,o[i++]=128|63&t):(o[i++]=240|t>>>18,o[i++]=128|t>>>12&63,o[i++]=128|t>>>6&63,o[i++]=128|63&t);return o}ru[254]=ru[254]=1;class od{constructor(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}}class iu{constructor(t){this.options=Oe({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0},t||{});const r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new od,this.strm.avail_out=0;var n,i,s=function(a,o,u,c,l,h){if(!a)return-2;let d=1;if(o===-1&&(o=6),c<0?(d=0,c=-c):c>15&&(d=2,c-=16),l<1||l>9||u!==8||c<8||c>15||o<0||o>9||h<0||h>4)return vi(a,-2);c===8&&(c=9);const p=new I4;return a.state=p,p.strm=a,p.wrap=d,p.gzhead=null,p.w_bits=c,p.w_size=1<<p.w_bits,p.w_mask=p.w_size-1,p.hash_bits=l+7,p.hash_size=1<<p.hash_bits,p.hash_mask=p.hash_size-1,p.hash_shift=~~((p.hash_bits+3-1)/3),p.window=new bn(2*p.w_size),p.head=new Nr(p.hash_size),p.prev=new Nr(p.w_size),p.lit_bufsize=1<<l+6,p.pending_buf_size=4*p.lit_bufsize,p.pending_buf=new bn(p.pending_buf_size),p.d_buf=1*p.lit_bufsize,p.l_buf=3*p.lit_bufsize,p.level=o,p.strategy=h,p.method=u,B4(a)}(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(s!==0)throw Error(Na[s]);if(r.header&&(n=this.strm,i=r.header,n&&n.state&&(n.state.wrap!==2||(n.state.gzhead=i))),r.dictionary){let a;if(a=typeof r.dictionary=="string"?nu(r.dictionary):r.dictionary instanceof ArrayBuffer?new Uint8Array(r.dictionary):r.dictionary,(s=function(o,u){let c,l,h,d,p,g,v,_,k=u.length;if(!o||!o.state||(c=o.state,d=c.wrap,d===2||d===1&&c.status!==42||c.lookahead))return-2;for(d===1&&(o.adler=Ua(o.adler,u,k,0)),c.wrap=0,k>=c.w_size&&(d===0&&(mi(c.head),c.strstart=0,c.block_start=0,c.insert=0),_=new bn(c.w_size),En(_,u,k-c.w_size,c.w_size,0),u=_,k=c.w_size),p=o.avail_in,g=o.next_in,v=o.input,o.avail_in=k,o.next_in=0,o.input=u,ts(c);c.lookahead>=3;){l=c.strstart,h=c.lookahead-2;do c.ins_h=(c.ins_h<<c.hash_shift^c.window[l+3-1])&c.hash_mask,c.prev[l&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=l,l++;while(--h);c.strstart=l,c.lookahead=2,ts(c)}return c.strstart+=c.lookahead,c.block_start=c.strstart,c.insert=c.lookahead,c.lookahead=0,c.match_length=c.prev_length=2,c.match_available=0,o.next_in=g,o.input=v,o.avail_in=p,c.wrap=d,0}(this.strm,a))!==0)throw Error(Na[s]);this._dict_set=!0}}push(t,r){const{strm:n,options:{chunkSize:i}}=this;var s,a;if(this.ended)return!1;a=r===~~r?r:r===!0?4:0,typeof t=="string"?n.input=nu(t):t instanceof ArrayBuffer?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new bn(i),n.next_out=0,n.avail_out=i),(s=D4(n,a))!==1&&s!==0)return this.onEnd(s),this.ended=!0,!1;n.avail_out!==0&&(n.avail_in!==0||a!==4&&a!==2)||this.onData(Xh(n.output,n.next_out))}while((n.avail_in>0||n.avail_out===0)&&s!==1);return a===4?(s=function(o){let u;return o&&o.state?(u=o.state.status,u!==42&&u!==69&&u!==73&&u!==91&&u!==103&&u!==113&&u!==666?vi(o,-2):(o.state=null,u===113?vi(o,-3):0)):-2}(this.strm),this.onEnd(s),this.ended=!0,s===0):a!==2||(this.onEnd(0),n.avail_out=0,!0)}onData(t){this.chunks.push(t)}onEnd(t){t===0&&(this.result=Qh(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg}}function U4(e,t){let r,n,i,s,a,o,u,c,l,h;const d=e.state;r=e.next_in;const p=e.input,g=r+(e.avail_in-5);n=e.next_out;const v=e.output,_=n-(t-e.avail_out),k=n+(e.avail_out-257),P=d.dmax,A=d.wsize,E=d.whave,z=d.wnext,w=d.window;i=d.hold,s=d.bits;const M=d.lencode,f=d.distcode,b=(1<<d.lenbits)-1,y=(1<<d.distbits)-1;t:do{s<15&&(i+=p[r++]<<s,s+=8,i+=p[r++]<<s,s+=8),a=M[i&b];e:for(;;){if(o=a>>>24,i>>>=o,s-=o,o=a>>>16&255,o===0)v[n++]=65535&a;else{if(!(16&o)){if((64&o)==0){a=M[(65535&a)+(i&(1<<o)-1)];continue e}if(32&o){d.mode=12;break t}e.msg="invalid literal/length code",d.mode=30;break t}u=65535&a,o&=15,o&&(s<o&&(i+=p[r++]<<s,s+=8),u+=i&(1<<o)-1,i>>>=o,s-=o),s<15&&(i+=p[r++]<<s,s+=8,i+=p[r++]<<s,s+=8),a=f[i&y];r:for(;;){if(o=a>>>24,i>>>=o,s-=o,o=a>>>16&255,!(16&o)){if((64&o)==0){a=f[(65535&a)+(i&(1<<o)-1)];continue r}e.msg="invalid distance code",d.mode=30;break t}if(c=65535&a,o&=15,s<o&&(i+=p[r++]<<s,s+=8,s<o&&(i+=p[r++]<<s,s+=8)),c+=i&(1<<o)-1,c>P){e.msg="invalid distance too far back",d.mode=30;break t}if(i>>>=o,s-=o,o=n-_,c>o){if(o=c-o,o>E&&d.sane){e.msg="invalid distance too far back",d.mode=30;break t}if(l=0,h=w,z===0){if(l+=A-o,o<u){u-=o;do v[n++]=w[l++];while(--o);l=n-c,h=v}}else if(z<o){if(l+=A+z-o,o-=z,o<u){u-=o;do v[n++]=w[l++];while(--o);if(l=0,z<u){o=z,u-=o;do v[n++]=w[l++];while(--o);l=n-c,h=v}}}else if(l+=z-o,o<u){u-=o;do v[n++]=w[l++];while(--o);l=n-c,h=v}for(;u>2;)v[n++]=h[l++],v[n++]=h[l++],v[n++]=h[l++],u-=3;u&&(v[n++]=h[l++],u>1&&(v[n++]=h[l++]))}else{l=n-c;do v[n++]=v[l++],v[n++]=v[l++],v[n++]=v[l++],u-=3;while(u>2);u&&(v[n++]=v[l++],u>1&&(v[n++]=v[l++]))}break}}break}}while(r<g&&n<k);u=s>>3,r-=u,s-=u<<3,i&=(1<<s)-1,e.next_in=r,e.next_out=n,e.avail_in=r<g?g-r+5:5-(r-g),e.avail_out=n<k?k-n+257:257-(n-k),d.hold=i,d.bits=s}const N4=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],O4=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],z4=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],F4=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function xa(e,t,r,n,i,s,a,o){const u=o.bits;let c,l,h,d,p,g=0,v=0,_=0,k=0,P=0,A=0,E=0,z=0,w=0,M=0,f=null,b=0;const y=new Nr(16),m=new Nr(16);let x,I,O,q=null,Z=0;for(g=0;g<=15;g++)y[g]=0;for(v=0;v<n;v++)y[t[r+v]]++;for(P=u,k=15;k>=1&&y[k]===0;k--);if(P>k&&(P=k),k===0)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(_=1;_<k&&y[_]===0;_++);for(P<_&&(P=_),z=1,g=1;g<=15;g++)if(z<<=1,z-=y[g],z<0)return-1;if(z>0&&(e===0||k!==1))return-1;for(m[1]=0,g=1;g<15;g++)m[g+1]=m[g]+y[g];for(v=0;v<n;v++)t[r+v]!==0&&(a[m[t[r+v]]++]=v);e===0?(f=q=a,p=19):e===1?(f=N4,b-=257,q=O4,Z-=257,p=256):(f=z4,q=F4,p=-1),M=0,v=0,g=_,d=s,A=P,E=0,h=-1,w=1<<P;const S=w-1;if(e===1&&w>852||e===2&&w>592)return 1;for(;;){x=g-E,a[v]<p?(I=0,O=a[v]):a[v]>p?(I=q[Z+a[v]],O=f[b+a[v]]):(I=96,O=0),c=1<<g-E,l=1<<A,_=l;do l-=c,i[d+(M>>E)+l]=x<<24|I<<16|O|0;while(l!==0);for(c=1<<g-1;M&c;)c>>=1;if(c!==0?(M&=c-1,M+=c):M=0,v++,--y[g]==0){if(g===k)break;g=t[r+a[v]]}if(g>P&&(M&S)!==h){for(E===0&&(E=P),d+=_,A=g-E,z=1<<A;A+E<k&&(z-=y[A+E],!(z<=0));)A++,z<<=1;if(w+=1<<A,e===1&&w>852||e===2&&w>592)return 1;h=M&S,i[h]=P<<24|A<<16|d-s|0}}return M!==0&&(i[d+M]=g-E<<24|64<<16|0),o.bits=P,0}function Nl(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}class K4{constructor(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Nr(320),this.work=new Nr(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}}function L4(e){let t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,function(r){let n;return r&&r.state?(n=r.state,r.total_in=r.total_out=n.total=0,r.msg="",n.wrap&&(r.adler=1&n.wrap),n.mode=1,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Zo(852),n.distcode=n.distdyn=new Zo(592),n.sane=1,n.back=-1,0):-2}(e)):-2}function j4(e,t){let r,n;return e?(n=new K4,e.state=n,n.window=null,r=function(i,s){let a,o;return i&&i.state?(o=i.state,s<0?(a=0,s=-s):(a=1+(s>>4),s<48&&(s&=15)),s&&(s<8||s>15)?-2:(o.window!==null&&o.wbits!==s&&(o.window=null),o.wrap=a,o.wbits=s,L4(i))):-2}(e,t),r!==0&&(e.state=null),r):-2}let Ac,Sc,Ol=!0;function q4(e){if(Ol){let t;for(Ac=new Zo(512),Sc=new Zo(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(xa(1,e.lens,0,288,Ac,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;xa(2,e.lens,0,32,Sc,0,e.work,{bits:5}),Ol=!1}e.lencode=Ac,e.lenbits=9,e.distcode=Sc,e.distbits=5}function cd(e,t,r,n){let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new bn(s.wsize)),n>=s.wsize?(En(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),En(s.window,t,r-n,i,s.wnext),(n-=i)?(En(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}function $4(e,t){let r,n,i,s,a,o,u,c,l,h,d,p,g,v,_,k,P,A,E,z,w,M,f,b,y=0,m=new bn(4);const x=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return-2;r=e.state,r.mode===12&&(r.mode=13),a=e.next_out,i=e.output,u=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,c=r.hold,l=r.bits,h=o,d=u,M=0;t:for(;;)switch(r.mode){case 1:if(r.wrap===0){r.mode=13;break}for(;l<16;){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}if(2&r.wrap&&c===35615){r.check=0,m[0]=255&c,m[1]=c>>>8&255,r.check=Le(r.check,m,2,0),c=0,l=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=30;break}if((15&c)!=8){e.msg="unknown compression method",r.mode=30;break}if(c>>>=4,l-=4,w=8+(15&c),r.wbits===0)r.wbits=w;else if(w>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<w,e.adler=r.check=1,r.mode=512&c?10:12,c=0,l=0;break;case 2:for(;l<16;){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}if(r.flags=c,(255&r.flags)!=8){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&(m[0]=255&c,m[1]=c>>>8&255,r.check=Le(r.check,m,2,0)),c=0,l=0,r.mode=3;case 3:for(;l<32;){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}r.head&&(r.head.time=c),512&r.flags&&(m[0]=255&c,m[1]=c>>>8&255,m[2]=c>>>16&255,m[3]=c>>>24&255,r.check=Le(r.check,m,4,0)),c=0,l=0,r.mode=4;case 4:for(;l<16;){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&(m[0]=255&c,m[1]=c>>>8&255,r.check=Le(r.check,m,2,0)),c=0,l=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&(m[0]=255&c,m[1]=c>>>8&255,r.check=Le(r.check,m,2,0)),c=0,l=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(p=r.length,p>o&&(p=o),p&&(r.head&&(w=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),En(r.head.extra,n,s,p,w)),512&r.flags&&(r.check=Le(r.check,n,p,s)),o-=p,s+=p,r.length-=p),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(o===0)break t;p=0;do w=n[s+p++],r.head&&w&&r.length<65536&&(r.head.name+=String.fromCharCode(w));while(w&&p<o);if(512&r.flags&&(r.check=Le(r.check,n,p,s)),o-=p,s+=p,w)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(o===0)break t;p=0;do w=n[s+p++],r.head&&w&&r.length<65536&&(r.head.comment+=String.fromCharCode(w));while(w&&p<o);if(512&r.flags&&(r.check=Le(r.check,n,p,s)),o-=p,s+=p,w)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}if(c!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}c=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}e.adler=r.check=Nl(c),c=0,l=0,r.mode=11;case 11:if(r.havedict===0)return e.next_out=a,e.avail_out=u,e.next_in=s,e.avail_in=o,r.hold=c,r.bits=l,2;e.adler=r.check=1,r.mode=12;case 12:if(t===5||t===6)break t;case 13:if(r.last){c>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}switch(r.last=1&c,c>>>=1,l-=1,3&c){case 0:r.mode=14;break;case 1:if(q4(r),r.mode=20,t===6){c>>>=2,l-=2;break t}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&c,c=0,l=0,r.mode=15,t===6)break t;case 15:r.mode=16;case 16:if(p=r.length,p){if(p>o&&(p=o),p>u&&(p=u),p===0)break t;En(i,n,s,p,a),o-=p,s+=p,u-=p,a+=p,r.length-=p;break}r.mode=12;break;case 17:for(;l<14;){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}if(r.nlen=257+(31&c),c>>>=5,l-=5,r.ndist=1+(31&c),c>>>=5,l-=5,r.ncode=4+(15&c),c>>>=4,l-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}r.lens[x[r.have++]]=7&c,c>>>=3,l-=3}for(;r.have<19;)r.lens[x[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,f={bits:r.lenbits},M=xa(0,r.lens,0,19,r.lencode,0,r.work,f),r.lenbits=f.bits,M){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[c&(1<<r.lenbits)-1],_=y>>>24,k=y>>>16&255,P=65535&y,!(_<=l);){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}if(P<16)c>>>=_,l-=_,r.lens[r.have++]=P;else{if(P===16){for(b=_+2;l<b;){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}if(c>>>=_,l-=_,r.have===0){e.msg="invalid bit length repeat",r.mode=30;break}w=r.lens[r.have-1],p=3+(3&c),c>>>=2,l-=2}else if(P===17){for(b=_+3;l<b;){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}c>>>=_,l-=_,w=0,p=3+(7&c),c>>>=3,l-=3}else{for(b=_+7;l<b;){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}c>>>=_,l-=_,w=0,p=11+(127&c),c>>>=7,l-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;p--;)r.lens[r.have++]=w}}if(r.mode===30)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,f={bits:r.lenbits},M=xa(1,r.lens,0,r.nlen,r.lencode,0,r.work,f),r.lenbits=f.bits,M){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,f={bits:r.distbits},M=xa(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,f),r.distbits=f.bits,M){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,t===6)break t;case 20:r.mode=21;case 21:if(o>=6&&u>=258){e.next_out=a,e.avail_out=u,e.next_in=s,e.avail_in=o,r.hold=c,r.bits=l,U4(e,d),a=e.next_out,i=e.output,u=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,c=r.hold,l=r.bits,r.mode===12&&(r.back=-1);break}for(r.back=0;y=r.lencode[c&(1<<r.lenbits)-1],_=y>>>24,k=y>>>16&255,P=65535&y,!(_<=l);){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}if(k&&(240&k)==0){for(A=_,E=k,z=P;y=r.lencode[z+((c&(1<<A+E)-1)>>A)],_=y>>>24,k=y>>>16&255,P=65535&y,!(A+_<=l);){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}c>>>=A,l-=A,r.back+=A}if(c>>>=_,l-=_,r.back+=_,r.length=P,k===0){r.mode=26;break}if(32&k){r.back=-1,r.mode=12;break}if(64&k){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&k,r.mode=22;case 22:if(r.extra){for(b=r.extra;l<b;){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;y=r.distcode[c&(1<<r.distbits)-1],_=y>>>24,k=y>>>16&255,P=65535&y,!(_<=l);){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}if((240&k)==0){for(A=_,E=k,z=P;y=r.distcode[z+((c&(1<<A+E)-1)>>A)],_=y>>>24,k=y>>>16&255,P=65535&y,!(A+_<=l);){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}c>>>=A,l-=A,r.back+=A}if(c>>>=_,l-=_,r.back+=_,64&k){e.msg="invalid distance code",r.mode=30;break}r.offset=P,r.extra=15&k,r.mode=24;case 24:if(r.extra){for(b=r.extra;l<b;){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(u===0)break t;if(p=d-u,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}p>r.wnext?(p-=r.wnext,g=r.wsize-p):g=r.wnext-p,p>r.length&&(p=r.length),v=r.window}else v=i,g=a-r.offset,p=r.length;p>u&&(p=u),u-=p,r.length-=p;do i[a++]=v[g++];while(--p);r.length===0&&(r.mode=21);break;case 26:if(u===0)break t;i[a++]=r.length,u--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(o===0)break t;o--,c|=n[s++]<<l,l+=8}if(d-=u,e.total_out+=d,r.total+=d,d&&(e.adler=r.check=r.flags?Le(r.check,i,d,a-d):Ua(r.check,i,d,a-d)),d=u,(r.flags?c:Nl(c))!==r.check){e.msg="incorrect data check",r.mode=30;break}c=0,l=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(o===0)break t;o--,c+=n[s++]<<l,l+=8}if(c!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}c=0,l=0}r.mode=29;case 29:M=1;break t;case 30:M=-3;break t;case 32:default:return-2}return e.next_out=a,e.avail_out=u,e.next_in=s,e.avail_in=o,r.hold=c,r.bits=l,(r.wsize||d!==e.avail_out&&r.mode<30&&(r.mode<27||t!==4))&&cd(e,e.output,e.next_out,d-e.avail_out),h-=e.avail_in,d-=e.avail_out,e.total_in+=h,e.total_out+=d,r.total+=d,r.wrap&&d&&(e.adler=r.check=r.flags?Le(r.check,i,d,e.next_out-d):Ua(r.check,i,d,e.next_out-d)),e.data_type=r.bits+(r.last?64:0)+(r.mode===12?128:0)+(r.mode===20||r.mode===15?256:0),(h===0&&d===0||t===4)&&M===0&&(M=-5),M}function zl(e,t){const r=t.length;let n,i;return e&&e.state?(n=e.state,n.wrap!==0&&n.mode!==11?-2:n.mode===11&&(i=1,i=Ua(i,t,r,0),i!==n.check)?-3:(cd(e,t,r,r),n.havedict=1,0)):-2}class H4{constructor(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}class Fl{constructor(t){this.options=Oe({chunkSize:16384,windowBits:0},t||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),!(r.windowBits>=0&&r.windowBits<16)||t&&t.windowBits||(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(15&r.windowBits)==0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new od,this.strm.avail_out=0;let n=j4(this.strm,r.windowBits);if(n!==0||(this.header=new H4,function(i,s){let a;i&&i.state&&(a=i.state,(2&a.wrap)==0||(a.head=s,s.done=!1))}(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=nu(r.dictionary):r.dictionary instanceof ArrayBuffer&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(n=zl(this.strm,r.dictionary),n!==0))))throw Error(Na[n])}push(t,r){const{strm:n,options:{chunkSize:i,dictionary:s}}=this;let a,o,u=!1;if(this.ended)return!1;o=r===~~r?r:r===!0?4:0,typeof t=="string"?n.input=function(c){const l=new bn(c.length);for(let h=0,d=l.length;h<d;h++)l[h]=c.charCodeAt(h);return l}(t):t instanceof ArrayBuffer?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new bn(i),n.next_out=0,n.avail_out=i),a=$4(n,0),a===2&&s&&(a=zl(this.strm,s)),a===-5&&u===!0&&(a=0,u=!1),a!==1&&a!==0)return this.onEnd(a),this.ended=!0,!1;n.next_out&&(n.avail_out!==0&&a!==1&&(n.avail_in!==0||o!==4&&o!==2)||this.onData(Xh(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(u=!0)}while((n.avail_in>0||n.avail_out===0)&&a!==1);return a===1&&(o=4),o===4?(a=function(c){if(!c||!c.state)return-2;const l=c.state;return l.window&&(l.window=null),c.state=null,0}(this.strm),this.onEnd(a),this.ended=!0,a===0):o!==2||(this.onEnd(0),n.avail_out=0,!0)}onData(t){this.chunks.push(t)}onEnd(t){t===0&&(this.result=Qh(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg}}var Kl=[0,1,3,7,15,31,63,127,255],la=function(e){this.stream=e,this.bitOffset=0,this.curByte=0,this.hasByte=!1};la.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},la.prototype.read=function(e){for(var t=0;e>0;){this._ensureByte();var r=8-this.bitOffset;if(e>=r)t<<=r,t|=Kl[r]&this.curByte,this.hasByte=!1,this.bitOffset=0,e-=r;else{t<<=e;var n=r-e;t|=(this.curByte&Kl[e]<<n)>>n,this.bitOffset+=e,e=0}}return t},la.prototype.seek=function(e){var t=e%8,r=(e-t)/8;this.bitOffset=t,this.stream.seek(r),this.hasByte=!1},la.prototype.pi=function(){var e,t=new Uint8Array(6);for(e=0;e<t.length;e++)t[e]=this.read(8);return function(r){return Array.prototype.map.call(r,n=>("00"+n.toString(16)).slice(-2)).join("")}(t)};var W4=la,qi=function(){};qi.prototype.readByte=function(){throw Error("abstract method readByte() not implemented")},qi.prototype.read=function(e,t,r){for(var n=0;n<r;){var i=this.readByte();if(i<0)return n===0?-1:n;e[t++]=i,n++}return n},qi.prototype.seek=function(e){throw Error("abstract method seek() not implemented")},qi.prototype.writeByte=function(e){throw Error("abstract method readByte() not implemented")},qi.prototype.write=function(e,t,r){var n;for(n=0;n<r;n++)this.writeByte(e[t++]);return r},qi.prototype.flush=function(){};var kc,ud=qi,G4=(kc=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),function(){var e=4294967295;this.getCRC=function(){return~e>>>0},this.updateCRC=function(t){e=e<<8^kc[255&(e>>>24^t)]},this.updateCRCRun=function(t,r){for(;r-- >0;)e=e<<8^kc[255&(e>>>24^t)]}}),Ll=function(e,t){var r,n=e[t];for(r=t;r>0;r--)e[r]=e[r-1];return e[0]=n,n},ke={OK:0,LAST_BLOCK:-1,NOT_BZIP_DATA:-2,UNEXPECTED_INPUT_EOF:-3,UNEXPECTED_OUTPUT_EOF:-4,DATA_ERROR:-5,OUT_OF_MEMORY:-6,OBSOLETE_INPUT:-7,END_OF_BLOCK:-8},fi={};fi[ke.LAST_BLOCK]="Bad file checksum",fi[ke.NOT_BZIP_DATA]="Not bzip data",fi[ke.UNEXPECTED_INPUT_EOF]="Unexpected input EOF",fi[ke.UNEXPECTED_OUTPUT_EOF]="Unexpected output EOF",fi[ke.DATA_ERROR]="Data error",fi[ke.OUT_OF_MEMORY]="Out of memory",fi[ke.OBSOLETE_INPUT]="Obsolete (pre 0.9.5) bzip format not supported.";var Ge=function(e,t){var r=fi[e]||"unknown error";t&&(r+=": "+t);var n=new TypeError(r);throw n.errorCode=e,n},fa=function(e,t){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(e,t)};fa.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new G4,!0):(this.writeCount=-1,!1)},fa.prototype._start_bunzip=function(e,t){var r=new Uint8Array(4);e.read(r,0,4)===4&&String.fromCharCode(r[0],r[1],r[2])==="BZh"||Ge(ke.NOT_BZIP_DATA,"bad magic");var n=r[3]-48;(n<1||n>9)&&Ge(ke.NOT_BZIP_DATA,"level out of range"),this.reader=new W4(e),this.dbufSize=1e5*n,this.nextoutput=0,this.outputStream=t,this.streamCRC=0},fa.prototype._get_next_block=function(){var e,t,r,n=this.reader,i=n.pi();if(i==="177245385090")return!1;i!=="314159265359"&&Ge(ke.NOT_BZIP_DATA),this.targetBlockCRC=n.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,n.read(1)&&Ge(ke.OBSOLETE_INPUT);var s=n.read(24);s>this.dbufSize&&Ge(ke.DATA_ERROR,"initial position out of bounds");var a=n.read(16),o=new Uint8Array(256),u=0;for(e=0;e<16;e++)if(a&1<<15-e){var c=16*e;for(r=n.read(16),t=0;t<16;t++)r&1<<15-t&&(o[u++]=c+t)}var l=n.read(3);(l<2||l>6)&&Ge(ke.DATA_ERROR);var h=n.read(15);h===0&&Ge(ke.DATA_ERROR);var d=new Uint8Array(256);for(e=0;e<l;e++)d[e]=e;var p=new Uint8Array(h);for(e=0;e<h;e++){for(t=0;n.read(1);t++)t>=l&&Ge(ke.DATA_ERROR);p[e]=Ll(d,t)}var g,v=u+2,_=[];for(t=0;t<l;t++){var k,P,A=new Uint8Array(v),E=new Uint16Array(21);for(a=n.read(5),e=0;e<v;e++){for(;(a<1||a>20)&&Ge(ke.DATA_ERROR),n.read(1);)n.read(1)?a--:a++;A[e]=a}for(k=P=A[0],e=1;e<v;e++)A[e]>P?P=A[e]:A[e]<k&&(k=A[e]);g={},_.push(g),g.permute=new Uint16Array(258),g.limit=new Uint32Array(22),g.base=new Uint32Array(21),g.minLen=k,g.maxLen=P;var z=0;for(e=k;e<=P;e++)for(E[e]=g.limit[e]=0,a=0;a<v;a++)A[a]===e&&(g.permute[z++]=a);for(e=0;e<v;e++)E[A[e]]++;for(z=a=0,e=k;e<P;e++)z+=E[e],g.limit[e]=z-1,z<<=1,a+=E[e],g.base[e+1]=z-a;g.limit[P+1]=Number.MAX_VALUE,g.limit[P]=z+E[P]-1,g.base[k]=0}var w=new Uint32Array(256);for(e=0;e<256;e++)d[e]=e;var M,f=0,b=0,y=0,m=this.dbuf=new Uint32Array(this.dbufSize);for(v=0;;){for(v--||(v=49,y>=h&&Ge(ke.DATA_ERROR),g=_[p[y++]]),e=g.minLen,t=n.read(e);e>g.maxLen&&Ge(ke.DATA_ERROR),!(t<=g.limit[e]);e++)t=t<<1|n.read(1);((t-=g.base[e])<0||t>=258)&&Ge(ke.DATA_ERROR);var x=g.permute[t];if(x!==0&&x!==1){if(f)for(f=0,b+a>this.dbufSize&&Ge(ke.DATA_ERROR),w[M=o[d[0]]]+=a;a--;)m[b++]=M;if(x>u)break;b>=this.dbufSize&&Ge(ke.DATA_ERROR),w[M=o[M=Ll(d,e=x-1)]]++,m[b++]=M}else f||(f=1,a=0),a+=x===0?f:2*f,f<<=1}for((s<0||s>=b)&&Ge(ke.DATA_ERROR),t=0,e=0;e<256;e++)r=t+w[e],w[e]=t,t=r;for(e=0;e<b;e++)m[w[M=255&m[e]]]|=e<<8,w[M]++;var I=0,O=0,q=0;return b&&(O=255&(I=m[s]),I>>=8,q=-1),this.writePos=I,this.writeCurrent=O,this.writeCount=b,this.writeRun=q,!0},fa.prototype._read_bunzip=function(e,t){var r,n,i;if(this.writeCount<0)return 0;var s=this.dbuf,a=this.writePos,o=this.writeCurrent,u=this.writeCount;this.outputsize;for(var c=this.writeRun;u;){for(u--,n=o,o=255&(a=s[a]),a>>=8,c++==3?(r=o,i=n,o=-1):(r=1,i=o),this.blockCRC.updateCRCRun(i,r);r--;)this.outputStream.writeByte(i),this.nextoutput++;o!=n&&(c=0)}return this.writeCount=u,this.blockCRC.getCRC()!==this.targetBlockCRC&&Ge(ke.DATA_ERROR,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var V4=function(e){if("readByte"in e)return e;var t=new ud;return t.pos=0,t.readByte=function(){return e[this.pos++]},t.seek=function(r){this.pos=r},t.eof=function(){return this.pos>=e.length},t},Y4=function(e){var t=new ud,r=!0;if(e)if(typeof e=="number")t.buffer=new Uint8Array(e),r=!1;else{if("writeByte"in e)return e;t.buffer=e,r=!1}else t.buffer=new Uint8Array(16384);return t.pos=0,t.writeByte=function(n){if(r&&this.pos>=this.buffer.length){var i=new Uint8Array(2*this.buffer.length);i.set(this.buffer),this.buffer=i}this.buffer[this.pos++]=n},t.getBuffer=function(){if(this.pos!==this.buffer.length){if(!r)throw new TypeError("outputsize does not match decoded input");var n=new Uint8Array(this.pos);n.set(this.buffer.subarray(0,this.pos)),this.buffer=n}return this.buffer},t._coerced=!0,t},jl=function(e,t,r){for(var n=V4(e),i=Y4(t),s=new fa(n,i);!("eof"in n)||!n.eof();)if(s._init_block())s._read_bunzip();else{var a=s.reader.read(32)>>>0;if(a!==s.streamCRC&&Ge(ke.DATA_ERROR,"Bad stream CRC (got "+s.streamCRC.toString(16)+" expected "+a.toString(16)+")"),!r||!("eof"in n)||n.eof())break;s._start_bunzip(n,i)}if("getBuffer"in i)return i.getBuffer()};class $s{static get tag(){return J.packet.literalData}constructor(t=new Date){this.format=J.literal.utf8,this.date=X.normalizeDate(t),this.text=null,this.data=null,this.filename=""}setText(t,r=J.literal.utf8){this.format=r,this.text=t,this.data=null}getText(t=!1){return(this.text===null||X.isStream(this.text))&&(this.text=X.decodeUTF8(X.nativeEOL(this.getBytes(t)))),this.text}setBytes(t,r){this.format=r,this.data=t,this.text=null}getBytes(t=!1){return this.data===null&&(this.data=X.canonicalizeEOL(X.encodeUTF8(this.text))),t?Ss(this.data):this.data}setFilename(t){this.filename=t}getFilename(){return this.filename}async read(t){await I0(t,async r=>{const n=await r.readByte(),i=await r.readByte();this.filename=X.decodeUTF8(await r.readBytes(i)),this.date=X.readDate(await r.readBytes(4));let s=r.remainder();Re(s)&&(s=await Ie(s)),this.setBytes(s,n)})}writeHeader(){const t=X.encodeUTF8(this.filename),r=new Uint8Array([t.length]),n=new Uint8Array([this.format]),i=X.writeDate(this.date);return X.concatUint8Array([n,r,t,i])}write(){const t=this.writeHeader(),r=this.getBytes();return X.concat([t,r])}}const Zs=Symbol("verified"),X4=new Set([J.signatureSubpacket.issuer,J.signatureSubpacket.issuerFingerprint,J.signatureSubpacket.embeddedSignature]);class Er{static get tag(){return J.packet.signature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.signedHashValue=null,this.created=null,this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new Ei,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.revoked=null,this[Zs]=null}read(t){let r=0;if(this.version=t[r++],this.version!==4&&this.version!==5)throw new Ne(`Version ${this.version} of the signature packet is unsupported.`);if(this.signatureType=t[r++],this.publicKeyAlgorithm=t[r++],this.hashAlgorithm=t[r++],r+=this.readSubPackets(t.subarray(r,t.length),!0),!this.created)throw Error("Missing signature creation time subpacket.");this.signatureData=t.subarray(0,r),r+=this.readSubPackets(t.subarray(r,t.length),!1),this.signedHashValue=t.subarray(r,r+2),r+=2,this.params=Bt.signature.parseSignatureParams(this.publicKeyAlgorithm,t.subarray(r,t.length))}writeParams(){return this.params instanceof Promise?Ri(async()=>Bt.serializeParams(this.publicKeyAlgorithm,await this.params)):Bt.serializeParams(this.publicKeyAlgorithm,this.params)}write(){const t=[];return t.push(this.signatureData),t.push(this.writeUnhashedSubPackets()),t.push(this.signedHashValue),t.push(this.writeParams()),X.concat(t)}async sign(t,r,n=new Date,i=!1){t.version===5?this.version=5:this.version=4;const s=[new Uint8Array([this.version,this.signatureType,this.publicKeyAlgorithm,this.hashAlgorithm])];this.created=X.normalizeDate(n),this.issuerKeyVersion=t.version,this.issuerFingerprint=t.getFingerprintBytes(),this.issuerKeyID=t.getKeyID(),s.push(this.writeHashedSubPackets()),this.signatureData=X.concat(s);const a=this.toHash(this.signatureType,r,i),o=await this.hash(this.signatureType,r,a,i);this.signedHashValue=Ye(Zi(o),0,2);const u=async()=>Bt.signature.sign(this.publicKeyAlgorithm,this.hashAlgorithm,t.publicParams,t.privateParams,a,await Ie(o));X.isStream(o)?this.params=u():(this.params=await u(),this[Zs]=!0)}writeHashedSubPackets(){const t=J.signatureSubpacket,r=[];let n;if(this.created===null)throw Error("Missing signature creation time");r.push(_e(t.signatureCreationTime,X.writeDate(this.created))),this.signatureExpirationTime!==null&&r.push(_e(t.signatureExpirationTime,X.writeNumber(this.signatureExpirationTime,4))),this.exportable!==null&&r.push(_e(t.exportableCertification,new Uint8Array([this.exportable?1:0]))),this.trustLevel!==null&&(n=new Uint8Array([this.trustLevel,this.trustAmount]),r.push(_e(t.trustSignature,n))),this.regularExpression!==null&&r.push(_e(t.regularExpression,this.regularExpression)),this.revocable!==null&&r.push(_e(t.revocable,new Uint8Array([this.revocable?1:0]))),this.keyExpirationTime!==null&&r.push(_e(t.keyExpirationTime,X.writeNumber(this.keyExpirationTime,4))),this.preferredSymmetricAlgorithms!==null&&(n=X.stringToUint8Array(X.uint8ArrayToString(this.preferredSymmetricAlgorithms)),r.push(_e(t.preferredSymmetricAlgorithms,n))),this.revocationKeyClass!==null&&(n=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),n=X.concat([n,this.revocationKeyFingerprint]),r.push(_e(t.revocationKey,n))),this.rawNotations.forEach(([{name:a,value:o,humanReadable:u}])=>{n=[new Uint8Array([u?128:0,0,0,0])],n.push(X.writeNumber(a.length,2)),n.push(X.writeNumber(o.length,2)),n.push(X.stringToUint8Array(a)),n.push(o),n=X.concat(n),r.push(_e(t.notationData,n))}),this.preferredHashAlgorithms!==null&&(n=X.stringToUint8Array(X.uint8ArrayToString(this.preferredHashAlgorithms)),r.push(_e(t.preferredHashAlgorithms,n))),this.preferredCompressionAlgorithms!==null&&(n=X.stringToUint8Array(X.uint8ArrayToString(this.preferredCompressionAlgorithms)),r.push(_e(t.preferredCompressionAlgorithms,n))),this.keyServerPreferences!==null&&(n=X.stringToUint8Array(X.uint8ArrayToString(this.keyServerPreferences)),r.push(_e(t.keyServerPreferences,n))),this.preferredKeyServer!==null&&r.push(_e(t.preferredKeyServer,X.stringToUint8Array(this.preferredKeyServer))),this.isPrimaryUserID!==null&&r.push(_e(t.primaryUserID,new Uint8Array([this.isPrimaryUserID?1:0]))),this.policyURI!==null&&r.push(_e(t.policyURI,X.stringToUint8Array(this.policyURI))),this.keyFlags!==null&&(n=X.stringToUint8Array(X.uint8ArrayToString(this.keyFlags)),r.push(_e(t.keyFlags,n))),this.signersUserID!==null&&r.push(_e(t.signersUserID,X.stringToUint8Array(this.signersUserID))),this.reasonForRevocationFlag!==null&&(n=X.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),r.push(_e(t.reasonForRevocation,n))),this.features!==null&&(n=X.stringToUint8Array(X.uint8ArrayToString(this.features)),r.push(_e(t.features,n))),this.signatureTargetPublicKeyAlgorithm!==null&&(n=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],n.push(X.stringToUint8Array(this.signatureTargetHash)),n=X.concat(n),r.push(_e(t.signatureTarget,n))),this.preferredAEADAlgorithms!==null&&(n=X.stringToUint8Array(X.uint8ArrayToString(this.preferredAEADAlgorithms)),r.push(_e(t.preferredAEADAlgorithms,n)));const i=X.concat(r),s=X.writeNumber(i.length,2);return X.concat([s,i])}writeUnhashedSubPackets(){const t=J.signatureSubpacket,r=[];let n;this.issuerKeyID.isNull()||this.issuerKeyVersion===5||r.push(_e(t.issuer,this.issuerKeyID.write())),this.embeddedSignature!==null&&r.push(_e(t.embeddedSignature,this.embeddedSignature.write())),this.issuerFingerprint!==null&&(n=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],n=X.concat(n),r.push(_e(t.issuerFingerprint,n))),this.unhashedSubpackets.forEach(a=>{r.push(O0(a.length)),r.push(a)});const i=X.concat(r),s=X.writeNumber(i.length,2);return X.concat([s,i])}readSubPacket(t,r=!0){let n=0;const i=128&t[n],s=127&t[n];if(r||X4.has(s))switch(n++,s){case J.signatureSubpacket.signatureCreationTime:this.created=X.readDate(t.subarray(n,t.length));break;case J.signatureSubpacket.signatureExpirationTime:{const a=X.readNumber(t.subarray(n,t.length));this.signatureNeverExpires=a===0,this.signatureExpirationTime=a;break}case J.signatureSubpacket.exportableCertification:this.exportable=t[n++]===1;break;case J.signatureSubpacket.trustSignature:this.trustLevel=t[n++],this.trustAmount=t[n++];break;case J.signatureSubpacket.regularExpression:this.regularExpression=t[n];break;case J.signatureSubpacket.revocable:this.revocable=t[n++]===1;break;case J.signatureSubpacket.keyExpirationTime:{const a=X.readNumber(t.subarray(n,t.length));this.keyExpirationTime=a,this.keyNeverExpires=a===0;break}case J.signatureSubpacket.preferredSymmetricAlgorithms:this.preferredSymmetricAlgorithms=[...t.subarray(n,t.length)];break;case J.signatureSubpacket.revocationKey:this.revocationKeyClass=t[n++],this.revocationKeyAlgorithm=t[n++],this.revocationKeyFingerprint=t.subarray(n,n+20);break;case J.signatureSubpacket.issuer:this.issuerKeyID.read(t.subarray(n,t.length));break;case J.signatureSubpacket.notationData:{const a=!!(128&t[n]);n+=4;const o=X.readNumber(t.subarray(n,n+2));n+=2;const u=X.readNumber(t.subarray(n,n+2));n+=2;const c=X.uint8ArrayToString(t.subarray(n,n+o)),l=t.subarray(n+o,n+o+u);this.rawNotations.push({name:c,humanReadable:a,value:l,critical:i}),a&&(this.notations[c]=X.uint8ArrayToString(l));break}case J.signatureSubpacket.preferredHashAlgorithms:this.preferredHashAlgorithms=[...t.subarray(n,t.length)];break;case J.signatureSubpacket.preferredCompressionAlgorithms:this.preferredCompressionAlgorithms=[...t.subarray(n,t.length)];break;case J.signatureSubpacket.keyServerPreferences:this.keyServerPreferences=[...t.subarray(n,t.length)];break;case J.signatureSubpacket.preferredKeyServer:this.preferredKeyServer=X.uint8ArrayToString(t.subarray(n,t.length));break;case J.signatureSubpacket.primaryUserID:this.isPrimaryUserID=t[n++]!==0;break;case J.signatureSubpacket.policyURI:this.policyURI=X.uint8ArrayToString(t.subarray(n,t.length));break;case J.signatureSubpacket.keyFlags:this.keyFlags=[...t.subarray(n,t.length)];break;case J.signatureSubpacket.signersUserID:this.signersUserID=X.uint8ArrayToString(t.subarray(n,t.length));break;case J.signatureSubpacket.reasonForRevocation:this.reasonForRevocationFlag=t[n++],this.reasonForRevocationString=X.uint8ArrayToString(t.subarray(n,t.length));break;case J.signatureSubpacket.features:this.features=[...t.subarray(n,t.length)];break;case J.signatureSubpacket.signatureTarget:{this.signatureTargetPublicKeyAlgorithm=t[n++],this.signatureTargetHashAlgorithm=t[n++];const a=Bt.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=X.uint8ArrayToString(t.subarray(n,n+a));break}case J.signatureSubpacket.embeddedSignature:this.embeddedSignature=new Er,this.embeddedSignature.read(t.subarray(n,t.length));break;case J.signatureSubpacket.issuerFingerprint:this.issuerKeyVersion=t[n++],this.issuerFingerprint=t.subarray(n,t.length),this.issuerKeyVersion===5?this.issuerKeyID.read(this.issuerFingerprint):this.issuerKeyID.read(this.issuerFingerprint.subarray(-8));break;case J.signatureSubpacket.preferredAEADAlgorithms:this.preferredAEADAlgorithms=[...t.subarray(n,t.length)];break;default:{const a=Error("Unknown signature subpacket type "+s);if(i)throw a;X.printDebug(a)}}else this.unhashedSubpackets.push(t.subarray(n,t.length))}readSubPackets(t,r=!0,n){const i=X.readNumber(t.subarray(0,2));let s=2;for(;s<2+i;){const a=i4(t.subarray(s,t.length));s+=a.offset,this.readSubPacket(t.subarray(s,s+a.len),r,n),s+=a.len}return s}toSign(t,r){const n=J.signature;switch(t){case n.binary:return r.text!==null?X.encodeUTF8(r.getText(!0)):r.getBytes(!0);case n.text:{const i=r.getBytes(!0);return X.canonicalizeEOL(i)}case n.standalone:return new Uint8Array(0);case n.certGeneric:case n.certPersona:case n.certCasual:case n.certPositive:case n.certRevocation:{let i,s;if(r.userID)s=180,i=r.userID;else{if(!r.userAttribute)throw Error("Either a userID or userAttribute packet needs to be supplied for certification.");s=209,i=r.userAttribute}const a=i.write();return X.concat([this.toSign(n.key,r),new Uint8Array([s]),X.writeNumber(a.length,4),a])}case n.subkeyBinding:case n.subkeyRevocation:case n.keyBinding:return X.concat([this.toSign(n.key,r),this.toSign(n.key,{key:r.bind})]);case n.key:if(r.key===void 0)throw Error("Key packet is required for this signature.");return r.key.writeForHash(this.version);case n.keyRevocation:return this.toSign(n.key,r);case n.timestamp:return new Uint8Array(0);case n.thirdParty:throw Error("Not implemented");default:throw Error("Unknown signature type.")}}calculateTrailer(t,r){let n=0;return Ee(Zi(this.signatureData),i=>{n+=i.length},()=>{const i=[];return this.version!==5||this.signatureType!==J.signature.binary&&this.signatureType!==J.signature.text||(r?i.push(new Uint8Array(6)):i.push(t.writeHeader())),i.push(new Uint8Array([this.version,255])),this.version===5&&i.push(new Uint8Array(4)),i.push(X.writeNumber(n,4)),X.concat(i)})}toHash(t,r,n=!1){const i=this.toSign(t,r);return X.concat([i,this.signatureData,this.calculateTrailer(r,n)])}async hash(t,r,n,i=!1){return n||(n=this.toHash(t,r,i)),Bt.hash.digest(this.hashAlgorithm,n)}async verify(t,r,n,i=new Date,s=!1,a=Ht){if(!this.issuerKeyID.equals(t.getKeyID()))throw Error("Signature was not issued by the given public key");if(this.publicKeyAlgorithm!==t.algorithm)throw Error("Public key algorithm used to sign signature does not match issuer key algorithm.");const o=r===J.signature.binary||r===J.signature.text;if(!(this[Zs]&&!o)){let c,l;if(this.hashed?l=await this.hashed:(c=this.toHash(r,n,s),l=await this.hash(r,n,c)),l=await Ie(l),this.signedHashValue[0]!==l[0]||this.signedHashValue[1]!==l[1])throw Error("Signed digest did not match");if(this.params=await this.params,this[Zs]=await Bt.signature.verify(this.publicKeyAlgorithm,this.hashAlgorithm,this.params,t.publicParams,c,l),!this[Zs])throw Error("Signature verification failed")}const u=X.normalizeDate(i);if(u&&this.created>u)throw Error("Signature creation time is in the future");if(u&&u>=this.getExpirationTime())throw Error("Signature is expired");if(a.rejectHashAlgorithms.has(this.hashAlgorithm))throw Error("Insecure hash algorithm: "+J.read(J.hash,this.hashAlgorithm).toUpperCase());if(a.rejectMessageHashAlgorithms.has(this.hashAlgorithm)&&[J.signature.binary,J.signature.text].includes(this.signatureType))throw Error("Insecure message hash algorithm: "+J.read(J.hash,this.hashAlgorithm).toUpperCase());if(this.rawNotations.forEach(({name:c,critical:l})=>{if(l&&a.knownNotations.indexOf(c)<0)throw Error("Unknown critical notation: "+c)}),this.revocationKeyClass!==null)throw Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")}isExpired(t=new Date){const r=X.normalizeDate(t);return r!==null&&!(this.created<=r&&r<this.getExpirationTime())}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}}function _e(e,t){const r=[];return r.push(O0(t.length+1)),r.push(new Uint8Array([e])),r.push(t),X.concat(r)}class Hr{static get tag(){return J.packet.onePassSignature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.issuerKeyID=null,this.flags=null}read(t){let r=0;if(this.version=t[r++],this.version!==3)throw new Ne(`Version ${this.version} of the one-pass signature packet is unsupported.`);return this.signatureType=t[r++],this.hashAlgorithm=t[r++],this.publicKeyAlgorithm=t[r++],this.issuerKeyID=new Ei,this.issuerKeyID.read(t.subarray(r,r+8)),r+=8,this.flags=t[r++],this}write(){const t=new Uint8Array([3,this.signatureType,this.hashAlgorithm,this.publicKeyAlgorithm]),r=new Uint8Array([this.flags]);return X.concatUint8Array([t,this.issuerKeyID.write(),r])}calculateTrailer(...t){return Ri(async()=>Er.prototype.calculateTrailer.apply(await this.correspondingSig,t))}async verify(){const t=await this.correspondingSig;if(!t||t.constructor.tag!==J.packet.signature)throw Error("Corresponding signature packet missing");if(t.signatureType!==this.signatureType||t.hashAlgorithm!==this.hashAlgorithm||t.publicKeyAlgorithm!==this.publicKeyAlgorithm||!t.issuerKeyID.equals(this.issuerKeyID))throw Error("Corresponding signature packet does not match one-pass signature packet");return t.hashed=this.hashed,t.verify.apply(t,arguments)}}function J4(e,t){if(!t[e]){let r;try{r=J.read(J.packet,e)}catch{throw new Ne("Unknown packet type with tag: "+e)}throw Error("Packet not allowed in this context: "+r)}return new t[e]}Hr.prototype.hash=Er.prototype.hash,Hr.prototype.toHash=Er.prototype.toHash,Hr.prototype.toSign=Er.prototype.toSign;class De extends Array{static async fromBinary(t,r,n=Ht){const i=new De;return await i.read(t,r,n),i}async read(t,r,n=Ht){this.stream=Vn(t,async(s,a)=>{const o=wr(a);try{for(;;)if(await o.ready,await a4(s,async u=>{try{if(u.tag===J.packet.marker||u.tag===J.packet.trust)return;const c=J4(u.tag,r);c.packets=new De,c.fromStream=X.isStream(u.packet),await c.read(u.packet,n),await o.write(c)}catch(c){const l=!n.ignoreUnsupportedPackets&&c instanceof Ne,h=!(n.ignoreMalformedPackets||c instanceof Ne);if(l||h||Po(u.tag))await o.abort(c);else{const d=new fl(u.tag,u.packet);await o.write(d)}X.printDebugError(c)}}))return await o.ready,void await o.close()}catch(u){await o.abort(u)}});const i=Rn(this.stream);for(;;){const{done:s,value:a}=await i.read();if(s?this.stream=null:this.push(a),s||Po(a.constructor.tag))break}i.releaseLock()}write(){const t=[];for(let r=0;r<this.length;r++){const n=this[r]instanceof fl?this[r].tag:this[r].constructor.tag,i=this[r].write();if(X.isStream(i)&&Po(this[r].constructor.tag)){let s=[],a=0;const o=512;t.push(zh(n)),t.push(Ee(i,u=>{if(s.push(u),a+=u.length,a>=o){const c=Math.min(Math.log(a)/Math.LN2|0,30),l=2**c,h=X.concat([s4(c)].concat(s));return s=[h.subarray(1+l)],a=s[0].length,h.subarray(0,1+l)}},()=>X.concat([O0(a)].concat(s))))}else{if(X.isStream(i)){let s=0;t.push(Ee(Zi(i),a=>{s+=a.length},()=>ll(n,s)))}else t.push(ll(n,i.length));t.push(i)}}return X.concat(t)}filterByTag(...t){const r=new De,n=i=>s=>i===s;for(let i=0;i<this.length;i++)t.some(n(this[i].constructor.tag))&&r.push(this[i]);return r}findPacket(t){return this.find(r=>r.constructor.tag===t)}indexOfTag(...t){const r=[],n=this,i=s=>a=>s===a;for(let s=0;s<this.length;s++)t.some(i(n[s].constructor.tag))&&r.push(s);return r}}const Z4=X.constructAllowedPackets([$s,Hr,Er]);class Ja{static get tag(){return J.packet.compressedData}constructor(t=Ht){this.packets=null,this.algorithm=t.preferredCompressionAlgorithm,this.compressed=null,this.deflateLevel=t.deflateLevel}async read(t,r=Ht){await I0(t,async n=>{this.algorithm=await n.readByte(),this.compressed=n.remainder(),await this.decompress(r)})}write(){return this.compressed===null&&this.compress(),X.concat([new Uint8Array([this.algorithm]),this.compressed])}async decompress(t=Ht){const r=J.read(J.compression,this.algorithm),n=t5[r];if(!n)throw Error(r+" decompression not supported");this.packets=await De.fromBinary(n(this.compressed),Z4,t)}compress(){const t=J.read(J.compression,this.algorithm),r=Q4[t];if(!r)throw Error(t+" compression not supported");this.compressed=r(this.packets.write(),this.deflateLevel)}}const mn=X.getNodeZlib();function ql(e){return e}function t0(e,t,r={}){return function(n){return!X.isStream(n)||Re(n)?Ri(()=>Ie(n).then(i=>new Promise((s,a)=>{e(i,r,(o,u)=>{if(o)return a(o);s(u)})}))):T0(Du(n).pipe(t(r)))}}function e0(e,t={}){return function(r){const n=new e(t);return Ee(r,i=>{if(i.length)return n.push(i,2),n.result},()=>{if(e===iu)return n.push([],4),n.result})}}function $l(e){return function(t){return Ri(async()=>e(await Ie(t)))}}const Q4=mn?{zip:(e,t)=>t0(mn.deflateRaw,mn.createDeflateRaw,{level:t})(e),zlib:(e,t)=>t0(mn.deflate,mn.createDeflate,{level:t})(e)}:{zip:(e,t)=>e0(iu,{raw:!0,level:t})(e),zlib:(e,t)=>e0(iu,{level:t})(e)},t5=mn?{uncompressed:ql,zip:t0(mn.inflateRaw,mn.createInflateRaw),zlib:t0(mn.inflate,mn.createInflate),bzip2:$l(jl)}:{uncompressed:ql,zip:e0(Fl,{raw:!0}),zlib:e0(Fl),bzip2:$l(jl)},e5=X.constructAllowedPackets([$s,Ja,Hr,Er]);class ld{static get tag(){return J.packet.symEncryptedIntegrityProtectedData}constructor(){this.version=1,this.encrypted=null,this.packets=null}async read(t){await I0(t,async r=>{const n=await r.readByte();if(n!==1)throw new Ne(`Version ${n} of the SEIP packet is unsupported.`);this.encrypted=r.remainder()})}write(){return X.concat([new Uint8Array([1]),this.encrypted])}async encrypt(t,r,n=Ht){const{blockSize:i}=Bt.getCipher(t);let s=this.packets.write();Re(s)&&(s=await Ie(s));const a=await Bt.getPrefixRandom(t),o=new Uint8Array([211,20]),u=X.concat([a,s,o]),c=await Bt.hash.sha1(Ss(u)),l=X.concat([u,c]);return this.encrypted=await Bt.mode.cfb.encrypt(t,r,l,new Uint8Array(i),n),!0}async decrypt(t,r,n=Ht){const{blockSize:i}=Bt.getCipher(t);let s=Zi(this.encrypted);Re(s)&&(s=await Ie(s));const a=await Bt.mode.cfb.decrypt(t,r,s,new Uint8Array(i)),o=Ye(Ss(a),-20),u=Ye(a,0,-20),c=Promise.all([Ie(await Bt.hash.sha1(Ss(u))),Ie(o)]).then(([d,p])=>{if(!X.equalsUint8Array(d,p))throw Error("Modification detected.");return new Uint8Array}),l=Ye(u,i+2);let h=Ye(l,0,-2);return h=br([h,Ri(()=>c)]),X.isStream(s)&&n.allowUnauthenticatedStream||(h=await Ie(h)),this.packets=await De.fromBinary(h,e5,n),!0}}const r5=X.constructAllowedPackets([$s,Ja,Hr,Er]);class K0{static get tag(){return J.packet.aeadEncryptedData}constructor(){this.version=1,this.cipherAlgorithm=null,this.aeadAlgorithm=J.aead.eax,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}async read(t){await I0(t,async r=>{const n=await r.readByte();if(n!==1)throw new Ne(`Version ${n} of the AEAD-encrypted data packet is not supported.`);this.cipherAlgorithm=await r.readByte(),this.aeadAlgorithm=await r.readByte(),this.chunkSizeByte=await r.readByte();const i=Bt.getAEADMode(this.aeadAlgorithm);this.iv=await r.readBytes(i.ivLength),this.encrypted=r.remainder()})}write(){return X.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.iv,this.encrypted])}async decrypt(t,r,n=Ht){this.packets=await De.fromBinary(await this.crypt("decrypt",r,Zi(this.encrypted)),r5,n)}async encrypt(t,r,n=Ht){this.cipherAlgorithm=t;const{ivLength:i}=Bt.getAEADMode(this.aeadAlgorithm);this.iv=await Bt.random.getRandomBytes(i),this.chunkSizeByte=n.aeadChunkSizeByte;const s=this.packets.write();this.encrypted=await this.crypt("encrypt",r,s)}async crypt(t,r,n){const i=Bt.getAEADMode(this.aeadAlgorithm),s=await i(this.cipherAlgorithm,r),a=t==="decrypt"?i.tagLength:0,o=t==="encrypt"?i.tagLength:0,u=2**(this.chunkSizeByte+6)+a,c=new ArrayBuffer(21),l=new Uint8Array(c,0,13),h=new Uint8Array(c),d=new DataView(c),p=new Uint8Array(c,5,8);l.set([192|K0.tag,this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte],0);let g=0,v=Promise.resolve(),_=0,k=0;const P=this.iv;return Vn(n,async(A,E)=>{if(X.isStream(A)!=="array"){const M=new Ts({},{highWaterMark:X.getHardwareConcurrency()*2**(this.chunkSizeByte+6),size:f=>f.length});ki(M.readable,E),E=M.writable}const z=Rn(A),w=wr(E);try{for(;;){let M=await z.readBytes(u+a)||new Uint8Array;const f=M.subarray(M.length-a);let b,y;if(M=M.subarray(0,M.length-a),!g||M.length?(z.unshift(f),b=s[t](M,i.getNonce(P,p),l),k+=M.length-a+o):(d.setInt32(17,_),b=s[t](f,i.getNonce(P,p),h),k+=o,y=!0),_+=M.length-a,v=v.then(()=>b).then(async m=>{await w.ready,await w.write(m),k-=m.length}).catch(m=>w.abort(m)),(y||k>w.desiredSize)&&await v,y){await w.close();break}d.setInt32(9,++g)}}catch(M){await w.abort(M)}})}}class su{static get tag(){return J.packet.publicKeyEncryptedSessionKey}constructor(){this.version=3,this.publicKeyID=new Ei,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}read(t){if(this.version=t[0],this.version!==3)throw new Ne(`Version ${this.version} of the PKESK packet is unsupported.`);this.publicKeyID.read(t.subarray(1,t.length)),this.publicKeyAlgorithm=t[9],this.encrypted=Bt.parseEncSessionKeyParams(this.publicKeyAlgorithm,t.subarray(10))}write(){const t=[new Uint8Array([this.version]),this.publicKeyID.write(),new Uint8Array([this.publicKeyAlgorithm]),Bt.serializeParams(this.publicKeyAlgorithm,this.encrypted)];return X.concatUint8Array(t)}async encrypt(t){const r=X.concatUint8Array([new Uint8Array([J.write(J.symmetric,this.sessionKeyAlgorithm)]),this.sessionKey,X.writeChecksum(this.sessionKey)]),n=J.write(J.publicKey,this.publicKeyAlgorithm);this.encrypted=await Bt.publicKeyEncrypt(n,t.publicParams,r,t.getFingerprintBytes())}async decrypt(t,r){if(this.publicKeyAlgorithm!==t.algorithm)throw Error("Decryption error");const n=r?X.concatUint8Array([new Uint8Array([r.sessionKeyAlgorithm]),r.sessionKey,X.writeChecksum(r.sessionKey)]):null,i=await Bt.publicKeyDecrypt(this.publicKeyAlgorithm,t.publicParams,t.privateParams,this.encrypted,t.getFingerprintBytes(),n),s=i[0],a=i.subarray(1,i.length-2),o=i.subarray(i.length-2),u=X.writeChecksum(a),c=u[0]===o[0]&u[1]===o[1];if(r){const l=c&s===r.sessionKeyAlgorithm&a.length===r.sessionKey.length;this.sessionKeyAlgorithm=X.selectUint8(l,s,r.sessionKeyAlgorithm),this.sessionKey=X.selectUint8Array(l,a,r.sessionKey)}else{if(!(c&&J.read(J.symmetric,s)))throw Error("Decryption error");this.sessionKey=a,this.sessionKeyAlgorithm=s}}}class Aa{constructor(t=Ht){this.algorithm=J.hash.sha256,this.type="iterated",this.c=t.s2kIterationCountByte,this.salt=null}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(t){let r=0;switch(this.type=J.read(J.s2k,t[r++]),this.algorithm=t[r++],this.type){case"simple":break;case"salted":this.salt=t.subarray(r,r+8),r+=8;break;case"iterated":this.salt=t.subarray(r,r+8),r+=8,this.c=t[r++];break;case"gnu":if(X.uint8ArrayToString(t.subarray(r,r+3))!=="GNU")throw Error("Unknown s2k type.");if(r+=3,1e3+t[r++]!==1001)throw Error("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw Error("Unknown s2k type.")}return r}write(){if(this.type==="gnu-dummy")return new Uint8Array([101,0,...X.stringToUint8Array("GNU"),1]);const t=[new Uint8Array([J.write(J.s2k,this.type),this.algorithm])];switch(this.type){case"simple":break;case"salted":t.push(this.salt);break;case"iterated":t.push(this.salt),t.push(new Uint8Array([this.c]));break;case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}return X.concatUint8Array(t)}async produceKey(t,r){t=X.encodeUTF8(t);const n=[];let i=0,s=0;for(;i<r;){let a;switch(this.type){case"simple":a=X.concatUint8Array([new Uint8Array(s),t]);break;case"salted":a=X.concatUint8Array([new Uint8Array(s),this.salt,t]);break;case"iterated":{const u=X.concatUint8Array([this.salt,t]);let c=u.length;const l=Math.max(this.getCount(),c);a=new Uint8Array(s+l),a.set(u,s);for(let h=s+c;h<l;h+=c,c*=2)a.copyWithin(h,s,h);break}case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}const o=await Bt.hash.digest(this.algorithm,a);n.push(o),i+=o.length,s++}return X.concatUint8Array(n).subarray(0,r)}}class Bs{static get tag(){return J.packet.symEncryptedSessionKey}constructor(t=Ht){this.version=t.aeadProtect?5:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm=J.symmetric.aes256,this.aeadAlgorithm=J.write(J.aead,t.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(t){let r=0;if(this.version=t[r++],this.version!==4&&this.version!==5)throw new Ne(`Version ${this.version} of the SKESK packet is unsupported.`);const n=t[r++];if(this.version===5&&(this.aeadAlgorithm=t[r++]),this.s2k=new Aa,r+=this.s2k.read(t.subarray(r,t.length)),this.version===5){const i=Bt.getAEADMode(this.aeadAlgorithm);this.iv=t.subarray(r,r+=i.ivLength)}this.version===5||r<t.length?(this.encrypted=t.subarray(r,t.length),this.sessionKeyEncryptionAlgorithm=n):this.sessionKeyAlgorithm=n}write(){const t=this.encrypted===null?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm;let r;return this.version===5?r=X.concatUint8Array([new Uint8Array([this.version,t,this.aeadAlgorithm]),this.s2k.write(),this.iv,this.encrypted]):(r=X.concatUint8Array([new Uint8Array([this.version,t]),this.s2k.write()]),this.encrypted!==null&&(r=X.concatUint8Array([r,this.encrypted]))),r}async decrypt(t){const r=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,{blockSize:n,keySize:i}=Bt.getCipher(r),s=await this.s2k.produceKey(t,i);if(this.version===5){const a=Bt.getAEADMode(this.aeadAlgorithm),o=new Uint8Array([192|Bs.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),u=await a(r,s);this.sessionKey=await u.decrypt(this.encrypted,this.iv,o)}else if(this.encrypted!==null){const a=await Bt.mode.cfb.decrypt(r,s,this.encrypted,new Uint8Array(n));this.sessionKeyAlgorithm=J.write(J.symmetric,a[0]),this.sessionKey=a.subarray(1,a.length)}else this.sessionKey=s}async encrypt(t,r=Ht){const n=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=n,this.s2k=new Aa(r),this.s2k.salt=await Bt.random.getRandomBytes(8);const{blockSize:i,keySize:s}=Bt.getCipher(n),a=await this.s2k.produceKey(t,s);if(this.sessionKey===null&&(this.sessionKey=await Bt.generateSessionKey(this.sessionKeyAlgorithm)),this.version===5){const o=Bt.getAEADMode(this.aeadAlgorithm);this.iv=await Bt.random.getRandomBytes(o.ivLength);const u=new Uint8Array([192|Bs.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),c=await o(n,a);this.encrypted=await c.encrypt(this.sessionKey,this.iv,u)}else{const o=X.concatUint8Array([new Uint8Array([this.sessionKeyAlgorithm]),this.sessionKey]);this.encrypted=await Bt.mode.cfb.encrypt(n,a,o,new Uint8Array(i),r)}}}class jn{static get tag(){return J.packet.publicKey}constructor(t=new Date,r=Ht){this.version=r.v5Keys?5:4,this.created=X.normalizeDate(t),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(t){const r=new jn,{version:n,created:i,algorithm:s,publicParams:a,keyID:o,fingerprint:u}=t;return r.version=n,r.created=i,r.algorithm=s,r.publicParams=a,r.keyID=o,r.fingerprint=u,r}async read(t){let r=0;if(this.version=t[r++],this.version===4||this.version===5){this.created=X.readDate(t.subarray(r,r+4)),r+=4,this.algorithm=t[r++],this.version===5&&(r+=4);const{read:n,publicParams:i}=Bt.parsePublicKeyParams(this.algorithm,t.subarray(r));return this.publicParams=i,r+=n,await this.computeFingerprintAndKeyID(),r}throw new Ne(`Version ${this.version} of the key packet is unsupported.`)}write(){const t=[];t.push(new Uint8Array([this.version])),t.push(X.writeDate(this.created)),t.push(new Uint8Array([this.algorithm]));const r=Bt.serializeParams(this.algorithm,this.publicParams);return this.version===5&&t.push(X.writeNumber(r.length,4)),t.push(r),X.concatUint8Array(t)}writeForHash(t){const r=this.writePublicKey();return t===5?X.concatUint8Array([new Uint8Array([154]),X.writeNumber(r.length,4),r]):X.concatUint8Array([new Uint8Array([153]),X.writeNumber(r.length,2),r])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}async computeFingerprintAndKeyID(){if(await this.computeFingerprint(),this.keyID=new Ei,this.version===5)this.keyID.read(this.fingerprint.subarray(0,8));else{if(this.version!==4)throw Error("Unsupported key version");this.keyID.read(this.fingerprint.subarray(12,20))}}async computeFingerprint(){const t=this.writeForHash(this.version);if(this.version===5)this.fingerprint=await Bt.hash.sha256(t);else{if(this.version!==4)throw Error("Unsupported key version");this.fingerprint=await Bt.hash.sha1(t)}}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return X.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(t){return this.version===t.version&&X.equalsUint8Array(this.writePublicKey(),t.writePublicKey())}getAlgorithmInfo(){const t={};t.algorithm=J.read(J.publicKey,this.algorithm);const r=this.publicParams.n||this.publicParams.p;return r?t.bits=X.uint8ArrayBitLength(r):t.curve=this.publicParams.oid.getName(),t}}jn.prototype.readPublicKey=jn.prototype.read,jn.prototype.writePublicKey=jn.prototype.write;const n5=X.constructAllowedPackets([$s,Ja,Hr,Er]);class i5{static get tag(){return J.packet.symmetricallyEncryptedData}constructor(){this.encrypted=null,this.packets=null}read(t){this.encrypted=t}write(){return this.encrypted}async decrypt(t,r,n=Ht){if(!n.allowUnauthenticatedMessages)throw Error("Message is not authenticated.");const{blockSize:i}=Bt.getCipher(t),s=await Ie(Zi(this.encrypted)),a=await Bt.mode.cfb.decrypt(t,r,s.subarray(i+2),s.subarray(2,i+2));this.packets=await De.fromBinary(a,n5,n)}async encrypt(t,r,n=Ht){const i=this.packets.write(),{blockSize:s}=Bt.getCipher(t),a=await Bt.getPrefixRandom(t),o=await Bt.mode.cfb.encrypt(t,r,a,new Uint8Array(s),n),u=await Bt.mode.cfb.encrypt(t,r,i,o.subarray(2),n);this.encrypted=X.concat([o,u])}}class Lu extends jn{static get tag(){return J.packet.publicSubkey}constructor(t,r){super(t,r)}static fromSecretSubkeyPacket(t){const r=new Lu,{version:n,created:i,algorithm:s,publicParams:a,keyID:o,fingerprint:u}=t;return r.version=n,r.created=i,r.algorithm=s,r.publicParams=a,r.keyID=o,r.fingerprint=u,r}}class fd extends jn{static get tag(){return J.packet.secretKey}constructor(t=new Date,r=Ht){super(t,r),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.privateParams=null}async read(t){let r=await this.readPublicKey(t);if(this.s2kUsage=t[r++],this.version===5&&r++,this.s2kUsage===255||this.s2kUsage===254||this.s2kUsage===253){if(this.symmetric=t[r++],this.s2kUsage===253&&(this.aead=t[r++]),this.s2k=new Aa,r+=this.s2k.read(t.subarray(r,t.length)),this.s2k.type==="gnu-dummy")return}else this.s2kUsage&&(this.symmetric=this.s2kUsage);if(this.s2kUsage&&(this.iv=t.subarray(r,r+Bt.getCipher(this.symmetric).blockSize),r+=this.iv.length),this.version===5&&(r+=4),this.keyMaterial=t.subarray(r),this.isEncrypted=!!this.s2kUsage,!this.isEncrypted){const n=this.keyMaterial.subarray(0,-2);if(!X.equalsUint8Array(X.writeChecksum(n),this.keyMaterial.subarray(-2)))throw Error("Key checksum mismatch");try{const{privateParams:i}=Bt.parsePrivateKeyParams(this.algorithm,n,this.publicParams);this.privateParams=i}catch(i){throw i instanceof Ne?i:Error("Error reading MPIs")}}}write(){const t=[this.writePublicKey()];t.push(new Uint8Array([this.s2kUsage]));const r=[];return this.s2kUsage!==255&&this.s2kUsage!==254&&this.s2kUsage!==253||(r.push(this.symmetric),this.s2kUsage===253&&r.push(this.aead),r.push(...this.s2k.write())),this.s2kUsage&&this.s2k.type!=="gnu-dummy"&&r.push(...this.iv),this.version===5&&t.push(new Uint8Array([r.length])),t.push(new Uint8Array(r)),this.isDummy()||(this.s2kUsage||(this.keyMaterial=Bt.serializeParams(this.algorithm,this.privateParams)),this.version===5&&t.push(X.writeNumber(this.keyMaterial.length,4)),t.push(this.keyMaterial),this.s2kUsage||t.push(X.writeChecksum(this.keyMaterial))),X.concatUint8Array(t)}isDecrypted(){return this.isEncrypted===!1}isDummy(){return!(!this.s2k||this.s2k.type!=="gnu-dummy")}makeDummy(t=Ht){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),this.isEncrypted=null,this.keyMaterial=null,this.s2k=new Aa(t),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric=J.symmetric.aes256)}async encrypt(t,r=Ht){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key packet is already encrypted");if(!t)throw Error("A non-empty passphrase is required for key encryption.");this.s2k=new Aa(r),this.s2k.salt=await Bt.random.getRandomBytes(8);const n=Bt.serializeParams(this.algorithm,this.privateParams);this.symmetric=J.symmetric.aes256;const i=await Hl(this.s2k,t,this.symmetric),{blockSize:s}=Bt.getCipher(this.symmetric);if(this.iv=await Bt.random.getRandomBytes(s),r.aeadProtect){this.s2kUsage=253,this.aead=J.aead.eax;const a=Bt.getAEADMode(this.aead),o=await a(this.symmetric,i);this.keyMaterial=await o.encrypt(n,this.iv.subarray(0,a.ivLength),new Uint8Array)}else this.s2kUsage=254,this.keyMaterial=await Bt.mode.cfb.encrypt(this.symmetric,i,X.concatUint8Array([n,await Bt.hash.sha1(n,r)]),this.iv,r)}async decrypt(t){if(this.isDummy())return!1;if(this.isDecrypted())throw Error("Key packet is already decrypted.");let r,n;if(this.s2kUsage!==254&&this.s2kUsage!==253)throw this.s2kUsage===255?Error("Encrypted private key is authenticated using an insecure two-byte hash"):Error("Private key is encrypted using an insecure S2K function: unsalted MD5");if(r=await Hl(this.s2k,t,this.symmetric),this.s2kUsage===253){const i=Bt.getAEADMode(this.aead),s=await i(this.symmetric,r);try{n=await s.decrypt(this.keyMaterial,this.iv.subarray(0,i.ivLength),new Uint8Array)}catch(a){throw a.message==="Authentication tag mismatch"?Error("Incorrect key passphrase: "+a.message):a}}else{const i=await Bt.mode.cfb.decrypt(this.symmetric,r,this.keyMaterial,this.iv);n=i.subarray(0,-20);const s=await Bt.hash.sha1(n);if(!X.equalsUint8Array(s,i.subarray(-20)))throw Error("Incorrect key passphrase")}try{const{privateParams:i}=Bt.parsePrivateKeyParams(this.algorithm,n,this.publicParams);this.privateParams=i}catch{throw Error("Error reading MPIs")}this.isEncrypted=!1,this.keyMaterial=null,this.s2kUsage=0}async validate(){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key is not decrypted");let t;try{t=await Bt.validateParams(this.algorithm,this.publicParams,this.privateParams)}catch{t=!1}if(!t)throw Error("Key is invalid")}async generate(t,r){const{privateParams:n,publicParams:i}=await Bt.generateParams(this.algorithm,t,r);this.privateParams=n,this.publicParams=i,this.isEncrypted=!1}clearPrivateParams(){this.isDummy()||(Object.keys(this.privateParams).forEach(t=>{this.privateParams[t].fill(0),delete this.privateParams[t]}),this.privateParams=null,this.isEncrypted=!0)}}async function Hl(e,t,r){const{keySize:n}=Bt.getCipher(r);return e.produceKey(t,n)}Tn(function(e){(function(t){function r(i){function s(){return Ut<$t}function a(){return Ut}function o(mt){Ut=mt}function u(){Ut=0,$t=ae.length}function c(mt,bt){return{name:mt,tokens:bt||"",semantic:bt||"",children:[]}}function l(mt,bt){var _t;return bt===null?null:((_t=c(mt)).tokens=bt.tokens,_t.semantic=bt.semantic,_t.children.push(bt),_t)}function h(mt,bt){return bt!==null&&(mt.tokens+=bt.tokens,mt.semantic+=bt.semantic),mt.children.push(bt),mt}function d(mt){var bt;return s()&&mt(bt=ae[Ut])?(Ut+=1,c("token",bt)):null}function p(mt){return function(){return l("literal",d(function(bt){return bt===mt}))}}function g(){var mt=arguments;return function(){var bt,_t,Pt,Dt;for(Dt=a(),_t=c("and"),bt=0;bt<mt.length;bt+=1){if((Pt=mt[bt]())===null)return o(Dt),null;h(_t,Pt)}return _t}}function v(){var mt=arguments;return function(){var bt,_t,Pt;for(Pt=a(),bt=0;bt<mt.length;bt+=1){if((_t=mt[bt]())!==null)return _t;o(Pt)}return null}}function _(mt){return function(){var bt,_t;return _t=a(),(bt=mt())!==null?bt:(o(_t),c("opt"))}}function k(mt){return function(){var bt=mt();return bt!==null&&(bt.semantic=""),bt}}function P(mt){return function(){var bt=mt();return bt!==null&&bt.semantic.length>0&&(bt.semantic=" "),bt}}function A(mt,bt){return function(){var _t,Pt,Dt,Rt,It;for(Rt=a(),_t=c("star"),Dt=0,It=bt===void 0?0:bt;(Pt=mt())!==null;)Dt+=1,h(_t,Pt);return Dt>=It?_t:(o(Rt),null)}}function E(mt){return mt.charCodeAt(0)>=128}function z(){return l("cr",p("\r")())}function w(){return l("crlf",g(z,b)())}function M(){return l("dquote",p('"')())}function f(){return l("htab",p("	")())}function b(){return l("lf",p(`
`)())}function y(){return l("sp",p(" ")())}function m(){return l("vchar",d(function(mt){var bt=mt.charCodeAt(0),_t=33<=bt&&bt<=126;return i.rfc6532&&(_t=_t||E(mt)),_t}))}function x(){return l("wsp",v(y,f)())}function I(){var mt=l("quoted-pair",v(g(p("\\"),v(m,x)),at)());return mt===null?null:(mt.semantic=mt.semantic[1],mt)}function O(){return l("fws",v(ct,g(_(g(A(x),k(w))),A(x,1)))())}function q(){return l("ctext",v(function(){return d(function(mt){var bt=mt.charCodeAt(0),_t=33<=bt&&bt<=39||42<=bt&&bt<=91||93<=bt&&bt<=126;return i.rfc6532&&(_t=_t||E(mt)),_t})},vt)())}function Z(){return l("ccontent",v(q,I,S)())}function S(){return l("comment",g(p("("),A(g(_(O),Z)),_(O),p(")"))())}function U(){return l("cfws",v(g(A(g(_(O),S),1),_(O)),O)())}function V(){return l("atext",d(function(mt){var bt="a"<=mt&&mt<="z"||"A"<=mt&&mt<="Z"||"0"<=mt&&mt<="9"||["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(mt)>=0;return i.rfc6532&&(bt=bt||E(mt)),bt}))}function Q(){return l("atom",g(P(_(U)),A(V,1),P(_(U)))())}function G(){var mt,bt;return(mt=l("dot-atom-text",A(V,1)()))===null||(bt=A(g(p("."),A(V,1)))())!==null&&h(mt,bt),mt}function it(){return l("dot-atom",g(k(_(U)),G,k(_(U)))())}function st(){return l("qtext",v(function(){return d(function(mt){var bt=mt.charCodeAt(0),_t=bt===33||35<=bt&&bt<=91||93<=bt&&bt<=126;return i.rfc6532&&(_t=_t||E(mt)),_t})},nt)())}function rt(){return l("qcontent",v(st,I)())}function F(){return l("quoted-string",g(k(_(U)),k(M),A(g(_(P(O)),rt)),_(k(O)),k(M),k(_(U)))())}function H(){return l("word",v(Q,F)())}function K(){return l("address",v(C,N)())}function C(){return l("mailbox",v(Y,pt)())}function Y(){return l("name-addr",g(_(L),T)())}function T(){return l("angle-addr",v(g(k(_(U)),p("<"),pt,p(">"),k(_(U))),ut)())}function N(){return l("group",g(L,p(":"),_(D),p(";"),k(_(U)))())}function L(){return l("display-name",((mt=l("phrase",v(lt,A(H,1))()))!==null&&(mt.semantic=function(bt){return bt.replace(/([ \t]|\r\n)+/g," ").replace(/^\s*/,"").replace(/\s*$/,"")}(mt.semantic)),mt));var mt}function B(){return l("mailbox-list",v(g(C,A(g(p(","),C))),$)())}function R(){return l("address-list",v(g(K,A(g(p(","),K))),wt)())}function D(){return l("group-list",v(B,k(U),gt)())}function j(){return l("local-part",v(Nt,it,F)())}function et(){return l("dtext",v(function(){return d(function(mt){var bt=mt.charCodeAt(0),_t=33<=bt&&bt<=90||94<=bt&&bt<=126;return i.rfc6532&&(_t=_t||E(mt)),_t})},Ft)())}function tt(){return l("domain-literal",g(k(_(U)),p("["),A(g(_(O),et)),_(O),p("]"),k(_(U)))())}function ot(){return l("domain",(mt=v(ne,it,tt)(),i.rejectTLD&&mt&&mt.semantic&&mt.semantic.indexOf(".")<0?null:(mt&&(mt.semantic=mt.semantic.replace(/\s+/g,"")),mt)));var mt}function pt(){return l("addr-spec",g(j,p("@"),ot)())}function yt(){return i.strict?null:l("obs-NO-WS-CTL",d(function(mt){var bt=mt.charCodeAt(0);return 1<=bt&&bt<=8||bt===11||bt===12||14<=bt&&bt<=31||bt===127}))}function vt(){return i.strict?null:l("obs-ctext",yt())}function nt(){return i.strict?null:l("obs-qtext",yt())}function at(){return i.strict?null:l("obs-qp",g(p("\\"),v(p("\0"),yt,b,z))())}function lt(){return i.strict?null:i.atInDisplayName?l("obs-phrase",g(H,A(v(H,p("."),p("@"),P(U))))()):l("obs-phrase",g(H,A(v(H,p("."),P(U))))())}function ct(){return i.strict?null:l("obs-FWS",A(g(k(_(w)),x),1)())}function ut(){return i.strict?null:l("obs-angle-addr",g(k(_(U)),p("<"),ft,pt,p(">"),k(_(U)))())}function ft(){return i.strict?null:l("obs-route",g(W,p(":"))())}function W(){return i.strict?null:l("obs-domain-list",g(A(v(k(U),p(","))),p("@"),ot,A(g(p(","),k(_(U)),_(g(p("@"),ot)))))())}function $(){return i.strict?null:l("obs-mbox-list",g(A(g(k(_(U)),p(","))),C,A(g(p(","),_(g(C,k(U))))))())}function wt(){return i.strict?null:l("obs-addr-list",g(A(g(k(_(U)),p(","))),K,A(g(p(","),_(g(K,k(U))))))())}function gt(){return i.strict?null:l("obs-group-list",g(A(g(k(_(U)),p(",")),1),k(_(U)))())}function Nt(){return i.strict?null:l("obs-local-part",g(H,A(g(p("."),H)))())}function ne(){return i.strict?null:l("obs-domain",g(Q,A(g(p("."),Q)))())}function Ft(){return i.strict?null:l("obs-dtext",v(yt,I)())}function zt(mt,bt){var _t,Pt,Dt;if(bt==null)return null;for(Pt=[bt];Pt.length>0;){if((Dt=Pt.pop()).name===mt)return Dt;for(_t=Dt.children.length-1;_t>=0;_t-=1)Pt.push(Dt.children[_t])}return null}function me(mt,bt){var _t,Pt,Dt,Rt,It;if(bt==null)return null;for(Pt=[bt],Rt=[],It={},_t=0;_t<mt.length;_t+=1)It[mt[_t]]=!0;for(;Pt.length>0;)if((Dt=Pt.pop()).name in It)Rt.push(Dt);else for(_t=Dt.children.length-1;_t>=0;_t-=1)Pt.push(Dt.children[_t]);return Rt}function Gt(mt){var bt,_t,Pt,Dt,Rt;if(mt===null)return null;for(bt=[],_t=me(["group","mailbox"],mt),Pt=0;Pt<_t.length;Pt+=1)(Dt=_t[Pt]).name==="group"?bt.push(Qt(Dt)):Dt.name==="mailbox"&&bt.push(Se(Dt));return Rt={ast:mt,addresses:bt},i.simple&&(Rt=function(It){var oe;if(It&&It.addresses)for(oe=0;oe<It.addresses.length;oe+=1)delete It.addresses[oe].node;return It}(Rt)),i.oneResult?function(It){return!It||!i.partial&&It.addresses.length>1?null:It.addresses&&It.addresses[0]}(Rt):i.simple?Rt&&Rt.addresses:Rt}function Qt(mt){var bt,_t=zt("display-name",mt),Pt=[],Dt=me(["mailbox"],mt);for(bt=0;bt<Dt.length;bt+=1)Pt.push(Se(Dt[bt]));return{node:mt,parts:{name:_t},type:mt.name,name:Ot(_t),addresses:Pt}}function Se(mt){var bt=zt("display-name",mt),_t=zt("addr-spec",mt),Pt=function(oe,Vt){var de,ir,sr,dr;if(Vt==null)return null;for(ir=[Vt],dr=[];ir.length>0;)for((sr=ir.pop()).name===oe&&dr.push(sr),de=sr.children.length-1;de>=0;de-=1)ir.push(sr.children[de]);return dr}("cfws",mt),Dt=me(["comment"],mt),Rt=zt("local-part",_t),It=zt("domain",_t);return{node:mt,parts:{name:bt,address:_t,local:Rt,domain:It,comments:Pt},type:mt.name,name:Ot(bt),address:Ot(_t),local:Ot(Rt),domain:Ot(It),comments:Kt(Dt),groupName:Ot(mt.groupName)}}function Ot(mt){return mt!=null?mt.semantic:null}function Kt(mt){var bt="";if(mt)for(var _t=0;_t<mt.length;_t+=1)bt+=Ot(mt[_t]);return bt}var ae,Ut,$t,le,qt;if((i=n(i,{}))===null)return null;if(ae=i.input,qt={address:K,"address-list":R,"angle-addr":T,from:function(){return l("from",v(B,R)())},group:N,mailbox:C,"mailbox-list":B,"reply-to":function(){return l("reply-to",R())},sender:function(){return l("sender",v(C,K)())}}[i.startAt]||R,!i.strict){if(u(),i.strict=!0,le=qt(ae),i.partial||!s())return Gt(le);i.strict=!1}return u(),le=qt(ae),!i.partial&&s()?null:Gt(le)}function n(i,s){function a(l){return Object.prototype.toString.call(l)==="[object String]"}function o(l){return l==null}var u,c;if(a(i))i={input:i};else if(!function(l){return l===Object(l)}(i))return null;if(!a(i.input)||!s)return null;for(c in u={oneResult:!1,partial:!1,rejectTLD:!1,rfc6532:!1,simple:!1,startAt:"address-list",strict:!1,atInDisplayName:!1})o(i[c])&&(i[c]=o(s[c])?u[c]:s[c]);return i}r.parseOneAddress=function(i){return r(n(i,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseAddressList=function(i){return r(n(i,{rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseFrom=function(i){return r(n(i,{rfc6532:!0,simple:!0,startAt:"from"}))},r.parseSender=function(i){return r(n(i,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"sender"}))},r.parseReplyTo=function(i){return r(n(i,{rfc6532:!0,simple:!0,startAt:"reply-to"}))},e.exports=r})()});class s5 extends fd{static get tag(){return J.packet.secretSubkey}constructor(t=new Date,r=Ht){super(t,r)}}class hd{constructor(t){this.packets=t||new De}write(){return this.packets.write()}armor(t=Ht){return Ah(J.armor.signature,this.write(),void 0,void 0,void 0,t)}getSigningKeyIDs(){return this.packets.map(t=>t.issuerKeyID)}}async function dd(e,t,r=new Date,n={},i){let s=i.preferredHashAlgorithm,a=s;if(e){const o=await e.getPrimaryUser(r,n,i);o.selfCertification.preferredHashAlgorithms&&([a]=o.selfCertification.preferredHashAlgorithms,s=Bt.hash.getHashByteLength(s)<=Bt.hash.getHashByteLength(a)?a:s)}switch(Object.getPrototypeOf(t)){case fd.prototype:case jn.prototype:case s5.prototype:case Lu.prototype:switch(t.algorithm){case J.publicKey.ecdh:case J.publicKey.ecdsa:case J.publicKey.eddsa:a=Bt.publicKey.elliptic.getPreferredHashAlgo(t.publicParams.oid)}}return Bt.hash.getHashByteLength(s)<=Bt.hash.getHashByteLength(a)?a:s}async function au(e,t=[],r=new Date,n=[],i=Ht){const s={symmetric:J.symmetric.aes128,aead:J.aead.eax,compression:J.compression.uncompressed}[e],a={symmetric:i.preferredSymmetricAlgorithm,aead:i.preferredAEADAlgorithm,compression:i.preferredCompressionAlgorithm}[e],o={symmetric:"preferredSymmetricAlgorithms",aead:"preferredAEADAlgorithms",compression:"preferredCompressionAlgorithms"}[e];return(await Promise.all(t.map(async function(u,c){const l=(await u.getPrimaryUser(r,n[c],i)).selfCertification[o];return!!l&&l.indexOf(a)>=0}))).every(Boolean)?a:s}async function a5(e,t,r,n,i,s,a=!1,o){if(r.isDummy())throw Error("Cannot sign with a gnu-dummy key.");if(!r.isDecrypted())throw Error("Signing key is not decrypted.");const u=new Er;return Object.assign(u,n),u.publicKeyAlgorithm=r.algorithm,u.hashAlgorithm=await dd(t,r,i,s,o),await u.sign(r,e,i,a),u}J.packet.publicKey,J.packet.privateKey;J.packet.publicKey,J.packet.privateKey,J.packet.publicSubkey,J.packet.privateSubkey;const o5=X.constructAllowedPackets([$s,Ja,K0,ld,i5,su,Bs,Hr,Er]),c5=X.constructAllowedPackets([Bs]),u5=X.constructAllowedPackets([Er]);class Ur{constructor(t){this.packets=t||new De}getEncryptionKeyIDs(){const t=[];return this.packets.filterByTag(J.packet.publicKeyEncryptedSessionKey).forEach(function(r){t.push(r.publicKeyID)}),t}getSigningKeyIDs(){const t=this.unwrapCompressed(),r=t.packets.filterByTag(J.packet.onePassSignature);return r.length>0?r.map(n=>n.issuerKeyID):t.packets.filterByTag(J.packet.signature).map(n=>n.issuerKeyID)}async decrypt(t,r,n,i=new Date,s=Ht){const a=n||await this.decryptSessionKeys(t,r,i,s),o=this.packets.filterByTag(J.packet.symmetricallyEncryptedData,J.packet.symEncryptedIntegrityProtectedData,J.packet.aeadEncryptedData);if(o.length===0)throw Error("No encrypted data found");const u=o[0];let c=null;const l=Promise.all(a.map(async({algorithm:d,data:p})=>{if(!X.isUint8Array(p)||!X.isString(d))throw Error("Invalid session key for decryption.");try{const g=J.write(J.symmetric,d);await u.decrypt(g,p,s)}catch(g){X.printDebugError(g),c=g}}));if(Vc(u.encrypted),u.encrypted=null,await l,!u.packets||!u.packets.length)throw c||Error("Decryption failed.");const h=new Ur(u.packets);return u.packets=new De,h}async decryptSessionKeys(t,r,n=new Date,i=Ht){let s,a=[];if(r){const o=this.packets.filterByTag(J.packet.symEncryptedSessionKey);if(o.length===0)throw Error("No symmetrically encrypted session key packet found.");await Promise.all(r.map(async function(u,c){let l;l=c?await De.fromBinary(o.write(),c5,i):o,await Promise.all(l.map(async function(h){try{await h.decrypt(u),a.push(h)}catch(d){X.printDebugError(d)}}))}))}else{if(!t)throw Error("No key or password specified.");{const o=this.packets.filterByTag(J.packet.publicKeyEncryptedSessionKey);if(o.length===0)throw Error("No public key encrypted session key packet found.");await Promise.all(o.map(async function(u){await Promise.all(t.map(async function(c){let l=[J.symmetric.aes256,J.symmetric.aes128,J.symmetric.tripledes,J.symmetric.cast5];try{const d=await c.getPrimaryUser(n,void 0,i);d.selfCertification.preferredSymmetricAlgorithms&&(l=l.concat(d.selfCertification.preferredSymmetricAlgorithms))}catch{}const h=(await c.getDecryptionKeys(u.publicKeyID,null,void 0,i)).map(d=>d.keyPacket);await Promise.all(h.map(async function(d){if(!(!d||d.isDummy())){if(!d.isDecrypted())throw Error("Decryption key is not decrypted.");if(i.constantTimePKCS1Decryption&&(u.publicKeyAlgorithm===J.publicKey.rsaEncrypt||u.publicKeyAlgorithm===J.publicKey.rsaEncryptSign||u.publicKeyAlgorithm===J.publicKey.rsaSign||u.publicKeyAlgorithm===J.publicKey.elgamal)){const p=u.write();await Promise.all(Array.from(i.constantTimePKCS1DecryptionSupportedSymmetricAlgorithms).map(async g=>{const v=new su;v.read(p);const _={sessionKeyAlgorithm:g,sessionKey:await Bt.generateSessionKey(g)};try{await v.decrypt(d,_),a.push(v)}catch(k){X.printDebugError(k),s=k}}))}else try{if(await u.decrypt(d),!l.includes(J.write(J.symmetric,u.sessionKeyAlgorithm)))throw Error("A non-preferred symmetric algorithm was used.");a.push(u)}catch(p){X.printDebugError(p),s=p}}}))})),Vc(u.encrypted),u.encrypted=null}))}}if(a.length>0){if(a.length>1){const o=new Set;a=a.filter(u=>{const c=u.sessionKeyAlgorithm+X.uint8ArrayToString(u.sessionKey);return!o.has(c)&&(o.add(c),!0)})}return a.map(o=>({data:o.sessionKey,algorithm:J.read(J.symmetric,o.sessionKeyAlgorithm)}))}throw s||Error("Session key decryption failed.")}getLiteralData(){const t=this.unwrapCompressed().packets.findPacket(J.packet.literalData);return t&&t.getBytes()||null}getFilename(){const t=this.unwrapCompressed().packets.findPacket(J.packet.literalData);return t&&t.getFilename()||null}getText(){const t=this.unwrapCompressed().packets.findPacket(J.packet.literalData);return t?t.getText():null}static async generateSessionKey(t=[],r=new Date,n=[],i=Ht){const s=await au("symmetric",t,r,n,i),a=J.read(J.symmetric,s),o=i.aeadProtect&&await async function(u,c=new Date,l=[],h=Ht){let d=!0;return await Promise.all(u.map(async function(p,g){const v=await p.getPrimaryUser(c,l[g],h);v.selfCertification.features&&v.selfCertification.features[0]&J.features.aead||(d=!1)})),d}(t,r,n,i)?J.read(J.aead,await au("aead",t,r,n,i)):void 0;return{data:await Bt.generateSessionKey(s),algorithm:a,aeadAlgorithm:o}}async encrypt(t,r,n,i=!1,s=[],a=new Date,o=[],u=Ht){if(n){if(!X.isUint8Array(n.data)||!X.isString(n.algorithm))throw Error("Invalid session key for encryption.")}else if(t&&t.length)n=await Ur.generateSessionKey(t,a,o,u);else{if(!r||!r.length)throw Error("No keys, passwords, or session key provided.");n=await Ur.generateSessionKey(void 0,void 0,void 0,u)}const{data:c,algorithm:l,aeadAlgorithm:h}=n,d=await Ur.encryptSessionKey(c,l,h,t,r,i,s,a,o,u);let p;h?(p=new K0,p.aeadAlgorithm=J.write(J.aead,h)):p=new ld,p.packets=this.packets;const g=J.write(J.symmetric,l);return await p.encrypt(g,c,u),d.packets.push(p),p.packets=new De,d}static async encryptSessionKey(t,r,n,i,s,a=!1,o=[],u=new Date,c=[],l=Ht){const h=new De,d=J.write(J.symmetric,r),p=n&&J.write(J.aead,n);if(i){const g=await Promise.all(i.map(async function(v,_){const k=await v.getEncryptionKey(o[_],u,c,l),P=new su;return P.publicKeyID=a?Ei.wildcard():k.getKeyID(),P.publicKeyAlgorithm=k.keyPacket.algorithm,P.sessionKey=t,P.sessionKeyAlgorithm=d,await P.encrypt(k.keyPacket),delete P.sessionKey,P}));h.push(...g)}if(s){const g=async function(P,A){try{return await P.decrypt(A),1}catch{return 0}},v=(P,A)=>P+A,_=async function(P,A,E,z){const w=new Bs(l);return w.sessionKey=P,w.sessionKeyAlgorithm=A,E&&(w.aeadAlgorithm=E),await w.encrypt(z,l),l.passwordCollisionCheck&&(await Promise.all(s.map(M=>g(w,M)))).reduce(v)!==1?_(P,A,z):(delete w.sessionKey,w)},k=await Promise.all(s.map(P=>_(t,d,p,P)));h.push(...k)}return new Ur(h)}async sign(t=[],r=null,n=[],i=new Date,s=[],a=Ht){const o=new De,u=this.packets.findPacket(J.packet.literalData);if(!u)throw Error("No literal data packet to sign.");let c,l;const h=u.text===null?J.signature.binary:J.signature.text;if(r)for(l=r.packets.filterByTag(J.packet.signature),c=l.length-1;c>=0;c--){const d=l[c],p=new Hr;p.signatureType=d.signatureType,p.hashAlgorithm=d.hashAlgorithm,p.publicKeyAlgorithm=d.publicKeyAlgorithm,p.issuerKeyID=d.issuerKeyID,t.length||c!==0||(p.flags=1),o.push(p)}return await Promise.all(Array.from(t).reverse().map(async function(d,p){if(!d.isPrivate())throw Error("Need private key for signing");const g=n[t.length-1-p],v=await d.getSigningKey(g,i,s,a),_=new Hr;return _.signatureType=h,_.hashAlgorithm=await dd(d,v.keyPacket,i,s,a),_.publicKeyAlgorithm=v.keyPacket.algorithm,_.issuerKeyID=v.getKeyID(),p===t.length-1&&(_.flags=1),_})).then(d=>{d.forEach(p=>o.push(p))}),o.push(u),o.push(...await Wl(u,t,r,n,i,s,!1,a)),new Ur(o)}compress(t,r=Ht){if(t===J.compression.uncompressed)return this;const n=new Ja(r);n.algorithm=t,n.packets=this.packets;const i=new De;return i.push(n),new Ur(i)}async signDetached(t=[],r=null,n=[],i=new Date,s=[],a=Ht){const o=this.packets.findPacket(J.packet.literalData);if(!o)throw Error("No literal data packet to sign.");return new hd(await Wl(o,t,r,n,i,s,!0,a))}async verify(t,r=new Date,n=Ht){const i=this.unwrapCompressed(),s=i.packets.filterByTag(J.packet.literalData);if(s.length!==1)throw Error("Can only verify message with one literal data packet.");Re(i.packets.stream)&&i.packets.push(...await Ie(i.packets.stream,u=>u||[]));const a=i.packets.filterByTag(J.packet.onePassSignature).reverse(),o=i.packets.filterByTag(J.packet.signature);return a.length&&!o.length&&X.isStream(i.packets.stream)&&!Re(i.packets.stream)?(await Promise.all(a.map(async u=>{u.correspondingSig=new Promise((c,l)=>{u.correspondingSigResolve=c,u.correspondingSigReject=l}),u.signatureData=Ri(async()=>(await u.correspondingSig).signatureData),u.hashed=Ie(await u.hash(u.signatureType,s[0],void 0,!1)),u.hashed.catch(()=>{})})),i.packets.stream=Vn(i.packets.stream,async(u,c)=>{const l=Rn(u),h=wr(c);try{for(let d=0;d<a.length;d++){const{value:p}=await l.read();a[d].correspondingSigResolve(p)}await l.readToEnd(),await h.ready,await h.close()}catch(d){a.forEach(p=>{p.correspondingSigReject(d)}),await h.abort(d)}}),Ec(a,s,t,r,!1,n)):Ec(o,s,t,r,!1,n)}verifyDetached(t,r,n=new Date,i=Ht){const s=this.unwrapCompressed().packets.filterByTag(J.packet.literalData);if(s.length!==1)throw Error("Can only verify message with one literal data packet.");return Ec(t.packets,s,r,n,!0,i)}unwrapCompressed(){const t=this.packets.filterByTag(J.packet.compressedData);return t.length?new Ur(t[0].packets):this}async appendSignature(t,r=Ht){await this.packets.read(X.isUint8Array(t)?t:(await xh(t)).data,u5,r)}write(){return this.packets.write()}armor(t=Ht){return Ah(J.armor.message,this.write(),null,null,null,t)}}async function Wl(e,t,r=null,n=[],i=new Date,s=[],a=!1,o=Ht){const u=new De,c=e.text===null?J.signature.binary:J.signature.text;if(await Promise.all(t.map(async(l,h)=>{const d=s[h];if(!l.isPrivate())throw Error("Need private key for signing");const p=await l.getSigningKey(n[h],i,d,o);return a5(e,l,p.keyPacket,{signatureType:c},i,d,a,o)})).then(l=>{u.push(...l)}),r){const l=r.packets.filterByTag(J.packet.signature);u.push(...l)}return u}async function Ec(e,t,r,n=new Date,i=!1,s=Ht){return Promise.all(e.filter(function(a){return["text","binary"].includes(J.read(J.signature,a.signatureType))}).map(async function(a){return async function(o,u,c,l=new Date,h=!1,d=Ht){let p,g;for(const k of c){const P=k.getKeys(o.issuerKeyID);if(P.length>0){p=k,g=P[0];break}}const v=o instanceof Hr?o.correspondingSig:o,_={keyID:o.issuerKeyID,verified:(async()=>{if(!g)throw Error("Could not find signing key with key ID "+o.issuerKeyID.toHex());await o.verify(g.keyPacket,o.signatureType,u[0],l,h,d);const k=await v;if(g.getCreationTime()>k.created)throw Error("Key is newer than the signature");try{await p.getSigningKey(g.getKeyID(),k.created,void 0,d)}catch(P){if(!d.allowInsecureVerificationWithReformattedKeys||!P.message.match(/Signature creation time is in the future/))throw P;await p.getSigningKey(g.getKeyID(),l,void 0,d)}return!0})(),signature:(async()=>{const k=await v,P=new De;return k&&P.push(k),new hd(P)})()};return _.signature.catch(()=>{}),_.verified.catch(()=>{}),_}(a,t,r,n,i,s)}))}async function l5(i){var s=i,{armoredMessage:e,binaryMessage:t,config:r}=s,n=Gs(s,["armoredMessage","binaryMessage","config"]);r=Oe(Oe({},Ht),r);let a=e||t;if(!a)throw Error("readMessage: must pass options object containing `armoredMessage` or `binaryMessage`");if(e&&!X.isString(e)&&!X.isStream(e))throw Error("readMessage: options.armoredMessage must be a string or stream");if(t&&!X.isUint8Array(t)&&!X.isStream(t))throw Error("readMessage: options.binaryMessage must be a Uint8Array or stream");const o=Object.keys(n);if(o.length>0)throw Error("Unknown option: "+o.join(", "));const u=X.isStream(a);if(u&&(await yh(),a=Wa(a)),e){const{type:h,data:d}=await xh(a,r);if(h!==J.armor.message)throw Error("Armored text not of type message");a=d}const c=await De.fromBinary(a,o5,r),l=new Ur(c);return l.fromStream=u,l}async function f5(a){var o=a,{text:e,binary:t,filename:r,date:n=new Date,format:i=e!==void 0?"utf8":"binary"}=o,s=Gs(o,["text","binary","filename","date","format"]);let u=e!==void 0?e:t;if(u===void 0)throw Error("createMessage: must pass options object containing `text` or `binary`");if(e&&!X.isString(e)&&!X.isStream(e))throw Error("createMessage: options.text must be a string or stream");if(t&&!X.isUint8Array(t)&&!X.isStream(t))throw Error("createMessage: options.binary must be a Uint8Array or stream");const c=Object.keys(s);if(c.length>0)throw Error("Unknown option: "+c.join(", "));const l=X.isStream(u);l&&(await yh(),u=Wa(u));const h=new $s(n);e!==void 0?h.setText(u,J.write(J.literal,i)):h.setBytes(u,J.write(J.literal,i)),r!==void 0&&h.setFilename(r);const d=new De;d.push(h);const p=new Ur(d);return p.fromStream=l,p}async function h5(v){var _=v,{message:e,encryptionKeys:t,signingKeys:r,passwords:n,sessionKey:i,format:s="armored",signature:a=null,wildcard:o=!1,signingKeyIDs:u=[],encryptionKeyIDs:c=[],date:l=new Date,signingUserIDs:h=[],encryptionUserIDs:d=[],config:p}=_,g=Gs(_,["message","encryptionKeys","signingKeys","passwords","sessionKey","format","signature","wildcard","signingKeyIDs","encryptionKeyIDs","date","signingUserIDs","encryptionUserIDs","config"]);if(md(p=Oe(Oe({},Ht),p)),pd(e),p5(s),t=qr(t),r=qr(r),n=qr(n),u=qr(u),c=qr(c),h=qr(h),d=qr(d),g.detached)throw Error("The `detached` option has been removed from openpgp.encrypt, separately call openpgp.sign instead. Don't forget to remove the `privateKeys` option as well.");if(g.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encrypt, pass `encryptionKeys` instead");if(g.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.encrypt, pass `signingKeys` instead");if(g.armor!==void 0)throw Error("The `armor` option has been removed from openpgp.encrypt, pass `format` instead.");const k=Object.keys(g);if(k.length>0)throw Error("Unknown option: "+k.join(", "));r||(r=[]);const P=e.fromStream;try{if((r.length||a)&&(e=await e.sign(r,a,u,l,h,p)),e=e.compress(await au("compression",t,l,d,p),p),e=await e.encrypt(t,n,i,o,c,l,d,p),s==="object")return e;const A=s==="armored";return yd(A?e.armor(p):e.write(),P,A?"utf8":"binary")}catch(A){throw X.wrapError("Error encrypting message",A)}}async function d5(h){var d=h,{message:e,decryptionKeys:t,passwords:r,sessionKeys:n,verificationKeys:i,expectSigned:s=!1,format:a="utf8",signature:o=null,date:u=new Date,config:c}=d,l=Gs(d,["message","decryptionKeys","passwords","sessionKeys","verificationKeys","expectSigned","format","signature","date","config"]);if(md(c=Oe(Oe({},Ht),c)),pd(e),i=qr(i),t=qr(t),r=qr(r),n=qr(n),l.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.decrypt, pass `decryptionKeys` instead");if(l.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.decrypt, pass `verificationKeys` instead");const p=Object.keys(l);if(p.length>0)throw Error("Unknown option: "+p.join(", "));try{const g=await e.decrypt(t,r,n,u,c);i||(i=[]);const v={};if(v.signatures=o?await g.verifyDetached(o,i,u,c):await g.verify(i,u,c),v.data=a==="binary"?g.getLiteralData():g.getText(),v.filename=g.getFilename(),y5(v,e),s){if(i.length===0)throw Error("Verification keys are required to verify message signatures");if(v.signatures.length===0)throw Error("Message is not signed");v.data=br([v.data,Ri(async()=>{await X.anyPromise(v.signatures.map(_=>_.verified))})])}return v.data=await yd(v.data,e.fromStream,a),v}catch(g){throw X.wrapError("Error decrypting message",g)}}function pd(e){if(!(e instanceof Ur))throw Error("Parameter [message] needs to be of type Message")}function p5(e){if(e!=="armored"&&e!=="binary"&&e!=="object")throw Error("Unsupported format "+e)}const m5=Object.keys(Ht).length;function md(e){const t=Object.keys(e);if(t.length!==m5){for(const r of t)if(Ht[r]===void 0)throw Error("Unknown config property: "+r)}}function qr(e){return e&&!X.isArray(e)&&(e=[e]),e}async function yd(e,t,r="utf8"){const n=X.isStream(e);return n==="array"?Ie(e):t==="node"?(e=Du(e),r!=="binary"&&e.setEncoding(r),e):t==="web"&&n==="ponyfill"?ph(e):e}function y5(e,t){e.data=Vn(t.packets.stream,async(r,n)=>{await ki(e.data,n,{preventClose:!0});const i=wr(n);try{await Ie(r,s=>s),await i.close()}catch(s){await i.abort(s)}})}const ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function ju(){}const Gl=typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:void 0;function _r(e){return typeof e=="object"&&e!==null||typeof e=="function"}const bd=ju,qu=Promise,b5=Promise.prototype.then,g5=Promise.resolve.bind(qu),v5=Promise.reject.bind(qu);function ur(e){return new qu(e)}function Ae(e){return g5(e)}function Wt(e){return v5(e)}function qn(e,t,r){return b5.call(e,t,r)}function Gr(e,t,r){qn(qn(e,t,r),void 0,bd)}function Pc(e,t){Gr(e,t)}function gd(e,t){Gr(e,void 0,t)}function Xi(e,t,r){return qn(e,t,r)}function Za(e){qn(e,void 0,bd)}const vd=(()=>{const e=Gl&&Gl.queueMicrotask;if(typeof e=="function")return e;const t=Ae(void 0);return r=>qn(t,r)})();function L0(e,t,r){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function cs(e,t,r){try{return Ae(L0(e,t,r))}catch(n){return Wt(n)}}class Cn{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){const r=this._back;let n=r;r._elements.length===16383&&(n={_elements:[],_next:void 0}),r._elements.push(t),n!==r&&(this._back=n,r._next=n),++this._size}shift(){const t=this._front;let r=t;const n=this._cursor;let i=n+1;const s=t._elements,a=s[n];return i===16384&&(r=t._next,i=0),--this._size,this._cursor=i,t!==r&&(this._front=r),s[n]=void 0,a}forEach(t){let r=this._cursor,n=this._front,i=n._elements;for(;!(r===i.length&&n._next===void 0||r===i.length&&(n=n._next,i=n._elements,r=0,i.length===0));)t(i[r]),++r}peek(){const t=this._front,r=this._cursor;return t._elements[r]}}function wd(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?ou(e):t._state==="closed"?function(r){ou(r),xd(r)}(e):_d(e,t._storedError)}function $u(e,t){return Ji(e._ownerReadableStream,t)}function Vi(e){e._ownerReadableStream._state==="readable"?Hu(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,r){_d(t,r)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function Ds(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function ou(e){e._closedPromise=ur((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function _d(e,t){ou(e),Hu(e,t)}function Hu(e,t){e._closedPromise_reject!==void 0&&(Za(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function xd(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const Ad=ce("[[AbortSteps]]"),Sd=ce("[[ErrorSteps]]"),Wu=ce("[[CancelSteps]]"),Gu=ce("[[PullSteps]]"),Vl=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},w5=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function $n(e,t){if(e!==void 0&&typeof(r=e)!="object"&&typeof r!="function")throw new TypeError(t+" is not an object.");var r}function Yr(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function.")}function kd(e,t){if(!function(r){return typeof r=="object"&&r!==null||typeof r=="function"}(e))throw new TypeError(t+" is not an object.")}function Jn(e,t,r){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function cu(e,t,r){if(e===void 0)throw new TypeError(`${t} is required in '${r}'.`)}function Vu(e){return Number(e)}function Yl(e){return e===0?0:e}function Ed(e,t){const r=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=Yl(n),!Vl(n))throw new TypeError(t+" is not a finite number");if(n=function(i){return Yl(w5(i))}(n),n<0||n>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return Vl(n)&&n!==0?n:0}function Yu(e,t){if(!hi(e))throw new TypeError(t+" is not a ReadableStream.")}function Ro(e){return new r0(e)}function Pd(e,t){e._reader._readRequests.push(t)}function Xu(e,t,r){const n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function j0(e){return e._reader._readRequests.length}function Cd(e){const t=e._reader;return t!==void 0&&!!Yi(t)}class r0{constructor(t){if(Jn(t,1,"ReadableStreamDefaultReader"),Yu(t,"First parameter"),wi(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");wd(this,t),this._readRequests=new Cn}get closed(){return Yi(this)?this._closedPromise:Wt(fo("closed"))}cancel(t){return Yi(this)?this._ownerReadableStream===void 0?Wt(Ds("cancel")):$u(this,t):Wt(fo("cancel"))}read(){if(!Yi(this))return Wt(fo("read"));if(this._ownerReadableStream===void 0)return Wt(Ds("read from"));let t,r;const n=ur((i,s)=>{t=i,r=s});return q0(this,{_chunkSteps:i=>t({value:i,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:i=>r(i)}),n}releaseLock(){if(!Yi(this))throw fo("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Vi(this)}}}function Yi(e){return!!_r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function q0(e,t){const r=e._ownerReadableStream;r._disturbed=!0,r._state==="closed"?t._closeSteps():r._state==="errored"?t._errorSteps(r._storedError):r._readableStreamController[Gu](t)}function fo(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let n0;Object.defineProperties(r0.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof ce.toStringTag=="symbol"&&Object.defineProperty(r0.prototype,ce.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),typeof ce.asyncIterator=="symbol"&&(n0={[ce.asyncIterator](){return this}},Object.defineProperty(n0,ce.asyncIterator,{enumerable:!1}));class _5{constructor(t,r){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=r}next(){const t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?Xi(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){const r=()=>this._returnSteps(t);return this._ongoingPromise?Xi(this._ongoingPromise,r,r):r()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const t=this._reader;if(t._ownerReadableStream===void 0)return Wt(Ds("iterate"));let r,n;const i=ur((s,a)=>{r=s,n=a});return q0(t,{_chunkSteps:s=>{this._ongoingPromise=void 0,vd(()=>r({value:s,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,Vi(t),r({value:void 0,done:!0})},_errorSteps:s=>{this._ongoingPromise=void 0,this._isFinished=!0,Vi(t),n(s)}}),i}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;const r=this._reader;if(r._ownerReadableStream===void 0)return Wt(Ds("finish iterating"));if(!this._preventCancel){const n=$u(r,t);return Vi(r),Xi(n,()=>({value:t,done:!0}))}return Vi(r),Ae({value:t,done:!0})}}const Md={next(){return Xl(this)?this._asyncIteratorImpl.next():Wt(Jl("next"))},return(e){return Xl(this)?this._asyncIteratorImpl.return(e):Wt(Jl("return"))}};function Xl(e){return!!_r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl")}function Jl(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}n0!==void 0&&Object.setPrototypeOf(Md,n0);const Rd=Number.isNaN||function(e){return e!=e};function Td(e){return!!function(t){return!(typeof t!="number"||Rd(t)||t<0)}(e)&&e!==1/0}function uu(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function Ju(e,t,r){if(!Td(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function Ii(e){e._queue=new Cn,e._queueTotalSize=0}function Cc(e){return e.slice()}class i0{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Mc(this))throw Rc("view");return this._view}respond(t){if(!Mc(this))throw Rc("respond");if(Jn(t,1,"respond"),t=Ed(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(r,n){if(!Td(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Zl(r,n)}(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!Mc(this))throw Rc("respondWithNewView");if(Jn(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");(function(r,n){const i=r._pendingPullIntos.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Zl(r,n.byteLength)})(this._associatedReadableByteStreamController,t)}}Object.defineProperties(i0.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof ce.toStringTag=="symbol"&&Object.defineProperty(i0.prototype,ce.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class s0{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ys(this))throw Qs("byobRequest");if(this._byobRequest===null&&this._pendingPullIntos.length>0){const t=this._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(i0.prototype);(function(i,s,a){i._associatedReadableByteStreamController=s,i._view=a})(n,this,r),this._byobRequest=n}return this._byobRequest}get desiredSize(){if(!ys(this))throw Qs("desiredSize");return Od(this)}close(){if(!ys(this))throw Qs("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);(function(r){const n=r._controlledReadableByteStream;if(!(r._closeRequested||n._state!=="readable")){if(r._queueTotalSize>0)return void(r._closeRequested=!0);if(r._pendingPullIntos.length>0&&r._pendingPullIntos.peek().bytesFilled>0){const i=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Oa(r,i),i}a0(r),Qa(n)}})(this)}enqueue(t){if(!ys(this))throw Qs("enqueue");if(Jn(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const r=this._controlledReadableByteStream._state;if(r!=="readable")throw new TypeError(`The stream (in ${r} state) is not in the readable state and cannot be enqueued to`);(function(n,i){const s=n._controlledReadableByteStream;if(n._closeRequested||s._state!=="readable")return;const a=i.buffer,o=i.byteOffset,u=i.byteLength,c=a;Cd(s)?j0(s)===0?To(n,c,o,u):Xu(s,new Uint8Array(c,o,u),!1):Qu(s)?(To(n,c,o,u),Nd(n)):To(n,c,o,u),es(n)})(this,t)}error(t){if(!ys(this))throw Qs("error");Oa(this,t)}[Wu](t){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),Ii(this);const r=this._cancelAlgorithm(t);return a0(this),r}[Gu](t){const r=this._controlledReadableByteStream;if(this._queueTotalSize>0){const i=this._queue.shift();this._queueTotalSize-=i.byteLength,Ud(this);const s=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);return void t._chunkSteps(s)}const n=this._autoAllocateChunkSize;if(n!==void 0){let i;try{i=new ArrayBuffer(n)}catch(a){return void t._errorSteps(a)}const s={buffer:i,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(s)}Pd(r,t),es(this)}}function ys(e){return!!_r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function Mc(e){return!!_r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function es(e){if(!!function(t){const r=t._controlledReadableByteStream;return r._state!=="readable"||t._closeRequested||!t._started?!1:!!(Cd(r)&&j0(r)>0||Qu(r)&&zd(r)>0||Od(t)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,Gr(e._pullAlgorithm(),()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,es(e))},t=>{Oa(e,t)})}}function lu(e,t){let r=!1;e._state==="closed"&&(r=!0);const n=Id(t);t.readerType==="default"?Xu(e,n,r):function(i,s,a){const o=i._reader._readIntoRequests.shift();a?o._closeSteps(s):o._chunkSteps(s)}(e,n,r)}function Id(e){const t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function To(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function Bd(e,t){const r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),s=t.bytesFilled+i,a=s-s%r;let o=i,u=!1;a>n&&(o=a-t.bytesFilled,u=!0);const c=e._queue;for(;o>0;){const v=c.peek(),_=Math.min(o,v.byteLength),k=t.byteOffset+t.bytesFilled;l=t.buffer,h=k,d=v.buffer,p=v.byteOffset,g=_,new Uint8Array(l).set(new Uint8Array(d,p,g),h),v.byteLength===_?c.shift():(v.byteOffset+=_,v.byteLength-=_),e._queueTotalSize-=_,Dd(e,_,t),o-=_}var l,h,d,p,g;return u}function Dd(e,t,r){Zu(e),r.bytesFilled+=t}function Ud(e){e._queueTotalSize===0&&e._closeRequested?(a0(e),Qa(e._controlledReadableByteStream)):es(e)}function Zu(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Nd(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;const t=e._pendingPullIntos.peek();Bd(e,t)&&(fu(e),lu(e._controlledReadableByteStream,t))}}function Zl(e,t){const r=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");(function(n,i){i.buffer=i.buffer;const s=n._controlledReadableByteStream;if(Qu(s))for(;zd(s)>0;)lu(s,fu(n))})(e,r)}else(function(n,i,s){if(s.bytesFilled+i>s.byteLength)throw new RangeError("bytesWritten out of range");if(Dd(n,i,s),s.bytesFilled<s.elementSize)return;fu(n);const a=s.bytesFilled%s.elementSize;if(a>0){const o=s.byteOffset+s.bytesFilled,u=s.buffer.slice(o-a,o);To(n,u,0,u.byteLength)}s.buffer=s.buffer,s.bytesFilled-=a,lu(n._controlledReadableByteStream,s),Nd(n)})(e,t,r);es(e)}function fu(e){const t=e._pendingPullIntos.shift();return Zu(e),t}function a0(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Oa(e,t){const r=e._controlledReadableByteStream;r._state==="readable"&&(function(n){Zu(n),n._pendingPullIntos=new Cn}(e),Ii(e),a0(e),n2(r,t))}function Od(e){const t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function x5(e,t,r){const n=Object.create(s0.prototype);let i=()=>{},s=()=>Ae(void 0),a=()=>Ae(void 0);t.start!==void 0&&(i=()=>t.start(n)),t.pull!==void 0&&(s=()=>t.pull(n)),t.cancel!==void 0&&(a=u=>t.cancel(u));const o=t.autoAllocateChunkSize;if(o===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");(function(u,c,l,h,d,p,g){c._controlledReadableByteStream=u,c._pullAgain=!1,c._pulling=!1,c._byobRequest=null,c._queue=c._queueTotalSize=void 0,Ii(c),c._closeRequested=!1,c._started=!1,c._strategyHWM=p,c._pullAlgorithm=h,c._cancelAlgorithm=d,c._autoAllocateChunkSize=g,c._pendingPullIntos=new Cn,u._readableStreamController=c,Gr(Ae(l()),()=>{c._started=!0,es(c)},v=>{Oa(c,v)})})(e,n,i,s,a,r,o)}function Rc(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Qs(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Ql(e,t){e._reader._readIntoRequests.push(t)}function zd(e){return e._reader._readIntoRequests.length}function Qu(e){const t=e._reader;return t!==void 0&&!!ha(t)}Object.defineProperties(s0.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof ce.toStringTag=="symbol"&&Object.defineProperty(s0.prototype,ce.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class o0{constructor(t){if(Jn(t,1,"ReadableStreamBYOBReader"),Yu(t,"First parameter"),wi(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ys(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");wd(this,t),this._readIntoRequests=new Cn}get closed(){return ha(this)?this._closedPromise:Wt(ho("closed"))}cancel(t){return ha(this)?this._ownerReadableStream===void 0?Wt(Ds("cancel")):$u(this,t):Wt(ho("cancel"))}read(t){if(!ha(this))return Wt(ho("read"));if(!ArrayBuffer.isView(t))return Wt(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return Wt(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return Wt(new TypeError("view's buffer must have non-zero byteLength"));if(this._ownerReadableStream===void 0)return Wt(Ds("read from"));let r,n;const i=ur((s,a)=>{r=s,n=a});return function(s,a,o){const u=s._ownerReadableStream;u._disturbed=!0,u._state==="errored"?o._errorSteps(u._storedError):function(c,l,h){const d=c._controlledReadableByteStream;let p=1;l.constructor!==DataView&&(p=l.constructor.BYTES_PER_ELEMENT);const g=l.constructor,v={buffer:l.buffer,byteOffset:l.byteOffset,byteLength:l.byteLength,bytesFilled:0,elementSize:p,viewConstructor:g,readerType:"byob"};if(c._pendingPullIntos.length>0)return c._pendingPullIntos.push(v),void Ql(d,h);if(d._state!=="closed"){if(c._queueTotalSize>0){if(Bd(c,v)){const _=Id(v);return Ud(c),void h._chunkSteps(_)}if(c._closeRequested){const _=new TypeError("Insufficient bytes to fill elements in the given buffer");return Oa(c,_),void h._errorSteps(_)}}c._pendingPullIntos.push(v),Ql(d,h),es(c)}else{const _=new g(v.buffer,v.byteOffset,0);h._closeSteps(_)}}(u._readableStreamController,a,o)}(this,t,{_chunkSteps:s=>r({value:s,done:!1}),_closeSteps:s=>r({value:s,done:!0}),_errorSteps:s=>n(s)}),i}releaseLock(){if(!ha(this))throw ho("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Vi(this)}}}function ha(e){return!!_r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function ho(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function za(e,t){const{highWaterMark:r}=e;if(r===void 0)return t;if(Rd(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function c0(e){const{size:t}=e;return t||(()=>1)}function u0(e,t){$n(e,t);const r=e==null?void 0:e.highWaterMark,n=e==null?void 0:e.size;return{highWaterMark:r===void 0?void 0:Vu(r),size:n===void 0?void 0:A5(n,t+" has member 'size' that")}}function A5(e,t){return Yr(e,t),r=>Vu(e(r))}function S5(e,t,r){return Yr(e,r),n=>cs(e,t,[n])}function k5(e,t,r){return Yr(e,r),()=>cs(e,t,[])}function E5(e,t,r){return Yr(e,r),n=>L0(e,t,[n])}function P5(e,t,r){return Yr(e,r),(n,i)=>cs(e,t,[n,i])}function Fd(e,t){if(!vs(e))throw new TypeError(t+" is not a WritableStream.")}Object.defineProperties(o0.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof ce.toStringTag=="symbol"&&Object.defineProperty(o0.prototype,ce.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class l0{constructor(t={},r={}){t===void 0?t=null:kd(t,"First parameter");const n=u0(r,"Second parameter"),i=function(a,o){$n(a,o);const u=a==null?void 0:a.abort,c=a==null?void 0:a.close,l=a==null?void 0:a.start,h=a==null?void 0:a.type,d=a==null?void 0:a.write;return{abort:u===void 0?void 0:S5(u,a,o+" has member 'abort' that"),close:c===void 0?void 0:k5(c,a,o+" has member 'close' that"),start:l===void 0?void 0:E5(l,a,o+" has member 'start' that"),write:d===void 0?void 0:P5(d,a,o+" has member 'write' that"),type:h}}(t,"First parameter");if(Ld(this),i.type!==void 0)throw new RangeError("Invalid type is specified");const s=c0(n);(function(a,o,u,c){const l=Object.create(Fa.prototype);let h=()=>{},d=()=>Ae(void 0),p=()=>Ae(void 0),g=()=>Ae(void 0);o.start!==void 0&&(h=()=>o.start(l)),o.write!==void 0&&(d=v=>o.write(v,l)),o.close!==void 0&&(p=()=>o.close()),o.abort!==void 0&&(g=v=>o.abort(v)),Vd(a,l,h,d,p,g,u,c)})(this,i,za(n,1),s)}get locked(){if(!vs(this))throw mo("locked");return Ps(this)}abort(t){return vs(this)?Ps(this)?Wt(new TypeError("Cannot abort a stream that already has a writer")):f0(this,t):Wt(mo("abort"))}close(){return vs(this)?Ps(this)?Wt(new TypeError("Cannot close a stream that already has a writer")):gn(this)?Wt(new TypeError("Cannot close an already-closing stream")):jd(this):Wt(mo("close"))}getWriter(){if(!vs(this))throw mo("getWriter");return Kd(this)}}function Kd(e){return new h0(e)}function Ld(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new Cn,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function vs(e){return!!_r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function Ps(e){return e._writer!==void 0}function f0(e,t){const r=e._state;if(r==="closed"||r==="errored")return Ae(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let n=!1;r==="erroring"&&(n=!0,t=void 0);const i=ur((s,a)=>{e._pendingAbortRequest={_promise:void 0,_resolve:s,_reject:a,_reason:t,_wasAlreadyErroring:n}});return e._pendingAbortRequest._promise=i,n||t1(e,t),i}function jd(e){const t=e._state;if(t==="closed"||t==="errored")return Wt(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=ur((s,a)=>{const o={_resolve:s,_reject:a};e._closeRequest=o}),n=e._writer;var i;return n!==void 0&&e._backpressure&&t==="writable"&&s1(n),Ju(i=e._writableStreamController,Gd,0),$0(i),r}function hu(e,t){e._state!=="writable"?e1(e):t1(e,t)}function t1(e,t){const r=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;n!==void 0&&$d(n,t),!function(i){return!(i._inFlightWriteRequest===void 0&&i._inFlightCloseRequest===void 0)}(e)&&r._started&&e1(e)}function e1(e){e._state="errored",e._writableStreamController[Sd]();const t=e._storedError;if(e._writeRequests.forEach(n=>{n._reject(t)}),e._writeRequests=new Cn,e._pendingAbortRequest===void 0)return void po(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void po(e);Gr(e._writableStreamController[Ad](r._reason),()=>{r._resolve(),po(e)},n=>{r._reject(n),po(e)})}function gn(e){return e._closeRequest!==void 0||e._inFlightCloseRequest!==void 0}function po(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;t!==void 0&&i1(t,e._storedError)}function r1(e,t){const r=e._writer;r!==void 0&&t!==e._backpressure&&(t?function(n){H0(n)}(r):s1(r)),e._backpressure=t}Object.defineProperties(l0.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof ce.toStringTag=="symbol"&&Object.defineProperty(l0.prototype,ce.toStringTag,{value:"WritableStream",configurable:!0});class h0{constructor(t){if(Jn(t,1,"WritableStreamDefaultWriter"),Fd(t,"First parameter"),Ps(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;const r=t._state;if(r==="writable")!gn(t)&&t._backpressure?H0(this):tf(this),Io(this);else if(r==="erroring")pu(this,t._storedError),Io(this);else if(r==="closed")tf(this),Io(n=this),Zd(n);else{const i=t._storedError;pu(this,i),Jd(this,i)}var n}get closed(){return Ki(this)?this._closedPromise:Wt(Li("closed"))}get desiredSize(){if(!Ki(this))throw Li("desiredSize");if(this._ownerWritableStream===void 0)throw da("desiredSize");return function(t){const r=t._ownerWritableStream,n=r._state;return n==="errored"||n==="erroring"?null:n==="closed"?0:Yd(r._writableStreamController)}(this)}get ready(){return Ki(this)?this._readyPromise:Wt(Li("ready"))}abort(t){return Ki(this)?this._ownerWritableStream===void 0?Wt(da("abort")):function(r,n){return f0(r._ownerWritableStream,n)}(this,t):Wt(Li("abort"))}close(){if(!Ki(this))return Wt(Li("close"));const t=this._ownerWritableStream;return t===void 0?Wt(da("close")):gn(t)?Wt(new TypeError("Cannot close an already-closing stream")):qd(this)}releaseLock(){if(!Ki(this))throw Li("releaseLock");this._ownerWritableStream!==void 0&&Hd(this)}write(t){return Ki(this)?this._ownerWritableStream===void 0?Wt(da("write to")):Wd(this,t):Wt(Li("write"))}}function Ki(e){return!!_r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function qd(e){return jd(e._ownerWritableStream)}function C5(e,t){e._closedPromiseState==="pending"?i1(e,t):function(r,n){Jd(r,n)}(e,t)}function $d(e,t){e._readyPromiseState==="pending"?Qd(e,t):function(r,n){pu(r,n)}(e,t)}function Hd(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");$d(e,r),C5(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function Wd(e,t){const r=e._ownerWritableStream,n=r._writableStreamController,i=function(o,u){try{return o._strategySizeAlgorithm(u)}catch(c){return du(o,c),1}}(n,t);if(r!==e._ownerWritableStream)return Wt(da("write to"));const s=r._state;if(s==="errored")return Wt(r._storedError);if(gn(r)||s==="closed")return Wt(new TypeError("The stream is closing or closed and cannot be written to"));if(s==="erroring")return Wt(r._storedError);const a=function(o){return ur((u,c)=>{const l={_resolve:u,_reject:c};o._writeRequests.push(l)})}(r);return function(o,u,c){try{Ju(o,u,c)}catch(h){return void du(o,h)}const l=o._controlledWritableStream;!gn(l)&&l._state==="writable"&&r1(l,n1(o)),$0(o)}(n,t,i),a}Object.defineProperties(h0.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof ce.toStringTag=="symbol"&&Object.defineProperty(h0.prototype,ce.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Gd={};class Fa{constructor(){throw new TypeError("Illegal constructor")}error(t){if(!function(r){return!(!_r(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledWritableStream"))}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");this._controlledWritableStream._state==="writable"&&Xd(this,t)}[Ad](t){const r=this._abortAlgorithm(t);return d0(this),r}[Sd](){Ii(this)}}function Vd(e,t,r,n,i,s,a,o){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Ii(t),t._started=!1,t._strategySizeAlgorithm=o,t._strategyHWM=a,t._writeAlgorithm=n,t._closeAlgorithm=i,t._abortAlgorithm=s;const u=n1(t);r1(e,u),Gr(Ae(r()),()=>{t._started=!0,$0(t)},c=>{t._started=!0,hu(e,c)})}function d0(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Yd(e){return e._strategyHWM-e._queueTotalSize}function $0(e){const t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring")return void e1(t);if(e._queue.length===0)return;const r=e._queue.peek().value;r===Gd?function(n){const i=n._controlledWritableStream;(function(a){a._inFlightCloseRequest=a._closeRequest,a._closeRequest=void 0})(i),uu(n);const s=n._closeAlgorithm();d0(n),Gr(s,()=>{(function(a){a._inFlightCloseRequest._resolve(void 0),a._inFlightCloseRequest=void 0,a._state==="erroring"&&(a._storedError=void 0,a._pendingAbortRequest!==void 0&&(a._pendingAbortRequest._resolve(),a._pendingAbortRequest=void 0)),a._state="closed";const o=a._writer;o!==void 0&&Zd(o)})(i)},a=>{(function(o,u){o._inFlightCloseRequest._reject(u),o._inFlightCloseRequest=void 0,o._pendingAbortRequest!==void 0&&(o._pendingAbortRequest._reject(u),o._pendingAbortRequest=void 0),hu(o,u)})(i,a)})}(e):function(n,i){const s=n._controlledWritableStream;(function(a){a._inFlightWriteRequest=a._writeRequests.shift()})(s),Gr(n._writeAlgorithm(i),()=>{(function(o){o._inFlightWriteRequest._resolve(void 0),o._inFlightWriteRequest=void 0})(s);const a=s._state;if(uu(n),!gn(s)&&a==="writable"){const o=n1(n);r1(s,o)}$0(n)},a=>{s._state==="writable"&&d0(n),function(o,u){o._inFlightWriteRequest._reject(u),o._inFlightWriteRequest=void 0,hu(o,u)}(s,a)})}(e,r)}function du(e,t){e._controlledWritableStream._state==="writable"&&Xd(e,t)}function n1(e){return Yd(e)<=0}function Xd(e,t){const r=e._controlledWritableStream;d0(e),t1(r,t)}function mo(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Li(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function da(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Io(e){e._closedPromise=ur((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function Jd(e,t){Io(e),i1(e,t)}function i1(e,t){e._closedPromise_reject!==void 0&&(Za(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Zd(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function H0(e){e._readyPromise=ur((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function pu(e,t){H0(e),Qd(e,t)}function tf(e){H0(e),s1(e)}function Qd(e,t){e._readyPromise_reject!==void 0&&(Za(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function s1(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(Fa.prototype,{error:{enumerable:!0}}),typeof ce.toStringTag=="symbol"&&Object.defineProperty(Fa.prototype,ce.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const ef=typeof DOMException!="undefined"?DOMException:void 0,M5=function(e){if(typeof e!="function"&&typeof e!="object")return!1;try{return new e,!0}catch{return!1}}(ef)?ef:function(){const e=function(t,r){this.message=t||"",this.name=r||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return Object.defineProperty(e.prototype=Object.create(Error.prototype),"constructor",{value:e,writable:!0,configurable:!0}),e}();function rf(e,t,r,n,i,s){const a=Ro(e),o=Kd(t);e._disturbed=!0;let u=!1,c=Ae(void 0);return ur((l,h)=>{let d;if(s!==void 0){if(d=()=>{const P=new M5("Aborted","AbortError"),A=[];n||A.push(()=>t._state==="writable"?f0(t,P):Ae(void 0)),i||A.push(()=>e._state==="readable"?Ji(e,P):Ae(void 0)),v(()=>Promise.all(A.map(E=>E())),!0,P)},s.aborted)return void d();s.addEventListener("abort",d)}if(g(e,a._closedPromise,P=>{n?_(!0,P):v(()=>f0(t,P),!0,P)}),g(t,o._closedPromise,P=>{i?_(!0,P):v(()=>Ji(e,P),!0,P)}),function(P,A,E){P._state==="closed"?E():Pc(A,E)}(e,a._closedPromise,()=>{r?_():v(()=>function(P){const A=P._ownerWritableStream,E=A._state;return gn(A)||E==="closed"?Ae(void 0):E==="errored"?Wt(A._storedError):qd(P)}(o))}),gn(t)||t._state==="closed"){const P=new TypeError("the destination writable stream closed before all data could be piped to it");i?_(!0,P):v(()=>Ji(e,P),!0,P)}function p(){const P=c;return qn(c,()=>P!==c?p():void 0)}function g(P,A,E){P._state==="errored"?E(P._storedError):gd(A,E)}function v(P,A,E){function z(){Gr(P(),()=>k(A,E),w=>k(!0,w))}u||(u=!0,t._state!=="writable"||gn(t)?z():Pc(p(),z))}function _(P,A){u||(u=!0,t._state!=="writable"||gn(t)?k(P,A):Pc(p(),()=>k(P,A)))}function k(P,A){Hd(o),Vi(a),s!==void 0&&s.removeEventListener("abort",d),P?h(A):l(void 0)}Za(ur((P,A)=>{(function E(z){z?P():qn(u?Ae(!0):qn(o._readyPromise,()=>ur((w,M)=>{q0(a,{_chunkSteps:f=>{c=qn(Wd(o,f),void 0,ju),w(!1)},_closeSteps:()=>w(!0),_errorSteps:M})})),E,A)})(!1)}))})}class Ka{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!yo(this))throw bo("desiredSize");return a1(this)}close(){if(!yo(this))throw bo("close");if(!Us(this))throw new TypeError("The stream is not in a state that permits close");ja(this)}enqueue(t){if(!yo(this))throw bo("enqueue");if(!Us(this))throw new TypeError("The stream is not in a state that permits enqueue");return m0(this,t)}error(t){if(!yo(this))throw bo("error");Ci(this,t)}[Wu](t){Ii(this);const r=this._cancelAlgorithm(t);return p0(this),r}[Gu](t){const r=this._controlledReadableStream;if(this._queue.length>0){const n=uu(this);this._closeRequested&&this._queue.length===0?(p0(this),Qa(r)):La(this),t._chunkSteps(n)}else Pd(r,t),La(this)}}function yo(e){return!!_r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function La(e){if(!!t2(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,Gr(e._pullAlgorithm(),()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,La(e))},t=>{Ci(e,t)})}}function t2(e){const t=e._controlledReadableStream;return!Us(e)||!e._started?!1:wi(t)&&j0(t)>0?!0:a1(e)>0}function p0(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ja(e){if(!Us(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(p0(e),Qa(t))}function m0(e,t){if(!Us(e))return;const r=e._controlledReadableStream;if(wi(r)&&j0(r)>0)Xu(r,t,!1);else{let n;try{n=e._strategySizeAlgorithm(t)}catch(i){throw Ci(e,i),i}try{Ju(e,t,n)}catch(i){throw Ci(e,i),i}}La(e)}function Ci(e,t){const r=e._controlledReadableStream;r._state==="readable"&&(Ii(e),p0(e),n2(r,t))}function a1(e){const t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Us(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function e2(e,t,r,n,i,s,a){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Ii(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=a,t._strategyHWM=s,t._pullAlgorithm=n,t._cancelAlgorithm=i,e._readableStreamController=t,Gr(Ae(r()),()=>{t._started=!0,La(t)},o=>{Ci(t,o)})}function bo(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function R5(e,t,r){return Yr(e,r),n=>cs(e,t,[n])}function T5(e,t,r){return Yr(e,r),n=>cs(e,t,[n])}function I5(e,t,r){return Yr(e,r),n=>L0(e,t,[n])}function B5(e,t){if((e=""+e)!="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function D5(e,t){if((e=""+e)!="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function nf(e,t){$n(e,t);const r=e==null?void 0:e.preventAbort,n=e==null?void 0:e.preventCancel,i=e==null?void 0:e.preventClose,s=e==null?void 0:e.signal;return s!==void 0&&function(a,o){if(!function(u){if(typeof u!="object"||u===null)return!1;try{return typeof u.aborted=="boolean"}catch{return!1}}(a))throw new TypeError(o+" is not an AbortSignal.")}(s,t+" has member 'signal' that"),{preventAbort:!!r,preventCancel:!!n,preventClose:!!i,signal:s}}Object.defineProperties(Ka.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof ce.toStringTag=="symbol"&&Object.defineProperty(Ka.prototype,ce.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class ws{constructor(t={},r={}){t===void 0?t=null:kd(t,"First parameter");const n=u0(r,"Second parameter"),i=function(s,a){$n(s,a);const o=s,u=o==null?void 0:o.autoAllocateChunkSize,c=o==null?void 0:o.cancel,l=o==null?void 0:o.pull,h=o==null?void 0:o.start,d=o==null?void 0:o.type;return{autoAllocateChunkSize:u===void 0?void 0:Ed(u,a+" has member 'autoAllocateChunkSize' that"),cancel:c===void 0?void 0:R5(c,o,a+" has member 'cancel' that"),pull:l===void 0?void 0:T5(l,o,a+" has member 'pull' that"),start:h===void 0?void 0:I5(h,o,a+" has member 'start' that"),type:d===void 0?void 0:B5(d,a+" has member 'type' that")}}(t,"First parameter");if(r2(this),i.type==="bytes"){if(n.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");x5(this,i,za(n,0))}else{const s=c0(n);(function(a,o,u,c){const l=Object.create(Ka.prototype);let h=()=>{},d=()=>Ae(void 0),p=()=>Ae(void 0);o.start!==void 0&&(h=()=>o.start(l)),o.pull!==void 0&&(d=()=>o.pull(l)),o.cancel!==void 0&&(p=g=>o.cancel(g)),e2(a,l,h,d,p,u,c)})(this,i,za(n,1),s)}}get locked(){if(!hi(this))throw ji("locked");return wi(this)}cancel(t){return hi(this)?wi(this)?Wt(new TypeError("Cannot cancel a stream that already has a reader")):Ji(this,t):Wt(ji("cancel"))}getReader(t){if(!hi(this))throw ji("getReader");return function(r,n){$n(r,n);const i=r==null?void 0:r.mode;return{mode:i===void 0?void 0:D5(i,n+" has member 'mode' that")}}(t,"First parameter").mode===void 0?Ro(this):function(r){return new o0(r)}(this)}pipeThrough(t,r={}){if(!hi(this))throw ji("pipeThrough");Jn(t,1,"pipeThrough");const n=function(s,a){$n(s,a);const o=s==null?void 0:s.readable;cu(o,"readable","ReadableWritablePair"),Yu(o,a+" has member 'readable' that");const u=s==null?void 0:s.writable;return cu(u,"writable","ReadableWritablePair"),Fd(u,a+" has member 'writable' that"),{readable:o,writable:u}}(t,"First parameter"),i=nf(r,"Second parameter");if(wi(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ps(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Za(rf(this,n.writable,i.preventClose,i.preventAbort,i.preventCancel,i.signal)),n.readable}pipeTo(t,r={}){if(!hi(this))return Wt(ji("pipeTo"));if(t===void 0)return Wt("Parameter 1 is required in 'pipeTo'.");if(!vs(t))return Wt(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let n;try{n=nf(r,"Second parameter")}catch(i){return Wt(i)}return wi(this)?Wt(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ps(t)?Wt(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):rf(this,t,n.preventClose,n.preventAbort,n.preventCancel,n.signal)}tee(){if(!hi(this))throw ji("tee");const t=function(r,n){const i=Ro(r);let s,a,o,u,c,l=!1,h=!1,d=!1;const p=ur(_=>{c=_});function g(){return l||(l=!0,q0(i,{_chunkSteps:_=>{vd(()=>{l=!1;const k=_,P=_;h||m0(o._readableStreamController,k),d||m0(u._readableStreamController,P)})},_closeSteps:()=>{l=!1,h||ja(o._readableStreamController),d||ja(u._readableStreamController),h&&d||c(void 0)},_errorSteps:()=>{l=!1}})),Ae(void 0)}function v(){}return o=mu(v,g,function(_){if(h=!0,s=_,d){const k=Cc([s,a]),P=Ji(r,k);c(P)}return p}),u=mu(v,g,function(_){if(d=!0,a=_,h){const k=Cc([s,a]),P=Ji(r,k);c(P)}return p}),gd(i._closedPromise,_=>{Ci(o._readableStreamController,_),Ci(u._readableStreamController,_),h&&d||c(void 0)}),[o,u]}(this);return Cc(t)}values(t){if(!hi(this))throw ji("values");return function(r,n){const i=Ro(r),s=new _5(i,n),a=Object.create(Md);return a._asyncIteratorImpl=s,a}(this,function(r,n){return $n(r,n),{preventCancel:!!(r!=null&&r.preventCancel)}}(t,"First parameter").preventCancel)}}function mu(e,t,r,n=1,i=()=>1){const s=Object.create(ws.prototype);return r2(s),e2(s,Object.create(Ka.prototype),e,t,r,n,i),s}function r2(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function hi(e){return!!_r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function wi(e){return e._reader!==void 0}function Ji(e,t){return e._disturbed=!0,e._state==="closed"?Ae(void 0):e._state==="errored"?Wt(e._storedError):(Qa(e),Xi(e._readableStreamController[Wu](t),ju))}function Qa(e){e._state="closed";const t=e._reader;t!==void 0&&(xd(t),Yi(t)&&(t._readRequests.forEach(r=>{r._closeSteps()}),t._readRequests=new Cn))}function n2(e,t){e._state="errored",e._storedError=t;const r=e._reader;r!==void 0&&(Hu(r,t),Yi(r)?(r._readRequests.forEach(n=>{n._errorSteps(t)}),r._readRequests=new Cn):(r._readIntoRequests.forEach(n=>{n._errorSteps(t)}),r._readIntoRequests=new Cn))}function ji(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function i2(e,t){$n(e,t);const r=e==null?void 0:e.highWaterMark;return cu(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Vu(r)}}Object.defineProperties(ws.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof ce.toStringTag=="symbol"&&Object.defineProperty(ws.prototype,ce.toStringTag,{value:"ReadableStream",configurable:!0}),typeof ce.asyncIterator=="symbol"&&Object.defineProperty(ws.prototype,ce.asyncIterator,{value:ws.prototype.values,writable:!0,configurable:!0});const U5=function(e){return e.byteLength};class yu{constructor(t){Jn(t,1,"ByteLengthQueuingStrategy"),t=i2(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!af(this))throw sf("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!af(this))throw sf("size");return U5}}function sf(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function af(e){return!!_r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")}Object.defineProperties(yu.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof ce.toStringTag=="symbol"&&Object.defineProperty(yu.prototype,ce.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const N5=function(){return 1};class bu{constructor(t){Jn(t,1,"CountQueuingStrategy"),t=i2(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!cf(this))throw of("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!cf(this))throw of("size");return N5}}function of(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function cf(e){return!!_r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")}function O5(e,t,r){return Yr(e,r),n=>cs(e,t,[n])}function z5(e,t,r){return Yr(e,r),n=>L0(e,t,[n])}function F5(e,t,r){return Yr(e,r),(n,i)=>cs(e,t,[n,i])}Object.defineProperties(bu.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof ce.toStringTag=="symbol"&&Object.defineProperty(bu.prototype,ce.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class gu{constructor(t={},r={},n={}){t===void 0&&(t=null);const i=u0(r,"Second parameter"),s=u0(n,"Third parameter"),a=function(d,p){$n(d,p);const g=d==null?void 0:d.flush,v=d==null?void 0:d.readableType,_=d==null?void 0:d.start,k=d==null?void 0:d.transform,P=d==null?void 0:d.writableType;return{flush:g===void 0?void 0:O5(g,d,p+" has member 'flush' that"),readableType:v,start:_===void 0?void 0:z5(_,d,p+" has member 'start' that"),transform:k===void 0?void 0:F5(k,d,p+" has member 'transform' that"),writableType:P}}(t,"First parameter");if(a.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(a.writableType!==void 0)throw new RangeError("Invalid writableType specified");const o=za(s,0),u=c0(s),c=za(i,1),l=c0(i);let h;(function(d,p,g,v,_,k){function P(){return p}function A(f){return function(b,y){const m=b._transformStreamController;return b._backpressure?Xi(b._backpressureChangePromise,()=>{const x=b._writable;if(x._state==="erroring")throw x._storedError;return lf(m,y)}):lf(m,y)}(d,f)}function E(f){return function(b,y){return y0(b,y),Ae(void 0)}(d,f)}function z(){return function(f){const b=f._readable,y=f._transformStreamController,m=y._flushAlgorithm();return s2(y),Xi(m,()=>{if(b._state==="errored")throw b._storedError;ja(b._readableStreamController)},x=>{throw y0(f,x),b._storedError})}(d)}function w(){return function(f){return b0(f,!1),f._backpressureChangePromise}(d)}function M(f){return W0(d,f),Ae(void 0)}d._writable=function(f,b,y,m,x=1,I=()=>1){const O=Object.create(l0.prototype);return Ld(O),Vd(O,Object.create(Fa.prototype),f,b,y,m,x,I),O}(P,A,z,E,g,v),d._readable=mu(P,w,M,_,k),d._backpressure=void 0,d._backpressureChangePromise=void 0,d._backpressureChangePromise_resolve=void 0,b0(d,!0),d._transformStreamController=void 0})(this,ur(d=>{h=d}),c,l,o,u),function(d,p){const g=Object.create(g0.prototype);let v=k=>{try{return a2(g,k),Ae(void 0)}catch(P){return Wt(P)}},_=()=>Ae(void 0);p.transform!==void 0&&(v=k=>p.transform(k,g)),p.flush!==void 0&&(_=()=>p.flush(g)),function(k,P,A,E){P._controlledTransformStream=k,k._transformStreamController=P,P._transformAlgorithm=A,P._flushAlgorithm=E}(d,g,v,_)}(this,a),a.start!==void 0?h(a.start(this._transformStreamController)):h(void 0)}get readable(){if(!uf(this))throw ff("readable");return this._readable}get writable(){if(!uf(this))throw ff("writable");return this._writable}}function uf(e){return!!_r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function y0(e,t){Ci(e._readable._readableStreamController,t),W0(e,t)}function W0(e,t){s2(e._transformStreamController),du(e._writable._writableStreamController,t),e._backpressure&&b0(e,!1)}function b0(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=ur(r=>{e._backpressureChangePromise_resolve=r}),e._backpressure=t}Object.defineProperties(gu.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof ce.toStringTag=="symbol"&&Object.defineProperty(gu.prototype,ce.toStringTag,{value:"TransformStream",configurable:!0});class g0{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!go(this))throw vo("desiredSize");return a1(this._controlledTransformStream._readable._readableStreamController)}enqueue(t){if(!go(this))throw vo("enqueue");a2(this,t)}error(t){if(!go(this))throw vo("error");var r;r=t,y0(this._controlledTransformStream,r)}terminate(){if(!go(this))throw vo("terminate");(function(t){const r=t._controlledTransformStream;ja(r._readable._readableStreamController),W0(r,new TypeError("TransformStream terminated"))})(this)}}function go(e){return!!_r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function s2(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function a2(e,t){const r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!Us(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{m0(n,t)}catch(i){throw W0(r,i),r._readable._storedError}(function(i){return!t2(i)})(n)!==r._backpressure&&b0(r,!0)}function lf(e,t){return Xi(e._transformAlgorithm(t),void 0,r=>{throw y0(e._controlledTransformStream,r),r})}function vo(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function ff(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(g0.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof ce.toStringTag=="symbol"&&Object.defineProperty(g0.prototype,ce.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var K5=Object.freeze({__proto__:null,ByteLengthQueuingStrategy:yu,CountQueuingStrategy:bu,ReadableByteStreamController:s0,ReadableStream:ws,ReadableStreamBYOBReader:o0,ReadableStreamBYOBRequest:i0,ReadableStreamDefaultController:Ka,ReadableStreamDefaultReader:r0,TransformStream:gu,TransformStreamDefaultController:g0,WritableStream:l0,WritableStreamDefaultController:Fa,WritableStreamDefaultWriter:h0}),o2=function(e,t){return(o2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(e,t)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function c2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+t+" is not a constructor or null");function r(){this.constructor=e}o2(e,t),e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Pr(e){if(!e)throw new TypeError("Assertion failed")}function Sa(){}function o1(e){return typeof e=="object"&&e!==null||typeof e=="function"}function Tc(e){if(typeof e!="function")return!1;var t=!1;try{new e({start:function(){t=!0}})}catch{}return t}function c1(e){return!!o1(e)&&typeof e.getReader=="function"}function u1(e){return!!o1(e)&&typeof e.getWriter=="function"}function u2(e){return!!o1(e)&&!!c1(e.readable)&&!!u1(e.writable)}function l2(e){try{return e.getReader({mode:"byob"}).releaseLock(),!0}catch{return!1}}function Ic(e,t){var r=(t===void 0?{}:t).type;return Pr(c1(e)),Pr(e.locked===!1),(r=f2(r))==="bytes"?new j5(e):new L5(e)}function f2(e){var t=e+"";if(t==="bytes")return t;if(e===void 0)return e;throw new RangeError("Invalid type is specified")}var h2=function(){function e(t){this._underlyingReader=void 0,this._readerMode=void 0,this._readableStreamController=void 0,this._pendingRead=void 0,this._underlyingStream=t,this._attachDefaultReader()}return e.prototype.start=function(t){this._readableStreamController=t},e.prototype.cancel=function(t){return Pr(this._underlyingReader!==void 0),this._underlyingReader.cancel(t)},e.prototype._attachDefaultReader=function(){if(this._readerMode!=="default"){this._detachReader();var t=this._underlyingStream.getReader();this._readerMode="default",this._attachReader(t)}},e.prototype._attachReader=function(t){var r=this;Pr(this._underlyingReader===void 0),this._underlyingReader=t;var n=this._underlyingReader.closed;n&&n.then(function(){return r._finishPendingRead()}).then(function(){t===r._underlyingReader&&r._readableStreamController.close()},function(i){t===r._underlyingReader&&r._readableStreamController.error(i)}).catch(Sa)},e.prototype._detachReader=function(){this._underlyingReader!==void 0&&(this._underlyingReader.releaseLock(),this._underlyingReader=void 0,this._readerMode=void 0)},e.prototype._pullWithDefaultReader=function(){var t=this;this._attachDefaultReader();var r=this._underlyingReader.read().then(function(n){var i=t._readableStreamController;n.done?t._tryClose():i.enqueue(n.value)});return this._setPendingRead(r),r},e.prototype._tryClose=function(){try{this._readableStreamController.close()}catch{}},e.prototype._setPendingRead=function(t){var r,n=this,i=function(){n._pendingRead===r&&(n._pendingRead=void 0)};this._pendingRead=r=t.then(i,i)},e.prototype._finishPendingRead=function(){var t=this;if(this._pendingRead){var r=function(){return t._finishPendingRead()};return this._pendingRead.then(r,r)}},e}(),L5=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return c2(t,e),t.prototype.pull=function(){return this._pullWithDefaultReader()},t}(h2);function hf(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var j5=function(e){function t(r){var n=this,i=l2(r);return(n=e.call(this,r)||this)._supportsByob=i,n}return c2(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"bytes"},enumerable:!1,configurable:!0}),t.prototype._attachByobReader=function(){if(this._readerMode!=="byob"){Pr(this._supportsByob),this._detachReader();var r=this._underlyingStream.getReader({mode:"byob"});this._readerMode="byob",this._attachReader(r)}},t.prototype.pull=function(){if(this._supportsByob){var r=this._readableStreamController.byobRequest;if(r)return this._pullWithByobRequest(r)}return this._pullWithDefaultReader()},t.prototype._pullWithByobRequest=function(r){var n=this;this._attachByobReader();var i=new Uint8Array(r.view.byteLength),s=this._underlyingReader.read(i).then(function(a){var o,u,c;n._readableStreamController,a.done?(n._tryClose(),r.respond(0)):(o=a.value,u=r.view,c=hf(o),hf(u).set(c,0),r.respond(a.value.byteLength))});return this._setPendingRead(s),s},t}(h2);function df(e){Pr(u1(e)),Pr(e.locked===!1);var t=e.getWriter();return new q5(t)}var q5=function(){function e(t){var r=this;this._writableStreamController=void 0,this._pendingWrite=void 0,this._state="writable",this._storedError=void 0,this._underlyingWriter=t,this._errorPromise=new Promise(function(n,i){r._errorPromiseReject=i}),this._errorPromise.catch(Sa)}return e.prototype.start=function(t){var r=this;this._writableStreamController=t,this._underlyingWriter.closed.then(function(){r._state="closed"}).catch(function(n){return r._finishErroring(n)})},e.prototype.write=function(t){var r=this,n=this._underlyingWriter;if(n.desiredSize===null)return n.ready;var i=n.write(t);i.catch(function(a){return r._finishErroring(a)}),n.ready.catch(function(a){return r._startErroring(a)});var s=Promise.race([i,this._errorPromise]);return this._setPendingWrite(s),s},e.prototype.close=function(){var t=this;return this._pendingWrite===void 0?this._underlyingWriter.close():this._finishPendingWrite().then(function(){return t.close()})},e.prototype.abort=function(t){if(this._state!=="errored")return this._underlyingWriter.abort(t)},e.prototype._setPendingWrite=function(t){var r,n=this,i=function(){n._pendingWrite===r&&(n._pendingWrite=void 0)};this._pendingWrite=r=t.then(i,i)},e.prototype._finishPendingWrite=function(){var t=this;if(this._pendingWrite===void 0)return Promise.resolve();var r=function(){return t._finishPendingWrite()};return this._pendingWrite.then(r,r)},e.prototype._startErroring=function(t){var r=this;if(this._state==="writable"){this._state="erroring",this._storedError=t;var n=function(){return r._finishErroring(t)};this._pendingWrite===void 0?n():this._finishPendingWrite().then(n,n),this._writableStreamController.error(t)}},e.prototype._finishErroring=function(t){this._state==="writable"&&this._startErroring(t),this._state==="erroring"&&(this._state="errored",this._errorPromiseReject(this._storedError))},e}();function pf(e){Pr(u2(e));var t=e.readable,r=e.writable;Pr(t.locked===!1),Pr(r.locked===!1);var n,i=t.getReader();try{n=r.getWriter()}catch(s){throw i.releaseLock(),s}return new $5(i,n)}var $5=function(){function e(t,r){var n=this;this._transformStreamController=void 0,this._onRead=function(i){if(!i.done)return n._transformStreamController.enqueue(i.value),n._reader.read().then(n._onRead)},this._onError=function(i){n._flushReject(i),n._transformStreamController.error(i),n._reader.cancel(i).catch(Sa),n._writer.abort(i).catch(Sa)},this._onTerminate=function(){n._flushResolve(),n._transformStreamController.terminate();var i=new TypeError("TransformStream terminated");n._writer.abort(i).catch(Sa)},this._reader=t,this._writer=r,this._flushPromise=new Promise(function(i,s){n._flushResolve=i,n._flushReject=s})}return e.prototype.start=function(t){this._transformStreamController=t,this._reader.read().then(this._onRead).then(this._onTerminate,this._onError);var r=this._reader.closed;r&&r.then(this._onTerminate,this._onError)},e.prototype.transform=function(t){return this._writer.write(t)},e.prototype.flush=function(){var t=this;return this._writer.close().then(function(){return t._flushPromise})},e}(),H5=Object.freeze({__proto__:null,createReadableStreamWrapper:function(e){Pr(function(r){return!!Tc(r)&&!!c1(new r)}(e));var t=function(r){try{return new r({type:"bytes"}),!0}catch{return!1}}(e);return function(r,n){var i=(n===void 0?{}:n).type;if((i=f2(i))!=="bytes"||t||(i=void 0),r.constructor===e&&(i!=="bytes"||l2(r)))return r;if(i==="bytes"){var s=Ic(r,{type:i});return new e(s)}return s=Ic(r),new e(s)}},createTransformStreamWrapper:function(e){return Pr(function(t){return!!Tc(t)&&!!u2(new t)}(e)),function(t){if(t.constructor===e)return t;var r=pf(t);return new e(r)}},createWrappingReadableSource:Ic,createWrappingTransformer:pf,createWrappingWritableSink:df,createWritableStreamWrapper:function(e){return Pr(function(t){return!!Tc(t)&&!!u1(new t)}(e)),function(t){if(t.constructor===e)return t;var r=df(t);return new e(r)}}}),Tt=Tn(function(e){(function(t,r){function n(f,b){if(!f)throw Error(b||"Assertion failed")}function i(f,b){f.super_=b;var y=function(){};y.prototype=b.prototype,f.prototype=new y,f.prototype.constructor=f}function s(f,b,y){if(s.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&(b!=="le"&&b!=="be"||(y=b,b=10),this._init(f||0,b||10,y||"be"))}var a;typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{a=void 0}catch{}function o(f,b,y){for(var m=0,x=Math.min(f.length,y),I=b;I<x;I++){var O=f.charCodeAt(I)-48;m<<=4,m|=O>=49&&O<=54?O-49+10:O>=17&&O<=22?O-17+10:15&O}return m}function u(f,b,y,m){for(var x=0,I=Math.min(f.length,y),O=b;O<I;O++){var q=f.charCodeAt(O)-48;x*=m,x+=q>=49?q-49+10:q>=17?q-17+10:q}return x}s.isBN=function(f){return f instanceof s||f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,b){return f.cmp(b)>0?f:b},s.min=function(f,b){return f.cmp(b)<0?f:b},s.prototype._init=function(f,b,y){if(typeof f=="number")return this._initNumber(f,b,y);if(typeof f=="object")return this._initArray(f,b,y);b==="hex"&&(b=16),n(b===(0|b)&&b>=2&&b<=36);var m=0;(f=f.toString().replace(/\s+/g,""))[0]==="-"&&m++,b===16?this._parseHex(f,m):this._parseBase(f,b,m),f[0]==="-"&&(this.negative=1),this.strip(),y==="le"&&this._initArray(this.toArray(),b,y)},s.prototype._initNumber=function(f,b,y){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[67108863&f],this.length=1):f<4503599627370496?(this.words=[67108863&f,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[67108863&f,f/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),b,y)},s.prototype._initArray=function(f,b,y){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var x,I,O=0;if(y==="be")for(m=f.length-1,x=0;m>=0;m-=3)I=f[m]|f[m-1]<<8|f[m-2]<<16,this.words[x]|=I<<O&67108863,this.words[x+1]=I>>>26-O&67108863,(O+=24)>=26&&(O-=26,x++);else if(y==="le")for(m=0,x=0;m<f.length;m+=3)I=f[m]|f[m+1]<<8|f[m+2]<<16,this.words[x]|=I<<O&67108863,this.words[x+1]=I>>>26-O&67108863,(O+=24)>=26&&(O-=26,x++);return this.strip()},s.prototype._parseHex=function(f,b){this.length=Math.ceil((f.length-b)/6),this.words=Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var m,x,I=0;for(y=f.length-6,m=0;y>=b;y-=6)x=o(f,y,y+6),this.words[m]|=x<<I&67108863,this.words[m+1]|=x>>>26-I&4194303,(I+=24)>=26&&(I-=26,m++);y+6!==b&&(x=o(f,b,y+6),this.words[m]|=x<<I&67108863,this.words[m+1]|=x>>>26-I&4194303),this.strip()},s.prototype._parseBase=function(f,b,y){this.words=[0],this.length=1;for(var m=0,x=1;x<=67108863;x*=b)m++;m--,x=x/b|0;for(var I=f.length-y,O=I%m,q=Math.min(I,I-O)+y,Z=0,S=y;S<q;S+=m)Z=u(f,S,S+m,b),this.imuln(x),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z);if(O!==0){var U=1;for(Z=u(f,S,f.length,b),S=0;S<O;S++)U*=b;this.imuln(U),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z)}},s.prototype.copy=function(f){f.words=Array(this.length);for(var b=0;b<this.length;b++)f.words[b]=this.words[b];f.length=this.length,f.negative=this.negative,f.red=this.red},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(f,b,y){y.negative=b.negative^f.negative;var m=f.length+b.length|0;y.length=m,m=m-1|0;var x=0|f.words[0],I=0|b.words[0],O=x*I,q=67108863&O,Z=O/67108864|0;y.words[0]=q;for(var S=1;S<m;S++){for(var U=Z>>>26,V=67108863&Z,Q=Math.min(S,b.length-1),G=Math.max(0,S-f.length+1);G<=Q;G++){var it=S-G|0;U+=(O=(x=0|f.words[it])*(I=0|b.words[G])+V)/67108864|0,V=67108863&O}y.words[S]=0|V,Z=0|U}return Z!==0?y.words[S]=0|Z:y.length--,y.strip()}s.prototype.toString=function(f,b){var y;if(b=0|b||1,(f=f||10)===16||f==="hex"){y="";for(var m=0,x=0,I=0;I<this.length;I++){var O=this.words[I],q=(16777215&(O<<m|x)).toString(16);y=(x=O>>>24-m&16777215)!==0||I!==this.length-1?c[6-q.length]+q+y:q+y,(m+=2)>=26&&(m-=26,I--)}for(x!==0&&(y=x.toString(16)+y);y.length%b!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(f===(0|f)&&f>=2&&f<=36){var Z=l[f],S=h[f];y="";var U=this.clone();for(U.negative=0;!U.isZero();){var V=U.modn(S).toString(f);y=(U=U.idivn(S)).isZero()?V+y:c[Z-V.length]+V+y}for(this.isZero()&&(y="0"+y);y.length%b!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=67108864*this.words[1]:this.length===3&&this.words[2]===1?f+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(f,b){return n(a!==void 0),this.toArrayLike(a,f,b)},s.prototype.toArray=function(f,b){return this.toArrayLike(Array,f,b)},s.prototype.toArrayLike=function(f,b,y){var m=this.byteLength(),x=y||Math.max(1,m);n(m<=x,"byte array longer than desired length"),n(x>0,"Requested array length <= 0"),this.strip();var I,O,q=b==="le",Z=new f(x),S=this.clone();if(q){for(O=0;!S.isZero();O++)I=S.andln(255),S.iushrn(8),Z[O]=I;for(;O<x;O++)Z[O]=0}else{for(O=0;O<x-m;O++)Z[O]=0;for(O=0;!S.isZero();O++)I=S.andln(255),S.iushrn(8),Z[x-O-1]=I}return Z},s.prototype._countBits=Math.clz32?function(f){return 32-Math.clz32(f)}:function(f){var b=f,y=0;return b>=4096&&(y+=13,b>>>=13),b>=64&&(y+=7,b>>>=7),b>=8&&(y+=4,b>>>=4),b>=2&&(y+=2,b>>>=2),y+b},s.prototype._zeroBits=function(f){if(f===0)return 26;var b=f,y=0;return(8191&b)==0&&(y+=13,b>>>=13),(127&b)==0&&(y+=7,b>>>=7),(15&b)==0&&(y+=4,b>>>=4),(3&b)==0&&(y+=2,b>>>=2),(1&b)==0&&y++,y},s.prototype.bitLength=function(){var f=this.words[this.length-1],b=this._countBits(f);return 26*(this.length-1)+b},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,b=0;b<this.length;b++){var y=this._zeroBits(this.words[b]);if(f+=y,y!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var b=0;b<f.length;b++)this.words[b]=this.words[b]|f.words[b];return this.strip()},s.prototype.ior=function(f){return n((this.negative|f.negative)==0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var b;b=this.length>f.length?f:this;for(var y=0;y<b.length;y++)this.words[y]=this.words[y]&f.words[y];return this.length=b.length,this.strip()},s.prototype.iand=function(f){return n((this.negative|f.negative)==0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var b,y;this.length>f.length?(b=this,y=f):(b=f,y=this);for(var m=0;m<y.length;m++)this.words[m]=b.words[m]^y.words[m];if(this!==b)for(;m<b.length;m++)this.words[m]=b.words[m];return this.length=b.length,this.strip()},s.prototype.ixor=function(f){return n((this.negative|f.negative)==0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var b=0|Math.ceil(f/26),y=f%26;this._expand(b),y>0&&b--;for(var m=0;m<b;m++)this.words[m]=67108863&~this.words[m];return y>0&&(this.words[m]=~this.words[m]&67108863>>26-y),this.strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,b){n(typeof f=="number"&&f>=0);var y=f/26|0,m=f%26;return this._expand(y+1),this.words[y]=b?this.words[y]|1<<m:this.words[y]&~(1<<m),this.strip()},s.prototype.iadd=function(f){var b,y,m;if(this.negative!==0&&f.negative===0)return this.negative=0,b=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,b=this.isub(f),f.negative=1,b._normSign();this.length>f.length?(y=this,m=f):(y=f,m=this);for(var x=0,I=0;I<m.length;I++)b=(0|y.words[I])+(0|m.words[I])+x,this.words[I]=67108863&b,x=b>>>26;for(;x!==0&&I<y.length;I++)b=(0|y.words[I])+x,this.words[I]=67108863&b,x=b>>>26;if(this.length=y.length,x!==0)this.words[this.length]=x,this.length++;else if(y!==this)for(;I<y.length;I++)this.words[I]=y.words[I];return this},s.prototype.add=function(f){var b;return f.negative!==0&&this.negative===0?(f.negative=0,b=this.sub(f),f.negative^=1,b):f.negative===0&&this.negative!==0?(this.negative=0,b=f.sub(this),this.negative=1,b):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var b=this.iadd(f);return f.negative=1,b._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var y,m,x=this.cmp(f);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;x>0?(y=this,m=f):(y=f,m=this);for(var I=0,O=0;O<m.length;O++)I=(b=(0|y.words[O])-(0|m.words[O])+I)>>26,this.words[O]=67108863&b;for(;I!==0&&O<y.length;O++)I=(b=(0|y.words[O])+I)>>26,this.words[O]=67108863&b;if(I===0&&O<y.length&&y!==this)for(;O<y.length;O++)this.words[O]=y.words[O];return this.length=Math.max(this.length,O),y!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(f){return this.clone().isub(f)};var p=function(f,b,y){var m,x,I,O=f.words,q=b.words,Z=y.words,S=0,U=0|O[0],V=8191&U,Q=U>>>13,G=0|O[1],it=8191&G,st=G>>>13,rt=0|O[2],F=8191&rt,H=rt>>>13,K=0|O[3],C=8191&K,Y=K>>>13,T=0|O[4],N=8191&T,L=T>>>13,B=0|O[5],R=8191&B,D=B>>>13,j=0|O[6],et=8191&j,tt=j>>>13,ot=0|O[7],pt=8191&ot,yt=ot>>>13,vt=0|O[8],nt=8191&vt,at=vt>>>13,lt=0|O[9],ct=8191&lt,ut=lt>>>13,ft=0|q[0],W=8191&ft,$=ft>>>13,wt=0|q[1],gt=8191&wt,Nt=wt>>>13,ne=0|q[2],Ft=8191&ne,zt=ne>>>13,me=0|q[3],Gt=8191&me,Qt=me>>>13,Se=0|q[4],Ot=8191&Se,Kt=Se>>>13,ae=0|q[5],Ut=8191&ae,$t=ae>>>13,le=0|q[6],qt=8191&le,mt=le>>>13,bt=0|q[7],_t=8191&bt,Pt=bt>>>13,Dt=0|q[8],Rt=8191&Dt,It=Dt>>>13,oe=0|q[9],Vt=8191&oe,de=oe>>>13;y.negative=f.negative^b.negative,y.length=19;var ir=(S+(m=Math.imul(V,W))|0)+((8191&(x=(x=Math.imul(V,$))+Math.imul(Q,W)|0))<<13)|0;S=((I=Math.imul(Q,$))+(x>>>13)|0)+(ir>>>26)|0,ir&=67108863,m=Math.imul(it,W),x=(x=Math.imul(it,$))+Math.imul(st,W)|0,I=Math.imul(st,$);var sr=(S+(m=m+Math.imul(V,gt)|0)|0)+((8191&(x=(x=x+Math.imul(V,Nt)|0)+Math.imul(Q,gt)|0))<<13)|0;S=((I=I+Math.imul(Q,Nt)|0)+(x>>>13)|0)+(sr>>>26)|0,sr&=67108863,m=Math.imul(F,W),x=(x=Math.imul(F,$))+Math.imul(H,W)|0,I=Math.imul(H,$),m=m+Math.imul(it,gt)|0,x=(x=x+Math.imul(it,Nt)|0)+Math.imul(st,gt)|0,I=I+Math.imul(st,Nt)|0;var dr=(S+(m=m+Math.imul(V,Ft)|0)|0)+((8191&(x=(x=x+Math.imul(V,zt)|0)+Math.imul(Q,Ft)|0))<<13)|0;S=((I=I+Math.imul(Q,zt)|0)+(x>>>13)|0)+(dr>>>26)|0,dr&=67108863,m=Math.imul(C,W),x=(x=Math.imul(C,$))+Math.imul(Y,W)|0,I=Math.imul(Y,$),m=m+Math.imul(F,gt)|0,x=(x=x+Math.imul(F,Nt)|0)+Math.imul(H,gt)|0,I=I+Math.imul(H,Nt)|0,m=m+Math.imul(it,Ft)|0,x=(x=x+Math.imul(it,zt)|0)+Math.imul(st,Ft)|0,I=I+Math.imul(st,zt)|0;var Xr=(S+(m=m+Math.imul(V,Gt)|0)|0)+((8191&(x=(x=x+Math.imul(V,Qt)|0)+Math.imul(Q,Gt)|0))<<13)|0;S=((I=I+Math.imul(Q,Qt)|0)+(x>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,m=Math.imul(N,W),x=(x=Math.imul(N,$))+Math.imul(L,W)|0,I=Math.imul(L,$),m=m+Math.imul(C,gt)|0,x=(x=x+Math.imul(C,Nt)|0)+Math.imul(Y,gt)|0,I=I+Math.imul(Y,Nt)|0,m=m+Math.imul(F,Ft)|0,x=(x=x+Math.imul(F,zt)|0)+Math.imul(H,Ft)|0,I=I+Math.imul(H,zt)|0,m=m+Math.imul(it,Gt)|0,x=(x=x+Math.imul(it,Qt)|0)+Math.imul(st,Gt)|0,I=I+Math.imul(st,Qt)|0;var Jr=(S+(m=m+Math.imul(V,Ot)|0)|0)+((8191&(x=(x=x+Math.imul(V,Kt)|0)+Math.imul(Q,Ot)|0))<<13)|0;S=((I=I+Math.imul(Q,Kt)|0)+(x>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,m=Math.imul(R,W),x=(x=Math.imul(R,$))+Math.imul(D,W)|0,I=Math.imul(D,$),m=m+Math.imul(N,gt)|0,x=(x=x+Math.imul(N,Nt)|0)+Math.imul(L,gt)|0,I=I+Math.imul(L,Nt)|0,m=m+Math.imul(C,Ft)|0,x=(x=x+Math.imul(C,zt)|0)+Math.imul(Y,Ft)|0,I=I+Math.imul(Y,zt)|0,m=m+Math.imul(F,Gt)|0,x=(x=x+Math.imul(F,Qt)|0)+Math.imul(H,Gt)|0,I=I+Math.imul(H,Qt)|0,m=m+Math.imul(it,Ot)|0,x=(x=x+Math.imul(it,Kt)|0)+Math.imul(st,Ot)|0,I=I+Math.imul(st,Kt)|0;var Zr=(S+(m=m+Math.imul(V,Ut)|0)|0)+((8191&(x=(x=x+Math.imul(V,$t)|0)+Math.imul(Q,Ut)|0))<<13)|0;S=((I=I+Math.imul(Q,$t)|0)+(x>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,m=Math.imul(et,W),x=(x=Math.imul(et,$))+Math.imul(tt,W)|0,I=Math.imul(tt,$),m=m+Math.imul(R,gt)|0,x=(x=x+Math.imul(R,Nt)|0)+Math.imul(D,gt)|0,I=I+Math.imul(D,Nt)|0,m=m+Math.imul(N,Ft)|0,x=(x=x+Math.imul(N,zt)|0)+Math.imul(L,Ft)|0,I=I+Math.imul(L,zt)|0,m=m+Math.imul(C,Gt)|0,x=(x=x+Math.imul(C,Qt)|0)+Math.imul(Y,Gt)|0,I=I+Math.imul(Y,Qt)|0,m=m+Math.imul(F,Ot)|0,x=(x=x+Math.imul(F,Kt)|0)+Math.imul(H,Ot)|0,I=I+Math.imul(H,Kt)|0,m=m+Math.imul(it,Ut)|0,x=(x=x+Math.imul(it,$t)|0)+Math.imul(st,Ut)|0,I=I+Math.imul(st,$t)|0;var Qr=(S+(m=m+Math.imul(V,qt)|0)|0)+((8191&(x=(x=x+Math.imul(V,mt)|0)+Math.imul(Q,qt)|0))<<13)|0;S=((I=I+Math.imul(Q,mt)|0)+(x>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,m=Math.imul(pt,W),x=(x=Math.imul(pt,$))+Math.imul(yt,W)|0,I=Math.imul(yt,$),m=m+Math.imul(et,gt)|0,x=(x=x+Math.imul(et,Nt)|0)+Math.imul(tt,gt)|0,I=I+Math.imul(tt,Nt)|0,m=m+Math.imul(R,Ft)|0,x=(x=x+Math.imul(R,zt)|0)+Math.imul(D,Ft)|0,I=I+Math.imul(D,zt)|0,m=m+Math.imul(N,Gt)|0,x=(x=x+Math.imul(N,Qt)|0)+Math.imul(L,Gt)|0,I=I+Math.imul(L,Qt)|0,m=m+Math.imul(C,Ot)|0,x=(x=x+Math.imul(C,Kt)|0)+Math.imul(Y,Ot)|0,I=I+Math.imul(Y,Kt)|0,m=m+Math.imul(F,Ut)|0,x=(x=x+Math.imul(F,$t)|0)+Math.imul(H,Ut)|0,I=I+Math.imul(H,$t)|0,m=m+Math.imul(it,qt)|0,x=(x=x+Math.imul(it,mt)|0)+Math.imul(st,qt)|0,I=I+Math.imul(st,mt)|0;var tn=(S+(m=m+Math.imul(V,_t)|0)|0)+((8191&(x=(x=x+Math.imul(V,Pt)|0)+Math.imul(Q,_t)|0))<<13)|0;S=((I=I+Math.imul(Q,Pt)|0)+(x>>>13)|0)+(tn>>>26)|0,tn&=67108863,m=Math.imul(nt,W),x=(x=Math.imul(nt,$))+Math.imul(at,W)|0,I=Math.imul(at,$),m=m+Math.imul(pt,gt)|0,x=(x=x+Math.imul(pt,Nt)|0)+Math.imul(yt,gt)|0,I=I+Math.imul(yt,Nt)|0,m=m+Math.imul(et,Ft)|0,x=(x=x+Math.imul(et,zt)|0)+Math.imul(tt,Ft)|0,I=I+Math.imul(tt,zt)|0,m=m+Math.imul(R,Gt)|0,x=(x=x+Math.imul(R,Qt)|0)+Math.imul(D,Gt)|0,I=I+Math.imul(D,Qt)|0,m=m+Math.imul(N,Ot)|0,x=(x=x+Math.imul(N,Kt)|0)+Math.imul(L,Ot)|0,I=I+Math.imul(L,Kt)|0,m=m+Math.imul(C,Ut)|0,x=(x=x+Math.imul(C,$t)|0)+Math.imul(Y,Ut)|0,I=I+Math.imul(Y,$t)|0,m=m+Math.imul(F,qt)|0,x=(x=x+Math.imul(F,mt)|0)+Math.imul(H,qt)|0,I=I+Math.imul(H,mt)|0,m=m+Math.imul(it,_t)|0,x=(x=x+Math.imul(it,Pt)|0)+Math.imul(st,_t)|0,I=I+Math.imul(st,Pt)|0;var en=(S+(m=m+Math.imul(V,Rt)|0)|0)+((8191&(x=(x=x+Math.imul(V,It)|0)+Math.imul(Q,Rt)|0))<<13)|0;S=((I=I+Math.imul(Q,It)|0)+(x>>>13)|0)+(en>>>26)|0,en&=67108863,m=Math.imul(ct,W),x=(x=Math.imul(ct,$))+Math.imul(ut,W)|0,I=Math.imul(ut,$),m=m+Math.imul(nt,gt)|0,x=(x=x+Math.imul(nt,Nt)|0)+Math.imul(at,gt)|0,I=I+Math.imul(at,Nt)|0,m=m+Math.imul(pt,Ft)|0,x=(x=x+Math.imul(pt,zt)|0)+Math.imul(yt,Ft)|0,I=I+Math.imul(yt,zt)|0,m=m+Math.imul(et,Gt)|0,x=(x=x+Math.imul(et,Qt)|0)+Math.imul(tt,Gt)|0,I=I+Math.imul(tt,Qt)|0,m=m+Math.imul(R,Ot)|0,x=(x=x+Math.imul(R,Kt)|0)+Math.imul(D,Ot)|0,I=I+Math.imul(D,Kt)|0,m=m+Math.imul(N,Ut)|0,x=(x=x+Math.imul(N,$t)|0)+Math.imul(L,Ut)|0,I=I+Math.imul(L,$t)|0,m=m+Math.imul(C,qt)|0,x=(x=x+Math.imul(C,mt)|0)+Math.imul(Y,qt)|0,I=I+Math.imul(Y,mt)|0,m=m+Math.imul(F,_t)|0,x=(x=x+Math.imul(F,Pt)|0)+Math.imul(H,_t)|0,I=I+Math.imul(H,Pt)|0,m=m+Math.imul(it,Rt)|0,x=(x=x+Math.imul(it,It)|0)+Math.imul(st,Rt)|0,I=I+Math.imul(st,It)|0;var rn=(S+(m=m+Math.imul(V,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(V,de)|0)+Math.imul(Q,Vt)|0))<<13)|0;S=((I=I+Math.imul(Q,de)|0)+(x>>>13)|0)+(rn>>>26)|0,rn&=67108863,m=Math.imul(ct,gt),x=(x=Math.imul(ct,Nt))+Math.imul(ut,gt)|0,I=Math.imul(ut,Nt),m=m+Math.imul(nt,Ft)|0,x=(x=x+Math.imul(nt,zt)|0)+Math.imul(at,Ft)|0,I=I+Math.imul(at,zt)|0,m=m+Math.imul(pt,Gt)|0,x=(x=x+Math.imul(pt,Qt)|0)+Math.imul(yt,Gt)|0,I=I+Math.imul(yt,Qt)|0,m=m+Math.imul(et,Ot)|0,x=(x=x+Math.imul(et,Kt)|0)+Math.imul(tt,Ot)|0,I=I+Math.imul(tt,Kt)|0,m=m+Math.imul(R,Ut)|0,x=(x=x+Math.imul(R,$t)|0)+Math.imul(D,Ut)|0,I=I+Math.imul(D,$t)|0,m=m+Math.imul(N,qt)|0,x=(x=x+Math.imul(N,mt)|0)+Math.imul(L,qt)|0,I=I+Math.imul(L,mt)|0,m=m+Math.imul(C,_t)|0,x=(x=x+Math.imul(C,Pt)|0)+Math.imul(Y,_t)|0,I=I+Math.imul(Y,Pt)|0,m=m+Math.imul(F,Rt)|0,x=(x=x+Math.imul(F,It)|0)+Math.imul(H,Rt)|0,I=I+Math.imul(H,It)|0;var In=(S+(m=m+Math.imul(it,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(it,de)|0)+Math.imul(st,Vt)|0))<<13)|0;S=((I=I+Math.imul(st,de)|0)+(x>>>13)|0)+(In>>>26)|0,In&=67108863,m=Math.imul(ct,Ft),x=(x=Math.imul(ct,zt))+Math.imul(ut,Ft)|0,I=Math.imul(ut,zt),m=m+Math.imul(nt,Gt)|0,x=(x=x+Math.imul(nt,Qt)|0)+Math.imul(at,Gt)|0,I=I+Math.imul(at,Qt)|0,m=m+Math.imul(pt,Ot)|0,x=(x=x+Math.imul(pt,Kt)|0)+Math.imul(yt,Ot)|0,I=I+Math.imul(yt,Kt)|0,m=m+Math.imul(et,Ut)|0,x=(x=x+Math.imul(et,$t)|0)+Math.imul(tt,Ut)|0,I=I+Math.imul(tt,$t)|0,m=m+Math.imul(R,qt)|0,x=(x=x+Math.imul(R,mt)|0)+Math.imul(D,qt)|0,I=I+Math.imul(D,mt)|0,m=m+Math.imul(N,_t)|0,x=(x=x+Math.imul(N,Pt)|0)+Math.imul(L,_t)|0,I=I+Math.imul(L,Pt)|0,m=m+Math.imul(C,Rt)|0,x=(x=x+Math.imul(C,It)|0)+Math.imul(Y,Rt)|0,I=I+Math.imul(Y,It)|0;var Bn=(S+(m=m+Math.imul(F,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(F,de)|0)+Math.imul(H,Vt)|0))<<13)|0;S=((I=I+Math.imul(H,de)|0)+(x>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,m=Math.imul(ct,Gt),x=(x=Math.imul(ct,Qt))+Math.imul(ut,Gt)|0,I=Math.imul(ut,Qt),m=m+Math.imul(nt,Ot)|0,x=(x=x+Math.imul(nt,Kt)|0)+Math.imul(at,Ot)|0,I=I+Math.imul(at,Kt)|0,m=m+Math.imul(pt,Ut)|0,x=(x=x+Math.imul(pt,$t)|0)+Math.imul(yt,Ut)|0,I=I+Math.imul(yt,$t)|0,m=m+Math.imul(et,qt)|0,x=(x=x+Math.imul(et,mt)|0)+Math.imul(tt,qt)|0,I=I+Math.imul(tt,mt)|0,m=m+Math.imul(R,_t)|0,x=(x=x+Math.imul(R,Pt)|0)+Math.imul(D,_t)|0,I=I+Math.imul(D,Pt)|0,m=m+Math.imul(N,Rt)|0,x=(x=x+Math.imul(N,It)|0)+Math.imul(L,Rt)|0,I=I+Math.imul(L,It)|0;var Qn=(S+(m=m+Math.imul(C,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(C,de)|0)+Math.imul(Y,Vt)|0))<<13)|0;S=((I=I+Math.imul(Y,de)|0)+(x>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,m=Math.imul(ct,Ot),x=(x=Math.imul(ct,Kt))+Math.imul(ut,Ot)|0,I=Math.imul(ut,Kt),m=m+Math.imul(nt,Ut)|0,x=(x=x+Math.imul(nt,$t)|0)+Math.imul(at,Ut)|0,I=I+Math.imul(at,$t)|0,m=m+Math.imul(pt,qt)|0,x=(x=x+Math.imul(pt,mt)|0)+Math.imul(yt,qt)|0,I=I+Math.imul(yt,mt)|0,m=m+Math.imul(et,_t)|0,x=(x=x+Math.imul(et,Pt)|0)+Math.imul(tt,_t)|0,I=I+Math.imul(tt,Pt)|0,m=m+Math.imul(R,Rt)|0,x=(x=x+Math.imul(R,It)|0)+Math.imul(D,Rt)|0,I=I+Math.imul(D,It)|0;var ti=(S+(m=m+Math.imul(N,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(N,de)|0)+Math.imul(L,Vt)|0))<<13)|0;S=((I=I+Math.imul(L,de)|0)+(x>>>13)|0)+(ti>>>26)|0,ti&=67108863,m=Math.imul(ct,Ut),x=(x=Math.imul(ct,$t))+Math.imul(ut,Ut)|0,I=Math.imul(ut,$t),m=m+Math.imul(nt,qt)|0,x=(x=x+Math.imul(nt,mt)|0)+Math.imul(at,qt)|0,I=I+Math.imul(at,mt)|0,m=m+Math.imul(pt,_t)|0,x=(x=x+Math.imul(pt,Pt)|0)+Math.imul(yt,_t)|0,I=I+Math.imul(yt,Pt)|0,m=m+Math.imul(et,Rt)|0,x=(x=x+Math.imul(et,It)|0)+Math.imul(tt,Rt)|0,I=I+Math.imul(tt,It)|0;var ei=(S+(m=m+Math.imul(R,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(R,de)|0)+Math.imul(D,Vt)|0))<<13)|0;S=((I=I+Math.imul(D,de)|0)+(x>>>13)|0)+(ei>>>26)|0,ei&=67108863,m=Math.imul(ct,qt),x=(x=Math.imul(ct,mt))+Math.imul(ut,qt)|0,I=Math.imul(ut,mt),m=m+Math.imul(nt,_t)|0,x=(x=x+Math.imul(nt,Pt)|0)+Math.imul(at,_t)|0,I=I+Math.imul(at,Pt)|0,m=m+Math.imul(pt,Rt)|0,x=(x=x+Math.imul(pt,It)|0)+Math.imul(yt,Rt)|0,I=I+Math.imul(yt,It)|0;var ri=(S+(m=m+Math.imul(et,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(et,de)|0)+Math.imul(tt,Vt)|0))<<13)|0;S=((I=I+Math.imul(tt,de)|0)+(x>>>13)|0)+(ri>>>26)|0,ri&=67108863,m=Math.imul(ct,_t),x=(x=Math.imul(ct,Pt))+Math.imul(ut,_t)|0,I=Math.imul(ut,Pt),m=m+Math.imul(nt,Rt)|0,x=(x=x+Math.imul(nt,It)|0)+Math.imul(at,Rt)|0,I=I+Math.imul(at,It)|0;var ni=(S+(m=m+Math.imul(pt,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(pt,de)|0)+Math.imul(yt,Vt)|0))<<13)|0;S=((I=I+Math.imul(yt,de)|0)+(x>>>13)|0)+(ni>>>26)|0,ni&=67108863,m=Math.imul(ct,Rt),x=(x=Math.imul(ct,It))+Math.imul(ut,Rt)|0,I=Math.imul(ut,It);var ii=(S+(m=m+Math.imul(nt,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(nt,de)|0)+Math.imul(at,Vt)|0))<<13)|0;S=((I=I+Math.imul(at,de)|0)+(x>>>13)|0)+(ii>>>26)|0,ii&=67108863;var Ni=(S+(m=Math.imul(ct,Vt))|0)+((8191&(x=(x=Math.imul(ct,de))+Math.imul(ut,Vt)|0))<<13)|0;return S=((I=Math.imul(ut,de))+(x>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,Z[0]=ir,Z[1]=sr,Z[2]=dr,Z[3]=Xr,Z[4]=Jr,Z[5]=Zr,Z[6]=Qr,Z[7]=tn,Z[8]=en,Z[9]=rn,Z[10]=In,Z[11]=Bn,Z[12]=Qn,Z[13]=ti,Z[14]=ei,Z[15]=ri,Z[16]=ni,Z[17]=ii,Z[18]=Ni,S!==0&&(Z[19]=S,y.length++),y};function g(f,b,y){return new v().mulp(f,b,y)}function v(f,b){this.x=f,this.y=b}Math.imul||(p=d),s.prototype.mulTo=function(f,b){var y=this.length+f.length;return this.length===10&&f.length===10?p(this,f,b):y<63?d(this,f,b):y<1024?function(m,x,I){I.negative=x.negative^m.negative,I.length=m.length+x.length;for(var O=0,q=0,Z=0;Z<I.length-1;Z++){var S=q;q=0;for(var U=67108863&O,V=Math.min(Z,x.length-1),Q=Math.max(0,Z-m.length+1);Q<=V;Q++){var G=Z-Q,it=(0|m.words[G])*(0|x.words[Q]),st=67108863&it;U=67108863&(st=st+U|0),q+=(S=(S=S+(it/67108864|0)|0)+(st>>>26)|0)>>>26,S&=67108863}I.words[Z]=U,O=S,S=q}return O!==0?I.words[Z]=O:I.length--,I.strip()}(this,f,b):g(this,f,b)},v.prototype.makeRBT=function(f){for(var b=Array(f),y=s.prototype._countBits(f)-1,m=0;m<f;m++)b[m]=this.revBin(m,y,f);return b},v.prototype.revBin=function(f,b,y){if(f===0||f===y-1)return f;for(var m=0,x=0;x<b;x++)m|=(1&f)<<b-x-1,f>>=1;return m},v.prototype.permute=function(f,b,y,m,x,I){for(var O=0;O<I;O++)m[O]=b[f[O]],x[O]=y[f[O]]},v.prototype.transform=function(f,b,y,m,x,I){this.permute(I,f,b,y,m,x);for(var O=1;O<x;O<<=1)for(var q=O<<1,Z=Math.cos(2*Math.PI/q),S=Math.sin(2*Math.PI/q),U=0;U<x;U+=q)for(var V=Z,Q=S,G=0;G<O;G++){var it=y[U+G],st=m[U+G],rt=y[U+G+O],F=m[U+G+O],H=V*rt-Q*F;F=V*F+Q*rt,rt=H,y[U+G]=it+rt,m[U+G]=st+F,y[U+G+O]=it-rt,m[U+G+O]=st-F,G!==q&&(H=Z*V-S*Q,Q=Z*Q+S*V,V=H)}},v.prototype.guessLen13b=function(f,b){var y=1|Math.max(b,f),m=1&y,x=0;for(y=y/2|0;y;y>>>=1)x++;return 1<<x+1+m},v.prototype.conjugate=function(f,b,y){if(!(y<=1))for(var m=0;m<y/2;m++){var x=f[m];f[m]=f[y-m-1],f[y-m-1]=x,x=b[m],b[m]=-b[y-m-1],b[y-m-1]=-x}},v.prototype.normalize13b=function(f,b){for(var y=0,m=0;m<b/2;m++){var x=8192*Math.round(f[2*m+1]/b)+Math.round(f[2*m]/b)+y;f[m]=67108863&x,y=x<67108864?0:x/67108864|0}return f},v.prototype.convert13b=function(f,b,y,m){for(var x=0,I=0;I<b;I++)x+=0|f[I],y[2*I]=8191&x,x>>>=13,y[2*I+1]=8191&x,x>>>=13;for(I=2*b;I<m;++I)y[I]=0;n(x===0),n((-8192&x)==0)},v.prototype.stub=function(f){for(var b=Array(f),y=0;y<f;y++)b[y]=0;return b},v.prototype.mulp=function(f,b,y){var m=2*this.guessLen13b(f.length,b.length),x=this.makeRBT(m),I=this.stub(m),O=Array(m),q=Array(m),Z=Array(m),S=Array(m),U=Array(m),V=Array(m),Q=y.words;Q.length=m,this.convert13b(f.words,f.length,O,m),this.convert13b(b.words,b.length,S,m),this.transform(O,I,q,Z,m,x),this.transform(S,I,U,V,m,x);for(var G=0;G<m;G++){var it=q[G]*U[G]-Z[G]*V[G];Z[G]=q[G]*V[G]+Z[G]*U[G],q[G]=it}return this.conjugate(q,Z,m),this.transform(q,Z,Q,I,m,x),this.conjugate(Q,I,m),this.normalize13b(Q,m),y.negative=f.negative^b.negative,y.length=f.length+b.length,y.strip()},s.prototype.mul=function(f){var b=new s(null);return b.words=Array(this.length+f.length),this.mulTo(f,b)},s.prototype.mulf=function(f){var b=new s(null);return b.words=Array(this.length+f.length),g(this,f,b)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){n(typeof f=="number"),n(f<67108864);for(var b=0,y=0;y<this.length;y++){var m=(0|this.words[y])*f,x=(67108863&m)+(67108863&b);b>>=26,b+=m/67108864|0,b+=x>>>26,this.words[y]=67108863&x}return b!==0&&(this.words[y]=b,this.length++),this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var b=function(I){for(var O=Array(I.bitLength()),q=0;q<O.length;q++){var Z=q/26|0,S=q%26;O[q]=(I.words[Z]&1<<S)>>>S}return O}(f);if(b.length===0)return new s(1);for(var y=this,m=0;m<b.length&&b[m]===0;m++,y=y.sqr());if(++m<b.length)for(var x=y.sqr();m<b.length;m++,x=x.sqr())b[m]!==0&&(y=y.mul(x));return y},s.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var b,y=f%26,m=(f-y)/26,x=67108863>>>26-y<<26-y;if(y!==0){var I=0;for(b=0;b<this.length;b++){var O=this.words[b]&x,q=(0|this.words[b])-O<<y;this.words[b]=q|I,I=O>>>26-y}I&&(this.words[b]=I,this.length++)}if(m!==0){for(b=this.length-1;b>=0;b--)this.words[b+m]=this.words[b];for(b=0;b<m;b++)this.words[b]=0;this.length+=m}return this.strip()},s.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,b,y){var m;n(typeof f=="number"&&f>=0),m=b?(b-b%26)/26:0;var x=f%26,I=Math.min((f-x)/26,this.length),O=67108863^67108863>>>x<<x,q=y;if(m=Math.max(0,m-=I),q){for(var Z=0;Z<I;Z++)q.words[Z]=this.words[Z];q.length=I}if(I!==0)if(this.length>I)for(this.length-=I,Z=0;Z<this.length;Z++)this.words[Z]=this.words[Z+I];else this.words[0]=0,this.length=1;var S=0;for(Z=this.length-1;Z>=0&&(S!==0||Z>=m);Z--){var U=0|this.words[Z];this.words[Z]=S<<26-x|U>>>x,S=U&O}return q&&S!==0&&(q.words[q.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(f,b,y){return n(this.negative===0),this.iushrn(f,b,y)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var b=f%26,y=(f-b)/26,m=1<<b;return!(this.length<=y)&&!!(this.words[y]&m)},s.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var b=f%26,y=(f-b)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(b!==0&&y++,this.length=Math.min(y,this.length),b!==0){var m=67108863^67108863>>>b<<b;this.words[this.length-1]&=m}return this.strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(0|this.words[0])<f?(this.words[0]=f-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},s.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,b,y){var m,x,I=f.length+y;this._expand(I);var O=0;for(m=0;m<f.length;m++){x=(0|this.words[m+y])+O;var q=(0|f.words[m])*b;O=((x-=67108863&q)>>26)-(q/67108864|0),this.words[m+y]=67108863&x}for(;m<this.length-y;m++)O=(x=(0|this.words[m+y])+O)>>26,this.words[m+y]=67108863&x;if(O===0)return this.strip();for(n(O===-1),O=0,m=0;m<this.length;m++)O=(x=-(0|this.words[m])+O)>>26,this.words[m]=67108863&x;return this.negative=1,this.strip()},s.prototype._wordDiv=function(f,b){var y=(this.length,f.length),m=this.clone(),x=f,I=0|x.words[x.length-1];(y=26-this._countBits(I))!==0&&(x=x.ushln(y),m.iushln(y),I=0|x.words[x.length-1]);var O,q=m.length-x.length;if(b!=="mod"){(O=new s(null)).length=q+1,O.words=Array(O.length);for(var Z=0;Z<O.length;Z++)O.words[Z]=0}var S=m.clone()._ishlnsubmul(x,1,q);S.negative===0&&(m=S,O&&(O.words[q]=1));for(var U=q-1;U>=0;U--){var V=67108864*(0|m.words[x.length+U])+(0|m.words[x.length+U-1]);for(V=Math.min(V/I|0,67108863),m._ishlnsubmul(x,V,U);m.negative!==0;)V--,m.negative=0,m._ishlnsubmul(x,1,U),m.isZero()||(m.negative^=1);O&&(O.words[U]=V)}return O&&O.strip(),m.strip(),b!=="div"&&y!==0&&m.iushrn(y),{div:O||null,mod:m}},s.prototype.divmod=function(f,b,y){return n(!f.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:this.negative!==0&&f.negative===0?(I=this.neg().divmod(f,b),b!=="mod"&&(m=I.div.neg()),b!=="div"&&(x=I.mod.neg(),y&&x.negative!==0&&x.iadd(f)),{div:m,mod:x}):this.negative===0&&f.negative!==0?(I=this.divmod(f.neg(),b),b!=="mod"&&(m=I.div.neg()),{div:m,mod:I.mod}):(this.negative&f.negative)!=0?(I=this.neg().divmod(f.neg(),b),b!=="div"&&(x=I.mod.neg(),y&&x.negative!==0&&x.isub(f)),{div:I.div,mod:x}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?b==="div"?{div:this.divn(f.words[0]),mod:null}:b==="mod"?{div:null,mod:new s(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modn(f.words[0]))}:this._wordDiv(f,b);var m,x,I},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var b=this.divmod(f);if(b.mod.isZero())return b.div;var y=b.div.negative!==0?b.mod.isub(f):b.mod,m=f.ushrn(1),x=f.andln(1),I=y.cmp(m);return I<0||x===1&&I===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},s.prototype.modn=function(f){n(f<=67108863);for(var b=(1<<26)%f,y=0,m=this.length-1;m>=0;m--)y=(b*y+(0|this.words[m]))%f;return y},s.prototype.idivn=function(f){n(f<=67108863);for(var b=0,y=this.length-1;y>=0;y--){var m=(0|this.words[y])+67108864*b;this.words[y]=m/f|0,b=m%f}return this.strip()},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var b=this,y=f.clone();b=b.negative!==0?b.umod(f):b.clone();for(var m=new s(1),x=new s(0),I=new s(0),O=new s(1),q=0;b.isEven()&&y.isEven();)b.iushrn(1),y.iushrn(1),++q;for(var Z=y.clone(),S=b.clone();!b.isZero();){for(var U=0,V=1;(b.words[0]&V)==0&&U<26;++U,V<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(m.isOdd()||x.isOdd())&&(m.iadd(Z),x.isub(S)),m.iushrn(1),x.iushrn(1);for(var Q=0,G=1;(y.words[0]&G)==0&&Q<26;++Q,G<<=1);if(Q>0)for(y.iushrn(Q);Q-- >0;)(I.isOdd()||O.isOdd())&&(I.iadd(Z),O.isub(S)),I.iushrn(1),O.iushrn(1);b.cmp(y)>=0?(b.isub(y),m.isub(I),x.isub(O)):(y.isub(b),I.isub(m),O.isub(x))}return{a:I,b:O,gcd:y.iushln(q)}},s.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var b=this,y=f.clone();b=b.negative!==0?b.umod(f):b.clone();for(var m,x=new s(1),I=new s(0),O=y.clone();b.cmpn(1)>0&&y.cmpn(1)>0;){for(var q=0,Z=1;(b.words[0]&Z)==0&&q<26;++q,Z<<=1);if(q>0)for(b.iushrn(q);q-- >0;)x.isOdd()&&x.iadd(O),x.iushrn(1);for(var S=0,U=1;(y.words[0]&U)==0&&S<26;++S,U<<=1);if(S>0)for(y.iushrn(S);S-- >0;)I.isOdd()&&I.iadd(O),I.iushrn(1);b.cmp(y)>=0?(b.isub(y),x.isub(I)):(y.isub(b),I.isub(x))}return(m=b.cmpn(1)===0?x:I).cmpn(0)<0&&m.iadd(f),m},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var b=this.clone(),y=f.clone();b.negative=0,y.negative=0;for(var m=0;b.isEven()&&y.isEven();m++)b.iushrn(1),y.iushrn(1);for(;;){for(;b.isEven();)b.iushrn(1);for(;y.isEven();)y.iushrn(1);var x=b.cmp(y);if(x<0){var I=b;b=y,y=I}else if(x===0||y.cmpn(1)===0)break;b.isub(y)}return y.iushln(m)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(1&this.words[0])==0},s.prototype.isOdd=function(){return(1&this.words[0])==1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){n(typeof f=="number");var b=f%26,y=(f-b)/26,m=1<<b;if(this.length<=y)return this._expand(y+1),this.words[y]|=m,this;for(var x=m,I=y;x!==0&&I<this.length;I++){var O=0|this.words[I];x=(O+=x)>>>26,O&=67108863,this.words[I]=O}return x!==0&&(this.words[I]=x,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var b,y=f<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;if(this.strip(),this.length>1)b=1;else{y&&(f=-f),n(f<=67108863,"Number is too big");var m=0|this.words[0];b=m===f?0:m<f?-1:1}return this.negative!==0?0|-b:b},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var b=this.ucmp(f);return this.negative!==0?0|-b:b},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var b=0,y=this.length-1;y>=0;y--){var m=0|this.words[y],x=0|f.words[y];if(m!==x){m<x?b=-1:m>x&&(b=1);break}}return b},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new w(f)},s.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var _={k256:null,p224:null,p192:null,p25519:null};function k(f,b){this.name=f,this.p=new s(b,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function P(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function z(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(f){if(typeof f=="string"){var b=s._prime(f);this.m=b.p,this.prime=b}else n(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}function M(f){w.call(this,f),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var f=new s(null);return f.words=Array(Math.ceil(this.n/13)),f},k.prototype.ireduce=function(f){var b,y=f;do this.split(y,this.tmp),b=(y=(y=this.imulK(y)).iadd(this.tmp)).bitLength();while(b>this.n);var m=b<this.n?-1:y.ucmp(this.p);return m===0?(y.words[0]=0,y.length=1):m>0?y.isub(this.p):y.strip(),y},k.prototype.split=function(f,b){f.iushrn(this.n,0,b)},k.prototype.imulK=function(f){return f.imul(this.k)},i(P,k),P.prototype.split=function(f,b){for(var y=4194303,m=Math.min(f.length,9),x=0;x<m;x++)b.words[x]=f.words[x];if(b.length=m,f.length<=9)return f.words[0]=0,void(f.length=1);var I=f.words[9];for(b.words[b.length++]=I&y,x=10;x<f.length;x++){var O=0|f.words[x];f.words[x-10]=(O&y)<<4|I>>>22,I=O}I>>>=22,f.words[x-10]=I,I===0&&f.length>10?f.length-=10:f.length-=9},P.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var b=0,y=0;y<f.length;y++){var m=0|f.words[y];b+=977*m,f.words[y]=67108863&b,b=64*m+(b/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},i(A,k),i(E,k),i(z,k),z.prototype.imulK=function(f){for(var b=0,y=0;y<f.length;y++){var m=19*(0|f.words[y])+b,x=67108863&m;m>>>=26,f.words[y]=x,b=m}return b!==0&&(f.words[f.length++]=b),f},s._prime=function(f){if(_[f])return _[f];var b;if(f==="k256")b=new P;else if(f==="p224")b=new A;else if(f==="p192")b=new E;else{if(f!=="p25519")throw Error("Unknown prime "+f);b=new z}return _[f]=b,b},w.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},w.prototype._verify2=function(f,b){n((f.negative|b.negative)==0,"red works only with positives"),n(f.red&&f.red===b.red,"red works only with red numbers")},w.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},w.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},w.prototype.add=function(f,b){this._verify2(f,b);var y=f.add(b);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},w.prototype.iadd=function(f,b){this._verify2(f,b);var y=f.iadd(b);return y.cmp(this.m)>=0&&y.isub(this.m),y},w.prototype.sub=function(f,b){this._verify2(f,b);var y=f.sub(b);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},w.prototype.isub=function(f,b){this._verify2(f,b);var y=f.isub(b);return y.cmpn(0)<0&&y.iadd(this.m),y},w.prototype.shl=function(f,b){return this._verify1(f),this.imod(f.ushln(b))},w.prototype.imul=function(f,b){return this._verify2(f,b),this.imod(f.imul(b))},w.prototype.mul=function(f,b){return this._verify2(f,b),this.imod(f.mul(b))},w.prototype.isqr=function(f){return this.imul(f,f.clone())},w.prototype.sqr=function(f){return this.mul(f,f)},w.prototype.sqrt=function(f){if(f.isZero())return f.clone();var b=this.m.andln(3);if(n(b%2==1),b===3){var y=this.m.add(new s(1)).iushrn(2);return this.pow(f,y)}for(var m=this.m.subn(1),x=0;!m.isZero()&&m.andln(1)===0;)x++,m.iushrn(1);n(!m.isZero());var I=new s(1).toRed(this),O=I.redNeg(),q=this.m.subn(1).iushrn(1),Z=this.m.bitLength();for(Z=new s(2*Z*Z).toRed(this);this.pow(Z,q).cmp(O)!==0;)Z.redIAdd(O);for(var S=this.pow(Z,m),U=this.pow(f,m.addn(1).iushrn(1)),V=this.pow(f,m),Q=x;V.cmp(I)!==0;){for(var G=V,it=0;G.cmp(I)!==0;it++)G=G.redSqr();n(it<Q);var st=this.pow(S,new s(1).iushln(Q-it-1));U=U.redMul(st),S=st.redSqr(),V=V.redMul(S),Q=it}return U},w.prototype.invm=function(f){var b=f._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},w.prototype.pow=function(f,b){if(b.isZero())return new s(1).toRed(this);if(b.cmpn(1)===0)return f.clone();var y=Array(16);y[0]=new s(1).toRed(this),y[1]=f;for(var m=2;m<y.length;m++)y[m]=this.mul(y[m-1],f);var x=y[0],I=0,O=0,q=b.bitLength()%26;for(q===0&&(q=26),m=b.length-1;m>=0;m--){for(var Z=b.words[m],S=q-1;S>=0;S--){var U=Z>>S&1;x!==y[0]&&(x=this.sqr(x)),U!==0||I!==0?(I<<=1,I|=U,(++O===4||m===0&&S===0)&&(x=this.mul(x,y[I]),O=0,I=0)):O=0}q=26}return x},w.prototype.convertTo=function(f){var b=f.umod(this.m);return b===f?b.clone():b},w.prototype.convertFrom=function(f){var b=f.clone();return b.red=null,b},s.mont=function(f){return new M(f)},i(M,w),M.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},M.prototype.convertFrom=function(f){var b=this.imod(f.mul(this.rinv));return b.red=null,b},M.prototype.imul=function(f,b){if(f.isZero()||b.isZero())return f.words[0]=0,f.length=1,f;var y=f.imul(b),m=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=y.isub(m).iushrn(this.shift),I=x;return x.cmp(this.m)>=0?I=x.isub(this.m):x.cmpn(0)<0&&(I=x.iadd(this.m)),I._forceRed(this)},M.prototype.mul=function(f,b){if(f.isZero()||b.isZero())return new s(0)._forceRed(this);var y=f.mul(b),m=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=y.isub(m).iushrn(this.shift),I=x;return x.cmp(this.m)>=0?I=x.isub(this.m):x.cmpn(0)<0&&(I=x.iadd(this.m)),I._forceRed(this)},M.prototype.invm=function(f){return this.imod(f._invmp(this.m).mul(this.r2))._forceRed(this)}})(e,yp)}),pa=Object.freeze({__proto__:null,default:Tt,__moduleExports:Tt});class ka{constructor(t){if(t===void 0)throw Error("Invalid BigInteger input");this.value=new Tt(t)}clone(){const t=new ka(null);return this.value.copy(t.value),t}iinc(){return this.value.iadd(new Tt(1)),this}inc(){return this.clone().iinc()}idec(){return this.value.isub(new Tt(1)),this}dec(){return this.clone().idec()}iadd(t){return this.value.iadd(t.value),this}add(t){return this.clone().iadd(t)}isub(t){return this.value.isub(t.value),this}sub(t){return this.clone().isub(t)}imul(t){return this.value.imul(t.value),this}mul(t){return this.clone().imul(t)}imod(t){return this.value=this.value.umod(t.value),this}mod(t){return this.clone().imod(t)}modExp(t,r){const n=r.isEven()?Tt.red(r.value):Tt.mont(r.value),i=this.clone();return i.value=i.value.toRed(n).redPow(t.value).fromRed(),i}modInv(t){if(!this.gcd(t).isOne())throw Error("Inverse does not exist");return new ka(this.value.invm(t.value))}gcd(t){return new ka(this.value.gcd(t.value))}ileftShift(t){return this.value.ishln(t.value.toNumber()),this}leftShift(t){return this.clone().ileftShift(t)}irightShift(t){return this.value.ishrn(t.value.toNumber()),this}rightShift(t){return this.clone().irightShift(t)}equal(t){return this.value.eq(t.value)}lt(t){return this.value.lt(t.value)}lte(t){return this.value.lte(t.value)}gt(t){return this.value.gt(t.value)}gte(t){return this.value.gte(t.value)}isZero(){return this.value.isZero()}isOne(){return this.value.eq(new Tt(1))}isNegative(){return this.value.isNeg()}isEven(){return this.value.isEven()}abs(){const t=this.clone();return t.value=t.value.abs(),t}toString(){return this.value.toString()}toNumber(){return this.value.toNumber()}getBit(t){return this.value.testn(t)?1:0}bitLength(){return this.value.bitLength()}byteLength(){return this.value.byteLength()}toUint8Array(t="be",r){return this.value.toArrayLike(Uint8Array,t,r)}}var Bc,W5=Object.freeze({__proto__:null,default:ka}),$r=Tn(function(e,t){var r=t;function n(s){return s.length===1?"0"+s:s}function i(s){for(var a="",o=0;o<s.length;o++)a+=n(s[o].toString(16));return a}r.toArray=function(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var o=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)o[u]=0|s[u];return o}if(a==="hex")for((s=s.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(s="0"+s),u=0;u<s.length;u+=2)o.push(parseInt(s[u]+s[u+1],16));else for(u=0;u<s.length;u++){var c=s.charCodeAt(u),l=c>>8,h=255&c;l?o.push(l,h):o.push(h)}return o},r.zero2=n,r.toHex=i,r.encode=function(s,a){return a==="hex"?i(s):s}}),ye=Tn(function(e,t){var r=t;r.assert=Ti,r.toArray=$r.toArray,r.zero2=$r.zero2,r.toHex=$r.toHex,r.encode=$r.encode,r.getNAF=function(n,i){for(var s=[],a=1<<i+1,o=n.clone();o.cmpn(1)>=0;){var u;if(o.isOdd()){var c=o.andln(a-1);u=c>(a>>1)-1?(a>>1)-c:c,o.isubn(u)}else u=0;s.push(u);for(var l=o.cmpn(0)!==0&&o.andln(a-1)===0?i+1:1,h=1;h<l;h++)s.push(0);o.iushrn(l)}return s},r.getJSF=function(n,i){var s=[[],[]];n=n.clone(),i=i.clone();for(var a=0,o=0;n.cmpn(-a)>0||i.cmpn(-o)>0;){var u,c,l,h=n.andln(3)+a&3,d=i.andln(3)+o&3;h===3&&(h=-1),d===3&&(d=-1),(1&h)==0?u=0:u=(l=n.andln(7)+a&7)!==3&&l!==5||d!==2?h:-h,s[0].push(u),(1&d)==0?c=0:c=(l=i.andln(7)+o&7)!==3&&l!==5||h!==2?d:-d,s[1].push(c),2*a===u+1&&(a=1-a),2*o===c+1&&(o=1-o),n.iushrn(1),i.iushrn(1)}return s},r.cachedProperty=function(n,i,s){var a="_"+i;n.prototype[i]=function(){return this[a]!==void 0?this[a]:this[a]=s.call(this)}},r.parseBytes=function(n){return typeof n=="string"?r.toArray(n,"hex"):n},r.intFromLE=function(n){return new Tt(n,"hex","le")}}),G0=function(e){return Bc||(Bc=new pi(null)),Bc.generate(e)};function pi(e){this.rand=e}var G5=pi;if(pi.prototype.generate=function(e){return this._rand(e)},pi.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},typeof self=="object")self.crypto&&self.crypto.getRandomValues?pi.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?pi.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:typeof window=="object"&&(pi.prototype._rand=function(){throw Error("Not implemented yet")});else try{if(typeof(void 0).randomBytes!="function")throw Error("Not supported");pi.prototype._rand=function(e){return(void 0).randomBytes(e)}}catch{}G0.Rand=G5;var wo=ye.getNAF,V5=ye.getJSF,_o=ye.assert;function di(e,t){this.type=e,this.p=new Tt(t.p,16),this.red=t.prime?Tt.red(t.prime):Tt.mont(this.p),this.zero=new Tt(0).toRed(this.red),this.one=new Tt(1).toRed(this.red),this.two=new Tt(2).toRed(this.red),this.n=t.n&&new Tt(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,];var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var lr=di;function Tr(e,t){this.curve=e,this.type=t,this.precomputed=null}di.prototype.point=function(){throw Error("Not implemented")},di.prototype.validate=function(){throw Error("Not implemented")},di.prototype._fixedNafMul=function(e,t){_o(e.precomputed);var r=e._getDoubles(),n=wo(t,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var s=[],a=0;a<n.length;a+=r.step){var o=0;for(t=a+r.step-1;t>=a;t--)o=(o<<1)+n[t];s.push(o)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),l=i;l>0;l--){for(a=0;a<s.length;a++)(o=s[a])===l?c=c.mixedAdd(r.points[a]):o===-l&&(c=c.mixedAdd(r.points[a].neg()));u=u.add(c)}return u.toP()},di.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=wo(t,r),a=this.jpoint(null,null,null),o=s.length-1;o>=0;o--){for(t=0;o>=0&&s[o]===0;o--)t++;if(o>=0&&t++,a=a.dblp(t),o<0)break;var u=s[o];_o(u!==0),a=e.type==="affine"?u>0?a.mixedAdd(i[u-1>>1]):a.mixedAdd(i[-u-1>>1].neg()):u>0?a.add(i[u-1>>1]):a.add(i[-u-1>>1].neg())}return e.type==="affine"?a.toP():a},di.prototype._wnafMulAdd=function(e,t,r,n,i){for(var s=this._wnafT1,a=this._wnafT2,o=this._wnafT3,u=0,c=0;c<n;c++){var l=(M=t[c])._getNAFPoints(e);s[c]=l.wnd,a[c]=l.points}for(c=n-1;c>=1;c-=2){var h=c-1,d=c;if(s[h]===1&&s[d]===1){var p=[t[h],null,null,t[d]];t[h].y.cmp(t[d].y)===0?(p[1]=t[h].add(t[d]),p[2]=t[h].toJ().mixedAdd(t[d].neg())):t[h].y.cmp(t[d].y.redNeg())===0?(p[1]=t[h].toJ().mixedAdd(t[d]),p[2]=t[h].add(t[d].neg())):(p[1]=t[h].toJ().mixedAdd(t[d]),p[2]=t[h].toJ().mixedAdd(t[d].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=V5(r[h],r[d]);u=Math.max(v[0].length,u),o[h]=Array(u),o[d]=Array(u);for(var _=0;_<u;_++){var k=0|v[0][_],P=0|v[1][_];o[h][_]=g[3*(k+1)+(P+1)],o[d][_]=0,a[h]=p}}else o[h]=wo(r[h],s[h]),o[d]=wo(r[d],s[d]),u=Math.max(o[h].length,u),u=Math.max(o[d].length,u)}var A=this.jpoint(null,null,null),E=this._wnafT4;for(c=u;c>=0;c--){for(var z=0;c>=0;){var w=!0;for(_=0;_<n;_++)E[_]=0|o[_][c],E[_]!==0&&(w=!1);if(!w)break;z++,c--}if(c>=0&&z++,A=A.dblp(z),c<0)break;for(_=0;_<n;_++){var M,f=E[_];f!==0&&(f>0?M=a[_][f-1>>1]:f<0&&(M=a[_][-f-1>>1].neg()),A=M.type==="affine"?A.mixedAdd(M):A.add(M))}}for(c=0;c<n;c++)a[c]=null;return i?A:A.toP()},di.BasePoint=Tr,Tr.prototype.eq=function(){throw Error("Not implemented")},Tr.prototype.validate=function(){return this.curve.validate(this)},di.prototype.decodePoint=function(e,t){e=ye.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*r)return e[0]===6?_o(e[e.length-1]%2==0):e[0]===7&&_o(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw Error("Unknown point format")},Tr.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Tr.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Tr.prototype.encode=function(e,t){return ye.encode(this._encode(t),e)},Tr.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Tr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Tr.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},Tr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=r===1?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},Tr.prototype._getBeta=function(){return null},Tr.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Y5=ye.assert;function Dr(e){lr.call(this,"short",e),this.a=new Tt(e.a,16).toRed(this.red),this.b=new Tt(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}xi(Dr,lr);var X5=Dr;function ze(e,t,r,n){lr.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Tt(t,16),this.y=new Tt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function He(e,t,r,n){lr.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Tt(0)):(this.x=new Tt(t,16),this.y=new Tt(r,16),this.z=new Tt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}function _s(e){lr.call(this,"mont",e),this.a=new Tt(e.a,16).toRed(this.red),this.b=new Tt(e.b,16).toRed(this.red),this.i4=new Tt(4).toRed(this.red).redInvm(),this.two=new Tt(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Dr.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var t,r;if(e.beta)t=new Tt(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new Tt(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))===0?r=i[0]:(r=i[1],Y5(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}return{beta:t,lambda:r,basis:e.basis?e.basis.map(function(s){return{a:new Tt(s.a,16),b:new Tt(s.b,16)}}):this._getEndoBasis(r)}}},Dr.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Tt.mont(e),r=new Tt(2).toRed(t).redInvm(),n=r.redNeg(),i=new Tt(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Dr.prototype._getEndoBasis=function(e){for(var t,r,n,i,s,a,o,u,c,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,d=this.n.clone(),p=new Tt(1),g=new Tt(0),v=new Tt(0),_=new Tt(1),k=0;h.cmpn(0)!==0;){var P=d.div(h);u=d.sub(P.mul(h)),c=v.sub(P.mul(p));var A=_.sub(P.mul(g));if(!n&&u.cmp(l)<0)t=o.neg(),r=p,n=u.neg(),i=c;else if(n&&++k==2)break;o=u,d=h,h=u,v=p,p=c,_=g,g=A}s=u.neg(),a=c;var E=n.sqr().add(i.sqr());return s.sqr().add(a.sqr()).cmp(E)>=0&&(s=t,a=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:i},{a:s,b:a}]},Dr.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),o=s.mul(n.a),u=i.mul(r.b),c=s.mul(n.b);return{k1:e.sub(a).sub(o),k2:u.add(c).neg()}},Dr.prototype.pointFromX=function(e,t){(e=new Tt(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(n.redSqr().redSub(r).cmp(this.zero)!==0)throw Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},Dr.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return r.redSqr().redISub(i).cmpn(0)===0},Dr.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(t[s]),o=e[s],u=o._getBeta();a.k1.negative&&(a.k1.ineg(),o=o.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),n[2*s]=o,n[2*s+1]=u,i[2*s]=a.k1,i[2*s+1]=a.k2}for(var c=this._wnafMulAdd(1,n,i,2*s,r),l=0;l<2*s;l++)n[l]=null,i[l]=null;return c},xi(ze,lr.BasePoint),Dr.prototype.point=function(e,t,r){return new ze(this,e,t,r)},Dr.prototype.pointFromJSON=function(e,t){return ze.fromJSON(this,e,t)},ze.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(i){return r.point(i.x.redMul(r.endo.beta),i.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},ze.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},ze.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(a){return e.point(a[0],a[1],r)}var s=t[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},ze.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},ze.prototype.isInfinity=function(){return this.inf},ze.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},ze.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)},ze.prototype.getX=function(){return this.x.fromRed()},ze.prototype.getY=function(){return this.y.fromRed()},ze.prototype.mul=function(e){return e=new Tt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},ze.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},ze.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},ze.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},ze.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(i){return i.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},ze.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},xi(He,lr.BasePoint),Dr.prototype.jpoint=function(e,t,r){return new He(this,e,t,r)},He.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},He.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},He.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),o=n.redSub(i),u=s.redSub(a);if(o.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),l=c.redMul(o),h=n.redMul(c),d=u.redSqr().redIAdd(l).redISub(h).redISub(h),p=u.redMul(h.redISub(d)).redISub(s.redMul(l)),g=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(d,p,g)},He.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),a=r.redSub(n),o=i.redSub(s);if(a.cmpn(0)===0)return o.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),l=r.redMul(u),h=o.redSqr().redIAdd(c).redISub(l).redISub(l),d=o.redMul(l.redISub(h)).redISub(i.redMul(c)),p=this.z.redMul(a);return this.curve.jpoint(h,d,p)},He.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,s=this.x,a=this.y,o=this.z,u=o.redSqr().redSqr(),c=a.redAdd(a);for(r=0;r<e;r++){var l=s.redSqr(),h=c.redSqr(),d=h.redSqr(),p=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),g=s.redMul(h),v=p.redSqr().redISub(g.redAdd(g)),_=g.redISub(v),k=p.redMul(_);k=k.redIAdd(k).redISub(d);var P=c.redMul(o);r+1<e&&(u=u.redMul(d)),s=v,o=P,c=k}return this.curve.jpoint(s,c.redMul(i),o)},He.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},He.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(s);a=a.redIAdd(a);var o=n.redAdd(n).redIAdd(n),u=o.redSqr().redISub(a).redISub(a),c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=o.redMul(a.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),p=this.x.redAdd(h).redSqr().redISub(l).redISub(d);p=p.redIAdd(p);var g=l.redAdd(l).redIAdd(l),v=g.redSqr(),_=d.redIAdd(d);_=(_=_.redIAdd(_)).redIAdd(_),e=v.redISub(p).redISub(p),t=g.redMul(p.redISub(e)).redISub(_),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},He.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(s);a=a.redIAdd(a);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=o.redSqr().redISub(a).redISub(a);e=u;var c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),t=o.redMul(a.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),p=this.x.redSub(l).redMul(this.x.redAdd(l));p=p.redAdd(p).redIAdd(p);var g=d.redIAdd(d),v=(g=g.redIAdd(g)).redAdd(g);e=p.redSqr().redISub(v),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var _=h.redSqr();_=(_=(_=_.redIAdd(_)).redIAdd(_)).redIAdd(_),t=p.redMul(g.redISub(e)).redISub(_)}return this.curve.jpoint(e,t,r)},He.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),a=r.redSqr(),o=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(a),l=o.redSqr().redISub(c.redAdd(c)),h=c.redISub(l),d=a.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var p=o.redMul(h).redISub(d),g=r.redAdd(r).redMul(n);return this.curve.jpoint(l,p,g)},He.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),o=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(s)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(a).redSqr().redISub(s).redISub(o).redISub(u),l=t.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.x.redMul(o).redISub(l);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(c.redMul(u.redISub(c)).redISub(a.redMul(o)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var p=this.z.redAdd(a).redSqr().redISub(r).redISub(o);return this.curve.jpoint(h,d,p)},He.prototype.mul=function(e,t){return e=new Tt(e,t),this.curve._wnafMul(this,e)},He.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)===0},He.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}},He.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},He.prototype.isInfinity=function(){return this.z.cmpn(0)===0},xi(_s,lr);var J5=_s;function Fe(e,t,r){lr.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Tt(t,16),this.z=new Tt(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}_s.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return n.redSqrt().redSqr().cmp(n)===0},xi(Fe,lr.BasePoint),_s.prototype.decodePoint=function(e,t){if((e=ye.toArray(e,t)).length===33&&e[0]===64&&(e=e.slice(1,33).reverse()),e.length!==32)throw Error("Unknown point compression format");return this.point(e,1)},_s.prototype.point=function(e,t){return new Fe(this,e,t)},_s.prototype.pointFromJSON=function(e){return Fe.fromJSON(this,e)},Fe.prototype.precompute=function(){},Fe.prototype._encode=function(e){var t=this.curve.p.byteLength();return e?[64].concat(this.getX().toArray("le",t)):this.getX().toArray("be",t)},Fe.fromJSON=function(e,t){return new Fe(e,t[0],t[1]||e.one)},Fe.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Fe.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Fe.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},Fe.prototype.add=function(){throw Error("Not supported on Montgomery curve")},Fe.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(r),a=i.redMul(n),o=t.z.redMul(s.redAdd(a).redSqr()),u=t.x.redMul(s.redISub(a).redSqr());return this.curve.point(o,u)},Fe.prototype.mul=function(e){for(var t=(e=new Tt(e,16)).clone(),r=this,n=this.curve.point(null,null),i=[];t.cmpn(0)!==0;t.iushrn(1))i.push(t.andln(1));for(var s=i.length-1;s>=0;s--)i[s]===0?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},Fe.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},Fe.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},Fe.prototype.eq=function(e){return this.getX().cmp(e.getX())===0},Fe.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Fe.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var Z5=ye.assert;function cn(e){this.twisted=(0|e.a)!=1,this.mOneA=this.twisted&&(0|e.a)==-1,this.extended=this.mOneA,lr.call(this,"edwards",e),this.a=new Tt(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Tt(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Tt(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Z5(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|e.c)==1}xi(cn,lr);var Q5=cn;function ve(e,t,r,n,i){lr.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Tt(t,16),this.y=new Tt(r,16),this.z=n?new Tt(n,16):this.curve.one,this.t=i&&new Tt(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}cn.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},cn.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},cn.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},cn.prototype.pointFromX=function(e,t){(e=new Tt(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(i.redInvm()),a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw Error("invalid point");var o=a.fromRed().isOdd();return(t&&!o||!t&&o)&&(a=a.redNeg()),this.point(e,a)},cn.prototype.pointFromY=function(e,t){(e=new Tt(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(i.redInvm());if(s.cmp(this.zero)===0){if(t)throw Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},cn.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return n.cmp(i)===0},xi(ve,lr.BasePoint),cn.prototype.pointFromJSON=function(e){return ve.fromJSON(this,e)},cn.prototype.point=function(e,t,r,n){return new ve(this,e,t,r,n)},ve.fromJSON=function(e,t){return new ve(e,t[0],t[1],t[2])},ve.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},ve.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},ve.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=n.redAdd(t),a=s.redSub(r),o=n.redSub(t),u=i.redMul(a),c=s.redMul(o),l=i.redMul(o),h=a.redMul(s);return this.curve.point(u,c,h,l)},ve.prototype._projDbl=function(){var e,t,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var a=(c=this.curve._mulA(i)).redAdd(s);if(this.zOne)e=n.redSub(i).redSub(s).redMul(a.redSub(this.curve.two)),t=a.redMul(c.redSub(s)),r=a.redSqr().redSub(a).redSub(a);else{var o=this.z.redSqr(),u=a.redSub(o).redISub(o);e=n.redSub(i).redISub(s).redMul(u),t=a.redMul(c.redSub(s)),r=a.redMul(u)}}else{var c=i.redAdd(s);o=this.curve._mulC(this.z).redSqr(),u=c.redSub(o).redSub(o),e=this.curve._mulC(n.redISub(c)).redMul(u),t=this.curve._mulC(c).redMul(i.redISub(s)),r=c.redMul(u)}return this.curve.point(e,t,r)},ve.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},ve.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),a=i.redSub(n),o=i.redAdd(n),u=r.redAdd(t),c=s.redMul(a),l=o.redMul(u),h=s.redMul(u),d=a.redMul(o);return this.curve.point(c,l,d,h)},ve.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),s=this.x.redMul(e.x),a=this.y.redMul(e.y),o=this.curve.d.redMul(s).redMul(a),u=i.redSub(o),c=i.redAdd(o),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(a),h=n.redMul(u).redMul(l);return this.curve.twisted?(t=n.redMul(c).redMul(a.redSub(this.curve._mulA(s))),r=u.redMul(c)):(t=n.redMul(c).redMul(a.redSub(s)),r=this.curve._mulC(u).redMul(c)),this.curve.point(h,t,r)},ve.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},ve.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},ve.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},ve.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},ve.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},ve.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},ve.prototype.getX=function(){return this.normalize(),this.x.fromRed()},ve.prototype.getY=function(){return this.normalize(),this.y.fromRed()},ve.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0},ve.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),this.x.cmp(t)===0)return!0}},ve.prototype.toP=ve.prototype.normalize,ve.prototype.mixedAdd=ve.prototype.add;var Bo=Tn(function(e,t){var r=t;r.base=lr,r.short=X5,r.mont=J5,r.edwards=Q5}),Dc=ee.rotl32,ta=ee.sum32,t6=ee.sum32_5,e6=os.ft_1,d2=Va.BlockHash,r6=[1518500249,1859775393,2400959708,3395469782];function dn(){if(!(this instanceof dn))return new dn;d2.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}ee.inherits(dn,d2);var n6=dn;dn.blockSize=512,dn.outSize=160,dn.hmacStrength=80,dn.padLength=64,dn.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=Dc(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],a=this.h[2],o=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),l=t6(Dc(i,5),e6(c,s,a,o),u,r[n],r6[c]);u=o,o=a,a=Dc(s,30),s=i,i=l}this.h[0]=ta(this.h[0],i),this.h[1]=ta(this.h[1],s),this.h[2]=ta(this.h[2],a),this.h[3]=ta(this.h[3],o),this.h[4]=ta(this.h[4],u)},dn.prototype._digest=function(e){return e==="hex"?ee.toHex32(this.h,"big"):ee.split32(this.h,"big")};var i6={sha1:n6,sha224:Ch,sha256:Ou,sha384:Ih,sha512:Ya};function Cs(e,t,r){if(!(this instanceof Cs))return new Cs(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(ee.toArray(t,r))}var s6=Cs;Cs.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Ti(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},Cs.prototype.update=function(e,t){return this.inner.update(e,t),this},Cs.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};var xr=Tn(function(e,t){var r=t;r.utils=ee,r.common=Va,r.sha=i6,r.ripemd=Xp,r.hmac=s6,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160}),a6={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}},Ea=Tn(function(e,t){var r,n=t,i=ye.assert;function s(o){if(o.type==="short")this.curve=new Bo.short(o);else if(o.type==="edwards")this.curve=new Bo.edwards(o);else{if(o.type!=="mont")throw Error("Unknown curve type.");this.curve=new Bo.mont(o)}this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, n*G != O")}function a(o,u){Object.defineProperty(n,o,{configurable:!0,enumerable:!0,get:function(){var c=new s(u);return Object.defineProperty(n,o,{configurable:!0,enumerable:!0,value:c}),c}})}n.PresetCurve=s,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:xr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:xr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:xr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:xr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:xr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:xr.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:xr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]}),a("brainpoolP256r1",{type:"short",prime:null,p:"A9FB57DB A1EEA9BC 3E660A90 9D838D72 6E3BF623 D5262028 2013481D 1F6E5377",a:"7D5A0975 FC2C3057 EEF67530 417AFFE7 FB8055C1 26DC5C6C E94A4B44 F330B5D9",b:"26DC5C6C E94A4B44 F330B5D9 BBD77CBF 95841629 5CF7E1CE 6BCCDC18 FF8C07B6",n:"A9FB57DB A1EEA9BC 3E660A90 9D838D71 8C397AA3 B561A6F7 901E0E82 974856A7",hash:xr.sha256,gRed:!1,g:["8BD2AEB9CB7E57CB2C4B482FFC81B7AFB9DE27E1E3BD23C23A4453BD9ACE3262","547EF835C3DAC4FD97F8461A14611DC9C27745132DED8E545C1D54C72F046997"]}),a("brainpoolP384r1",{type:"short",prime:null,p:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B4 12B1DA19 7FB71123ACD3A729 901D1A71 87470013 3107EC53",a:"7BC382C6 3D8C150C 3C72080A CE05AFA0 C2BEA28E 4FB22787 139165EF BA91F90F8AA5814A 503AD4EB 04A8C7DD 22CE2826",b:"04A8C7DD 22CE2826 8B39B554 16F0447C 2FB77DE1 07DCD2A6 2E880EA5 3EEB62D57CB43902 95DBC994 3AB78696 FA504C11",n:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B3 1F166E6C AC0425A7CF3AB6AF 6B7FC310 3B883202 E9046565",hash:xr.sha384,gRed:!1,g:["1D1C64F068CF45FFA2A63A81B7C13F6B8847A3E77EF14FE3DB7FCAFE0CBD10E8E826E03436D646AAEF87B2E247D4AF1E","8ABE1D7520F9C2A45CB1EB8E95CFD55262B70B29FEEC5864E19C054FF99129280E4646217791811142820341263C5315"]}),a("brainpoolP512r1",{type:"short",prime:null,p:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 703308717D4D9B00 9BC66842 AECDA12A E6A380E6 2881FF2F 2D82C685 28AA6056 583A48F3",a:"7830A331 8B603B89 E2327145 AC234CC5 94CBDD8D 3DF91610 A83441CA EA9863BC2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A7 2BF2C7B9 E7C1AC4D 77FC94CA",b:"3DF91610 A83441CA EA9863BC 2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A72BF2C7B9 E7C1AC4D 77FC94CA DC083E67 984050B7 5EBAE5DD 2809BD63 8016F723",n:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 70330870553E5C41 4CA92619 41866119 7FAC1047 1DB1D381 085DDADD B5879682 9CA90069",hash:xr.sha512,gRed:!1,g:["81AEE4BDD82ED9645A21322E9C4C6A9385ED9F70B5D916C1B43B62EEF4D0098EFF3B1F78E2D0D48D50D1687B93B97D5F7C6D5047406A5E688B352209BCB9F822","7DDE385D566332ECC0EABFA9CF7822FDF209F70024A57B1AA000C55B881F8111B2DCDE494A5F485E5BCA4BD88A2763AED1CA2B2FA8F0540678CD1E0F3AD80892"]});try{r=a6}catch{r=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:xr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})});function yi(e){if(!(this instanceof yi))return new yi(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=$r.toArray(e.entropy,e.entropyEnc||"hex"),r=$r.toArray(e.nonce,e.nonceEnc||"hex"),n=$r.toArray(e.pers,e.persEnc||"hex");Ti(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var vu=yi;yi.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},yi.prototype._hmac=function(){return new xr.hmac(this.hash,this.K)},yi.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},yi.prototype.reseed=function(e,t,r,n){typeof t!="string"&&(n=r,r=t,t=null),e=$r.toArray(e,t),r=$r.toArray(r,n),Ti(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},yi.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");typeof t!="string"&&(n=r,r=t,t=null),r&&(r=$r.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(r),this._reseed++,$r.encode(s,t)};var mf=ye.assert;function tr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Uc=tr;tr.fromPublic=function(e,t,r){return t instanceof tr?t:new tr(e,{pub:t,pubEnc:r})},tr.fromPrivate=function(e,t,r){return t instanceof tr?t:new tr(e,{priv:t,privEnc:r})},tr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},tr.prototype.getPublic=function(e,t){return this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},tr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},tr.prototype._importPrivate=function(e,t){if(this.priv=new Tt(e,t||16),this.ec.curve.type==="mont"){var r=this.ec.curve.one,n=r.ushln(252).sub(r).ushln(3);this.priv=this.priv.or(r.ushln(254)),this.priv=this.priv.and(n)}else this.priv=this.priv.umod(this.ec.curve.n)},tr.prototype._importPublic=function(e,t){if(e.x||e.y)return this.ec.curve.type==="mont"?mf(e.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||mf(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},tr.prototype.derive=function(e){return e.mul(this.priv).getX()},tr.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},tr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},tr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var o6=ye.assert;function v0(e,t){if(e instanceof v0)return e;this._importDER(e,t)||(o6(e.r&&e.s,"Signature without r or s"),this.r=new Tt(e.r,16),this.s=new Tt(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var xo=v0;function c6(){this.place=0}function Nc(e,t){var r=e[t.place++];if(!(128&r))return r;for(var n=15&r,i=0,s=0,a=t.place;s<n;s++,a++)i<<=8,i|=e[a];return t.place=a,i}function yf(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return t===0?e:e.slice(t)}function Oc(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}v0.prototype._importDER=function(e,t){e=ye.toArray(e,t);var r=new c6;if(e[r.place++]!==48||Nc(e,r)+r.place!==e.length||e[r.place++]!==2)return!1;var n=Nc(e,r),i=e.slice(r.place,n+r.place);if(r.place+=n,e[r.place++]!==2)return!1;var s=Nc(e,r);if(e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);return i[0]===0&&128&i[1]&&(i=i.slice(1)),a[0]===0&&128&a[1]&&(a=a.slice(1)),this.r=new Tt(i),this.s=new Tt(a),this.recoveryParam=null,!0},v0.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=yf(t),r=yf(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Oc(n,t.length),(n=n.concat(t)).push(2),Oc(n,r.length);var i=n.concat(r),s=[48];return Oc(s,i.length),s=s.concat(i),ye.encode(s,e)};var p2=ye.assert;function mr(e){if(!(this instanceof mr))return new mr(e);typeof e=="string"&&(p2(Ea.hasOwnProperty(e),"Unknown curve "+e),e=Ea[e]),e instanceof Ea.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var u6=mr;mr.prototype.keyPair=function(e){return new Uc(this,e)},mr.prototype.keyFromPrivate=function(e,t){return Uc.fromPrivate(this,e,t)},mr.prototype.keyFromPublic=function(e,t){return Uc.fromPublic(this,e,t)},mr.prototype.genKeyPair=function(e){e||(e={});var t=new vu({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||G0(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()});if(this.curve.type==="mont"){var r=new Tt(t.generate(32));return this.keyFromPrivate(r)}for(var n=this.n.byteLength(),i=this.n.sub(new Tt(2));;)if(!((r=new Tt(t.generate(n))).cmp(i)>0))return r.iaddn(1),this.keyFromPrivate(r)},mr.prototype._truncateToN=function(e,t,r){var n=(r=r||8*e.byteLength())-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},mr.prototype.truncateMsg=function(e){var t;return e instanceof Uint8Array?(t=8*e.byteLength,e=this._truncateToN(new Tt(e,16),!1,t)):typeof e=="string"?(t=4*e.length,e=this._truncateToN(new Tt(e,16),!1,t)):e=this._truncateToN(new Tt(e,16)),e},mr.prototype.sign=function(e,t,r,n){typeof r=="object"&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this.truncateMsg(e);for(var i=this.n.byteLength(),s=t.getPrivate().toArray("be",i),a=e.toArray("be",i),o=new vu({hash:this.hash,entropy:s,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new Tt(1)),c=0;;c++){var l=n.k?n.k(c):new Tt(o.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(u)>=0)){var h=this.g.mul(l);if(!h.isInfinity()){var d=h.getX(),p=d.umod(this.n);if(p.cmpn(0)!==0){var g=l.invm(this.n).mul(p.mul(t.getPrivate()).iadd(e));if((g=g.umod(this.n)).cmpn(0)!==0){var v=(h.getY().isOdd()?1:0)|(d.cmp(p)!==0?2:0);return n.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),v^=1),new xo({r:p,s:g,recoveryParam:v})}}}}}},mr.prototype.verify=function(e,t,r,n){return r=this.keyFromPublic(r,n),t=new xo(t,"hex"),this._verify(this.truncateMsg(e),t,r)||this._verify(this._truncateToN(new Tt(e,16)),t,r)},mr.prototype._verify=function(e,t,r){var n=t.r,i=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;var s,a=i.invm(this.n),o=a.mul(e).umod(this.n),u=a.mul(n).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(o,r.getPublic(),u)).isInfinity()&&s.eqXToP(n):!(s=this.g.mulAdd(o,r.getPublic(),u)).isInfinity()&&s.getX().umod(this.n).cmp(n)===0},mr.prototype.recoverPubKey=function(e,t,r,n){p2((3&r)===r,"The recovery param is more than two bits"),t=new xo(t,n);var i=this.n,s=new Tt(e),a=t.r,o=t.s,u=1&r,c=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw Error("Unable to find sencond key candinate");a=c?this.curve.pointFromX(a.add(this.curve.n),u):this.curve.pointFromX(a,u);var l=t.r.invm(i),h=i.sub(s).mul(l).umod(i),d=o.mul(l).umod(i);return this.g.mulAdd(h,a,d)},mr.prototype.getKeyRecoveryParam=function(e,t,r,n){if((t=new xo(t,n)).recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch{continue}if(s.eq(r))return i}throw Error("Unable to find valid recovery factor")};var bf=ye.assert,gf=ye.parseBytes,ms=ye.cachedProperty;function Ke(e,t){if(this.eddsa=e,t.hasOwnProperty("secret")&&(this._secret=gf(t.secret)),e.isPoint(t.pub))this._pub=t.pub;else if(this._pubBytes=gf(t.pub),this._pubBytes&&this._pubBytes.length===33&&this._pubBytes[0]===64&&(this._pubBytes=this._pubBytes.slice(1,33)),this._pubBytes&&this._pubBytes.length!==32)throw Error("Unknown point compression format")}Ke.fromPublic=function(e,t){return t instanceof Ke?t:new Ke(e,{pub:t})},Ke.fromSecret=function(e,t){return t instanceof Ke?t:new Ke(e,{secret:t})},Ke.prototype.secret=function(){return this._secret},ms(Ke,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),ms(Ke,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),ms(Ke,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),ms(Ke,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),ms(Ke,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),ms(Ke,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),Ke.prototype.sign=function(e){return bf(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},Ke.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},Ke.prototype.getSecret=function(e){return bf(this._secret,"KeyPair is public only"),ye.encode(this.secret(),e)},Ke.prototype.getPublic=function(e,t){return ye.encode((t?[64]:[]).concat(this.pubBytes()),e)};var zc=Ke,l6=ye.assert,Ao=ye.cachedProperty,f6=ye.parseBytes;function $i(e,t){this.eddsa=e,typeof t!="object"&&(t=f6(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),l6(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof Tt&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}Ao($i,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),Ao($i,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),Ao($i,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),Ao($i,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),$i.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},$i.prototype.toHex=function(){return ye.encode(this.toBytes(),"hex").toUpperCase()};var vf=$i,h6=ye.assert,wf=ye.parseBytes;function rr(e){if(h6(e==="ed25519","only tested with ed25519 so far"),!(this instanceof rr))return new rr(e);e=Ea[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=xr.sha512}var d6=rr;rr.prototype.sign=function(e,t){e=wf(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),s=this.encodePoint(i),a=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),o=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:o,Rencoded:s})},rr.prototype.verify=function(e,t,r){e=wf(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(s)},rr.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return ye.intFromLE(e.digest()).umod(this.curve.n)},rr.prototype.keyPair=function(e){return new zc(this,e)},rr.prototype.keyFromPublic=function(e){return zc.fromPublic(this,e)},rr.prototype.keyFromSecret=function(e){return zc.fromSecret(this,e)},rr.prototype.genKeyPair=function(e){e||(e={});var t=new vu({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||G0(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.curve.n.toArray()});return this.keyFromSecret(t.generate(32))},rr.prototype.makeSignature=function(e){return e instanceof vf?e:new vf(this,e)},rr.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},rr.prototype.decodePoint=function(e){var t=(e=ye.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=(128&e[t])!=0,i=ye.intFromLE(r);return this.curve.pointFromY(i,n)},rr.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},rr.prototype.decodeInt=function(e){return ye.intFromLE(e)},rr.prototype.isPoint=function(e){return e instanceof this.pointClass};var _f=Tn(function(e,t){var r=t;r.utils=ye,r.rand=G0,r.curve=Bo,r.curves=Ea,r.ec=u6,r.eddsa=d6}),p6=Object.freeze({__proto__:null,default:_f,__moduleExports:_f}),m2={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,c,l){this.fn=u,this.context=c,this.once=l||!1}function s(u,c,l,h,d){if(typeof l!="function")throw new TypeError("The listener must be a function");var p=new i(l,h||u,d),g=r?r+c:c;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],p]:u._events[g].push(p):(u._events[g]=p,u._eventsCount++),u}function a(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],l,h;if(this._eventsCount===0)return c;for(h in l=this._events)t.call(l,h)&&c.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(l)):c},o.prototype.listeners=function(c){var l=r?r+c:c,h=this._events[l];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,p=h.length,g=new Array(p);d<p;d++)g[d]=h[d].fn;return g},o.prototype.listenerCount=function(c){var l=r?r+c:c,h=this._events[l];return h?h.fn?1:h.length:0},o.prototype.emit=function(c,l,h,d,p,g){var v=r?r+c:c;if(!this._events[v])return!1;var _=this._events[v],k=arguments.length,P,A;if(_.fn){switch(_.once&&this.removeListener(c,_.fn,void 0,!0),k){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,l),!0;case 3:return _.fn.call(_.context,l,h),!0;case 4:return _.fn.call(_.context,l,h,d),!0;case 5:return _.fn.call(_.context,l,h,d,p),!0;case 6:return _.fn.call(_.context,l,h,d,p,g),!0}for(A=1,P=new Array(k-1);A<k;A++)P[A-1]=arguments[A];_.fn.apply(_.context,P)}else{var E=_.length,z;for(A=0;A<E;A++)switch(_[A].once&&this.removeListener(c,_[A].fn,void 0,!0),k){case 1:_[A].fn.call(_[A].context);break;case 2:_[A].fn.call(_[A].context,l);break;case 3:_[A].fn.call(_[A].context,l,h);break;case 4:_[A].fn.call(_[A].context,l,h,d);break;default:if(!P)for(z=1,P=new Array(k-1);z<k;z++)P[z-1]=arguments[z];_[A].fn.apply(_[A].context,P)}}return!0},o.prototype.on=function(c,l,h){return s(this,c,l,h,!1)},o.prototype.once=function(c,l,h){return s(this,c,l,h,!0)},o.prototype.removeListener=function(c,l,h,d){var p=r?r+c:c;if(!this._events[p])return this;if(!l)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===l&&(!d||g.once)&&(!h||g.context===h)&&a(this,p);else{for(var v=0,_=[],k=g.length;v<k;v++)(g[v].fn!==l||d&&!g[v].once||h&&g[v].context!==h)&&_.push(g[v]);_.length?this._events[p]=_.length===1?_[0]:_:a(this,p)}return this},o.prototype.removeAllListeners=function(c){var l;return c?(l=r?r+c:c,this._events[l]&&a(this,l)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(m2);var m6=m2.exports,wu={exports:{}},ue={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(se,function(){var r=r||function(n,i){var s;if(typeof window!="undefined"&&window.crypto&&(s=window.crypto),typeof self!="undefined"&&self.crypto&&(s=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window!="undefined"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof se!="undefined"&&se.crypto&&(s=se.crypto),!s&&typeof ap=="function")try{s=require("crypto")}catch{}var a=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function P(){}return function(A){var E;return P.prototype=A,E=new P,P.prototype=null,E}}(),u={},c=u.lib={},l=c.Base=function(){return{extend:function(P){var A=o(this);return P&&A.mixIn(P),(!A.hasOwnProperty("init")||this.init===A.init)&&(A.init=function(){A.$super.init.apply(this,arguments)}),A.init.prototype=A,A.$super=this,A},create:function(){var P=this.extend();return P.init.apply(P,arguments),P},init:function(){},mixIn:function(P){for(var A in P)P.hasOwnProperty(A)&&(this[A]=P[A]);P.hasOwnProperty("toString")&&(this.toString=P.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=c.WordArray=l.extend({init:function(P,A){P=this.words=P||[],A!=i?this.sigBytes=A:this.sigBytes=P.length*4},toString:function(P){return(P||p).stringify(this)},concat:function(P){var A=this.words,E=P.words,z=this.sigBytes,w=P.sigBytes;if(this.clamp(),z%4)for(var M=0;M<w;M++){var f=E[M>>>2]>>>24-M%4*8&255;A[z+M>>>2]|=f<<24-(z+M)%4*8}else for(var b=0;b<w;b+=4)A[z+b>>>2]=E[b>>>2];return this.sigBytes+=w,this},clamp:function(){var P=this.words,A=this.sigBytes;P[A>>>2]&=4294967295<<32-A%4*8,P.length=n.ceil(A/4)},clone:function(){var P=l.clone.call(this);return P.words=this.words.slice(0),P},random:function(P){for(var A=[],E=0;E<P;E+=4)A.push(a());return new h.init(A,P)}}),d=u.enc={},p=d.Hex={stringify:function(P){for(var A=P.words,E=P.sigBytes,z=[],w=0;w<E;w++){var M=A[w>>>2]>>>24-w%4*8&255;z.push((M>>>4).toString(16)),z.push((M&15).toString(16))}return z.join("")},parse:function(P){for(var A=P.length,E=[],z=0;z<A;z+=2)E[z>>>3]|=parseInt(P.substr(z,2),16)<<24-z%8*4;return new h.init(E,A/2)}},g=d.Latin1={stringify:function(P){for(var A=P.words,E=P.sigBytes,z=[],w=0;w<E;w++){var M=A[w>>>2]>>>24-w%4*8&255;z.push(String.fromCharCode(M))}return z.join("")},parse:function(P){for(var A=P.length,E=[],z=0;z<A;z++)E[z>>>2]|=(P.charCodeAt(z)&255)<<24-z%4*8;return new h.init(E,A)}},v=d.Utf8={stringify:function(P){try{return decodeURIComponent(escape(g.stringify(P)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(P){return g.parse(unescape(encodeURIComponent(P)))}},_=c.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(P){typeof P=="string"&&(P=v.parse(P)),this._data.concat(P),this._nDataBytes+=P.sigBytes},_process:function(P){var A,E=this._data,z=E.words,w=E.sigBytes,M=this.blockSize,f=M*4,b=w/f;P?b=n.ceil(b):b=n.max((b|0)-this._minBufferSize,0);var y=b*M,m=n.min(y*4,w);if(y){for(var x=0;x<y;x+=M)this._doProcessBlock(z,x);A=z.splice(0,y),E.sigBytes-=m}return new h.init(A,m)},clone:function(){var P=l.clone.call(this);return P._data=this._data.clone(),P},_minBufferSize:0});c.Hasher=_.extend({cfg:l.extend(),init:function(P){this.cfg=this.cfg.extend(P),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(P){return this._append(P),this._process(),this},finalize:function(P){P&&this._append(P);var A=this._doFinalize();return A},blockSize:16,_createHelper:function(P){return function(A,E){return new P.init(E).finalize(A)}},_createHmacHelper:function(P){return function(A,E){return new k.HMAC.init(P,E).finalize(A)}}});var k=u.algo={};return u}(Math);return r})})(ue);var to={exports:{}};(function(e,t){(function(r,n){e.exports=n(ue.exports)})(se,function(r){return function(n){var i=r,s=i.lib,a=s.Base,o=s.WordArray,u=i.x64={};u.Word=a.extend({init:function(c,l){this.high=c,this.low=l}}),u.WordArray=a.extend({init:function(c,l){c=this.words=c||[],l!=n?this.sigBytes=l:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,l=c.length,h=[],d=0;d<l;d++){var p=c[d];h.push(p.high),h.push(p.low)}return o.create(h,this.sigBytes)},clone:function(){for(var c=a.clone.call(this),l=c.words=this.words.slice(0),h=l.length,d=0;d<h;d++)l[d]=l[d].clone();return c}})}(),r})})(to);var y2={exports:{}};(function(e,t){(function(r,n){e.exports=n(ue.exports)})(se,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,s=i.WordArray,a=s.init,o=s.init=function(u){if(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),(u instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Uint16Array||u instanceof Int32Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),u instanceof Uint8Array){for(var c=u.byteLength,l=[],h=0;h<c;h++)l[h>>>2]|=u[h]<<24-h%4*8;a.call(this,l,c)}else a.apply(this,arguments)};o.prototype=s}}(),r.lib.WordArray})})(y2);var b2={exports:{}};(function(e,t){(function(r,n){e.exports=n(ue.exports)})(se,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,a=n.enc;a.Utf16=a.Utf16BE={stringify:function(u){for(var c=u.words,l=u.sigBytes,h=[],d=0;d<l;d+=2){var p=c[d>>>2]>>>16-d%4*8&65535;h.push(String.fromCharCode(p))}return h.join("")},parse:function(u){for(var c=u.length,l=[],h=0;h<c;h++)l[h>>>1]|=u.charCodeAt(h)<<16-h%2*16;return s.create(l,c*2)}},a.Utf16LE={stringify:function(u){for(var c=u.words,l=u.sigBytes,h=[],d=0;d<l;d+=2){var p=o(c[d>>>2]>>>16-d%4*8&65535);h.push(String.fromCharCode(p))}return h.join("")},parse:function(u){for(var c=u.length,l=[],h=0;h<c;h++)l[h>>>1]|=o(u.charCodeAt(h)<<16-h%2*16);return s.create(l,c*2)}};function o(u){return u<<8&4278255360|u>>>8&16711935}}(),r.enc.Utf16})})(b2);var us={exports:{}};(function(e,t){(function(r,n){e.exports=n(ue.exports)})(se,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,a=n.enc;a.Base64={stringify:function(u){var c=u.words,l=u.sigBytes,h=this._map;u.clamp();for(var d=[],p=0;p<l;p+=3)for(var g=c[p>>>2]>>>24-p%4*8&255,v=c[p+1>>>2]>>>24-(p+1)%4*8&255,_=c[p+2>>>2]>>>24-(p+2)%4*8&255,k=g<<16|v<<8|_,P=0;P<4&&p+P*.75<l;P++)d.push(h.charAt(k>>>6*(3-P)&63));var A=h.charAt(64);if(A)for(;d.length%4;)d.push(A);return d.join("")},parse:function(u){var c=u.length,l=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var d=0;d<l.length;d++)h[l.charCodeAt(d)]=d}var p=l.charAt(64);if(p){var g=u.indexOf(p);g!==-1&&(c=g)}return o(u,c,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(u,c,l){for(var h=[],d=0,p=0;p<c;p++)if(p%4){var g=l[u.charCodeAt(p-1)]<<p%4*2,v=l[u.charCodeAt(p)]>>>6-p%4*2,_=g|v;h[d>>>2]|=_<<24-d%4*8,d++}return s.create(h,d)}}(),r.enc.Base64})})(us);var g2={exports:{}};(function(e,t){(function(r,n){e.exports=n(ue.exports)})(se,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,a=n.enc;a.Base64url={stringify:function(u,c=!0){var l=u.words,h=u.sigBytes,d=c?this._safe_map:this._map;u.clamp();for(var p=[],g=0;g<h;g+=3)for(var v=l[g>>>2]>>>24-g%4*8&255,_=l[g+1>>>2]>>>24-(g+1)%4*8&255,k=l[g+2>>>2]>>>24-(g+2)%4*8&255,P=v<<16|_<<8|k,A=0;A<4&&g+A*.75<h;A++)p.push(d.charAt(P>>>6*(3-A)&63));var E=d.charAt(64);if(E)for(;p.length%4;)p.push(E);return p.join("")},parse:function(u,c=!0){var l=u.length,h=c?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var p=0;p<h.length;p++)d[h.charCodeAt(p)]=p}var g=h.charAt(64);if(g){var v=u.indexOf(g);v!==-1&&(l=v)}return o(u,l,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(u,c,l){for(var h=[],d=0,p=0;p<c;p++)if(p%4){var g=l[u.charCodeAt(p-1)]<<p%4*2,v=l[u.charCodeAt(p)]>>>6-p%4*2,_=g|v;h[d>>>2]|=_<<24-d%4*8,d++}return s.create(h,d)}}(),r.enc.Base64url})})(g2);var ls={exports:{}};(function(e,t){(function(r,n){e.exports=n(ue.exports)})(se,function(r){return function(n){var i=r,s=i.lib,a=s.WordArray,o=s.Hasher,u=i.algo,c=[];(function(){for(var v=0;v<64;v++)c[v]=n.abs(n.sin(v+1))*4294967296|0})();var l=u.MD5=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,_){for(var k=0;k<16;k++){var P=_+k,A=v[P];v[P]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}var E=this._hash.words,z=v[_+0],w=v[_+1],M=v[_+2],f=v[_+3],b=v[_+4],y=v[_+5],m=v[_+6],x=v[_+7],I=v[_+8],O=v[_+9],q=v[_+10],Z=v[_+11],S=v[_+12],U=v[_+13],V=v[_+14],Q=v[_+15],G=E[0],it=E[1],st=E[2],rt=E[3];G=h(G,it,st,rt,z,7,c[0]),rt=h(rt,G,it,st,w,12,c[1]),st=h(st,rt,G,it,M,17,c[2]),it=h(it,st,rt,G,f,22,c[3]),G=h(G,it,st,rt,b,7,c[4]),rt=h(rt,G,it,st,y,12,c[5]),st=h(st,rt,G,it,m,17,c[6]),it=h(it,st,rt,G,x,22,c[7]),G=h(G,it,st,rt,I,7,c[8]),rt=h(rt,G,it,st,O,12,c[9]),st=h(st,rt,G,it,q,17,c[10]),it=h(it,st,rt,G,Z,22,c[11]),G=h(G,it,st,rt,S,7,c[12]),rt=h(rt,G,it,st,U,12,c[13]),st=h(st,rt,G,it,V,17,c[14]),it=h(it,st,rt,G,Q,22,c[15]),G=d(G,it,st,rt,w,5,c[16]),rt=d(rt,G,it,st,m,9,c[17]),st=d(st,rt,G,it,Z,14,c[18]),it=d(it,st,rt,G,z,20,c[19]),G=d(G,it,st,rt,y,5,c[20]),rt=d(rt,G,it,st,q,9,c[21]),st=d(st,rt,G,it,Q,14,c[22]),it=d(it,st,rt,G,b,20,c[23]),G=d(G,it,st,rt,O,5,c[24]),rt=d(rt,G,it,st,V,9,c[25]),st=d(st,rt,G,it,f,14,c[26]),it=d(it,st,rt,G,I,20,c[27]),G=d(G,it,st,rt,U,5,c[28]),rt=d(rt,G,it,st,M,9,c[29]),st=d(st,rt,G,it,x,14,c[30]),it=d(it,st,rt,G,S,20,c[31]),G=p(G,it,st,rt,y,4,c[32]),rt=p(rt,G,it,st,I,11,c[33]),st=p(st,rt,G,it,Z,16,c[34]),it=p(it,st,rt,G,V,23,c[35]),G=p(G,it,st,rt,w,4,c[36]),rt=p(rt,G,it,st,b,11,c[37]),st=p(st,rt,G,it,x,16,c[38]),it=p(it,st,rt,G,q,23,c[39]),G=p(G,it,st,rt,U,4,c[40]),rt=p(rt,G,it,st,z,11,c[41]),st=p(st,rt,G,it,f,16,c[42]),it=p(it,st,rt,G,m,23,c[43]),G=p(G,it,st,rt,O,4,c[44]),rt=p(rt,G,it,st,S,11,c[45]),st=p(st,rt,G,it,Q,16,c[46]),it=p(it,st,rt,G,M,23,c[47]),G=g(G,it,st,rt,z,6,c[48]),rt=g(rt,G,it,st,x,10,c[49]),st=g(st,rt,G,it,V,15,c[50]),it=g(it,st,rt,G,y,21,c[51]),G=g(G,it,st,rt,S,6,c[52]),rt=g(rt,G,it,st,f,10,c[53]),st=g(st,rt,G,it,q,15,c[54]),it=g(it,st,rt,G,w,21,c[55]),G=g(G,it,st,rt,I,6,c[56]),rt=g(rt,G,it,st,Q,10,c[57]),st=g(st,rt,G,it,m,15,c[58]),it=g(it,st,rt,G,U,21,c[59]),G=g(G,it,st,rt,b,6,c[60]),rt=g(rt,G,it,st,Z,10,c[61]),st=g(st,rt,G,it,M,15,c[62]),it=g(it,st,rt,G,O,21,c[63]),E[0]=E[0]+G|0,E[1]=E[1]+it|0,E[2]=E[2]+st|0,E[3]=E[3]+rt|0},_doFinalize:function(){var v=this._data,_=v.words,k=this._nDataBytes*8,P=v.sigBytes*8;_[P>>>5]|=128<<24-P%32;var A=n.floor(k/4294967296),E=k;_[(P+64>>>9<<4)+15]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,_[(P+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,v.sigBytes=(_.length+1)*4,this._process();for(var z=this._hash,w=z.words,M=0;M<4;M++){var f=w[M];w[M]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360}return z},clone:function(){var v=o.clone.call(this);return v._hash=this._hash.clone(),v}});function h(v,_,k,P,A,E,z){var w=v+(_&k|~_&P)+A+z;return(w<<E|w>>>32-E)+_}function d(v,_,k,P,A,E,z){var w=v+(_&P|k&~P)+A+z;return(w<<E|w>>>32-E)+_}function p(v,_,k,P,A,E,z){var w=v+(_^k^P)+A+z;return(w<<E|w>>>32-E)+_}function g(v,_,k,P,A,E,z){var w=v+(k^(_|~P))+A+z;return(w<<E|w>>>32-E)+_}i.MD5=o._createHelper(l),i.HmacMD5=o._createHmacHelper(l)}(Math),r.MD5})})(ls);var V0={exports:{}};(function(e,t){(function(r,n){e.exports=n(ue.exports)})(se,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,a=i.Hasher,o=n.algo,u=[],c=o.SHA1=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,h){for(var d=this._hash.words,p=d[0],g=d[1],v=d[2],_=d[3],k=d[4],P=0;P<80;P++){if(P<16)u[P]=l[h+P]|0;else{var A=u[P-3]^u[P-8]^u[P-14]^u[P-16];u[P]=A<<1|A>>>31}var E=(p<<5|p>>>27)+k+u[P];P<20?E+=(g&v|~g&_)+1518500249:P<40?E+=(g^v^_)+1859775393:P<60?E+=(g&v|g&_|v&_)-1894007588:E+=(g^v^_)-899497514,k=_,_=v,v=g<<30|g>>>2,g=p,p=E}d[0]=d[0]+p|0,d[1]=d[1]+g|0,d[2]=d[2]+v|0,d[3]=d[3]+_|0,d[4]=d[4]+k|0},_doFinalize:function(){var l=this._data,h=l.words,d=this._nDataBytes*8,p=l.sigBytes*8;return h[p>>>5]|=128<<24-p%32,h[(p+64>>>9<<4)+14]=Math.floor(d/4294967296),h[(p+64>>>9<<4)+15]=d,l.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var l=a.clone.call(this);return l._hash=this._hash.clone(),l}});n.SHA1=a._createHelper(c),n.HmacSHA1=a._createHmacHelper(c)}(),r.SHA1})})(V0);var l1={exports:{}};(function(e,t){(function(r,n){e.exports=n(ue.exports)})(se,function(r){return function(n){var i=r,s=i.lib,a=s.WordArray,o=s.Hasher,u=i.algo,c=[],l=[];(function(){function p(k){for(var P=n.sqrt(k),A=2;A<=P;A++)if(!(k%A))return!1;return!0}function g(k){return(k-(k|0))*4294967296|0}for(var v=2,_=0;_<64;)p(v)&&(_<8&&(c[_]=g(n.pow(v,1/2))),l[_]=g(n.pow(v,1/3)),_++),v++})();var h=[],d=u.SHA256=o.extend({_doReset:function(){this._hash=new a.init(c.slice(0))},_doProcessBlock:function(p,g){for(var v=this._hash.words,_=v[0],k=v[1],P=v[2],A=v[3],E=v[4],z=v[5],w=v[6],M=v[7],f=0;f<64;f++){if(f<16)h[f]=p[g+f]|0;else{var b=h[f-15],y=(b<<25|b>>>7)^(b<<14|b>>>18)^b>>>3,m=h[f-2],x=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;h[f]=y+h[f-7]+x+h[f-16]}var I=E&z^~E&w,O=_&k^_&P^k&P,q=(_<<30|_>>>2)^(_<<19|_>>>13)^(_<<10|_>>>22),Z=(E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25),S=M+Z+I+l[f]+h[f],U=q+O;M=w,w=z,z=E,E=A+S|0,A=P,P=k,k=_,_=S+U|0}v[0]=v[0]+_|0,v[1]=v[1]+k|0,v[2]=v[2]+P|0,v[3]=v[3]+A|0,v[4]=v[4]+E|0,v[5]=v[5]+z|0,v[6]=v[6]+w|0,v[7]=v[7]+M|0},_doFinalize:function(){var p=this._data,g=p.words,v=this._nDataBytes*8,_=p.sigBytes*8;return g[_>>>5]|=128<<24-_%32,g[(_+64>>>9<<4)+14]=n.floor(v/4294967296),g[(_+64>>>9<<4)+15]=v,p.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var p=o.clone.call(this);return p._hash=this._hash.clone(),p}});i.SHA256=o._createHelper(d),i.HmacSHA256=o._createHmacHelper(d)}(Math),r.SHA256})})(l1);var v2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,l1.exports)})(se,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,a=n.algo,o=a.SHA256,u=a.SHA224=o.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=o._doFinalize.call(this);return c.sigBytes-=4,c}});n.SHA224=o._createHelper(u),n.HmacSHA224=o._createHmacHelper(u)}(),r.SHA224})})(v2);var f1={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,to.exports)})(se,function(r){return function(){var n=r,i=n.lib,s=i.Hasher,a=n.x64,o=a.Word,u=a.WordArray,c=n.algo;function l(){return o.create.apply(o,arguments)}var h=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],d=[];(function(){for(var g=0;g<80;g++)d[g]=l()})();var p=c.SHA512=s.extend({_doReset:function(){this._hash=new u.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(g,v){for(var _=this._hash.words,k=_[0],P=_[1],A=_[2],E=_[3],z=_[4],w=_[5],M=_[6],f=_[7],b=k.high,y=k.low,m=P.high,x=P.low,I=A.high,O=A.low,q=E.high,Z=E.low,S=z.high,U=z.low,V=w.high,Q=w.low,G=M.high,it=M.low,st=f.high,rt=f.low,F=b,H=y,K=m,C=x,Y=I,T=O,N=q,L=Z,B=S,R=U,D=V,j=Q,et=G,tt=it,ot=st,pt=rt,yt=0;yt<80;yt++){var vt,nt,at=d[yt];if(yt<16)nt=at.high=g[v+yt*2]|0,vt=at.low=g[v+yt*2+1]|0;else{var lt=d[yt-15],ct=lt.high,ut=lt.low,ft=(ct>>>1|ut<<31)^(ct>>>8|ut<<24)^ct>>>7,W=(ut>>>1|ct<<31)^(ut>>>8|ct<<24)^(ut>>>7|ct<<25),$=d[yt-2],wt=$.high,gt=$.low,Nt=(wt>>>19|gt<<13)^(wt<<3|gt>>>29)^wt>>>6,ne=(gt>>>19|wt<<13)^(gt<<3|wt>>>29)^(gt>>>6|wt<<26),Ft=d[yt-7],zt=Ft.high,me=Ft.low,Gt=d[yt-16],Qt=Gt.high,Se=Gt.low;vt=W+me,nt=ft+zt+(vt>>>0<W>>>0?1:0),vt=vt+ne,nt=nt+Nt+(vt>>>0<ne>>>0?1:0),vt=vt+Se,nt=nt+Qt+(vt>>>0<Se>>>0?1:0),at.high=nt,at.low=vt}var Ot=B&D^~B&et,Kt=R&j^~R&tt,ae=F&K^F&Y^K&Y,Ut=H&C^H&T^C&T,$t=(F>>>28|H<<4)^(F<<30|H>>>2)^(F<<25|H>>>7),le=(H>>>28|F<<4)^(H<<30|F>>>2)^(H<<25|F>>>7),qt=(B>>>14|R<<18)^(B>>>18|R<<14)^(B<<23|R>>>9),mt=(R>>>14|B<<18)^(R>>>18|B<<14)^(R<<23|B>>>9),bt=h[yt],_t=bt.high,Pt=bt.low,Dt=pt+mt,Rt=ot+qt+(Dt>>>0<pt>>>0?1:0),Dt=Dt+Kt,Rt=Rt+Ot+(Dt>>>0<Kt>>>0?1:0),Dt=Dt+Pt,Rt=Rt+_t+(Dt>>>0<Pt>>>0?1:0),Dt=Dt+vt,Rt=Rt+nt+(Dt>>>0<vt>>>0?1:0),It=le+Ut,oe=$t+ae+(It>>>0<le>>>0?1:0);ot=et,pt=tt,et=D,tt=j,D=B,j=R,R=L+Dt|0,B=N+Rt+(R>>>0<L>>>0?1:0)|0,N=Y,L=T,Y=K,T=C,K=F,C=H,H=Dt+It|0,F=Rt+oe+(H>>>0<Dt>>>0?1:0)|0}y=k.low=y+H,k.high=b+F+(y>>>0<H>>>0?1:0),x=P.low=x+C,P.high=m+K+(x>>>0<C>>>0?1:0),O=A.low=O+T,A.high=I+Y+(O>>>0<T>>>0?1:0),Z=E.low=Z+L,E.high=q+N+(Z>>>0<L>>>0?1:0),U=z.low=U+R,z.high=S+B+(U>>>0<R>>>0?1:0),Q=w.low=Q+j,w.high=V+D+(Q>>>0<j>>>0?1:0),it=M.low=it+tt,M.high=G+et+(it>>>0<tt>>>0?1:0),rt=f.low=rt+pt,f.high=st+ot+(rt>>>0<pt>>>0?1:0)},_doFinalize:function(){var g=this._data,v=g.words,_=this._nDataBytes*8,k=g.sigBytes*8;v[k>>>5]|=128<<24-k%32,v[(k+128>>>10<<5)+30]=Math.floor(_/4294967296),v[(k+128>>>10<<5)+31]=_,g.sigBytes=v.length*4,this._process();var P=this._hash.toX32();return P},clone:function(){var g=s.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});n.SHA512=s._createHelper(p),n.HmacSHA512=s._createHmacHelper(p)}(),r.SHA512})})(f1);var w2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,to.exports,f1.exports)})(se,function(r){return function(){var n=r,i=n.x64,s=i.Word,a=i.WordArray,o=n.algo,u=o.SHA512,c=o.SHA384=u.extend({_doReset:function(){this._hash=new a.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var l=u._doFinalize.call(this);return l.sigBytes-=16,l}});n.SHA384=u._createHelper(c),n.HmacSHA384=u._createHmacHelper(c)}(),r.SHA384})})(w2);var _2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,to.exports)})(se,function(r){return function(n){var i=r,s=i.lib,a=s.WordArray,o=s.Hasher,u=i.x64,c=u.Word,l=i.algo,h=[],d=[],p=[];(function(){for(var _=1,k=0,P=0;P<24;P++){h[_+5*k]=(P+1)*(P+2)/2%64;var A=k%5,E=(2*_+3*k)%5;_=A,k=E}for(var _=0;_<5;_++)for(var k=0;k<5;k++)d[_+5*k]=k+(2*_+3*k)%5*5;for(var z=1,w=0;w<24;w++){for(var M=0,f=0,b=0;b<7;b++){if(z&1){var y=(1<<b)-1;y<32?f^=1<<y:M^=1<<y-32}z&128?z=z<<1^113:z<<=1}p[w]=c.create(M,f)}})();var g=[];(function(){for(var _=0;_<25;_++)g[_]=c.create()})();var v=l.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var _=this._state=[],k=0;k<25;k++)_[k]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(_,k){for(var P=this._state,A=this.blockSize/2,E=0;E<A;E++){var z=_[k+2*E],w=_[k+2*E+1];z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360;var M=P[E];M.high^=w,M.low^=z}for(var f=0;f<24;f++){for(var b=0;b<5;b++){for(var y=0,m=0,x=0;x<5;x++){var M=P[b+5*x];y^=M.high,m^=M.low}var I=g[b];I.high=y,I.low=m}for(var b=0;b<5;b++)for(var O=g[(b+4)%5],q=g[(b+1)%5],Z=q.high,S=q.low,y=O.high^(Z<<1|S>>>31),m=O.low^(S<<1|Z>>>31),x=0;x<5;x++){var M=P[b+5*x];M.high^=y,M.low^=m}for(var U=1;U<25;U++){var y,m,M=P[U],V=M.high,Q=M.low,G=h[U];G<32?(y=V<<G|Q>>>32-G,m=Q<<G|V>>>32-G):(y=Q<<G-32|V>>>64-G,m=V<<G-32|Q>>>64-G);var it=g[d[U]];it.high=y,it.low=m}var st=g[0],rt=P[0];st.high=rt.high,st.low=rt.low;for(var b=0;b<5;b++)for(var x=0;x<5;x++){var U=b+5*x,M=P[U],F=g[U],H=g[(b+1)%5+5*x],K=g[(b+2)%5+5*x];M.high=F.high^~H.high&K.high,M.low=F.low^~H.low&K.low}var M=P[0],C=p[f];M.high^=C.high,M.low^=C.low}},_doFinalize:function(){var _=this._data,k=_.words;this._nDataBytes*8;var P=_.sigBytes*8,A=this.blockSize*32;k[P>>>5]|=1<<24-P%32,k[(n.ceil((P+1)/A)*A>>>5)-1]|=128,_.sigBytes=k.length*4,this._process();for(var E=this._state,z=this.cfg.outputLength/8,w=z/8,M=[],f=0;f<w;f++){var b=E[f],y=b.high,m=b.low;y=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,m=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,M.push(m),M.push(y)}return new a.init(M,z)},clone:function(){for(var _=o.clone.call(this),k=_._state=this._state.slice(0),P=0;P<25;P++)k[P]=k[P].clone();return _}});i.SHA3=o._createHelper(v),i.HmacSHA3=o._createHmacHelper(v)}(Math),r.SHA3})})(_2);var x2={exports:{}};(function(e,t){(function(r,n){e.exports=n(ue.exports)})(se,function(r){/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/return function(n){var i=r,s=i.lib,a=s.WordArray,o=s.Hasher,u=i.algo,c=a.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=a.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=a.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=a.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=a.create([0,1518500249,1859775393,2400959708,2840853838]),g=a.create([1352829926,1548603684,1836072691,2053994217,0]),v=u.RIPEMD160=o.extend({_doReset:function(){this._hash=a.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,M){for(var f=0;f<16;f++){var b=M+f,y=w[b];w[b]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var m=this._hash.words,x=p.words,I=g.words,O=c.words,q=l.words,Z=h.words,S=d.words,U,V,Q,G,it,st,rt,F,H,K;st=U=m[0],rt=V=m[1],F=Q=m[2],H=G=m[3],K=it=m[4];for(var C,f=0;f<80;f+=1)C=U+w[M+O[f]]|0,f<16?C+=_(V,Q,G)+x[0]:f<32?C+=k(V,Q,G)+x[1]:f<48?C+=P(V,Q,G)+x[2]:f<64?C+=A(V,Q,G)+x[3]:C+=E(V,Q,G)+x[4],C=C|0,C=z(C,Z[f]),C=C+it|0,U=it,it=G,G=z(Q,10),Q=V,V=C,C=st+w[M+q[f]]|0,f<16?C+=E(rt,F,H)+I[0]:f<32?C+=A(rt,F,H)+I[1]:f<48?C+=P(rt,F,H)+I[2]:f<64?C+=k(rt,F,H)+I[3]:C+=_(rt,F,H)+I[4],C=C|0,C=z(C,S[f]),C=C+K|0,st=K,K=H,H=z(F,10),F=rt,rt=C;C=m[1]+Q+H|0,m[1]=m[2]+G+K|0,m[2]=m[3]+it+st|0,m[3]=m[4]+U+rt|0,m[4]=m[0]+V+F|0,m[0]=C},_doFinalize:function(){var w=this._data,M=w.words,f=this._nDataBytes*8,b=w.sigBytes*8;M[b>>>5]|=128<<24-b%32,M[(b+64>>>9<<4)+14]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,w.sigBytes=(M.length+1)*4,this._process();for(var y=this._hash,m=y.words,x=0;x<5;x++){var I=m[x];m[x]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}return y},clone:function(){var w=o.clone.call(this);return w._hash=this._hash.clone(),w}});function _(w,M,f){return w^M^f}function k(w,M,f){return w&M|~w&f}function P(w,M,f){return(w|~M)^f}function A(w,M,f){return w&f|M&~f}function E(w,M,f){return w^(M|~f)}function z(w,M){return w<<M|w>>>32-M}i.RIPEMD160=o._createHelper(v),i.HmacRIPEMD160=o._createHmacHelper(v)}(),r.RIPEMD160})})(x2);var Y0={exports:{}};(function(e,t){(function(r,n){e.exports=n(ue.exports)})(se,function(r){(function(){var n=r,i=n.lib,s=i.Base,a=n.enc,o=a.Utf8,u=n.algo;u.HMAC=s.extend({init:function(c,l){c=this._hasher=new c.init,typeof l=="string"&&(l=o.parse(l));var h=c.blockSize,d=h*4;l.sigBytes>d&&(l=c.finalize(l)),l.clamp();for(var p=this._oKey=l.clone(),g=this._iKey=l.clone(),v=p.words,_=g.words,k=0;k<h;k++)v[k]^=1549556828,_[k]^=909522486;p.sigBytes=g.sigBytes=d,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var l=this._hasher,h=l.finalize(c);l.reset();var d=l.finalize(this._oKey.clone().concat(h));return d}})})()})})(Y0);var A2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,V0.exports,Y0.exports)})(se,function(r){return function(){var n=r,i=n.lib,s=i.Base,a=i.WordArray,o=n.algo,u=o.SHA1,c=o.HMAC,l=o.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:u,iterations:1}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,d){for(var p=this.cfg,g=c.create(p.hasher,h),v=a.create(),_=a.create([1]),k=v.words,P=_.words,A=p.keySize,E=p.iterations;k.length<A;){var z=g.update(d).finalize(_);g.reset();for(var w=z.words,M=w.length,f=z,b=1;b<E;b++){f=g.finalize(f),g.reset();for(var y=f.words,m=0;m<M;m++)w[m]^=y[m]}v.concat(z),P[0]++}return v.sigBytes=A*4,v}});n.PBKDF2=function(h,d,p){return l.create(p).compute(h,d)}}(),r.PBKDF2})})(A2);var Bi={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,V0.exports,Y0.exports)})(se,function(r){return function(){var n=r,i=n.lib,s=i.Base,a=i.WordArray,o=n.algo,u=o.MD5,c=o.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:u,iterations:1}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,h){for(var d,p=this.cfg,g=p.hasher.create(),v=a.create(),_=v.words,k=p.keySize,P=p.iterations;_.length<k;){d&&g.update(d),d=g.update(l).finalize(h),g.reset();for(var A=1;A<P;A++)d=g.finalize(d),g.reset();v.concat(d)}return v.sigBytes=k*4,v}});n.EvpKDF=function(l,h,d){return c.create(d).compute(l,h)}}(),r.EvpKDF})})(Bi);var $e={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,Bi.exports)})(se,function(r){r.lib.Cipher||function(n){var i=r,s=i.lib,a=s.Base,o=s.WordArray,u=s.BufferedBlockAlgorithm,c=i.enc;c.Utf8;var l=c.Base64,h=i.algo,d=h.EvpKDF,p=s.Cipher=u.extend({cfg:a.extend(),createEncryptor:function(y,m){return this.create(this._ENC_XFORM_MODE,y,m)},createDecryptor:function(y,m){return this.create(this._DEC_XFORM_MODE,y,m)},init:function(y,m,x){this.cfg=this.cfg.extend(x),this._xformMode=y,this._key=m,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(y){return this._append(y),this._process()},finalize:function(y){y&&this._append(y);var m=this._doFinalize();return m},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function y(m){return typeof m=="string"?b:w}return function(m){return{encrypt:function(x,I,O){return y(I).encrypt(m,x,I,O)},decrypt:function(x,I,O){return y(I).decrypt(m,x,I,O)}}}}()});s.StreamCipher=p.extend({_doFinalize:function(){var y=this._process(!0);return y},blockSize:1});var g=i.mode={},v=s.BlockCipherMode=a.extend({createEncryptor:function(y,m){return this.Encryptor.create(y,m)},createDecryptor:function(y,m){return this.Decryptor.create(y,m)},init:function(y,m){this._cipher=y,this._iv=m}}),_=g.CBC=function(){var y=v.extend();y.Encryptor=y.extend({processBlock:function(x,I){var O=this._cipher,q=O.blockSize;m.call(this,x,I,q),O.encryptBlock(x,I),this._prevBlock=x.slice(I,I+q)}}),y.Decryptor=y.extend({processBlock:function(x,I){var O=this._cipher,q=O.blockSize,Z=x.slice(I,I+q);O.decryptBlock(x,I),m.call(this,x,I,q),this._prevBlock=Z}});function m(x,I,O){var q,Z=this._iv;Z?(q=Z,this._iv=n):q=this._prevBlock;for(var S=0;S<O;S++)x[I+S]^=q[S]}return y}(),k=i.pad={},P=k.Pkcs7={pad:function(y,m){for(var x=m*4,I=x-y.sigBytes%x,O=I<<24|I<<16|I<<8|I,q=[],Z=0;Z<I;Z+=4)q.push(O);var S=o.create(q,I);y.concat(S)},unpad:function(y){var m=y.words[y.sigBytes-1>>>2]&255;y.sigBytes-=m}};s.BlockCipher=p.extend({cfg:p.cfg.extend({mode:_,padding:P}),reset:function(){var y;p.reset.call(this);var m=this.cfg,x=m.iv,I=m.mode;this._xformMode==this._ENC_XFORM_MODE?y=I.createEncryptor:(y=I.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==y?this._mode.init(this,x&&x.words):(this._mode=y.call(I,this,x&&x.words),this._mode.__creator=y)},_doProcessBlock:function(y,m){this._mode.processBlock(y,m)},_doFinalize:function(){var y,m=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(m.pad(this._data,this.blockSize),y=this._process(!0)):(y=this._process(!0),m.unpad(y)),y},blockSize:128/32});var A=s.CipherParams=a.extend({init:function(y){this.mixIn(y)},toString:function(y){return(y||this.formatter).stringify(this)}}),E=i.format={},z=E.OpenSSL={stringify:function(y){var m,x=y.ciphertext,I=y.salt;return I?m=o.create([1398893684,1701076831]).concat(I).concat(x):m=x,m.toString(l)},parse:function(y){var m,x=l.parse(y),I=x.words;return I[0]==1398893684&&I[1]==1701076831&&(m=o.create(I.slice(2,4)),I.splice(0,4),x.sigBytes-=16),A.create({ciphertext:x,salt:m})}},w=s.SerializableCipher=a.extend({cfg:a.extend({format:z}),encrypt:function(y,m,x,I){I=this.cfg.extend(I);var O=y.createEncryptor(x,I),q=O.finalize(m),Z=O.cfg;return A.create({ciphertext:q,key:x,iv:Z.iv,algorithm:y,mode:Z.mode,padding:Z.padding,blockSize:y.blockSize,formatter:I.format})},decrypt:function(y,m,x,I){I=this.cfg.extend(I),m=this._parse(m,I.format);var O=y.createDecryptor(x,I).finalize(m.ciphertext);return O},_parse:function(y,m){return typeof y=="string"?m.parse(y,this):y}}),M=i.kdf={},f=M.OpenSSL={execute:function(y,m,x,I){I||(I=o.random(64/8));var O=d.create({keySize:m+x}).compute(y,I),q=o.create(O.words.slice(m),x*4);return O.sigBytes=m*4,A.create({key:O,iv:q,salt:I})}},b=s.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:f}),encrypt:function(y,m,x,I){I=this.cfg.extend(I);var O=I.kdf.execute(x,y.keySize,y.ivSize);I.iv=O.iv;var q=w.encrypt.call(this,y,m,O.key,I);return q.mixIn(O),q},decrypt:function(y,m,x,I){I=this.cfg.extend(I),m=this._parse(m,I.format);var O=I.kdf.execute(x,y.keySize,y.ivSize,m.salt);I.iv=O.iv;var q=w.decrypt.call(this,y,m,O.key,I);return q}})}()})})($e);var S2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,$e.exports)})(se,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(s,a){var o=this._cipher,u=o.blockSize;i.call(this,s,a,u,o),this._prevBlock=s.slice(a,a+u)}}),n.Decryptor=n.extend({processBlock:function(s,a){var o=this._cipher,u=o.blockSize,c=s.slice(a,a+u);i.call(this,s,a,u,o),this._prevBlock=c}});function i(s,a,o,u){var c,l=this._iv;l?(c=l.slice(0),this._iv=void 0):c=this._prevBlock,u.encryptBlock(c,0);for(var h=0;h<o;h++)s[a+h]^=c[h]}return n}(),r.mode.CFB})})(S2);var k2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,$e.exports)})(se,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,a){var o=this._cipher,u=o.blockSize,c=this._iv,l=this._counter;c&&(l=this._counter=c.slice(0),this._iv=void 0);var h=l.slice(0);o.encryptBlock(h,0),l[u-1]=l[u-1]+1|0;for(var d=0;d<u;d++)s[a+d]^=h[d]}});return n.Decryptor=i,n}(),r.mode.CTR})})(k2);var E2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,$e.exports)})(se,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(o){if((o>>24&255)===255){var u=o>>16&255,c=o>>8&255,l=o&255;u===255?(u=0,c===255?(c=0,l===255?l=0:++l):++c):++u,o=0,o+=u<<16,o+=c<<8,o+=l}else o+=1<<24;return o}function s(o){return(o[0]=i(o[0]))===0&&(o[1]=i(o[1])),o}var a=n.Encryptor=n.extend({processBlock:function(o,u){var c=this._cipher,l=c.blockSize,h=this._iv,d=this._counter;h&&(d=this._counter=h.slice(0),this._iv=void 0),s(d);var p=d.slice(0);c.encryptBlock(p,0);for(var g=0;g<l;g++)o[u+g]^=p[g]}});return n.Decryptor=a,n}(),r.mode.CTRGladman})})(E2);var P2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,$e.exports)})(se,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,a){var o=this._cipher,u=o.blockSize,c=this._iv,l=this._keystream;c&&(l=this._keystream=c.slice(0),this._iv=void 0),o.encryptBlock(l,0);for(var h=0;h<u;h++)s[a+h]^=l[h]}});return n.Decryptor=i,n}(),r.mode.OFB})})(P2);var C2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,$e.exports)})(se,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),n.Decryptor=n.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),n}(),r.mode.ECB})})(C2);var M2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,$e.exports)})(se,function(r){return r.pad.AnsiX923={pad:function(n,i){var s=n.sigBytes,a=i*4,o=a-s%a,u=s+o-1;n.clamp(),n.words[u>>>2]|=o<<24-u%4*8,n.sigBytes+=o},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})})(M2);var R2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,$e.exports)})(se,function(r){return r.pad.Iso10126={pad:function(n,i){var s=i*4,a=s-n.sigBytes%s;n.concat(r.lib.WordArray.random(a-1)).concat(r.lib.WordArray.create([a<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})})(R2);var T2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,$e.exports)})(se,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})})(T2);var I2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,$e.exports)})(se,function(r){return r.pad.ZeroPadding={pad:function(n,i){var s=i*4;n.clamp(),n.sigBytes+=s-(n.sigBytes%s||s)},unpad:function(n){for(var i=n.words,s=n.sigBytes-1,s=n.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){n.sigBytes=s+1;break}}},r.pad.ZeroPadding})})(I2);var B2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,$e.exports)})(se,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})})(B2);var D2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,$e.exports)})(se,function(r){return function(n){var i=r,s=i.lib,a=s.CipherParams,o=i.enc,u=o.Hex,c=i.format;c.Hex={stringify:function(l){return l.ciphertext.toString(u)},parse:function(l){var h=u.parse(l);return a.create({ciphertext:h})}}}(),r.format.Hex})})(D2);var U2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,us.exports,ls.exports,Bi.exports,$e.exports)})(se,function(r){return function(){var n=r,i=n.lib,s=i.BlockCipher,a=n.algo,o=[],u=[],c=[],l=[],h=[],d=[],p=[],g=[],v=[],_=[];(function(){for(var A=[],E=0;E<256;E++)E<128?A[E]=E<<1:A[E]=E<<1^283;for(var z=0,w=0,E=0;E<256;E++){var M=w^w<<1^w<<2^w<<3^w<<4;M=M>>>8^M&255^99,o[z]=M,u[M]=z;var f=A[z],b=A[f],y=A[b],m=A[M]*257^M*16843008;c[z]=m<<24|m>>>8,l[z]=m<<16|m>>>16,h[z]=m<<8|m>>>24,d[z]=m;var m=y*16843009^b*65537^f*257^z*16843008;p[M]=m<<24|m>>>8,g[M]=m<<16|m>>>16,v[M]=m<<8|m>>>24,_[M]=m,z?(z=f^A[A[A[y^f]]],w^=A[A[w]]):z=w=1}})();var k=[0,1,2,4,8,16,32,64,128,27,54],P=a.AES=s.extend({_doReset:function(){var A;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var E=this._keyPriorReset=this._key,z=E.words,w=E.sigBytes/4,M=this._nRounds=w+6,f=(M+1)*4,b=this._keySchedule=[],y=0;y<f;y++)y<w?b[y]=z[y]:(A=b[y-1],y%w?w>6&&y%w==4&&(A=o[A>>>24]<<24|o[A>>>16&255]<<16|o[A>>>8&255]<<8|o[A&255]):(A=A<<8|A>>>24,A=o[A>>>24]<<24|o[A>>>16&255]<<16|o[A>>>8&255]<<8|o[A&255],A^=k[y/w|0]<<24),b[y]=b[y-w]^A);for(var m=this._invKeySchedule=[],x=0;x<f;x++){var y=f-x;if(x%4)var A=b[y];else var A=b[y-4];x<4||y<=4?m[x]=A:m[x]=p[o[A>>>24]]^g[o[A>>>16&255]]^v[o[A>>>8&255]]^_[o[A&255]]}}},encryptBlock:function(A,E){this._doCryptBlock(A,E,this._keySchedule,c,l,h,d,o)},decryptBlock:function(A,E){var z=A[E+1];A[E+1]=A[E+3],A[E+3]=z,this._doCryptBlock(A,E,this._invKeySchedule,p,g,v,_,u);var z=A[E+1];A[E+1]=A[E+3],A[E+3]=z},_doCryptBlock:function(A,E,z,w,M,f,b,y){for(var m=this._nRounds,x=A[E]^z[0],I=A[E+1]^z[1],O=A[E+2]^z[2],q=A[E+3]^z[3],Z=4,S=1;S<m;S++){var U=w[x>>>24]^M[I>>>16&255]^f[O>>>8&255]^b[q&255]^z[Z++],V=w[I>>>24]^M[O>>>16&255]^f[q>>>8&255]^b[x&255]^z[Z++],Q=w[O>>>24]^M[q>>>16&255]^f[x>>>8&255]^b[I&255]^z[Z++],G=w[q>>>24]^M[x>>>16&255]^f[I>>>8&255]^b[O&255]^z[Z++];x=U,I=V,O=Q,q=G}var U=(y[x>>>24]<<24|y[I>>>16&255]<<16|y[O>>>8&255]<<8|y[q&255])^z[Z++],V=(y[I>>>24]<<24|y[O>>>16&255]<<16|y[q>>>8&255]<<8|y[x&255])^z[Z++],Q=(y[O>>>24]<<24|y[q>>>16&255]<<16|y[x>>>8&255]<<8|y[I&255])^z[Z++],G=(y[q>>>24]<<24|y[x>>>16&255]<<16|y[I>>>8&255]<<8|y[O&255])^z[Z++];A[E]=U,A[E+1]=V,A[E+2]=Q,A[E+3]=G},keySize:256/32});n.AES=s._createHelper(P)}(),r.AES})})(U2);var N2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,us.exports,ls.exports,Bi.exports,$e.exports)})(se,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,a=i.BlockCipher,o=n.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=o.DES=a.extend({_doReset:function(){for(var k=this._key,P=k.words,A=[],E=0;E<56;E++){var z=u[E]-1;A[E]=P[z>>>5]>>>31-z%32&1}for(var w=this._subKeys=[],M=0;M<16;M++){for(var f=w[M]=[],b=l[M],E=0;E<24;E++)f[E/6|0]|=A[(c[E]-1+b)%28]<<31-E%6,f[4+(E/6|0)]|=A[28+(c[E+24]-1+b)%28]<<31-E%6;f[0]=f[0]<<1|f[0]>>>31;for(var E=1;E<7;E++)f[E]=f[E]>>>(E-1)*4+3;f[7]=f[7]<<5|f[7]>>>27}for(var y=this._invSubKeys=[],E=0;E<16;E++)y[E]=w[15-E]},encryptBlock:function(k,P){this._doCryptBlock(k,P,this._subKeys)},decryptBlock:function(k,P){this._doCryptBlock(k,P,this._invSubKeys)},_doCryptBlock:function(k,P,A){this._lBlock=k[P],this._rBlock=k[P+1],g.call(this,4,252645135),g.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),g.call(this,1,1431655765);for(var E=0;E<16;E++){for(var z=A[E],w=this._lBlock,M=this._rBlock,f=0,b=0;b<8;b++)f|=h[b][((M^z[b])&d[b])>>>0];this._lBlock=M,this._rBlock=w^f}var y=this._lBlock;this._lBlock=this._rBlock,this._rBlock=y,g.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),k[P]=this._lBlock,k[P+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(k,P){var A=(this._lBlock>>>k^this._rBlock)&P;this._rBlock^=A,this._lBlock^=A<<k}function v(k,P){var A=(this._rBlock>>>k^this._lBlock)&P;this._lBlock^=A,this._rBlock^=A<<k}n.DES=a._createHelper(p);var _=o.TripleDES=a.extend({_doReset:function(){var k=this._key,P=k.words;if(P.length!==2&&P.length!==4&&P.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var A=P.slice(0,2),E=P.length<4?P.slice(0,2):P.slice(2,4),z=P.length<6?P.slice(0,2):P.slice(4,6);this._des1=p.createEncryptor(s.create(A)),this._des2=p.createEncryptor(s.create(E)),this._des3=p.createEncryptor(s.create(z))},encryptBlock:function(k,P){this._des1.encryptBlock(k,P),this._des2.decryptBlock(k,P),this._des3.encryptBlock(k,P)},decryptBlock:function(k,P){this._des3.decryptBlock(k,P),this._des2.encryptBlock(k,P),this._des1.decryptBlock(k,P)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=a._createHelper(_)}(),r.TripleDES})})(N2);var O2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,us.exports,ls.exports,Bi.exports,$e.exports)})(se,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,a=n.algo,o=a.RC4=s.extend({_doReset:function(){for(var l=this._key,h=l.words,d=l.sigBytes,p=this._S=[],g=0;g<256;g++)p[g]=g;for(var g=0,v=0;g<256;g++){var _=g%d,k=h[_>>>2]>>>24-_%4*8&255;v=(v+p[g]+k)%256;var P=p[g];p[g]=p[v],p[v]=P}this._i=this._j=0},_doProcessBlock:function(l,h){l[h]^=u.call(this)},keySize:256/32,ivSize:0});function u(){for(var l=this._S,h=this._i,d=this._j,p=0,g=0;g<4;g++){h=(h+1)%256,d=(d+l[h])%256;var v=l[h];l[h]=l[d],l[d]=v,p|=l[(l[h]+l[d])%256]<<24-g*8}return this._i=h,this._j=d,p}n.RC4=s._createHelper(o);var c=a.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var l=this.cfg.drop;l>0;l--)u.call(this)}});n.RC4Drop=s._createHelper(c)}(),r.RC4})})(O2);var z2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,us.exports,ls.exports,Bi.exports,$e.exports)})(se,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,a=n.algo,o=[],u=[],c=[],l=a.Rabbit=s.extend({_doReset:function(){for(var d=this._key.words,p=this.cfg.iv,g=0;g<4;g++)d[g]=(d[g]<<8|d[g]>>>24)&16711935|(d[g]<<24|d[g]>>>8)&4278255360;var v=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],_=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var g=0;g<4;g++)h.call(this);for(var g=0;g<8;g++)_[g]^=v[g+4&7];if(p){var k=p.words,P=k[0],A=k[1],E=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,z=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,w=E>>>16|z&4294901760,M=z<<16|E&65535;_[0]^=E,_[1]^=w,_[2]^=z,_[3]^=M,_[4]^=E,_[5]^=w,_[6]^=z,_[7]^=M;for(var g=0;g<4;g++)h.call(this)}},_doProcessBlock:function(d,p){var g=this._X;h.call(this),o[0]=g[0]^g[5]>>>16^g[3]<<16,o[1]=g[2]^g[7]>>>16^g[5]<<16,o[2]=g[4]^g[1]>>>16^g[7]<<16,o[3]=g[6]^g[3]>>>16^g[1]<<16;for(var v=0;v<4;v++)o[v]=(o[v]<<8|o[v]>>>24)&16711935|(o[v]<<24|o[v]>>>8)&4278255360,d[p+v]^=o[v]},blockSize:128/32,ivSize:64/32});function h(){for(var d=this._X,p=this._C,g=0;g<8;g++)u[g]=p[g];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<u[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<u[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<u[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<u[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<u[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<u[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<u[6]>>>0?1:0)|0,this._b=p[7]>>>0<u[7]>>>0?1:0;for(var g=0;g<8;g++){var v=d[g]+p[g],_=v&65535,k=v>>>16,P=((_*_>>>17)+_*k>>>15)+k*k,A=((v&4294901760)*v|0)+((v&65535)*v|0);c[g]=P^A}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}n.Rabbit=s._createHelper(l)}(),r.Rabbit})})(z2);var F2={exports:{}};(function(e,t){(function(r,n,i){e.exports=n(ue.exports,us.exports,ls.exports,Bi.exports,$e.exports)})(se,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,a=n.algo,o=[],u=[],c=[],l=a.RabbitLegacy=s.extend({_doReset:function(){var d=this._key.words,p=this.cfg.iv,g=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],v=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var _=0;_<4;_++)h.call(this);for(var _=0;_<8;_++)v[_]^=g[_+4&7];if(p){var k=p.words,P=k[0],A=k[1],E=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,z=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,w=E>>>16|z&4294901760,M=z<<16|E&65535;v[0]^=E,v[1]^=w,v[2]^=z,v[3]^=M,v[4]^=E,v[5]^=w,v[6]^=z,v[7]^=M;for(var _=0;_<4;_++)h.call(this)}},_doProcessBlock:function(d,p){var g=this._X;h.call(this),o[0]=g[0]^g[5]>>>16^g[3]<<16,o[1]=g[2]^g[7]>>>16^g[5]<<16,o[2]=g[4]^g[1]>>>16^g[7]<<16,o[3]=g[6]^g[3]>>>16^g[1]<<16;for(var v=0;v<4;v++)o[v]=(o[v]<<8|o[v]>>>24)&16711935|(o[v]<<24|o[v]>>>8)&4278255360,d[p+v]^=o[v]},blockSize:128/32,ivSize:64/32});function h(){for(var d=this._X,p=this._C,g=0;g<8;g++)u[g]=p[g];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<u[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<u[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<u[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<u[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<u[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<u[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<u[6]>>>0?1:0)|0,this._b=p[7]>>>0<u[7]>>>0?1:0;for(var g=0;g<8;g++){var v=d[g]+p[g],_=v&65535,k=v>>>16,P=((_*_>>>17)+_*k>>>15)+k*k,A=((v&4294901760)*v|0)+((v&65535)*v|0);c[g]=P^A}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}n.RabbitLegacy=s._createHelper(l)}(),r.RabbitLegacy})})(F2);(function(e,t){(function(r,n,i){e.exports=n(ue.exports,to.exports,y2.exports,b2.exports,us.exports,g2.exports,ls.exports,V0.exports,l1.exports,v2.exports,f1.exports,w2.exports,_2.exports,x2.exports,Y0.exports,A2.exports,Bi.exports,$e.exports,S2.exports,k2.exports,E2.exports,P2.exports,C2.exports,M2.exports,R2.exports,T2.exports,I2.exports,B2.exports,D2.exports,U2.exports,N2.exports,O2.exports,z2.exports,F2.exports)})(se,function(r){return r})})(wu);const y6=1e3*60*60*24,Ms=new m6.EventEmitter,eo=C0(null),b6=Ha(eo,e=>e),Rs=C0(!1);function g6(e){const t=localStorage.getItem("password"),r=wu.exports.SHA256(e).toString(wu.exports.enc.Hex);!t||t===r?(localStorage.setItem("password",r),localStorage.setItem("last-checked",Date.now().toString()),eo.set(r),Ms.emit("password",r)):Ms.emit("error",new Error("Password doesn't not match"))}function K2(){localStorage.removeItem("password"),eo.set(null)}Vr.on("disconnected",K2);function v6(){Ms.emit("cancel"),Rs.set(!1)}async function L2(){return new Promise((e,t)=>{const r=L3(b6);r?e(r):(Rs.set(!0),Ms.once("password",e),Ms.once("cancel",()=>{t(new Error("Cancelled"))}),Ms.once("error",t))})}async function j2(e){const t=await L2(),r=await f5({text:e,format:"utf8"});return await h5({passwords:[t],message:r,format:"armored"})}async function w6(e){try{const t=await L2(),r=await l5({armoredMessage:e});return(await d5({passwords:[t],message:r})).data}catch(t){throw eo.set(null),t}}{const e=localStorage.getItem("password"),t=localStorage.getItem("last-checked");let r=!1;t&&(new Date(t).getTime()+y6<Date.now()?(r=!1,Rs.set(!0)):r=!0),r&&e&&eo.set(e)}Vr.access.claim("secrets","rw");Vr.caching.enable("/secrets/");const q2="secret",X0=Vr.scope("/secrets/");X0.declareType(q2,{type:"object",properties:{id:{type:"string",format:"uuid"},type:{type:"string",enum:["password","text"]},application:{type:"string",format:{type:"oneOf",items:[{type:"uri"},{type:"string"}]}},username:{type:"string"},encryptedSecret:{type:"string"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"}},required:["id","type","application","username","encryptedSecret","createdAt","updatedAt"]});function _6(e){return{id:e.id,type:e.type,application:e.application,username:e.username,encryptedSecret:e.encryptedSecret,createdAt:e.createdAt.toJSON(),updatedAt:e.updatedAt.toJSON()}}function x6(e){return{id:e.id,type:e.type,application:e.application,username:e.username,encryptedSecret:e.encryptedSecret,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}}const Di=C0({});Ha(Di,e=>Object.values(e));Ha(Di,e=>e);const h1=Ha(Di,e=>Object.values(e).reduce((t,r)=>((t[r.application]||(t[r.application]=[])).push(r),t),{}));async function A6(e){const r={id:rp(),type:e.type,application:Ta(e.application),username:e.username,secret:e.secret,encryptedSecret:await j2(e.secret),createdAt:new Date,updatedAt:new Date};let n;Di.update(i=>{const s=fs(Oe({},i),{[r.id]:r});return n=$2(r),s}),n&&await n}async function S6(e,t){let r;const n=await j2(t.secret);Di.update(i=>{const s=i[e];if(s){const a=fs(Oe(Oe({},s),t),{id:e,updatedAt:new Date});a.application=Ta(a.application),a.encryptedSecret=n;const o=fs(Oe({},i),{[e]:a});return r=$2(a),o}else return i}),r&&await r}async function k6(e){if(!e.secret){const t=await w6(e.encryptedSecret);Di.update(r=>{const n=r[e.id];if(e){const i=Oe({},n);return i.secret=t,fs(Oe({},r),{[n.id]:i})}else return r})}}async function E6(e){let t;Di.update(r=>{const n=Oe({},r);return delete n[e],t=P6(e),n}),t&&await t}async function $2(e){await X0.storeObject(q2,`${e.id}.json`,_6(e))}async function P6(e){await X0.remove(`${e}.json`)}async function C6(){const e=await X0.getAll("",!1);Di.update(t=>{const r=Oe({},t);return Object.values(e).forEach(n=>{const i=r[n.id],s=x6(n);(!i||i.updatedAt<s.updatedAt)&&(r[n.id]=s)}),r})}Vr.on("sync-done",C6);function M6(e){let t,r,n,i,s;const a=e[2].default,o=Cu(a,e,e[1],null);return{c(){t=At("div"),o&&o.c(),this.h()},l(u){t=St(u,"DIV",{});var c=Et(t);o&&o.l(c),c.forEach(ht),this.h()},h(){t.hidden=!0},m(u,c){kt(u,t,c),o&&o.m(t,null),n=!0,i||(s=j3(r=R6.call(null,t,e[0])),i=!0)},p(u,[c]){o&&o.p&&(!n||c&2)&&Mu(o,a,u,u[1],n?Tu(a,u[1],c,null):Ru(u[1]),null),r&&Mi(r.update)&&c&1&&r.update.call(null,u[0])},i(u){n||(Ct(o,u),n=!0)},o(u){Mt(o,u),n=!1},d(u){u&&ht(t),o&&o.d(u),i=!1,s()}}}function R6(e,t="body"){let r;async function n(s){if(t=s,typeof t=="string"){if(r=document.querySelector(t),r===null&&(await q3(),r=document.querySelector(t)),r===null)throw new Error(`No element found matching css selector: "${t}"`)}else if(t instanceof HTMLElement)r=t;else throw new TypeError(`Unknown portal target type: ${t===null?"null":typeof t}. Allowed types: string (CSS selector) or HTMLElement.`);r.appendChild(e),e.hidden=!1}function i(){e.parentNode&&e.parentNode.removeChild(e)}return n(t),{update:n,destroy:i}}function T6(e,t,r){let{$$slots:n={},$$scope:i}=t,{target:s="body"}=t;return e.$$set=a=>{"target"in a&&r(0,s=a.target),"$$scope"in a&&r(1,i=a.$$scope)},[s,i,n]}class I6 extends Pe{constructor(t){super(),Ce(this,t,T6,M6,Zn,{target:0})}}function B6(e){let t;return{c(){t=Hn("path"),this.h()},l(r){t=Wn(r,"path",{d:!0}),Et(t).forEach(ht),this.h()},h(){dt(t,"d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z")},m(r,n){kt(r,t,n)},p:Me,d(r){r&&ht(t)}}}function D6(e){let t,r;const n=[{viewBox:"0 0 24 24"},e[0]];let i={$$slots:{default:[B6]},$$scope:{ctx:e}};for(let s=0;s<n.length;s+=1)i=Be(i,n[s]);return t=new as({props:i}),{c(){Yt(t.$$.fragment)},l(s){Xt(t.$$.fragment,s)},m(s,a){Jt(t,s,a),r=!0},p(s,[a]){const o=a&1?is(n,[n[0],ss(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),t.$set(o)},i(s){r||(Ct(t.$$.fragment,s),r=!0)},o(s){Mt(t.$$.fragment,s),r=!1},d(s){Zt(t,s)}}}function U6(e,t,r){return e.$$set=n=>{r(0,t=Be(Be({},t),gr(n)))},t=gr(t),[t]}class H2 extends Pe{constructor(t){super(),Ce(this,t,U6,D6,Zn,{})}}const N6=e=>({}),xf=e=>({});function Af(e){let t;const r=e[5].title,n=Cu(r,e,e[6],xf);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),t=!0},p(i,s){n&&n.p&&(!t||s&64)&&Mu(n,r,i,i[6],t?Tu(r,i[6],s,N6):Ru(i[6]),xf)},i(i){t||(Ct(n,i),t=!0)},o(i){Mt(n,i),t=!1},d(i){n&&n.d(i)}}}function Sf(e){let t;const r=e[5].default,n=Cu(r,e,e[6],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),t=!0},p(i,s){n&&n.p&&(!t||s&64)&&Mu(n,r,i,i[6],t?Tu(r,i[6],s,null):Ru(i[6]),null)},i(i){t||(Ct(n,i),t=!0)},o(i){Mt(n,i),t=!1},d(i){n&&n.d(i)}}}function O6(e){let t,r,n,i,s,a,o,u,c=e[1],l,h,d,p,g,v,_=e[1],k,P,A,E=Af(e);p=new H2({});let z=Sf(e);return{c(){t=At("div"),r=At("div"),n=Lt(),i=At("div"),s=At("div"),a=At("div"),o=At("div"),u=At("div"),E.c(),l=Lt(),h=At("button"),d=At("div"),Yt(p.$$.fragment),g=Lt(),v=At("div"),z.c(),this.h()},l(w){t=St(w,"DIV",{class:!0,role:!0,"aria-modal":!0});var M=Et(t);r=St(M,"DIV",{class:!0}),Et(r).forEach(ht),n=jt(M),i=St(M,"DIV",{class:!0});var f=Et(i);s=St(f,"DIV",{class:!0});var b=Et(s);a=St(b,"DIV",{class:!0});var y=Et(a);o=St(y,"DIV",{class:!0});var m=Et(o);u=St(m,"DIV",{class:!0});var x=Et(u);E.l(x),x.forEach(ht),l=jt(m),h=St(m,"BUTTON",{class:!0});var I=Et(h);d=St(I,"DIV",{class:!0});var O=Et(d);Xt(p.$$.fragment,O),O.forEach(ht),I.forEach(ht),m.forEach(ht),g=jt(y),v=St(y,"DIV",{class:!0});var q=Et(v);z.l(q),q.forEach(ht),y.forEach(ht),b.forEach(ht),f.forEach(ht),M.forEach(ht),this.h()},h(){dt(r,"class","as-fixed as-inset-0 as-bg-gray-500 as-bg-opacity-25"),Or(r,"as-hidden",!e[0]),dt(u,"class","as-flex-grow"),dt(d,"class","as-w-6 as-h-6"),dt(h,"class","as-bg-transparent as-border-0 as-text-black as-outline-none focus:as-outline-none"),dt(o,"class","as-flex as-items-start as-justify-between as-px-4 as-pt-4"),dt(v,"class","as-relative as-p-4 as-flex-auto"),dt(a,"class","as-relative as-bg-white as-text-left as-overflow-hidden as-shadow-xl sm:as-my-8 sm:as-container"),dt(s,"class","as-flex as-items-end sm:as-items-center as-justify-center as-min-h-full as-p-4 as-text-center sm:as-p-0"),dt(i,"class","as-fixed as-z-10 as-inset-0 as-overflow-y-auto"),Or(i,"as-hidden",!e[0]),dt(t,"class","as-relative as-z-10"),dt(t,"role","dialog"),dt(t,"aria-modal","true")},m(w,M){kt(w,t,M),xt(t,r),xt(t,n),xt(t,i),xt(i,s),xt(s,a),xt(a,o),xt(o,u),E.m(u,null),xt(o,l),xt(o,h),xt(h,d),Jt(p,d,null),xt(a,g),xt(a,v),z.m(v,null),k=!0,P||(A=re(h,"click",e[2]),P=!0)},p(w,M){M&1&&Or(r,"as-hidden",!w[0]),M&2&&nr(c,c=w[1])?(Cr(),Mt(E,1,1,Me),Mr(),E=Af(w),E.c(),Ct(E,1),E.m(u,null)):E.p(w,M),M&2&&nr(_,_=w[1])?(Cr(),Mt(z,1,1,Me),Mr(),z=Sf(w),z.c(),Ct(z,1),z.m(v,null)):z.p(w,M),M&1&&Or(i,"as-hidden",!w[0])},i(w){k||(Ct(E),Ct(p.$$.fragment,w),Ct(z),k=!0)},o(w){Mt(E),Mt(p.$$.fragment,w),Mt(z),k=!1},d(w){w&&ht(t),E.d(w),Zt(p),z.d(w),P=!1,A()}}}function z6(e){let t,r;return t=new I6({props:{$$slots:{default:[O6]},$$scope:{ctx:e}}}),{c(){Yt(t.$$.fragment)},l(n){Xt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},p(n,[i]){const s={};i&67&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){r||(Ct(t.$$.fragment,n),r=!0)},o(n){Mt(t.$$.fragment,n),r=!1},d(n){Zt(t,n)}}}function F6(e,t,r){let{$$slots:n={},$$scope:i}=t,{onClose:s=()=>{}}=t,{open:a=!1}=t,o=z1(),u;function c(){r(0,a=!1),s()}return e.$$set=l=>{"onClose"in l&&r(3,s=l.onClose),"open"in l&&r(0,a=l.open),"$$scope"in l&&r(6,i=l.$$scope)},e.$$.update=()=>{e.$$.dirty&17&&u!==a&&(r(1,o=z1()),r(4,u=a))},[a,o,c,s,u,n,i]}class Fc extends Pe{constructor(t){super(),Ce(this,t,F6,z6,nr,{onClose:3,open:0})}}var K6=Object.assign;function Kc(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return typeof e=="function"?e.apply(void 0,t):e}function W2(e){function t(i,s){var a,o,u=r();return i=K6({},u||{},(a=Kc(e,i,u))!==null&&a!==void 0?a:i),a=n.ctx=Object.freeze(i),n.ancestry.unshift(a),s=s(a),n.ancestry.shift(),n.ctx=(o=n.ancestry[0])!==null&&o!==void 0?o:null,s}function r(){return n.ctx}var n={ancestry:[]};return{bind:function(i,s){return function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return t(i,function(){return s.apply(void 0,a)})}},run:t,use:r,useX:function(i){var s,a=n.ctx;if(i=(s=Kc(i))!==null&&s!==void 0?s:"Context was used after it was closed",!a)throw i instanceof String?i.valueOf():Error(i&&Kc(i));return n.ctx}}}var Pa=Object.assign;function d1(e){return typeof e=="function"}function Te(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return!e.apply(void 0,t)}}function G2(e){return e===null}var L6=Te(G2);function p1(e){return e===void 0}var j6=Te(p1);function J0(e){return e===null||p1(e)}var q6=Te(J0);function Mn(e){return String(e)===e}function V2(e,t){return Mn(e)&&Mn(t)&&e.endsWith(t)}var $6=Te(V2);function Y2(e,t){return e===t}var H6=Te(Y2);function Pn(e){var t=Number(e);return!(isNaN(parseFloat(String(e)))||isNaN(Number(e))||!isFinite(t))}var W6=Te(Pn);function ma(e,t){return Pn(e)&&Pn(t)&&Number(e)>Number(t)}function ro(e,t){return Pn(e)&&Pn(t)&&Number(e)===Number(t)}var G6=Te(ro);function Do(e,t){return ro(e,t)||ma(e,t)}function m1(e){return!!Array.isArray(e)}var V6=Te(m1);function X2(e,t){return!!(m1(t)||Mn(t)&&Mn(e))&&t.indexOf(e)!==-1}var Y6=Te(X2);function ya(e,t){return Pn(e)&&Pn(t)&&Number(e)<Number(t)}function Uo(e,t){return ro(e,t)||ya(e,t)}function J2(e,t,r){return Do(e,t)&&Uo(e,r)}var X6=Te(J2);function Z2(e){return J0(e)||Mn(e)&&!e.trim()}var J6=Te(Z2);function Ca(e){return!!e===e}var Z6=Te(Ca);function y1(e){return typeof e=="number"}var Q6=Te(y1);function w0(e,t){return ro(e.length,t)}var t8=Te(w0);function b1(e){return!e||(y1(e)?e===0:Object.prototype.hasOwnProperty.call(e,"length")?w0(e,0):typeof e=="object"&&w0(Object.keys(e),0))}var e8=Te(b1);function Q2(e,t){return e in t}var r8=Te(Q2);function t3(e){return Number.isNaN(e)}var n8=Te(t3),i8=Te(Mn);function e3(e){return!!e}var s8=Te(e3);function r3(e,t){if(J0(t))return!1;for(var r in t)if(t[r]===e)return!0;return!1}var a8=Te(r3);function n3(e,t){return t instanceof RegExp?t.test(e):!!Mn(t)&&new RegExp(t).test(e)}var o8=Te(n3);function kf(e,t){return Mn(e)&&Mn(t)&&e.startsWith(t)}var rs={condition:function(e,t){try{return t(e)}catch{return!1}},doesNotEndWith:$6,doesNotStartWith:Te(kf),endsWith:V2,equals:Y2,greaterThan:ma,greaterThanOrEquals:Do,gt:ma,gte:Do,inside:X2,isArray:m1,isBetween:J2,isBlank:Z2,isBoolean:Ca,isEmpty:b1,isEven:function(e){return!!Pn(e)&&e%2==0},isFalsy:s8,isKeyOf:Q2,isNaN:t3,isNegative:function(e){return ya(e,0)},isNotArray:V6,isNotBetween:X6,isNotBlank:J6,isNotBoolean:Z6,isNotEmpty:e8,isNotKeyOf:r8,isNotNaN:n8,isNotNull:L6,isNotNullish:q6,isNotNumber:Q6,isNotNumeric:W6,isNotString:i8,isNotUndefined:j6,isNotValueOf:a8,isNull:G2,isNullish:J0,isNumber:y1,isNumeric:Pn,isOdd:function(e){return!!Pn(e)&&e%2!=0},isPositive:function(e){return ma(e,0)},isString:Mn,isTruthy:e3,isUndefined:p1,isValueOf:r3,lengthEquals:w0,lengthNotEquals:t8,lessThan:ya,lessThanOrEquals:Uo,longerThan:function(e,t){return ma(e.length,t)},longerThanOrEquals:function(e,t){return Do(e.length,t)},lt:ya,lte:Uo,matches:n3,notEquals:H6,notInside:Y6,notMatches:o8,numberEquals:ro,numberNotEquals:G6,shorterThan:function(e,t){return ya(e.length,t)},shorterThanOrEquals:function(e,t){return Uo(e.length,t)},startsWith:kf};function g1(e){for(var t in rs){var r=rs[t];d1(r)&&e(t,r)}}var v1=W2(function(e,t){var r={value:e.value,meta:e.meta||{}};return t?e.set?Pa(r,{parent:function(){return t&&{value:t.value,meta:t.meta,parent:t.parent}}}):t:Pa(r,{parent:c8})});function c8(){return null}function qa(e,t,r){if(r||arguments.length===2)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function Z0(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return d1(e)?e.apply(void 0,t):e}function i3(e,t){if(!e)throw t instanceof String?t.valueOf():Error(t&&Z0(t))}function w1(){try{return d1(Proxy)}catch{return!1}}function u8(e,t){var r;return(r=Z0(e))!==null&&r!==void 0?r:t}function _0(e,t){return e={pass:e},t&&(e.message=t),e}function s3(e,t,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];return i3(Ca(e)||e&&Ca(e.pass),"Incorrect return value for rule: "+JSON.stringify(e)),Ca(e)?_0(e):_0(e.pass,Z0.apply(void 0,qa([e.message,t,r],n,!1)))}function Ef(e){function t(i,s,a){return function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return i3((u=s3.apply(void 0,qa([v1.run({value:e},function(){return s.apply(void 0,qa([e],o,!1))}),a,e],o,!1))).pass,b1(u.message)?"enforce/".concat(a," failed with ").concat(JSON.stringify(e)):new String(u.message)),i}}var r={};if(!w1())return g1(function(i,s){r[i]=t(r,s,i)}),r;var n=new Proxy(r,{get:function(i,s){if(i=rs[s])return t(n,i,s)}});return n}function l8(e,t){function r(a){n=!0,i=a}for(var n=!1,i=null,s=0;s<e.length;s++)if(t(e[s],r,s),n)return i}function Pf(e){var t,r=[];return function n(i){return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var o=rs[i];r.push(function(c){return s3.apply(void 0,qa([o.apply(void 0,qa([c],s,!1)),i,c],s,!1))});var u={run:function(c){return u8(l8(r,function(l,h){var d,p=v1.run({value:c},function(){return l(c)});p.pass||h(_0(!!p.pass,(d=Z0(t,c,p.message))!==null&&d!==void 0?d:p.message))}),_0(!0))},test:function(c){return u.run(c).pass},message:function(c){return c&&(t=c),u}};return w1()?u=new Proxy(u,{get:function(c,l){return rs[l]?n(l):c[l]}}):(g1(function(c){u[c]=n(c)}),u)}}(e)}var Lc=function(){function e(){if(!w1())return g1(function(r){t[r]=Pf(r)}),Pa(Ef,t)}var t={context:function(){return v1.useX()},extend:function(r){Pa(rs,r),e()}};return e(),new Proxy(Pa(Ef,t),{get:function(r,n){return n in r?r[n]:rs[n]?Pf(n):void 0}})}(),Cf,a3=(Cf=0,function(){return"".concat(Cf++)});function Q0(e){return String(e)===e}function _1(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return!e.apply(void 0,t)}}var Ui=Object.assign;function x0(e){var t=Number(e);return!(isNaN(parseFloat(String(e)))||isNaN(Number(e))||!isFinite(t))}function _u(e,t){return x0(e)&&x0(t)&&Number(e)===Number(t)}function $a(e,t){return x0(e)&&x0(t)&&Number(e)>Number(t)}function tc(e){function t(i,s){var a=t.get(i);return a?a[1]:(s=s(),n.unshift([i.concat(),s]),$a(n.length,e)&&(n.length=e),s)}function r(i){return n.findIndex(function(s){var a=s[0];return _u(i.length,a.length)&&i.every(function(o,u){return o===a[u]})})}e===void 0&&(e=1);var n=[];return t.invalidate=function(i){-1<(i=r(i))&&n.splice(i,1)},t.get=function(i){return n[r(i)]||null},t}var f8=_1(function(e){return e===null});function Fr(e){return typeof e=="function"}function Ns(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Fr(e)?e.apply(void 0,t):e}function o3(e,t){var r;return(r=Ns(e))!==null&&r!==void 0?r:t}function x1(e){return(e=[].concat(e))[e.length-1]}function xu(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n];Array.isArray(i)?r.push(xu(i,t)):(i=t(i),f8(i)&&r.push(i))}return r}function c3(e){return[].concat(e).reduce(function(t,r){return Array.isArray(r)?t.concat(c3(r)):[].concat(t).concat(r)},[])}function A0(e,t){var r=0;for(t=t.slice(0,-1);r<t.length;r++){var n=t[r];e[n]=o3(e[n],[]),e=e[n]}return e}var Os,Ir=Os||(Os={});Ir[Ir.DEFAULT=0]="DEFAULT",Ir[Ir.SUITE=1]="SUITE",Ir[Ir.EACH=2]="EACH",Ir[Ir.SKIP_WHEN=3]="SKIP_WHEN",Ir[Ir.OMIT_WHEN=4]="OMIT_WHEN",Ir[Ir.GROUP=5]="GROUP";var S0,So=S0||(S0={});function h8(){var e=0;return{current:function(){return e},next:function(){e++}}}function u3(e,t){return t===void 0&&(t=[]),{cursor:h8(),keys:{current:{},prev:{}},path:t,type:e}}So[So.ALL=0]="ALL",So[So.EAGER=1]="EAGER";var fe=W2(function(e,t){return t?null:Ui({},{exclusion:{tests:{},groups:{}},inclusion:{},isolate:u3(Os.DEFAULT),mode:[S0.ALL]},e)});function fr(){return fe.useX().stateRef}function l3(e){return fr().optionalFields()[0][e]}function d8(e,t){(0,fr().optionalFields()[1])(function(r){var n;return Ui(r,((n={})[e]=Ns(t,r[e]),n))})}function A1(e){var t;return(t=l3(e))===null||t===void 0?void 0:t[0]}function Au(){zs(function(e){return e})}function zs(e){(0,fr().testObjects()[1])(function(t){return{prev:t.prev,current:[].concat(e(t.current))}})}function S1(){return Wr().filter(function(e){return e.isPending()})}var p8=tc();function Wr(){var e=fr().testObjects()[0].current;return p8([e],function(){return c3(e)})}var Ma,Mf=Ma||(Ma={});Mf.Error="error",Mf.Warning="warning";var f3=function(){function e(t,r,n){var i=n===void 0?{}:n;n=i.message;var s=i.groupName;i=i.key,this.key=null,this.id=a3(),this.severity=Ma.Error,this.status=jc,this.fieldName=t,this.testFn=r,s&&(this.groupName=s),n&&(this.message=n),i&&(this.key=i)}return e.prototype.run=function(){try{var t=this.testFn()}catch(r){t=r,this.message===void 0&&Q0(t)&&(this.message=r),t=!1}return t===!1&&this.fail(),t},e.prototype.setStatus=function(t){this.isFinalStatus()&&t!==qc||(this.status=t)},e.prototype.warns=function(){return this.severity===Ma.Warning},e.prototype.setPending=function(){this.setStatus(Df)},e.prototype.fail=function(){this.setStatus(this.warns()?If:Tf)},e.prototype.done=function(){this.isFinalStatus()||this.setStatus(Bf)},e.prototype.warn=function(){this.severity=Ma.Warning},e.prototype.isFinalStatus=function(){return this.hasFailures()||this.isCanceled()||this.isPassing()},e.prototype.skip=function(t){this.isPending()&&!t||this.setStatus(Rf)},e.prototype.cancel=function(){this.setStatus(Uf),Au()},e.prototype.reset=function(){this.status=jc,Au()},e.prototype.omit=function(){this.setStatus(qc)},e.prototype.valueOf=function(){return!this.isFailing()},e.prototype.hasFailures=function(){return this.isFailing()||this.isWarning()},e.prototype.isNonActionable=function(){return this.isSkipped()||this.isOmitted()||this.isCanceled()},e.prototype.isPending=function(){return this.statusEquals(Df)},e.prototype.isTested=function(){return this.hasFailures()||this.isPassing()},e.prototype.isOmitted=function(){return this.statusEquals(qc)},e.prototype.isUntested=function(){return this.statusEquals(jc)},e.prototype.isFailing=function(){return this.statusEquals(Tf)},e.prototype.isCanceled=function(){return this.statusEquals(Uf)},e.prototype.isSkipped=function(){return this.statusEquals(Rf)},e.prototype.isPassing=function(){return this.statusEquals(Bf)},e.prototype.isWarning=function(){return this.statusEquals(If)},e.prototype.statusEquals=function(t){return this.status===t},e}(),jc="UNTESTED",Rf="SKIPPED",Tf="FAILED",If="WARNING",Bf="PASSING",Df="PENDING",Uf="CANCELED",qc="OMITTED";function Fs(e,t){if(!e)throw t instanceof String?t.valueOf():Error(t&&Ns(t))}function m8(e){function t(s,a,o){return n.references.push(),r(s,Ns(a,o)),function(){return[n.references[s],function(u){return r(s,Ns(u,n.references[s]))}]}}function r(s,a){var o=n.references[s];n.references[s]=a,Fr(s=i[s][1])&&s(a,o),Fr(e)&&e()}var n={references:[]},i=[];return{registerStateKey:function(s,a){var o=i.length;return i.push([s,a]),t(o,s)},reset:function(){var s=n.references;n.references=[],i.forEach(function(a,o){return t(o,a[0],s[o])})}}}function y8(e,t){var r=t.suiteId;return t=t.suiteName,{optionalFields:e.registerStateKey(function(){return{}}),suiteId:e.registerStateKey(r),suiteName:e.registerStateKey(t),testCallbacks:e.registerStateKey(function(){return{fieldCallbacks:{},doneCallbacks:[]}}),testObjects:e.registerStateKey(function(n){return{prev:n?n.current:[],current:[]}})}}function Su(e){return e==null}function Nf(e){setTimeout(function(){throw Error(e)},0)}function b8(e,t){e=(e=e.type)===void 0?Os.DEFAULT:e,Fs(Fr(t));var r=u3(e,k0());return e=fe.run({isolate:r},function(){return r.keys.prev=function(){var n=fr().testObjects()[0].prev;return[].concat(A0(n,k0())).reduce(function(i,s){return s instanceof f3&&!Su(s.key)&&(i[s.key]=s),i},{})}(),zs(function(n){var i=r.path;return A0(n,i)[x1(i)]=[],n}),t()}),_i().cursor.next(),e}function _i(){return fe.useX().isolate}function k0(){var e=_i();return e.path.concat(e.cursor.current())}var hr,Of=hr||(hr={});Of.WARNINGS="warnings",Of.ERRORS="errors";var Ks,zf=Ks||(Ks={});function k1(e){return e===hr.ERRORS?Ks.ERROR_COUNT:Ks.WARN_COUNT}function Hs(e){return!e||(typeof e=="number"?e===0:Object.prototype.hasOwnProperty.call(e,"length")?_u(e.length,0):typeof e=="object"&&_u((e=Object.keys(e)).length,0))}zf.ERROR_COUNT="errorCount",zf.WARN_COUNT="warnCount";var ec=_1(Hs);function ns(e,t){return!(!t||e.fieldName!==t)}var $c=_1(function(e,t){return e.groupName===t});function h3(e,t){return Wr().some(function(r){return d3(r,e,t)})}function d3(e,t,r){return(r=!e.hasFailures()||r&&!ns(e,r))||(e=e.warns(),r=t===hr.WARNINGS!=!!e),!r}function Ff(e){return!!p3(e)||!h3(hr.ERRORS,e)&&!Hs(Wr())&&!function(t){return ec(S1().filter(function(r){return m3(r,t)}))}(e)&&function(t){return Wr().every(function(r){return!(!t||ns(r,t))||y3(r,t)})}(e)}function p3(e){return!!e&&((t=l3(e))===null||t===void 0?void 0:t[1])===!0;var t}function m3(e,t){return!(t&&!ns(e,t))&&A1(e.fieldName)!==!0}function y3(e,t){return!(!t||ns(e,t))||A1(e.fieldName)===!0||e.isTested()||e.isOmitted()}function Ws(){var e=fe.useX().summary;return Fs(e),e}function g8(){var e=Wr(),t=Ui({errorCount:0,warnCount:0,testCount:0},{groups:{},tests:{},valid:!1});return e.reduce(function(r,n){var i=r.tests;i[n.fieldName]=Kf(i,n),i[n.fieldName].valid=i[n.fieldName].valid!==!1&&Ff(n.fieldName);var s=r.groups,a=n.groupName;return a&&(s[a]=s[a]||{},s[a][n.fieldName]=Kf(s[a],n),i=s[a][n.fieldName],s[a][n.fieldName].valid===!1?n=!1:n=!!p3(n=n.fieldName)||!function(o,u,c){return Wr().some(function(l){return!$c(l,u)&&d3(l,o,c)})}(hr.ERRORS,a,n)&&!function(o,u){return ec(S1().filter(function(c){return!$c(c,o)&&m3(c,u)}))}(a,n)&&function(o,u){return Wr().every(function(c){return!!$c(c,o)||y3(c,u)})}(a,n),i.valid=n),r},t),t.valid=Ff(),function(r){for(var n in r.tests)r.errorCount+=r.tests[n].errorCount,r.warnCount+=r.tests[n].warnCount,r.testCount+=r.tests[n].testCount;return r}(t)}function Kf(e,t){function r(a){var o=k1(a);s[o]++,i&&(s[a]=(s[a]||[]).concat(i))}var n=t.fieldName,i=t.message;e[n]=e[n]||Ui({errorCount:0,warnCount:0,testCount:0},{errors:[],warnings:[]});var s=e[n];return t.isNonActionable()||(e[n].testCount++,t.isFailing()?r(hr.ERRORS):t.isWarning()&&r(hr.WARNINGS)),s}function b3(e,t,r){var n;return((n=e==null?void 0:e[r])===null||n===void 0?void 0:n[t])||[]}function g3(e,t){var r,n={},i=k1(t);for(r in e)$a(e[r][i],0)&&(n[r]=e[r][t]||[]);return n}function v8(e){return v3(hr.ERRORS,e)}function w8(e){return v3(hr.WARNINGS,e)}function v3(e,t){var r=Ws().tests;return t?b3(r,e,t):g3(r,e)}function _8(e,t){return w3(e,hr.ERRORS,t)}function x8(e,t){return w3(e,hr.WARNINGS,t)}function w3(e,t,r){return e=Ws().groups[e],r?b3(e,t,r):g3(e,t)}function A8(e){return _3(Ks.ERROR_COUNT,e)}function S8(e){return _3(Ks.WARN_COUNT,e)}function _3(e,t){var r,n=Ws();return $a(t?(r=n.tests[t])===null||r===void 0?void 0:r[e]:n[e],0)}function k8(e,t){return x3(hr.ERRORS,e,t)}function E8(e,t){return x3(hr.WARNINGS,e,t)}function x3(e,t,r){var n,i,s=Ws();if(e=k1(e),!(t=s.groups[t]))return!1;if(r)return $a((n=t[r])===null||n===void 0?void 0:n[e],0);for(var a in t)if($a((i=t[a])===null||i===void 0?void 0:i[e],0))return!0;return!1}function P8(e){var t=Ws();return e?!!ku(t.tests,e):t.valid}function C8(e,t){if(!(e=Ws().groups[e]))return!1;if(t)return ku(e,t);for(var r in e)if(!ku(e,r))return!1;return!0}function ku(e,t){var r;return!((r=e[t])===null||r===void 0||!r.valid)}var M8=tc(1);function E1(){var e=Wr(),t={stateRef:fr()};return M8([e],fe.bind(t,function(){var r=g8(),n=fr().suiteName()[0],i={summary:r};return Ui(r,{getErrors:fe.bind(i,v8),getErrorsByGroup:fe.bind(i,_8),getWarnings:fe.bind(i,w8),getWarningsByGroup:fe.bind(i,x8),hasErrors:fe.bind(i,A8),hasErrorsByGroup:fe.bind(i,k8),hasWarnings:fe.bind(i,S8),hasWarningsByGroup:fe.bind(i,E8),isValid:fe.bind(i,P8),isValidByGroup:fe.bind(i,C8),suiteName:n})}))}function E0(e){var t=S1();return!Hs(t)&&(e?t.some(function(r){return ns(r,e)}):ec(t))}var R8=tc(20);function A3(){var e=Wr(),t={stateRef:fr()};return R8([e],fe.bind(t,function(){return Ui({},E1(),{done:fe.bind(t,B8)})}))}function T8(e,t,r){return!(Fr(e)&&(!t||r.tests[t]&&!Hs(r.tests[t].testCount)))}function I8(e){return!(E0()&&(!e||E0(e)))}function B8(){function e(){return n(E1())}for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=(t=t.reverse())[0];return t=t[1],r=A3(),T8(n,t,r)?r:I8(t)?(e(),r):(D8(e,t),r)}function D8(e,t){(0,fr().testCallbacks()[1])(function(r){return t?r.fieldCallbacks[t]=(r.fieldCallbacks[t]||[]).concat(e):r.doneCallbacks.push(e),r})}function Lf(e){return e.forEach(function(t){return t()})}function U8(){var e=function(){var t={};return{emit:function(r,n){(t[r]||[]).forEach(function(i){i(n)})},on:function(r,n){return t[r]=(t[r]||[]).concat(n),{off:function(){t[r]=(t[r]||[]).filter(function(i){return i!==n})}}}}}();return e.on(Sr.TEST_COMPLETED,function(t){if(!t.isCanceled()){t.done(),t=t.fieldName;var r=fr().testCallbacks()[0].fieldCallbacks;t&&!E0(t)&&Array.isArray(r[t])&&Lf(r[t]),E0()||e.emit(Sr.ALL_RUNNING_TESTS_FINISHED)}}),e.on(Sr.SUITE_CALLBACK_DONE_RUNNING,function(){(function(){function t(n){r[n.fieldName]&&(n.omit(),d8(n.fieldName,function(i){return[i[0],!0]}))}if(!Hs(fr().optionalFields()[0])){var r={};zs(function(n){return xu(n,function(i){if(Object.prototype.hasOwnProperty.call(r,i.fieldName))t(i);else{var s=A1(i.fieldName);Fr(s)&&(r[i.fieldName]=s(),t(i))}return i})})}})()}),e.on(Sr.ALL_RUNNING_TESTS_FINISHED,function(){Lf(fr().testCallbacks()[0].doneCallbacks)}),e.on(Sr.REMOVE_FIELD,function(t){Wr().forEach(function(r){ns(r,t)&&(r.cancel(),function(n){zs(function(i){return xu(i,function(s){return n!==s?s:null})})}(r))})}),e.on(Sr.RESET_FIELD,function(t){Wr().forEach(function(r){ns(r,t)&&r.reset()})}),e}function S3(){var e=fe.useX();return Fs(e.bus),e.bus}var Sr,ea=Sr||(Sr={});function k3(e){return E3(0,"tests",e)}function E3(e,t,r){var n=fe.useX("hook called outside of a running suite.");r&&[].concat(r).forEach(function(i){Q0(i)&&(n.exclusion[t][i]=e===0)})}function jf(e){for(var t in e)if(e[t]===!0)return!0;return!1}function qf(){var e,t=fe.useX().exclusion;for(e in t.groups)if(t.groups[e])return!0;return!1}function N8(e,t,r){if(r||arguments.length===2)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function $f(e){var t=e.asyncTest,r=e.message;if(t&&Fr(t.then)){var n=S3().emit,i=fr(),s=fe.bind({stateRef:i},function(){Au(),n(Sr.TEST_COMPLETED,e)});i=fe.bind({stateRef:i},function(a){e.isCanceled()||(e.message=Q0(a)?a:r,e.fail(),s())});try{t.then(s,i)}catch{i()}}}function Hf(e){var t=fr().testObjects()[0].prev;if(Hs(t))return No(e),e;var r=k0();if(t=A0(t,r)[x1(r)],!Su(e.key)){t=e.key,(r=_i().keys.prev[t])&&(e=r),r=e;var n=_i().keys.current;return Su(n[t])?n[t]=r:Nf('Encountered the same test key "'.concat(t,`" twice. This may lead to tests overriding each other's results, or to tests being unexpectedly omitted.`)),No(e),e}return!ec(r=t)||r.fieldName===e.fieldName&&r.groupName===e.groupName||(_i().type===Os.EACH||Nf(`Vest Critical Error: Tests called in different order than previous run.
    expected: `.concat(t.fieldName,`
    received: `).concat(e.fieldName,`
    This can happen on one of two reasons:
    1. You're using if/else statements to conditionally select tests. Instead, use "skipWhen".
    2. You are iterating over a list of tests, and their order changed. Use "each" and a custom key prop so that Vest retains their state.`)),function(){var i=_i().cursor.current();zs(function(s){return s.splice(i),s})}(),t=null),No(e=o3(t,e)),e}function No(e){var t=k0();zs(function(r){return A0(r,t)[x1(t)]=e,r})}function P3(e){var t=_i().cursor,r=S0.EAGER;if(r=!(fe.useX().mode[0]!==r||!h3(hr.ERRORS,e.fieldName)))return e.skip(),Hf(e),t.next(),e;if(r=Hf(e),fe.useX().omitted)return r.omit(),t.next(),r;if(function(i){var s=i.fieldName;if(i=i.groupName,fe.useX().skipped)return!0;var a=fe.useX(),o=a.exclusion;a=a.inclusion;var u=o.tests,c=u[s];if(c===!1)return!0;if(c=c===!0,i){var l=fe.useX().exclusion.groups;if(l=Object.prototype.hasOwnProperty.call(l,i)?l[i]===!1:qf())return!0;if(o.groups[i]===!0)return!(c||!jf(u)&&u[s]!==!1)}return(i=!!qf()&&!i)||!c&&!!jf(u)&&!Ns(a[s])}(e))return r.skip(!!fe.useX().skipped),t.next(),r;if(e!==r&&r.fieldName===e.fieldName&&r.groupName===e.groupName&&r.isPending()&&r.cancel(),No(e),e.isUntested()){r=S3();var n=function(i){return fe.run({currentTest:i},function(){return i.run()})}(e);try{n&&Fr(n.then)?(e.asyncTest=n,e.setPending(),$f(e)):r.emit(Sr.TEST_COMPLETED,e)}catch(i){throw Error(`Unexpected error encountered during test registration.
      Test Object: `.concat(JSON.stringify(e),`.
      Error: `).concat(i,"."))}}else(r=e.asyncTest)&&Fr(r.then)&&(e.setPending(),$f(e));return t.next(),e}function Wf(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Fr(t[1])?t:N8([void 0],t,!0);t=n[0],r=n[1],n=n[2],Fs(Q0(e),Gf("fieldName","string")),Fs(Fr(r),Gf("Test callback","function"));var i=fe.useX();return P3(t=new f3(e,r,{message:t,groupName:i.groupName,key:n}))}ea.TEST_COMPLETED="test_completed",ea.ALL_RUNNING_TESTS_FINISHED="all_running_tests_finished",ea.REMOVE_FIELD="remove_field",ea.RESET_FIELD="reset_field",ea.SUITE_CALLBACK_DONE_RUNNING="suite_callback_done_running",k3.group=function(e){return E3(0,"groups",e)};var Hc=Ui(Wf,{memo:function(e){var t=tc(10);return function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];i=_i().cursor.current();var s=(n=n.reverse())[0],a=n[1],o=n[2];return i=[fr().suiteId()[0],r,i].concat(s),(n=t.get(i))===null?t(i,function(){return e(r,o,a)}):n[1].isCanceled()?(t.invalidate(i),t(i,function(){return e(r,o,a)})):P3(n[1])}}(Wf)});function Gf(e,t){return"Incompatible params passed to test function. ".concat(e," must be a ").concat(t)}function O8(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(e=e.reverse())[0];e=e[1],Fs(Fr(r),"vest.create: Expected callback to be a function.");var n=U8(),i=m8();return e={stateRef:y8(i,{suiteId:a3(),suiteName:e}),bus:n},Ui(fe.bind(e,function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return i.reset(),b8({type:Os.SUITE},function(){r.apply(void 0,s)}),n.emit(Sr.SUITE_CALLBACK_DONE_RUNNING),A3()}),{get:fe.bind(e,E1),remove:fe.bind(e,function(s){n.emit(Sr.REMOVE_FIELD,s)}),reset:i.reset,resetField:fe.bind(e,function(s){n.emit(Sr.RESET_FIELD,s)})})}function z8(e){let t;return{c(){t=Hn("path"),this.h()},l(r){t=Wn(r,"path",{d:!0}),Et(t).forEach(ht),this.h()},h(){dt(t,"d","M256 105c-101.8 0-188.4 62.4-224 151 35.6 88.6 122.2 151 224 151s188.4-62.4 224-151c-35.6-88.6-122.2-151-224-151zm0 251.7c-56 0-101.8-45.3-101.8-100.7S200 155.3 256 155.3 357.8 200.6 357.8 256 312 356.7 256 356.7zm0-161.1c-33.6 0-61.1 27.2-61.1 60.4s27.5 60.4 61.1 60.4 61.1-27.2 61.1-60.4-27.5-60.4-61.1-60.4z")},m(r,n){kt(r,t,n)},p:Me,d(r){r&&ht(t)}}}function F8(e){let t,r;const n=[{viewBox:"0 0 512 512"},e[0]];let i={$$slots:{default:[z8]},$$scope:{ctx:e}};for(let s=0;s<n.length;s+=1)i=Be(i,n[s]);return t=new as({props:i}),{c(){Yt(t.$$.fragment)},l(s){Xt(t.$$.fragment,s)},m(s,a){Jt(t,s,a),r=!0},p(s,[a]){const o=a&1?is(n,[n[0],ss(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),t.$set(o)},i(s){r||(Ct(t.$$.fragment,s),r=!0)},o(s){Mt(t.$$.fragment,s),r=!1},d(s){Zt(t,s)}}}function K8(e,t,r){return e.$$set=n=>{r(0,t=Be(Be({},t),gr(n)))},t=gr(t),[t]}class P1 extends Pe{constructor(t){super(),Ce(this,t,K8,F8,Zn,{})}}function L8(e){let t;return{c(){t=Hn("path"),this.h()},l(r){t=Wn(r,"path",{d:!0}),Et(t).forEach(ht),this.h()},h(){dt(t,"d","M256.1 144.8c56.2 0 101.9 45.3 101.9 101.1 0 13.1-2.6 25.5-7.3 37l59.5 59c30.8-25.5 55-58.4 69.9-96-35.3-88.7-122.3-151.6-224.2-151.6-28.5 0-55.8 5.1-81.1 14.1l44 43.7c11.6-4.6 24.1-7.3 37.3-7.3zM52.4 89.7l46.5 46.1 9.4 9.3c-33.9 26-60.4 60.8-76.3 100.8 35.2 88.7 122.2 151.6 224.1 151.6 31.6 0 61.7-6.1 89.2-17l8.6 8.5 59.7 59 25.9-25.7L78.2 64 52.4 89.7zM165 201.4l31.6 31.3c-1 4.2-1.6 8.7-1.6 13.1 0 33.5 27.3 60.6 61.1 60.6 4.5 0 9-.6 13.2-1.6l31.6 31.3c-13.6 6.7-28.7 10.7-44.8 10.7-56.2 0-101.9-45.3-101.9-101.1 0-15.8 4.1-30.7 10.8-44.3zm87.8-15.7l64.2 63.7.4-3.2c0-33.5-27.3-60.6-61.1-60.6l-3.5.1z")},m(r,n){kt(r,t,n)},p:Me,d(r){r&&ht(t)}}}function j8(e){let t,r;const n=[{viewBox:"0 0 512 512"},e[0]];let i={$$slots:{default:[L8]},$$scope:{ctx:e}};for(let s=0;s<n.length;s+=1)i=Be(i,n[s]);return t=new as({props:i}),{c(){Yt(t.$$.fragment)},l(s){Xt(t.$$.fragment,s)},m(s,a){Jt(t,s,a),r=!0},p(s,[a]){const o=a&1?is(n,[n[0],ss(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),t.$set(o)},i(s){r||(Ct(t.$$.fragment,s),r=!0)},o(s){Mt(t.$$.fragment,s),r=!1},d(s){Zt(t,s)}}}function q8(e,t,r){return e.$$set=n=>{r(0,t=Be(Be({},t),gr(n)))},t=gr(t),[t]}class rc extends Pe{constructor(t){super(),Ce(this,t,q8,j8,Zn,{})}}function $8(e){let t,r,n,i,s;return{c(){t=Hn("path"),r=Lt(),n=Hn("path"),i=Lt(),s=Hn("path"),this.h()},l(a){t=Wn(a,"path",{d:!0}),Et(t).forEach(ht),r=jt(a),n=Wn(a,"path",{d:!0}),Et(n).forEach(ht),i=jt(a),s=Wn(a,"path",{d:!0}),Et(s).forEach(ht),this.h()},h(){dt(t,"d","M352 115h90c3.3 0 6-2.7 6-6 0-8.2-3.7-16-10-21.3l-77.1-64.2c-4.9-4.1-14.2-7.4-20.6-7.4-4.1 0-7.4 3.3-7.4 7.4V96c.1 10.5 8.6 19 19.1 19z"),dt(n,"d","M307 96V16H176c-17.6 0-32 14.4-32 32v336c0 17.6 14.4 32 32 32h240c17.6 0 32-14.4 32-32V141h-96c-24.8 0-45-20.2-45-45z"),dt(s,"d","M116 412V80H96c-17.6 0-32 14.4-32 32v352c0 17.6 14.4 32 32 32h256c17.6 0 32-14.4 32-32v-20H148c-17.6 0-32-14.4-32-32z")},m(a,o){kt(a,t,o),kt(a,r,o),kt(a,n,o),kt(a,i,o),kt(a,s,o)},p:Me,d(a){a&&ht(t),a&&ht(r),a&&ht(n),a&&ht(i),a&&ht(s)}}}function H8(e){let t,r;const n=[{viewBox:"0 0 512 512"},e[0]];let i={$$slots:{default:[$8]},$$scope:{ctx:e}};for(let s=0;s<n.length;s+=1)i=Be(i,n[s]);return t=new as({props:i}),{c(){Yt(t.$$.fragment)},l(s){Xt(t.$$.fragment,s)},m(s,a){Jt(t,s,a),r=!0},p(s,[a]){const o=a&1?is(n,[n[0],ss(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),t.$set(o)},i(s){r||(Ct(t.$$.fragment,s),r=!0)},o(s){Mt(t.$$.fragment,s),r=!1},d(s){Zt(t,s)}}}function W8(e,t,r){return e.$$set=n=>{r(0,t=Be(Be({},t),gr(n)))},t=gr(t),[t]}class C3 extends Pe{constructor(t){super(),Ce(this,t,W8,H8,Zn,{})}}function G8(e){let t;return{c(){t=Hn("path"),this.h()},l(r){t=Wn(r,"path",{d:!0}),Et(t).forEach(ht),this.h()},h(){dt(t,"d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z")},m(r,n){kt(r,t,n)},p:Me,d(r){r&&ht(t)}}}function V8(e){let t,r;const n=[{viewBox:"0 0 24 24"},e[0]];let i={$$slots:{default:[G8]},$$scope:{ctx:e}};for(let s=0;s<n.length;s+=1)i=Be(i,n[s]);return t=new as({props:i}),{c(){Yt(t.$$.fragment)},l(s){Xt(t.$$.fragment,s)},m(s,a){Jt(t,s,a),r=!0},p(s,[a]){const o=a&1?is(n,[n[0],ss(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),t.$set(o)},i(s){r||(Ct(t.$$.fragment,s),r=!0)},o(s){Mt(t.$$.fragment,s),r=!1},d(s){Zt(t,s)}}}function Y8(e,t,r){return e.$$set=n=>{r(0,t=Be(Be({},t),gr(n)))},t=gr(t),[t]}class M3 extends Pe{constructor(t){super(),Ce(this,t,Y8,V8,Zn,{})}}function X8(e){let t,r,n,i;return{c(){t=At("input"),this.h()},l(s){t=St(s,"INPUT",{id:!0,name:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){dt(t,"id",e[2]),dt(t,"name",e[3]),dt(t,"class","as-input as-flex-1"),dt(t,"type","password"),dt(t,"placeholder","Enter a Password"),t.disabled=r=!e[6]},m(s,a){kt(s,t,a),Ue(t,e[0]),n||(i=[re(t,"input",e[12]),re(t,"input",function(){Mi(e[4])&&e[4].apply(this,arguments)})],n=!0)},p(s,a){e=s,a&4&&dt(t,"id",e[2]),a&8&&dt(t,"name",e[3]),a&64&&r!==(r=!e[6])&&(t.disabled=r),a&1&&t.value!==e[0]&&Ue(t,e[0])},d(s){s&&ht(t),n=!1,Rr(i)}}}function J8(e){let t,r,n,i;return{c(){t=At("input"),this.h()},l(s){t=St(s,"INPUT",{id:!0,name:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){dt(t,"id",e[2]),dt(t,"name",e[3]),dt(t,"class","as-input as-flex-1"),dt(t,"type","text"),dt(t,"placeholder","Enter a Password"),t.disabled=r=!e[6]},m(s,a){kt(s,t,a),Ue(t,e[0]),n||(i=[re(t,"input",e[11]),re(t,"input",function(){Mi(e[4])&&e[4].apply(this,arguments)})],n=!0)},p(s,a){e=s,a&4&&dt(t,"id",e[2]),a&8&&dt(t,"name",e[3]),a&64&&r!==(r=!e[6])&&(t.disabled=r),a&1&&t.value!==e[0]&&Ue(t,e[0])},d(s){s&&ht(t),n=!1,Rr(i)}}}function Z8(e){let t,r;return t=new rc({}),{c(){Yt(t.$$.fragment)},l(n){Xt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},i(n){r||(Ct(t.$$.fragment,n),r=!0)},o(n){Mt(t.$$.fragment,n),r=!1},d(n){Zt(t,n)}}}function Q8(e){let t,r;return t=new P1({}),{c(){Yt(t.$$.fragment)},l(n){Xt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},i(n){r||(Ct(t.$$.fragment,n),r=!0)},o(n){Mt(t.$$.fragment,n),r=!1},d(n){Zt(t,n)}}}function t7(e){let t,r,n,i,s,a,o,u,c,l,h,d,p,g,v,_,k,P;function A(b,y){return b[1]?J8:X8}let E=A(e),z=E(e);a=new M3({}),l=new C3({});const w=[Q8,Z8],M=[];function f(b,y){return b[1]?0:1}return g=f(e),v=M[g]=w[g](e),{c(){t=At("div"),z.c(),r=Lt(),n=At("div"),i=At("button"),s=At("div"),Yt(a.$$.fragment),o=Lt(),u=At("button"),c=At("div"),Yt(l.$$.fragment),h=Lt(),d=At("button"),p=At("div"),v.c(),this.h()},l(b){t=St(b,"DIV",{class:!0});var y=Et(t);z.l(y),r=jt(y),n=St(y,"DIV",{class:!0});var m=Et(n);i=St(m,"BUTTON",{class:!0});var x=Et(i);s=St(x,"DIV",{class:!0});var I=Et(s);Xt(a.$$.fragment,I),I.forEach(ht),x.forEach(ht),o=jt(m),u=St(m,"BUTTON",{class:!0});var O=Et(u);c=St(O,"DIV",{class:!0});var q=Et(c);Xt(l.$$.fragment,q),q.forEach(ht),O.forEach(ht),h=jt(m),d=St(m,"BUTTON",{class:!0});var Z=Et(d);p=St(Z,"DIV",{class:!0});var S=Et(p);v.l(S),S.forEach(ht),Z.forEach(ht),m.forEach(ht),y.forEach(ht),this.h()},h(){dt(s,"class","as-w-5 as-h-5"),dt(i,"class","as-btn as-primary as-p-2"),i.disabled=e[5],Or(i,"as-secondary",e[6]),dt(c,"class","as-w-5 as-h-5"),dt(u,"class","as-btn as-primary as-p-2"),u.disabled=e[5],dt(p,"class","as-w-5 as-h-5"),dt(d,"class","as-btn as-primary as-p-2"),dt(n,"class","as-grow-0 as-flex-row as-flex"),dt(t,"class","as-flex")},m(b,y){kt(b,t,y),z.m(t,null),xt(t,r),xt(t,n),xt(n,i),xt(i,s),Jt(a,s,null),xt(n,o),xt(n,u),xt(u,c),Jt(l,c,null),xt(n,h),xt(n,d),xt(d,p),M[g].m(p,null),_=!0,k||(P=[re(i,"click",e[9]),re(u,"click",e[8]),re(d,"click",e[7])],k=!0)},p(b,[y]){E===(E=A(b))&&z?z.p(b,y):(z.d(1),z=E(b),z&&(z.c(),z.m(t,r))),(!_||y&32)&&(i.disabled=b[5]),y&64&&Or(i,"as-secondary",b[6]),(!_||y&32)&&(u.disabled=b[5]);let m=g;g=f(b),g!==m&&(Cr(),Mt(M[m],1,1,()=>{M[m]=null}),Mr(),v=M[g],v||(v=M[g]=w[g](b),v.c()),Ct(v,1),v.m(p,null))},i(b){_||(Ct(a.$$.fragment,b),Ct(l.$$.fragment,b),Ct(v),_=!0)},o(b){Mt(a.$$.fragment,b),Mt(l.$$.fragment,b),Mt(v),_=!1},d(b){b&&ht(t),z.d(),Zt(a),Zt(l),M[g].d(),k=!1,Rr(P)}}}function e7(e,t,r){let{id:n=void 0}=t,{name:i=void 0}=t,{password:s}=t,{onInput:a=()=>{}}=t,{onShow:o=()=>{}}=t,{show:u=!1}=t,{disabled:c=!1}=t;function l(){r(1,u=!u),u===!1?r(6,d=!0):o()}async function h(){navigator.clipboard.writeText(s)}let d=u;function p(){r(6,d=!d),d===!1&&r(1,u=!0)}function g(){s=this.value,r(0,s)}function v(){s=this.value,r(0,s)}return e.$$set=_=>{"id"in _&&r(2,n=_.id),"name"in _&&r(3,i=_.name),"password"in _&&r(0,s=_.password),"onInput"in _&&r(4,a=_.onInput),"onShow"in _&&r(10,o=_.onShow),"show"in _&&r(1,u=_.show),"disabled"in _&&r(5,c=_.disabled)},[s,u,n,i,a,c,d,l,h,p,o,g,v]}class R3 extends Pe{constructor(t){super(),Ce(this,t,e7,t7,nr,{id:2,name:3,password:0,onInput:4,onShow:10,show:1,disabled:5})}}function Vf(e,t,r){const n=e.slice();return n[1]=t[r],n}function Yf(e){let t,r=e[1]+"",n;return{c(){t=At("li"),n=be(r),this.h()},l(i){t=St(i,"LI",{class:!0});var s=Et(t);n=ge(s,r),s.forEach(ht),this.h()},h(){dt(t,"class","as-text-red-500")},m(i,s){kt(i,t,s),xt(t,n)},p(i,s){s&1&&r!==(r=i[1]+"")&&Ra(n,r)},d(i){i&&ht(t)}}}function r7(e){let t,r=e[0],n=[];for(let i=0;i<r.length;i+=1)n[i]=Yf(Vf(e,r,i));return{c(){t=At("ul");for(let i=0;i<n.length;i+=1)n[i].c()},l(i){t=St(i,"UL",{});var s=Et(t);for(let a=0;a<n.length;a+=1)n[a].l(s);s.forEach(ht)},m(i,s){kt(i,t,s);for(let a=0;a<n.length;a+=1)n[a].m(t,null)},p(i,[s]){if(s&1){r=i[0];let a;for(a=0;a<r.length;a+=1){const o=Vf(i,r,a);n[a]?n[a].p(o,s):(n[a]=Yf(o),n[a].c(),n[a].m(t,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},i:Me,o:Me,d(i){i&&ht(t),$3(n,i)}}}function n7(e,t,r){let{messages:n=[]}=t;return e.$$set=i=>{"messages"in i&&r(0,n=i.messages)},[n]}class ba extends Pe{constructor(t){super(),Ce(this,t,n7,r7,nr,{messages:0})}}const C1={},Oo={};class nc{constructor(t,r){if(t!==C1)throw new TypeError("Options can only be created with the some or none functions");this._value=r}static some(t){return cr(t)}static none(){return or()}static from(t){return t!=null?cr(t):or()}static fromJSON(t){return nc.from(t)}isNone(){return this._value===Oo}isSome(){return!this.isNone()}expect(t){if(this.isSome())return this._value;throw new Error(typeof t=="function"?t():t)}unwrap(){return this.expect("Tried to unwrap value of none Option")}unwrapOr(t){return this.isSome()?this._value:t}unwrapOrElse(t){return this.isSome()?this._value:t()}map(t){return this.isSome()?cr(t(this._value)):or()}mapOr(t,r){return this.isSome()?cr(t(this._value)):cr(r)}mapOrElse(t,r){return this.isSome()?cr(t(this._value)):cr(r())}flatMap(t){return this.isSome()?t(this._value):or()}flatMapOr(t,r){return this.isSome()?t(this._value):r}flatMapOrElse(t,r){return this.isSome()?t(this._value):r()}and(t){return this.isSome()?t:or()}andThen(t){return this.isSome()?t(this._value):or()}or(t){return this.isNone()?t:this}orElse(t){return this.isNone()?t():this}xor(t){const r=this.isSome(),n=t.isSome();return r&&!n?this:!r&&n?t:or()}filter(t){return this.isSome()&&t(this._value)?this:or()}getOrInsert(t){return this.isNone()&&(this._value=t),this}getOrInsertWith(t){return this.isNone()&&(this._value=t()),this}clear(){return this._value=Oo,this}take(){if(this.isSome()){const t=this._value;return this._value=Oo,cr(t)}else return or()}from(t){return t!=null?this._value=t:this.clear(),this}replace(t){return this._value=t,this}ifSome(t,r){return this.isSome()?t(this._value):r&&r(),this}ifNone(t,r){return this.isNone()?t():r&&r(this._value),this}toJSON(){return this.unwrapOr(null)}toJS(){return this.unwrapOr(null)}}const cr=e=>new nc(C1,e),or=()=>new nc(C1,Oo);class he{constructor(t){this._index=0,this._iter=t}[Symbol.iterator](){return this}iter(){return this}next(){return this._iter.next()}nextWithIndex(){const t=this._iter.next();return t.done?t:{value:[t.value,this._index++]}}enumerate(){throw new Error("iter/Enumerate was not imported!")}peekable(){throw new Error("iter/Peekable was not imported!")}forEach(t){throw new Error("iter/ForEach was not imported!")}map(t){throw new Error("iter/Map was not imported!")}merge(t){throw new Error("iter/Merge was not imported!")}concat(t){return this.merge(t)}filter(t){throw new Error("iter/Filter was not imported!")}step(t){throw new Error("iter/Step was not imported!")}skip(t){throw new Error("iter/Skip was not imported!")}take(t){throw new Error("iter/Take was not imported!")}toMap(t,r){throw new Error("iter/ToMap was not imported!")}count(){return this.reduce(0,t=>t+1)}consume(){let t=this.next();for(;!t.done;)t=this.next();return this}toArray(){return this.reduce([],(t,r)=>(t.push(r),t))}join(t){return this.toArray().join(t)}indexOf(t){let r=this.next(),n=0;for(;!r.done;){if(r.value===t)return n;n++,r=this.next()}return-1}findIndex(t){let r=this.nextWithIndex();for(;!r.done;){const[n,i]=r.value;if(t(n,i))return i;r=this.nextWithIndex()}return-1}find(t){let r=this.nextWithIndex();for(;!r.done;){const[n,i]=r.value;if(t(n,i))return cr(n);r=this.nextWithIndex()}return or()}findAll(t){return this.filter(t)}nth(t=0){let r=this.next();for(t<0&&(t=0);!r.done;){if(t--<=0)return cr(r.value);r=this.next()}return or()}first(){return this.nth(0)}last(){let t=this.next();for(;!t.done;){const r=this.next();if(r.done)return cr(t.value);t=r}return or()}any(t){return this.findIndex(t)!==-1}some(t){return this.any(t)}none(t){return this.findIndex(t)===-1}all(t){let r=this.nextWithIndex();for(;!r.done;){const[n,i]=r.value;if(!t(n,i))return!1;r=this.nextWithIndex()}return!0}unflatten(t){throw new Error("iter/Unflatten was not imported!")}reduce(t,r){let n=this.next();for(;!n.done;){const i=n.value;t=r(t,i,this._index-1),n=this.next()}return t}reverse(){return zo(this.toArray().reverse())}}function zo(e){return e!=null?typeof e[Symbol.iterator]=="function"?new he(e[Symbol.iterator]()):typeof e.next=="function"?e instanceof he?e:new he(e):zo(typeof e=="object"?Object.entries(e):[e]):zo([])}class i7 extends he{constructor(t){super(t)}next(){const t=super.nextWithIndex();return t.done?t:{value:s7(t.value)}}}he.prototype.enumerate=function(){return new i7(this)};function s7(e){const t=e[0],r=e;return r[0]=e[1],r[1]=t,r}class a7 extends he{constructor(t,r){super(t),this._fn=r}next(){let t=super.nextWithIndex();for(;!t.done;){const[r,n]=t.value;if(this._fn(r,n))return{done:!1,value:r};t=super.nextWithIndex()}return{done:!0,value:void 0}}}he.prototype.filter=function(t){return new a7(this,t)};class o7 extends he{constructor(t,r){super(t),this._fn=([n,i])=>(r(n,i),n)}next(){const t=super.nextWithIndex();return t.done?t:{done:!1,value:this._fn(t.value)}}}he.prototype.forEach=function(t){return new o7(this,t)};class c7 extends he{constructor(t,r){super(t),this._fn=([n,i])=>r(n,i)}next(){const t=super.nextWithIndex();return t.done?t:{done:!1,value:this._fn(t.value)}}}he.prototype.map=function(t){return new c7(this,t)};class u7 extends he{constructor(t,r){super(t),this._other=r}next(){const t=super.next();return t.done?this._other.next():t}}he.prototype.merge=function(t){return new u7(this,t)};class l7 extends he{constructor(){super(...arguments),this.peeked=[]}unpeekAll(){return this.peeked.length=0,this}unpeek(){return this.peeked.length>0?cr(this.peeked.shift()):or()}peek(t=0){if(t<this.peeked.length)return cr(this.peeked[t]);{let r=this.peeked.length-t-1,n=super.next();for(;!n.done&&(this.peeked.push(n.value),!(--r<=0));)n=super.next();return n.done?or():cr(n.value)}}next(){const t=this.unpeek();if(t.isSome())return{done:!1,value:t.unwrap()};const r=super.next();return r.done?r:{done:!1,value:r.value}}}he.prototype.peekable=function(){return new l7(this)};class f7 extends he{constructor(t,r){super(t),this._skipped=0,this._skip=(r<=0?0:r)|0}next(){let t=super.next();for(;!t.done;)if(this._skipped<=this._skip)this._skipped+=1,t=super.next();else return t;return{done:!0,value:void 0}}}he.prototype.skip=function(e){return new f7(this,e)};class h7 extends he{constructor(t,r){super(t),this._stepped=0,this._step=r<=0?1:r|0}next(){let t=super.next();for(;!t.done;)if(this._stepped<this._step)this._stepped+=1,t=super.next();else return this._stepped=0,t;return{done:!0,value:void 0}}}he.prototype.step=function(e){return new h7(this,e)};class d7 extends he{constructor(t,r){super(t),this._taken=0,this._count=(r<=0?0:r)|0}next(){return this._taken<this._count?(this._taken+=1,super.next()):{done:!0,value:void 0}}}he.prototype.take=function(t){return new d7(this,t)};const p7=e=>e,m7=e=>e;class y7 extends he{constructor(t,r=p7,n=m7){super(t),this._map=([i,s])=>[r(i,s),n(i,s)]}toObject(){return this.reduce({},(t,r)=>(t[r[0]]=r[1],t))}next(){const t=super.nextWithIndex();return t.done?t:{done:!1,value:this._map(t.value)}}}he.prototype.toMap=function(t,r){return new y7(this,t,r)};class b7 extends he{constructor(t,r){super(t),this._fn=r}next(){return this._fn(this._iter)}}he.prototype.unflatten=function(t){return new b7(this,t)};var xs;(function(e){e[e.Forward=0]="Forward",e[e.Backward=1]="Backward"})(xs||(xs={}));class M1{constructor(t,r,n=1){this.start=t!==t?0:t,this.end=r!==r?this.start-1:r,this.step=n!==n?1:Math.abs(n),this.direction=t>r?xs.Backward:xs.Forward}static from(t,r,n=1){return new M1(t,r,n)}getStart(){return this.start}getEnd(){return this.end}getStep(){return this.step}getDirection(){return this.direction}contains(t){return this.start<=t&&t<=this.end}isEmpty(){return this.direction===xs.Forward?this.start>this.end:this.start<this.end}iter(){return new he(this)}[Symbol.iterator](){return this}next(){if(this.isEmpty())return{done:!0,value:void 0};{const t=this.start;return this.direction===xs.Forward?this.start+=this.step:this.start-=this.step,{done:!1,value:t}}}}const g7=M1.from;function T3(e,t){return e[0]=(t&4278190080)>>24,e[1]=(t&16711680)>>16,e[2]=(t&65280)>>8,e[3]=t&255,e}const Si=Math.pow(2,31)-1|0;class v7 extends he{constructor(t){super(t),this.rng=t}iter(){return new he(this)}next(){return{done:!1,value:this.rng.nextFloat()}}}class w7 extends he{constructor(t,r=0,n=1){super(t),this.rng=t,this.min=r,this.max=n}iter(){return new he(this)}nextFloat(){return this.rng.nextFloatInRange(this.min,this.max)}next(){return{done:!1,value:this.nextFloat()}}}class _7 extends he{constructor(t,r=0,n=Si){super(t),this.rng=t,this.min=r|0,this.max=n|0}iter(){return new he(this)}nextInt(){return this.rng.nextIntInRange(this.min,this.max)}next(){return{done:!1,value:this.nextInt()}}}const x7=new Uint8Array(4);class R1{nextFloat(){return this.nextInt()/Si}nextFloatInRange(t=0,r=1){return t+this.nextFloat()*(r-t)}nextIntInRange(t=0,r=Si){return Math.round(this.nextFloatInRange(t,r))}shuffle(t){const r=t.length;for(let n=0;n<r;n++){const i=n+this.nextIntInRange(0,r-n-1),s=t[n];t[n]=t[i],t[i]=s}return t}fromArray(t){return t.length?cr(t[this.nextIntInRange(0,t.length-1)]):or()}keyFromObject(t){return this.fromArray(Object.keys(t))}valueFromObject(t){return this.fromArray(Object.values(t))}fillBytes(t){const r=x7;for(let n=0,i=t.length;n<i;n++){const s=n%4;s===0&&T3(r,this.nextInt()),t[n]=r[s]}return t}[Symbol.iterator](){return this}iter(){return new he(this)}next(){return{done:!1,value:this.nextInt()}}float(){return new v7(this)}uniformFloat(t=0,r=1){return new w7(this,t,r)}uniformInt(t=0,r=Si){return new _7(this,t,r)}}let Fo,Eu;if(typeof crypto!="undefined"&&crypto.getRandomValues){const e=new Uint32Array(1);Fo=()=>crypto.getRandomValues(e)[0]%Si,Eu=t=>crypto.getRandomValues(Array.isArray(t)?new Uint8Array(t):t)}else{const e=new Uint8Array(4);Fo=()=>Math.random()*Si|0,Eu=t=>{const r=e;for(let n=0,i=t.length;n<i;n++){const s=n%4;s===0&&T3(r,Fo()),t[n]=r[s]}return t}}class A7 extends R1{nextInt(){return Fo()}fillBytes(t){return Eu(t)}}class I3 extends R1{constructor(t=423257940){super(),this.seed=t}setSeed(t=423257940){return this.seed=t,this}nextInt(){return this.seed=Math.imul(48271,this.seed)|0%Si,this.seed&Si}}const S7=new I3;class T1 extends R1{constructor(t,r,n,i){super(),this.x=423257940,this.y=2829571177,this.z=2541948421,this.w=289122235,this.set(t,r,n,i)}static fromSeed(t){return new T1().setSeed(t)}setSeed(t){const r=S7.setSeed(t);return this.set(r.nextInt(),r.nextInt(),r.nextInt(),r.nextInt())}set(t=423257940,r=2829571177,n=2541948421,i=289122235){return this.x=t|0,this.y=r|0,this.z=n|0,this.w=i|0,this}nextInt(){const t=this.x,r=t^t<<11;this.x=this.y,this.y=this.z,this.z=this.w;const n=this.w;return this.w=n^n>>19^(r^r>>8),this.w}}new I3;new T1;const ko={length:16,includeSymbols:!0,excludeSimilarCharacters:!1,excludeAmbiguousCharacters:!1};function k7(e={}){const t=Math.max(6,e.length||ko.length),r=e.includeSymbols!=null?e.includeSymbols:ko.includeSymbols,n=e.excludeSimilarCharacters!=null?e.excludeSimilarCharacters:ko.excludeSimilarCharacters,i=e.excludeAmbiguousCharacters!=null?e.excludeAmbiguousCharacters:ko.excludeAmbiguousCharacters,s=new A7;return g7(0,t).iter().map(()=>Pu(s,r,n,i)).join("")}const E7="il1Lo0O".split(""),P7="{}[]()/\\'\"`~,;:.<>".split("");function Pu(e,t,r,n){let i=t&&e.nextFloat()>.75?M7(e):T7(e);return r&&E7.includes(i)&&(i=Pu(e,t,r,n)),n&&P7.includes(i)&&(i=Pu(e,t,r,n)),i}const C7="`~!@#$%^&*()-_+={}[]|:;<>,.\\/?".split("").sort(()=>Math.random()>.5?-1:1);function M7(e){return e.fromArray(C7).unwrap()}const R7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split("").sort(()=>Math.random()>.5?-1:1);function T7(e){return e.fromArray(R7).unwrap()}function I7(e){let t,r,n,i,s,a,o,u,c,l,h,d,p,g,v,_,k,P;return{c(){t=At("label"),r=be("Symbols?"),n=Lt(),i=At("input"),s=Lt(),a=At("label"),o=be("Exclude Similar?"),u=Lt(),c=At("input"),l=Lt(),h=At("label"),d=be("Exclude Ambiguous?"),p=Lt(),g=At("input"),v=Lt(),_=At("input"),this.h()},l(A){t=St(A,"LABEL",{for:!0});var E=Et(t);r=ge(E,"Symbols?"),E.forEach(ht),n=jt(A),i=St(A,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),s=jt(A),a=St(A,"LABEL",{for:!0});var z=Et(a);o=ge(z,"Exclude Similar?"),z.forEach(ht),u=jt(A),c=St(A,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),l=jt(A),h=St(A,"LABEL",{for:!0});var w=Et(h);d=ge(w,"Exclude Ambiguous?"),w.forEach(ht),p=jt(A),g=St(A,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),v=jt(A),_=St(A,"INPUT",{id:!0,class:!0,type:!0,min:!0,placeholder:!0}),this.h()},h(){dt(t,"for","includeSymbols"),dt(i,"id","includeSymbols"),dt(i,"type","checkbox"),dt(i,"class","as-checkbox"),dt(i,"placeholder","Length"),dt(a,"for","excludeSimilarCharacters"),dt(c,"id","excludeSimilarCharacters"),dt(c,"type","checkbox"),dt(c,"class","as-checkbox"),dt(c,"placeholder","Length"),dt(h,"for","excludeAmbiguousCharacters"),dt(g,"id","excludeAmbiguousCharacters"),dt(g,"type","checkbox"),dt(g,"class","as-checkbox"),dt(g,"placeholder","Length"),dt(_,"id","length"),dt(_,"class","as-input"),dt(_,"type","number"),dt(_,"min",6),dt(_,"placeholder","Length")},m(A,E){kt(A,t,E),xt(t,r),kt(A,n,E),kt(A,i,E),i.checked=e[1],kt(A,s,E),kt(A,a,E),xt(a,o),kt(A,u,E),kt(A,c,E),c.checked=e[2],kt(A,l,E),kt(A,h,E),xt(h,d),kt(A,p,E),kt(A,g,E),g.checked=e[3],kt(A,v,E),kt(A,_,E),Ue(_,e[0]),k||(P=[re(i,"change",e[5]),re(c,"change",e[6]),re(g,"change",e[7]),re(_,"input",e[8])],k=!0)},p(A,[E]){E&2&&(i.checked=A[1]),E&4&&(c.checked=A[2]),E&8&&(g.checked=A[3]),E&1&&ah(_.value)!==A[0]&&Ue(_,A[0])},i:Me,o:Me,d(A){A&&ht(t),A&&ht(n),A&&ht(i),A&&ht(s),A&&ht(a),A&&ht(u),A&&ht(c),A&&ht(l),A&&ht(h),A&&ht(p),A&&ht(g),A&&ht(v),A&&ht(_),k=!1,Rr(P)}}}function B7(e,t,r){function n(){return k7({length:i,includeSymbols:s,excludeSimilarCharacters:a,excludeAmbiguousCharacters:o})}let i=16,s=!0,a=!1,o=!1;function u(){s=this.checked,r(1,s)}function c(){a=this.checked,r(2,a)}function l(){o=this.checked,r(3,o)}function h(){i=ah(this.value),r(0,i)}return[i,s,a,o,n,u,c,l,h]}class D7 extends Pe{constructor(t){super(),Ce(this,t,B7,I7,nr,{generate:4})}get generate(){return this.$$.ctx[4]}}function U7(e){let t;return{c(){t=Hn("path"),this.h()},l(r){t=Wn(r,"path",{d:!0}),Et(t).forEach(ht),this.h()},h(){dt(t,"d","M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z")},m(r,n){kt(r,t,n)},p:Me,d(r){r&&ht(t)}}}function N7(e){let t,r;const n=[{viewBox:"0 0 24 24"},e[0]];let i={$$slots:{default:[U7]},$$scope:{ctx:e}};for(let s=0;s<n.length;s+=1)i=Be(i,n[s]);return t=new as({props:i}),{c(){Yt(t.$$.fragment)},l(s){Xt(t.$$.fragment,s)},m(s,a){Jt(t,s,a),r=!0},p(s,[a]){const o=a&1?is(n,[n[0],ss(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),t.$set(o)},i(s){r||(Ct(t.$$.fragment,s),r=!0)},o(s){Mt(t.$$.fragment,s),r=!1},d(s){Zt(t,s)}}}function O7(e,t,r){return e.$$set=n=>{r(0,t=Be(Be({},t),gr(n)))},t=gr(t),[t]}class z7 extends Pe{constructor(t){super(),Ce(this,t,O7,N7,Zn,{})}}function F7(e){let t;return{c(){t=At("input"),this.h()},l(r){t=St(r,"INPUT",{id:!0,name:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){dt(t,"id",e[2]),dt(t,"name",e[3]),dt(t,"class","as-input as-flex-1"),dt(t,"type","password"),dt(t,"placeholder","Hidden"),t.disabled=e[5]},m(r,n){kt(r,t,n)},p(r,n){n&4&&dt(t,"id",r[2]),n&8&&dt(t,"name",r[3]),n&32&&(t.disabled=r[5])},d(r){r&&ht(t)}}}function K7(e){let t,r,n;return{c(){t=At("textarea"),this.h()},l(i){t=St(i,"TEXTAREA",{id:!0,name:!0,rows:!0,class:!0,type:!0,placeholder:!0}),Et(t).forEach(ht),this.h()},h(){dt(t,"id",e[2]),dt(t,"name",e[3]),dt(t,"rows",8),dt(t,"class","as-textarea as-flex-1 as-max-h-32 as-resize-none"),dt(t,"type","text"),dt(t,"placeholder","Enter a Password"),t.disabled=e[5]},m(i,s){kt(i,t,s),Ue(t,e[0]),r||(n=[re(t,"input",e[14]),re(t,"input",function(){Mi(e[4])&&e[4].apply(this,arguments)})],r=!0)},p(i,s){e=i,s&4&&dt(t,"id",e[2]),s&8&&dt(t,"name",e[3]),s&32&&(t.disabled=e[5]),s&1&&Ue(t,e[0])},d(i){i&&ht(t),r=!1,Rr(n)}}}function L7(e){let t,r;return t=new rc({}),{c(){Yt(t.$$.fragment)},l(n){Xt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},i(n){r||(Ct(t.$$.fragment,n),r=!0)},o(n){Mt(t.$$.fragment,n),r=!1},d(n){Zt(t,n)}}}function j7(e){let t,r;return t=new P1({}),{c(){Yt(t.$$.fragment)},l(n){Xt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},i(n){r||(Ct(t.$$.fragment,n),r=!0)},o(n){Mt(t.$$.fragment,n),r=!1},d(n){Zt(t,n)}}}function q7(e){let t,r,n,i,s,a,o,u,c,l,h,d,p,g,v,_,k,P,A,E,z,w,M,f;function b(q,Z){return q[1]?K7:F7}let y=b(e),m=y(e);u=new z7({}),d=new M3({}),_=new C3({});const x=[j7,L7],I=[];function O(q,Z){return q[1]?0:1}return E=O(e),z=I[E]=x[E](e),{c(){t=At("div"),m.c(),r=Lt(),n=At("div"),i=At("button"),s=At("input"),a=Lt(),o=At("div"),Yt(u.$$.fragment),c=Lt(),l=At("button"),h=At("div"),Yt(d.$$.fragment),p=Lt(),g=At("button"),v=At("div"),Yt(_.$$.fragment),k=Lt(),P=At("button"),A=At("div"),z.c(),this.h()},l(q){t=St(q,"DIV",{class:!0});var Z=Et(t);m.l(Z),r=jt(Z),n=St(Z,"DIV",{class:!0});var S=Et(n);i=St(S,"BUTTON",{class:!0});var U=Et(i);s=St(U,"INPUT",{type:!0}),a=jt(U),o=St(U,"DIV",{class:!0});var V=Et(o);Xt(u.$$.fragment,V),V.forEach(ht),U.forEach(ht),c=jt(S),l=St(S,"BUTTON",{class:!0});var Q=Et(l);h=St(Q,"DIV",{class:!0});var G=Et(h);Xt(d.$$.fragment,G),G.forEach(ht),Q.forEach(ht),p=jt(S),g=St(S,"BUTTON",{class:!0});var it=Et(g);v=St(it,"DIV",{class:!0});var st=Et(v);Xt(_.$$.fragment,st),st.forEach(ht),it.forEach(ht),k=jt(S),P=St(S,"BUTTON",{class:!0});var rt=Et(P);A=St(rt,"DIV",{class:!0});var F=Et(A);z.l(F),F.forEach(ht),rt.forEach(ht),S.forEach(ht),Z.forEach(ht),this.h()},h(){dt(s,"type","file"),s.multiple=!1,s.hidden=!0,dt(o,"class","as-w-5 as-h-5"),dt(i,"class","as-btn as-primary as-p-2"),dt(h,"class","as-w-5 as-h-5"),dt(l,"class","as-btn as-primary as-p-2"),Or(l,"as-secondary",!e[5]),dt(v,"class","as-w-5 as-h-5"),dt(g,"class","as-btn as-primary as-p-2"),dt(A,"class","as-w-5 as-h-5"),dt(P,"class","as-btn as-primary as-p-2"),dt(n,"class","as-absolute as-top-0 as-right-0 as-flex-row as-flex"),dt(t,"class","as-flex as-relative")},m(q,Z){kt(q,t,Z),m.m(t,null),xt(t,r),xt(t,n),xt(n,i),xt(i,s),e[15](s),xt(i,a),xt(i,o),Jt(u,o,null),xt(n,c),xt(n,l),xt(l,h),Jt(d,h,null),xt(n,p),xt(n,g),xt(g,v),Jt(_,v,null),xt(n,k),xt(n,P),xt(P,A),I[E].m(A,null),w=!0,M||(f=[re(s,"input",e[11]),re(i,"click",e[10]),re(l,"click",e[9]),re(g,"click",e[8]),re(P,"click",e[7])],M=!0)},p(q,[Z]){y===(y=b(q))&&m?m.p(q,Z):(m.d(1),m=y(q),m&&(m.c(),m.m(t,r))),Z&32&&Or(l,"as-secondary",!q[5]);let S=E;E=O(q),E!==S&&(Cr(),Mt(I[S],1,1,()=>{I[S]=null}),Mr(),z=I[E],z||(z=I[E]=x[E](q),z.c()),Ct(z,1),z.m(A,null))},i(q){w||(Ct(u.$$.fragment,q),Ct(d.$$.fragment,q),Ct(_.$$.fragment,q),Ct(z),w=!0)},o(q){Mt(u.$$.fragment,q),Mt(d.$$.fragment,q),Mt(_.$$.fragment,q),Mt(z),w=!1},d(q){q&&ht(t),m.d(),e[15](null),Zt(u),Zt(d),Zt(_),I[E].d(),M=!1,Rr(f)}}}function $7(e,t,r){let{id:n=void 0}=t,{name:i=void 0}=t,{text:s}=t,{onUploadFile:a=()=>{}}=t,{onInput:o=()=>{}}=t,{onShow:u=()=>{}}=t,{show:c=!1}=t;function l(){r(1,c=!c),c===!1?r(5,d=!0):u()}async function h(){navigator.clipboard.writeText(s)}let d=!c;function p(){r(5,d=!d),d===!1&&r(1,c=!0)}let g;function v(){g.click()}function _(A){if(!A.currentTarget.files)return;const E=A.currentTarget.files[0];if(E){const z=new FileReader;z.onload=w=>{var M;r(0,s=(M=w.target)==null?void 0:M.result),a(s)},z.readAsText(E)}}function k(){s=this.value,r(0,s)}function P(A){zr[A?"unshift":"push"](()=>{g=A,r(6,g)})}return e.$$set=A=>{"id"in A&&r(2,n=A.id),"name"in A&&r(3,i=A.name),"text"in A&&r(0,s=A.text),"onUploadFile"in A&&r(12,a=A.onUploadFile),"onInput"in A&&r(4,o=A.onInput),"onShow"in A&&r(13,u=A.onShow),"show"in A&&r(1,c=A.show)},[s,c,n,i,o,d,g,l,h,p,v,_,a,u,k,P]}class B3 extends Pe{constructor(t){super(),Ce(this,t,$7,q7,nr,{id:2,name:3,text:0,onUploadFile:12,onInput:4,onShow:13,show:1})}}function H7(e){let t,r,n,i,s,a;function o(c){e[19](c)}let u={id:"text",name:"secret",show:!0,onInput:e[7],onUploadFile:e[9]};return e[4]!==void 0&&(u.text=e[4]),i=new B3({props:u}),zr.push(()=>vn(i,"text",o)),{c(){t=At("label"),r=be("Text"),n=Lt(),Yt(i.$$.fragment),this.h()},l(c){t=St(c,"LABEL",{for:!0});var l=Et(t);r=ge(l,"Text"),l.forEach(ht),n=jt(c),Xt(i.$$.fragment,c),this.h()},h(){dt(t,"for","text")},m(c,l){kt(c,t,l),xt(t,r),kt(c,n,l),Jt(i,c,l),a=!0},p(c,l){const h={};!s&&l&16&&(s=!0,h.text=c[4],wn(()=>s=!1)),i.$set(h)},i(c){a||(Ct(i.$$.fragment,c),a=!0)},o(c){Mt(i.$$.fragment,c),a=!1},d(c){c&&ht(t),c&&ht(n),Zt(i,c)}}}function W7(e){let t,r,n,i,s,a,o,u;function c(d){e[17](d)}let l={id:"password",name:"secret",show:!0,onInput:e[7]};e[4]!==void 0&&(l.password=e[4]),i=new R3({props:l}),zr.push(()=>vn(i,"password",c));let h={};return o=new D7({props:h}),e[18](o),{c(){t=At("label"),r=be("Password"),n=Lt(),Yt(i.$$.fragment),a=Lt(),Yt(o.$$.fragment),this.h()},l(d){t=St(d,"LABEL",{for:!0});var p=Et(t);r=ge(p,"Password"),p.forEach(ht),n=jt(d),Xt(i.$$.fragment,d),a=jt(d),Xt(o.$$.fragment,d),this.h()},h(){dt(t,"for","password")},m(d,p){kt(d,t,p),xt(t,r),kt(d,n,p),Jt(i,d,p),kt(d,a,p),Jt(o,d,p),u=!0},p(d,p){const g={};!s&&p&16&&(s=!0,g.password=d[4],wn(()=>s=!1)),i.$set(g);const v={};o.$set(v)},i(d){u||(Ct(i.$$.fragment,d),Ct(o.$$.fragment,d),u=!0)},o(d){Mt(i.$$.fragment,d),Mt(o.$$.fragment,d),u=!1},d(d){d&&ht(t),d&&ht(n),Zt(i,d),d&&ht(a),e[18](null),Zt(o,d)}}}function G7(e){let t,r,n,i,s;return{c(){t=At("div"),r=At("button"),n=be("Add"),this.h()},l(a){t=St(a,"DIV",{class:!0});var o=Et(t);r=St(o,"BUTTON",{class:!0});var u=Et(r);n=ge(u,"Add"),u.forEach(ht),o.forEach(ht),this.h()},h(){dt(r,"class","as-btn as-primary"),r.disabled=e[6],dt(t,"class","as-flex as-justify-end as-mt-6")},m(a,o){kt(a,t,o),xt(t,r),xt(r,n),i||(s=re(r,"click",e[11]),i=!0)},p(a,o){o&64&&(r.disabled=a[6])},d(a){a&&ht(t),i=!1,s()}}}function V7(e){let t,r,n,i,s,a,o,u;return{c(){t=At("div"),r=At("button"),n=be("Generate"),i=Lt(),s=At("button"),a=be("Add"),this.h()},l(c){t=St(c,"DIV",{class:!0});var l=Et(t);r=St(l,"BUTTON",{class:!0});var h=Et(r);n=ge(h,"Generate"),h.forEach(ht),i=jt(l),s=St(l,"BUTTON",{class:!0});var d=Et(s);a=ge(d,"Add"),d.forEach(ht),l.forEach(ht),this.h()},h(){dt(r,"class","as-btn as-primary"),dt(s,"class","as-btn as-primary"),s.disabled=e[6],dt(t,"class","as-flex as-justify-between as-mt-6")},m(c,l){kt(c,t,l),xt(t,r),xt(r,n),xt(t,i),xt(t,s),xt(s,a),o||(u=[re(r,"click",e[10]),re(s,"click",e[11])],o=!0)},p(c,l){l&64&&(s.disabled=c[6])},d(c){c&&ht(t),o=!1,Rr(u)}}}function Y7(e){let t,r,n,i,s,a,o,u,c,l,h,d,p,g,v,_,k,P,A,E,z,w,M,f,b,y,m,x,I,O,q,Z,S,U;a=new ba({props:{messages:e[1].getErrors("application")}}),p=new ba({props:{messages:e[1].getErrors("username")}}),f=new ba({props:{messages:e[1].getErrors("type")}});const V=[W7,H7],Q=[];function G(F,H){return F[2]==="password"?0:F[2]==="text"?1:-1}~(y=G(e))&&(m=Q[y]=V[y](e)),I=new ba({props:{messages:e[1].getErrors("secret")}});function it(F,H){return F[2]==="password"?V7:G7}let st=it(e),rt=st(e);return{c(){t=At("label"),r=be("Application or URL"),n=Lt(),i=At("input"),s=Lt(),Yt(a.$$.fragment),o=Lt(),u=At("label"),c=be("Username"),l=Lt(),h=At("input"),d=Lt(),Yt(p.$$.fragment),g=Lt(),v=At("label"),_=be("Secret Type"),k=Lt(),P=At("select"),A=At("option"),E=be("Password"),z=At("option"),w=be("Text"),M=Lt(),Yt(f.$$.fragment),b=Lt(),m&&m.c(),x=Lt(),Yt(I.$$.fragment),O=Lt(),rt.c(),q=qe(),this.h()},l(F){t=St(F,"LABEL",{for:!0});var H=Et(t);r=ge(H,"Application or URL"),H.forEach(ht),n=jt(F),i=St(F,"INPUT",{id:!0,name:!0,class:!0,type:!0,placeholder:!0}),s=jt(F),Xt(a.$$.fragment,F),o=jt(F),u=St(F,"LABEL",{for:!0});var K=Et(u);c=ge(K,"Username"),K.forEach(ht),l=jt(F),h=St(F,"INPUT",{id:!0,name:!0,class:!0,type:!0,placeholder:!0}),d=jt(F),Xt(p.$$.fragment,F),g=jt(F),v=St(F,"LABEL",{for:!0});var C=Et(v);_=ge(C,"Secret Type"),C.forEach(ht),k=jt(F),P=St(F,"SELECT",{id:!0,class:!0});var Y=Et(P);A=St(Y,"OPTION",{});var T=Et(A);E=ge(T,"Password"),T.forEach(ht),z=St(Y,"OPTION",{});var N=Et(z);w=ge(N,"Text"),N.forEach(ht),Y.forEach(ht),M=jt(F),Xt(f.$$.fragment,F),b=jt(F),m&&m.l(F),x=jt(F),Xt(I.$$.fragment,F),O=jt(F),rt.l(F),q=qe(),this.h()},h(){dt(t,"for","application"),dt(i,"id","application"),dt(i,"name","application"),dt(i,"class","as-input"),dt(i,"type","text"),dt(i,"placeholder","Application or URL"),dt(u,"for","username"),dt(h,"id","username"),dt(h,"name","username"),dt(h,"class","as-input"),dt(h,"type","text"),dt(h,"placeholder","Username"),dt(v,"for","type"),A.__value="password",A.value=A.__value,z.__value="text",z.value=z.__value,dt(P,"id","type"),dt(P,"class","as-input"),e[2]===void 0&&oh(()=>e[16].call(P))},m(F,H){kt(F,t,H),xt(t,r),kt(F,n,H),kt(F,i,H),Ue(i,e[0]),kt(F,s,H),Jt(a,F,H),kt(F,o,H),kt(F,u,H),xt(u,c),kt(F,l,H),kt(F,h,H),Ue(h,e[3]),kt(F,d,H),Jt(p,F,H),kt(F,g,H),kt(F,v,H),xt(v,_),kt(F,k,H),kt(F,P,H),xt(P,A),xt(A,E),xt(P,z),xt(z,w),Ko(P,e[2]),kt(F,M,H),Jt(f,F,H),kt(F,b,H),~y&&Q[y].m(F,H),kt(F,x,H),Jt(I,F,H),kt(F,O,H),rt.m(F,H),kt(F,q,H),Z=!0,S||(U=[re(i,"input",e[14]),re(i,"input",e[7]),re(i,"change",e[8]),re(h,"input",e[15]),re(h,"input",e[7]),re(P,"change",e[16])],S=!0)},p(F,[H]){H&1&&i.value!==F[0]&&Ue(i,F[0]);const K={};H&2&&(K.messages=F[1].getErrors("application")),a.$set(K),H&8&&h.value!==F[3]&&Ue(h,F[3]);const C={};H&2&&(C.messages=F[1].getErrors("username")),p.$set(C),H&4&&Ko(P,F[2]);const Y={};H&2&&(Y.messages=F[1].getErrors("type")),f.$set(Y);let T=y;y=G(F),y===T?~y&&Q[y].p(F,H):(m&&(Cr(),Mt(Q[T],1,1,()=>{Q[T]=null}),Mr()),~y?(m=Q[y],m?m.p(F,H):(m=Q[y]=V[y](F),m.c()),Ct(m,1),m.m(x.parentNode,x)):m=null);const N={};H&2&&(N.messages=F[1].getErrors("secret")),I.$set(N),st===(st=it(F))&&rt?rt.p(F,H):(rt.d(1),rt=st(F),rt&&(rt.c(),rt.m(q.parentNode,q)))},i(F){Z||(Ct(a.$$.fragment,F),Ct(p.$$.fragment,F),Ct(f.$$.fragment,F),Ct(m),Ct(I.$$.fragment,F),Z=!0)},o(F){Mt(a.$$.fragment,F),Mt(p.$$.fragment,F),Mt(f.$$.fragment,F),Mt(m),Mt(I.$$.fragment,F),Z=!1},d(F){F&&ht(t),F&&ht(n),F&&ht(i),F&&ht(s),Zt(a,F),F&&ht(o),F&&ht(u),F&&ht(l),F&&ht(h),F&&ht(d),Zt(p,F),F&&ht(g),F&&ht(v),F&&ht(k),F&&ht(P),F&&ht(M),Zt(f,F),F&&ht(b),~y&&Q[y].d(F),F&&ht(x),Zt(I,F),F&&ht(O),rt.d(F),F&&ht(q),S=!1,Rr(U)}}}const Xf=O8((e,t)=>{k3(t),Hc("application","Application is required",()=>{Lc(e.application).isNotBlank()}),Hc("username","Username is required",()=>{Lc(e.username).isNotBlank()}),Hc("secret","Secret is required",()=>{Lc(e.secret).isNotBlank()})});function X7(e,t,r){let n,{application:i=""}=t,{onAdd:s=()=>{}}=t,a="password",o="",u="",c=Xf.get();i&&l("application");function l(f){r(1,c=Xf({type:a,application:i,username:o,secret:u},f))}function h(f){l(f.currentTarget.name)}function d(f){r(0,i=Ta(f.currentTarget.value)),l("application")}function p(f){r(4,u=f),l("secret")}let g;function v(){r(4,u=g.generate()),l("secret")}let _=!1;async function k(){r(13,_=!0);try{await A6({type:a,application:i,username:o,secret:u}),s()}catch(f){console.error(f),Bu(f.message)}finally{r(13,_=!1)}}function P(){i=this.value,r(0,i)}function A(){o=this.value,r(3,o)}function E(){a=ch(this),r(2,a)}function z(f){u=f,r(4,u)}function w(f){zr[f?"unshift":"push"](()=>{g=f,r(5,g)})}function M(f){u=f,r(4,u)}return e.$$set=f=>{"application"in f&&r(0,i=f.application),"onAdd"in f&&r(12,s=f.onAdd)},e.$$.update=()=>{e.$$.dirty&8194&&r(6,n=_||!c.isValid())},[i,c,a,o,u,g,n,h,d,p,v,k,s,_,P,A,E,z,w,M]}class J7 extends Pe{constructor(t){super(),Ce(this,t,X7,Y7,nr,{application:0,onAdd:12})}}function Z7(e){let t;return{c(){t=Hn("path"),this.h()},l(r){t=Wn(r,"path",{d:!0}),Et(t).forEach(ht),this.h()},h(){dt(t,"d","M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z")},m(r,n){kt(r,t,n)},p:Me,d(r){r&&ht(t)}}}function Q7(e){let t,r;const n=[{viewBox:"0 0 24 24"},e[0]];let i={$$slots:{default:[Z7]},$$scope:{ctx:e}};for(let s=0;s<n.length;s+=1)i=Be(i,n[s]);return t=new as({props:i}),{c(){Yt(t.$$.fragment)},l(s){Xt(t.$$.fragment,s)},m(s,a){Jt(t,s,a),r=!0},p(s,[a]){const o=a&1?is(n,[n[0],ss(s[0])]):{};a&2&&(o.$$scope={dirty:a,ctx:s}),t.$set(o)},i(s){r||(Ct(t.$$.fragment,s),r=!0)},o(s){Mt(t.$$.fragment,s),r=!1},d(s){Zt(t,s)}}}function t9(e,t,r){return e.$$set=n=>{r(0,t=Be(Be({},t),gr(n)))},t=gr(t),[t]}class e9 extends Pe{constructor(t){super(),Ce(this,t,t9,Q7,Zn,{})}}function r9(e){let t,r,n,i,s;return n=new e9({}),{c(){t=At("div"),r=At("div"),Yt(n.$$.fragment),this.h()},l(a){t=St(a,"DIV",{class:!0});var o=Et(t);r=St(o,"DIV",{class:!0});var u=Et(r);Xt(n.$$.fragment,u),u.forEach(ht),o.forEach(ht),this.h()},h(){dt(r,"class",i="as-transition-opacity "+(e[0]?"as-animate-wiggle":"")),Or(r,"as-opacity-0",!e[0]),Or(r,"as-opacity-100",e[0]),dt(t,"class","as-relative as-w-8 as-h-8")},m(a,o){kt(a,t,o),xt(t,r),Jt(n,r,null),s=!0},p(a,[o]){(!s||o&1&&i!==(i="as-transition-opacity "+(a[0]?"as-animate-wiggle":"")))&&dt(r,"class",i),o&1&&Or(r,"as-opacity-0",!a[0]),o&1&&Or(r,"as-opacity-100",a[0])},i(a){s||(Ct(n.$$.fragment,a),s=!0)},o(a){Mt(n.$$.fragment,a),s=!1},d(a){a&&ht(t),Zt(n)}}}function n9(e,t,r){let{saving:n=!1}=t,i=!1,s=Date.now();return e.$$set=a=>{"saving"in a&&r(1,n=a.saving)},e.$$.update=()=>{if(e.$$.dirty&6)if(n)r(0,i=!0),r(2,s=Date.now());else{const a=Date.now()-s;a<1e3?setTimeout(()=>{r(0,i=!1)},1e3-a):r(0,i=!1)}},[i,n,s]}class i9 extends Pe{constructor(t){super(),Ce(this,t,n9,r9,nr,{saving:1})}}const Jf=()=>{};function s9(e,t=0,r={}){let n=null,i=!1;const s=r.before||Jf,a=r.after||Jf;function o(){n!=null&&(clearTimeout(n),n=null)}function u(){i=!1,o()}function c(){o(),l()}function l(...d){i=!1,e.apply(this,d),a()}const h=function(...p){i||(i=!0,s()),o(),!!r.isImmediate&&n==null?l(this,p):n=setTimeout(()=>{n=null,l(this,p)},t)};return h.cancel=u,h.flush=c,h}function a9(e){let t,r,n,i,s,a,o,u,c,l;return o=new rc({}),{c(){t=At("div"),r=At("input"),n=Lt(),i=At("div"),s=At("button"),a=At("div"),Yt(o.$$.fragment),this.h()},l(h){t=St(h,"DIV",{class:!0});var d=Et(t);r=St(d,"INPUT",{id:!0,name:!0,class:!0,type:!0,placeholder:!0}),n=jt(d),i=St(d,"DIV",{class:!0});var p=Et(i);s=St(p,"BUTTON",{class:!0});var g=Et(s);a=St(g,"DIV",{class:!0});var v=Et(a);Xt(o.$$.fragment,v),v.forEach(ht),g.forEach(ht),p.forEach(ht),d.forEach(ht),this.h()},h(){dt(r,"id",e[0]),dt(r,"name",e[1]),dt(r,"class","as-input as-flex-1"),dt(r,"type","password"),dt(r,"placeholder","Enter a Password"),r.disabled=!0,r.value="Encrypted Password",dt(a,"class","as-w-5 as-h-5"),dt(s,"class","as-btn as-primary as-p-2"),dt(i,"class","as-grow-0 as-flex-row as-flex"),dt(t,"class","as-flex")},m(h,d){kt(h,t,d),xt(t,r),xt(t,n),xt(t,i),xt(i,s),xt(s,a),Jt(o,a,null),u=!0,c||(l=re(s,"click",function(){Mi(e[2])&&e[2].apply(this,arguments)}),c=!0)},p(h,[d]){e=h,(!u||d&1)&&dt(r,"id",e[0]),(!u||d&2)&&dt(r,"name",e[1])},i(h){u||(Ct(o.$$.fragment,h),u=!0)},o(h){Mt(o.$$.fragment,h),u=!1},d(h){h&&ht(t),Zt(o),c=!1,l()}}}function o9(e,t,r){let{id:n=void 0}=t,{name:i=void 0}=t,{onShow:s=()=>{}}=t;return e.$$set=a=>{"id"in a&&r(0,n=a.id),"name"in a&&r(1,i=a.name),"onShow"in a&&r(2,s=a.onShow)},[n,i,s]}class c9 extends Pe{constructor(t){super(),Ce(this,t,o9,a9,nr,{id:0,name:1,onShow:2})}}function u9(e){let t,r;return t=new c9({props:{onShow:e[2]}}),{c(){Yt(t.$$.fragment)},l(n){Xt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},p:Me,i(n){r||(Ct(t.$$.fragment,n),r=!0)},o(n){Mt(t.$$.fragment,n),r=!1},d(n){Zt(t,n)}}}function l9(e){let t,r,n,i;const s=[h9,f9],a=[];function o(u,c){return u[0].type==="password"?0:u[0].type==="text"?1:-1}return~(t=o(e))&&(r=a[t]=s[t](e)),{c(){r&&r.c(),n=qe()},l(u){r&&r.l(u),n=qe()},m(u,c){~t&&a[t].m(u,c),kt(u,n,c),i=!0},p(u,c){let l=t;t=o(u),t===l?~t&&a[t].p(u,c):(r&&(Cr(),Mt(a[l],1,1,()=>{a[l]=null}),Mr()),~t?(r=a[t],r?r.p(u,c):(r=a[t]=s[t](u),r.c()),Ct(r,1),r.m(n.parentNode,n)):r=null)},i(u){i||(Ct(r),i=!0)},o(u){Mt(r),i=!1},d(u){~t&&a[t].d(u),u&&ht(n)}}}function f9(e){let t,r,n,i;function s(u){e[9](u)}function a(u){e[10](u)}let o={onInput:e[4],onUploadFile:e[4],onShow:e[2]};return e[0].secret!==void 0&&(o.text=e[0].secret),e[1]!==void 0&&(o.show=e[1]),t=new B3({props:o}),zr.push(()=>vn(t,"text",s)),zr.push(()=>vn(t,"show",a)),{c(){Yt(t.$$.fragment)},l(u){Xt(t.$$.fragment,u)},m(u,c){Jt(t,u,c),i=!0},p(u,c){const l={};!r&&c&1&&(r=!0,l.text=u[0].secret,wn(()=>r=!1)),!n&&c&2&&(n=!0,l.show=u[1],wn(()=>n=!1)),t.$set(l)},i(u){i||(Ct(t.$$.fragment,u),i=!0)},o(u){Mt(t.$$.fragment,u),i=!1},d(u){Zt(t,u)}}}function h9(e){let t,r,n,i;function s(u){e[7](u)}function a(u){e[8](u)}let o={onInput:e[4]};return e[0].secret!==void 0&&(o.password=e[0].secret),e[1]!==void 0&&(o.show=e[1]),t=new R3({props:o}),zr.push(()=>vn(t,"password",s)),zr.push(()=>vn(t,"show",a)),{c(){Yt(t.$$.fragment)},l(u){Xt(t.$$.fragment,u)},m(u,c){Jt(t,u,c),i=!0},p(u,c){const l={};!r&&c&1&&(r=!0,l.password=u[0].secret,wn(()=>r=!1)),!n&&c&2&&(n=!0,l.show=u[1],wn(()=>n=!1)),t.$set(l)},i(u){i||(Ct(t.$$.fragment,u),i=!0)},o(u){Mt(t.$$.fragment,u),i=!1},d(u){Zt(t,u)}}}function d9(e){let t,r,n,i,s,a,o,u,c,l,h,d,p,g;s=new H2({});const v=[l9,u9],_=[];function k(P,A){return P[0].secret!=null?0:1}return l=k(e),h=_[l]=v[l](e),{c(){t=At("div"),r=At("div"),n=At("button"),i=At("div"),Yt(s.$$.fragment),a=Lt(),o=At("div"),u=At("input"),c=Lt(),h.c(),this.h()},l(P){t=St(P,"DIV",{class:!0});var A=Et(t);r=St(A,"DIV",{class:!0});var E=Et(r);n=St(E,"BUTTON",{class:!0});var z=Et(n);i=St(z,"DIV",{class:!0});var w=Et(i);Xt(s.$$.fragment,w),w.forEach(ht),z.forEach(ht),E.forEach(ht),a=jt(A),o=St(A,"DIV",{class:!0});var M=Et(o);u=St(M,"INPUT",{class:!0,type:!0,placeholder:!0}),c=jt(M),h.l(M),M.forEach(ht),A.forEach(ht),this.h()},h(){dt(i,"class","as-w-6 as-h-6"),dt(n,"class","as-btn as-danger as-p-1"),dt(r,"class","as-flex-grow-0 as-mr-2"),dt(u,"class","as-input"),dt(u,"type","text"),dt(u,"placeholder","Username"),dt(o,"class","as-flex-grow"),dt(t,"class","as-flex as-flex-row as-w-full as-mb-2")},m(P,A){kt(P,t,A),xt(t,r),xt(r,n),xt(n,i),Jt(s,i,null),xt(t,a),xt(t,o),xt(o,u),Ue(u,e[0].username),xt(o,c),_[l].m(o,null),d=!0,p||(g=[re(n,"click",e[3]),re(u,"input",e[6]),re(u,"input",e[4])],p=!0)},p(P,[A]){A&1&&u.value!==P[0].username&&Ue(u,P[0].username);let E=l;l=k(P),l===E?_[l].p(P,A):(Cr(),Mt(_[E],1,1,()=>{_[E]=null}),Mr(),h=_[l],h?h.p(P,A):(h=_[l]=v[l](P),h.c()),Ct(h,1),h.m(o,null))},i(P){d||(Ct(s.$$.fragment,P),Ct(h),d=!0)},o(P){Mt(s.$$.fragment,P),Mt(h),d=!1},d(P){P&&ht(t),Zt(s),_[l].d(),p=!1,Rr(g)}}}function p9(e,t,r){let{secret:n}=t,{onDelete:i=()=>{}}=t,s=!1;async function a(){try{await k6(n)}catch(v){console.error(v),Bu(v.message)}}function o(){i(n)}async function u(){n.application&&n.username&&n.secret&&await S6(n.id,{type:n.type,application:n.application,username:n.username,secret:n.secret})}const c=s9(u,1e3);function l(){n.username=this.value,r(0,n)}function h(v){e.$$.not_equal(n.secret,v)&&(n.secret=v,r(0,n))}function d(v){s=v,r(1,s)}function p(v){e.$$.not_equal(n.secret,v)&&(n.secret=v,r(0,n))}function g(v){s=v,r(1,s)}return e.$$set=v=>{"secret"in v&&r(0,n=v.secret),"onDelete"in v&&r(5,i=v.onDelete)},[n,s,a,o,c,i,l,h,d,p,g]}class D3 extends Pe{constructor(t){super(),Ce(this,t,p9,d9,nr,{secret:0,onDelete:5})}}function Zf(e,t,r){const n=e.slice();n[5]=t[r][0],n[6]=t[r][1];const i=n[0]?n[6].filter(s=>uh(s,n[0])):n[6];return n[7]=i,n}function Qf(e,t,r){const n=e.slice();return n[10]=t[r],n}function th(e,t){let r,n,i;return n=new D3({props:{secret:t[10],onDelete:t[1]}}),{key:e,first:null,c(){r=qe(),Yt(n.$$.fragment),this.h()},l(s){r=qe(),Xt(n.$$.fragment,s),this.h()},h(){this.first=r},m(s,a){kt(s,r,a),Jt(n,s,a),i=!0},p(s,a){t=s;const o={};a&5&&(o.secret=t[10]),a&2&&(o.onDelete=t[1]),n.$set(o)},i(s){i||(Ct(n.$$.fragment,s),i=!0)},o(s){Mt(n.$$.fragment,s),i=!1},d(s){s&&ht(r),Zt(n,s)}}}function eh(e,t){let r,n=t[5]+"",i,s,a=[],o=new Map,u,c,l=t[7];const h=d=>d[10].id;for(let d=0;d<l.length;d+=1){let p=Qf(t,l,d),g=h(p);o.set(g,a[d]=th(g,p))}return{key:e,first:null,c(){r=At("h2"),i=be(n),s=Lt();for(let d=0;d<a.length;d+=1)a[d].c();u=qe(),this.h()},l(d){r=St(d,"H2",{class:!0});var p=Et(r);i=ge(p,n),p.forEach(ht),s=jt(d);for(let g=0;g<a.length;g+=1)a[g].l(d);u=qe(),this.h()},h(){dt(r,"class","as-my-1 as-text-xl"),this.first=r},m(d,p){kt(d,r,p),xt(r,i),kt(d,s,p);for(let g=0;g<a.length;g+=1)a[g].m(d,p);kt(d,u,p),c=!0},p(d,p){t=d,(!c||p&4)&&n!==(n=t[5]+"")&&Ra(i,n),p&7&&(l=t[7],Cr(),a=P0(a,p,h,1,t,l,o,u.parentNode,Iu,th,u,Qf),Mr())},i(d){if(!c){for(let p=0;p<l.length;p+=1)Ct(a[p]);c=!0}},o(d){for(let p=0;p<a.length;p+=1)Mt(a[p]);c=!1},d(d){d&&ht(r),d&&ht(s);for(let p=0;p<a.length;p+=1)a[p].d(d);d&&ht(u)}}}function m9(e){let t=[],r=new Map,n,i,s=e[2];const a=o=>o[5];for(let o=0;o<s.length;o+=1){let u=Zf(e,s,o),c=a(u);r.set(c,t[o]=eh(c,u))}return{c(){for(let o=0;o<t.length;o+=1)t[o].c();n=qe()},l(o){for(let u=0;u<t.length;u+=1)t[u].l(o);n=qe()},m(o,u){for(let c=0;c<t.length;c+=1)t[c].m(o,u);kt(o,n,u),i=!0},p(o,[u]){u&7&&(s=o[2],Cr(),t=P0(t,u,a,1,o,s,r,n.parentNode,Iu,eh,n,Zf),Mr())},i(o){if(!i){for(let u=0;u<s.length;u+=1)Ct(t[u]);i=!0}},o(o){for(let u=0;u<t.length;u+=1)Mt(t[u]);i=!1},d(o){for(let u=0;u<t.length;u+=1)t[u].d(o);o&&ht(n)}}}function y9(e,t,r){let n,i,s;As(e,h1,u=>r(4,s=u));let{search:a=""}=t,{onDelete:o=()=>{}}=t;return e.$$set=u=>{"search"in u&&r(0,a=u.search),"onDelete"in u&&r(1,o=u.onDelete)},e.$$.update=()=>{e.$$.dirty&16&&r(3,n=Object.entries(s)),e.$$.dirty&9&&r(2,i=a?n.filter(([u,c])=>G3(a,u)):n),e.$$.dirty&12&&i.length===0&&r(2,i=n)},[a,o,i,n,s]}class b9 extends Pe{constructor(t){super(),Ce(this,t,y9,m9,nr,{search:0,onDelete:1})}}function rh(e,t,r){const n=e.slice();return n[6]=t[r],n}function nh(e,t){let r,n,i;return n=new D3({props:{secret:t[6],onDelete:t[0]}}),{key:e,first:null,c(){r=qe(),Yt(n.$$.fragment),this.h()},l(s){r=qe(),Xt(n.$$.fragment,s),this.h()},h(){this.first=r},m(s,a){kt(s,r,a),Jt(n,s,a),i=!0},p(s,a){t=s;const o={};a&2&&(o.secret=t[6]),a&1&&(o.onDelete=t[0]),n.$set(o)},i(s){i||(Ct(n.$$.fragment,s),i=!0)},o(s){Mt(n.$$.fragment,s),i=!1},d(s){s&&ht(r),Zt(n,s)}}}function g9(e){let t=[],r=new Map,n,i,s=e[1];const a=o=>o[6].id;for(let o=0;o<s.length;o+=1){let u=rh(e,s,o),c=a(u);r.set(c,t[o]=nh(c,u))}return{c(){for(let o=0;o<t.length;o+=1)t[o].c();n=qe()},l(o){for(let u=0;u<t.length;u+=1)t[u].l(o);n=qe()},m(o,u){for(let c=0;c<t.length;c+=1)t[c].m(o,u);kt(o,n,u),i=!0},p(o,[u]){u&3&&(s=o[1],Cr(),t=P0(t,u,a,1,o,s,r,n.parentNode,Iu,nh,n,rh),Mr())},i(o){if(!i){for(let u=0;u<s.length;u+=1)Ct(t[u]);i=!0}},o(o){for(let u=0;u<t.length;u+=1)Mt(t[u]);i=!1},d(o){for(let u=0;u<t.length;u+=1)t[u].d(o);o&&ht(n)}}}function v9(e,t,r){let n,i,s;As(e,h1,c=>r(5,s=c));let{application:a}=t,{search:o=""}=t,{onDelete:u=()=>{}}=t;return e.$$set=c=>{"application"in c&&r(2,a=c.application),"search"in c&&r(3,o=c.search),"onDelete"in c&&r(0,u=c.onDelete)},e.$$.update=()=>{e.$$.dirty&36&&r(4,n=s[a]||[]),e.$$.dirty&24&&r(1,i=o?n.filter(c=>uh(c,o)):n)},[u,i,a,o,n,s]}class w9 extends Pe{constructor(t){super(),Ce(this,t,v9,g9,nr,{application:2,search:3,onDelete:0})}}const U3=C0({storage:"disconnected",wire:"idle"}),N3=Ha(U3,e=>e);Vr.on("connected",()=>{ic("storage","connected")});Vr.on("disconnected",()=>{ic("storage","disconnected")});Vr.on("wire-busy",()=>{ic("wire","syncing")});Vr.on("wire-done",()=>{ic("wire","idle")});function ic(e,t){U3.update(r=>fs(Oe({},r),{[e]:t}))}function _9(e){let t,r,n;return{c(){t=At("input"),this.h()},l(i){t=St(i,"INPUT",{id:!0,name:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){dt(t,"id",e[2]),dt(t,"name",e[3]),dt(t,"class","as-input as-flex-1"),dt(t,"type","password"),dt(t,"placeholder","Enter a Password"),t.disabled=e[5]},m(i,s){kt(i,t,s),Ue(t,e[0]),r||(n=[re(t,"input",e[9]),re(t,"input",function(){Mi(e[4])&&e[4].apply(this,arguments)})],r=!0)},p(i,s){e=i,s&4&&dt(t,"id",e[2]),s&8&&dt(t,"name",e[3]),s&32&&(t.disabled=e[5]),s&1&&t.value!==e[0]&&Ue(t,e[0])},d(i){i&&ht(t),r=!1,Rr(n)}}}function x9(e){let t,r,n;return{c(){t=At("input"),this.h()},l(i){t=St(i,"INPUT",{id:!0,name:!0,class:!0,type:!0,placeholder:!0}),this.h()},h(){dt(t,"id",e[2]),dt(t,"name",e[3]),dt(t,"class","as-input as-flex-1"),dt(t,"type","text"),dt(t,"placeholder","Enter a Password"),t.disabled=e[5]},m(i,s){kt(i,t,s),Ue(t,e[0]),r||(n=[re(t,"input",e[8]),re(t,"input",function(){Mi(e[4])&&e[4].apply(this,arguments)})],r=!0)},p(i,s){e=i,s&4&&dt(t,"id",e[2]),s&8&&dt(t,"name",e[3]),s&32&&(t.disabled=e[5]),s&1&&t.value!==e[0]&&Ue(t,e[0])},d(i){i&&ht(t),r=!1,Rr(n)}}}function A9(e){let t,r;return t=new rc({}),{c(){Yt(t.$$.fragment)},l(n){Xt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},i(n){r||(Ct(t.$$.fragment,n),r=!0)},o(n){Mt(t.$$.fragment,n),r=!1},d(n){Zt(t,n)}}}function S9(e){let t,r;return t=new P1({}),{c(){Yt(t.$$.fragment)},l(n){Xt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},i(n){r||(Ct(t.$$.fragment,n),r=!0)},o(n){Mt(t.$$.fragment,n),r=!1},d(n){Zt(t,n)}}}function k9(e){let t,r,n,i,s,a,o,u,c,l;function h(k,P){return k[1]?x9:_9}let d=h(e),p=d(e);const g=[S9,A9],v=[];function _(k,P){return k[1]?0:1}return a=_(e),o=v[a]=g[a](e),{c(){t=At("div"),p.c(),r=Lt(),n=At("div"),i=At("button"),s=At("div"),o.c(),this.h()},l(k){t=St(k,"DIV",{class:!0});var P=Et(t);p.l(P),r=jt(P),n=St(P,"DIV",{class:!0});var A=Et(n);i=St(A,"BUTTON",{class:!0});var E=Et(i);s=St(E,"DIV",{class:!0});var z=Et(s);o.l(z),z.forEach(ht),E.forEach(ht),A.forEach(ht),P.forEach(ht),this.h()},h(){dt(s,"class","as-w-5 as-h-5"),dt(i,"class","as-btn as-primary as-p-2"),dt(n,"class","as-grow-0 as-flex-row as-flex"),dt(t,"class","as-flex")},m(k,P){kt(k,t,P),p.m(t,null),xt(t,r),xt(t,n),xt(n,i),xt(i,s),v[a].m(s,null),u=!0,c||(l=re(i,"click",e[6]),c=!0)},p(k,[P]){d===(d=h(k))&&p?p.p(k,P):(p.d(1),p=d(k),p&&(p.c(),p.m(t,r)));let A=a;a=_(k),a!==A&&(Cr(),Mt(v[A],1,1,()=>{v[A]=null}),Mr(),o=v[a],o||(o=v[a]=g[a](k),o.c()),Ct(o,1),o.m(s,null))},i(k){u||(Ct(o),u=!0)},o(k){Mt(o),u=!1},d(k){k&&ht(t),p.d(),v[a].d(),c=!1,l()}}}function E9(e,t,r){let{id:n=void 0}=t,{name:i=void 0}=t,{password:s}=t,{onInput:a=()=>{}}=t,{onShow:o=()=>{}}=t,{show:u=!1}=t,{disabled:c=!1}=t;function l(){r(1,u=!u),u&&o()}function h(){s=this.value,r(0,s)}function d(){s=this.value,r(0,s)}return e.$$set=p=>{"id"in p&&r(2,n=p.id),"name"in p&&r(3,i=p.name),"password"in p&&r(0,s=p.password),"onInput"in p&&r(4,a=p.onInput),"onShow"in p&&r(7,o=p.onShow),"show"in p&&r(1,u=p.show),"disabled"in p&&r(5,c=p.disabled)},[s,u,n,i,a,c,l,o,h,d]}class P9 extends Pe{constructor(t){super(),Ce(this,t,E9,k9,nr,{id:2,name:3,password:0,onInput:4,onShow:7,show:1,disabled:5})}}function ih(e,t,r){const n=e.slice();return n[0]=t[r],n}function C9(e){var v,_;let t,r,n=((v=e[1])==null?void 0:v.application)+"",i,s,a=((_=e[1])==null?void 0:_.username)+"",o,u,c,l,h,d,p,g;return{c(){t=At("p"),r=be("Delete "),i=be(n),s=Lt(),o=be(a),u=be(" Secret?"),c=Lt(),l=At("div"),h=At("button"),d=be("Delete"),this.h()},l(k){t=St(k,"P",{class:!0});var P=Et(t);r=ge(P,"Delete "),i=ge(P,n),s=jt(P),o=ge(P,a),u=ge(P," Secret?"),P.forEach(ht),c=jt(k),l=St(k,"DIV",{class:!0});var A=Et(l);h=St(A,"BUTTON",{class:!0});var E=Et(h);d=ge(E,"Delete"),E.forEach(ht),A.forEach(ht),this.h()},h(){dt(t,"class","as-mb-2"),dt(h,"class","as-btn as-danger"),dt(l,"class","as-flex as-justify-end as-mt-2")},m(k,P){kt(k,t,P),xt(t,r),xt(t,i),xt(t,s),xt(t,o),xt(t,u),kt(k,c,P),kt(k,l,P),xt(l,h),xt(h,d),p||(g=re(h,"click",function(){Mi(e[9])&&e[9].apply(this,arguments)}),p=!0)},p(k,P){var A,E;e=k,P&2&&n!==(n=((A=e[1])==null?void 0:A.application)+"")&&Ra(i,n),P&2&&a!==(a=((E=e[1])==null?void 0:E.username)+"")&&Ra(o,a)},d(k){k&&ht(t),k&&ht(c),k&&ht(l),p=!1,g()}}}function M9(e){let t,r;return{c(){t=At("h3"),r=be("Deleting Secret"),this.h()},l(n){t=St(n,"H3",{slot:!0,class:!0});var i=Et(t);r=ge(i,"Deleting Secret"),i.forEach(ht),this.h()},h(){dt(t,"slot","title"),dt(t,"class","as-text-lg")},m(n,i){kt(n,t,i),xt(t,r)},p:Me,d(n){n&&ht(t)}}}function R9(e){let t,r;return t=new J7({props:{onAdd:e[14],application:e[0]}}),{c(){Yt(t.$$.fragment)},l(n){Xt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},p(n,i){const s={};i&1&&(s.application=n[0]),t.$set(s)},i(n){r||(Ct(t.$$.fragment,n),r=!0)},o(n){Mt(t.$$.fragment,n),r=!1},d(n){Zt(t,n)}}}function T9(e){let t,r;return{c(){t=At("h3"),r=be("Add Secret"),this.h()},l(n){t=St(n,"H3",{class:!0,slot:!0});var i=Et(t);r=ge(i,"Add Secret"),i.forEach(ht),this.h()},h(){dt(t,"class","as-text-lg"),dt(t,"slot","title")},m(n,i){kt(n,t,i),xt(t,r)},p:Me,d(n){n&&ht(t)}}}function I9(e){let t,r,n,i,s,a,o,u,c,l,h,d,p,g;function v(k){e[20](k)}let _={};return e[7]!==void 0&&(_.password=e[7]),t=new P9({props:_}),zr.push(()=>vn(t,"password",v)),i=new ba({props:{messages:e[8]}}),{c(){Yt(t.$$.fragment),n=Lt(),Yt(i.$$.fragment),s=Lt(),a=At("div"),o=At("button"),u=be("Clear Stored"),c=Lt(),l=At("button"),h=be("Ok"),this.h()},l(k){Xt(t.$$.fragment,k),n=jt(k),Xt(i.$$.fragment,k),s=jt(k),a=St(k,"DIV",{class:!0});var P=Et(a);o=St(P,"BUTTON",{class:!0});var A=Et(o);u=ge(A,"Clear Stored"),A.forEach(ht),c=jt(P),l=St(P,"BUTTON",{class:!0});var E=Et(l);h=ge(E,"Ok"),E.forEach(ht),P.forEach(ht),this.h()},h(){dt(o,"class","as-btn as-danger"),dt(l,"class","as-btn as-primary"),dt(a,"class","as-flex as-justify-between as-mt-2")},m(k,P){Jt(t,k,P),kt(k,n,P),Jt(i,k,P),kt(k,s,P),kt(k,a,P),xt(a,o),xt(o,u),xt(a,c),xt(a,l),xt(l,h),d=!0,p||(g=[re(o,"click",e[16]),re(l,"click",e[15])],p=!0)},p(k,P){const A={};!r&&P&128&&(r=!0,A.password=k[7],wn(()=>r=!1)),t.$set(A);const E={};P&256&&(E.messages=k[8]),i.$set(E)},i(k){d||(Ct(t.$$.fragment,k),Ct(i.$$.fragment,k),d=!0)},o(k){Mt(t.$$.fragment,k),Mt(i.$$.fragment,k),d=!1},d(k){Zt(t,k),k&&ht(n),Zt(i,k),k&&ht(s),k&&ht(a),p=!1,Rr(g)}}}function B9(e){let t,r;return{c(){t=At("h3"),r=be("Enter Password"),this.h()},l(n){t=St(n,"H3",{slot:!0,class:!0});var i=Et(t);r=ge(i,"Enter Password"),i.forEach(ht),this.h()},h(){dt(t,"slot","title"),dt(t,"class","as-text-lg")},m(n,i){kt(n,t,i),xt(t,r)},p:Me,d(n){n&&ht(t)}}}function sh(e,t){let r,n=t[0]+"",i,s;return{key:e,first:null,c(){r=At("option"),i=be(n),this.h()},l(a){r=St(a,"OPTION",{});var o=Et(r);i=ge(o,n),o.forEach(ht),this.h()},h(){r.__value=s=t[0],r.value=r.__value,this.first=r},m(a,o){kt(a,r,o),xt(r,i)},p(a,o){t=a,o&4&&n!==(n=t[0]+"")&&Ra(i,n),o&4&&s!==(s=t[0])&&(r.__value=s,r.value=r.__value)},d(a){a&&ht(r)}}}function D9(e){let t,r;return t=new b9({props:{search:e[3],onDelete:e[10]}}),{c(){Yt(t.$$.fragment)},l(n){Xt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},p(n,i){const s={};i&8&&(s.search=n[3]),i&1024&&(s.onDelete=n[10]),t.$set(s)},i(n){r||(Ct(t.$$.fragment,n),r=!0)},o(n){Mt(t.$$.fragment,n),r=!1},d(n){Zt(t,n)}}}function U9(e){let t,r;return t=new w9({props:{application:e[6],search:e[3],onDelete:e[10]}}),{c(){Yt(t.$$.fragment)},l(n){Xt(t.$$.fragment,n)},m(n,i){Jt(t,n,i),r=!0},p(n,i){const s={};i&64&&(s.application=n[6]),i&8&&(s.search=n[3]),i&1024&&(s.onDelete=n[10]),t.$set(s)},i(n){r||(Ct(t.$$.fragment,n),r=!0)},o(n){Mt(t.$$.fragment,n),r=!1},d(n){Zt(t,n)}}}function N9(e){let t,r,n,i,s,a,o,u,c,l,h,d,p,g=[],v=new Map,_,k,P,A,E,z,w,M,f,b,y,m,x,I,O;function q(H){e[18](H)}let Z={$$slots:{title:[M9],default:[C9]},$$scope:{ctx:e}};e[5]!==void 0&&(Z.open=e[5]),t=new Fc({props:Z}),zr.push(()=>vn(t,"open",q));function S(H){e[19](H)}let U={$$slots:{title:[T9],default:[R9]},$$scope:{ctx:e}};e[4]!==void 0&&(U.open=e[4]),i=new Fc({props:U}),zr.push(()=>vn(i,"open",S));function V(H){e[21](H)}let Q={onClose:v6,$$slots:{title:[B9],default:[I9]},$$scope:{ctx:e}};e[11]!==void 0&&(Q.open=e[11]),o=new Fc({props:Q}),zr.push(()=>vn(o,"open",V));let G=e[2];const it=H=>H[0];for(let H=0;H<G.length;H+=1){let K=ih(e,G,H),C=it(K);v.set(C,g[H]=sh(C,K))}P=new i9({props:{saving:e[12].wire==="syncing"}});const st=[U9,D9],rt=[];function F(H,K){return H[6]?0:1}return b=F(e),y=rt[b]=st[b](e),{c(){Yt(t.$$.fragment),n=Lt(),Yt(i.$$.fragment),a=Lt(),Yt(o.$$.fragment),c=Lt(),l=At("div"),h=At("div"),d=At("select"),p=At("option");for(let H=0;H<g.length;H+=1)g[H].c();_=Lt(),k=At("div"),Yt(P.$$.fragment),A=Lt(),E=At("button"),z=be("Add"),w=Lt(),M=At("input"),f=Lt(),y.c(),m=qe(),this.h()},l(H){Xt(t.$$.fragment,H),n=jt(H),Xt(i.$$.fragment,H),a=jt(H),Xt(o.$$.fragment,H),c=jt(H),l=St(H,"DIV",{class:!0});var K=Et(l);h=St(K,"DIV",{class:!0});var C=Et(h);d=St(C,"SELECT",{class:!0});var Y=Et(d);p=St(Y,"OPTION",{}),Et(p).forEach(ht);for(let L=0;L<g.length;L+=1)g[L].l(Y);Y.forEach(ht),_=jt(C),k=St(C,"DIV",{class:!0});var T=Et(k);Xt(P.$$.fragment,T),T.forEach(ht),C.forEach(ht),A=jt(K),E=St(K,"BUTTON",{class:!0});var N=Et(E);z=ge(N,"Add"),N.forEach(ht),K.forEach(ht),w=jt(H),M=St(H,"INPUT",{class:!0,type:!0,placeholder:!0}),f=jt(H),y.l(H),m=qe(),this.h()},h(){p.__value="",p.value=p.__value,dt(d,"class","as-input as-flex"),e[0]===void 0&&oh(()=>e[22].call(d)),dt(k,"class","as-flex as-p-1"),dt(h,"class","as-flex as-flex-row as-flex-grow"),dt(E,"class","as-btn as-primary"),dt(l,"class","as-flex as-justify-between"),dt(M,"class","as-input as-my-2"),dt(M,"type","text"),dt(M,"placeholder","Search...")},m(H,K){Jt(t,H,K),kt(H,n,K),Jt(i,H,K),kt(H,a,K),Jt(o,H,K),kt(H,c,K),kt(H,l,K),xt(l,h),xt(h,d),xt(d,p);for(let C=0;C<g.length;C+=1)g[C].m(d,null);Ko(d,e[0]),xt(h,_),xt(h,k),Jt(P,k,null),xt(l,A),xt(l,E),xt(E,z),kt(H,w,K),kt(H,M,K),Ue(M,e[3]),kt(H,f,K),rt[b].m(H,K),kt(H,m,K),x=!0,I||(O=[re(d,"change",e[22]),re(E,"click",e[13]),re(M,"input",e[23])],I=!0)},p(H,[K]){const C={};K&67109378&&(C.$$scope={dirty:K,ctx:H}),!r&&K&32&&(r=!0,C.open=H[5],wn(()=>r=!1)),t.$set(C);const Y={};K&67108865&&(Y.$$scope={dirty:K,ctx:H}),!s&&K&16&&(s=!0,Y.open=H[4],wn(()=>s=!1)),i.$set(Y);const T={};K&67109248&&(T.$$scope={dirty:K,ctx:H}),!u&&K&2048&&(u=!0,T.open=H[11],wn(()=>u=!1)),o.$set(T),K&4&&(G=H[2],g=P0(g,K,it,1,H,G,v,d,H3,sh,null,ih)),K&5&&Ko(d,H[0]);const N={};K&4096&&(N.saving=H[12].wire==="syncing"),P.$set(N),K&8&&M.value!==H[3]&&Ue(M,H[3]);let L=b;b=F(H),b===L?rt[b].p(H,K):(Cr(),Mt(rt[L],1,1,()=>{rt[L]=null}),Mr(),y=rt[b],y?y.p(H,K):(y=rt[b]=st[b](H),y.c()),Ct(y,1),y.m(m.parentNode,m))},i(H){x||(Ct(t.$$.fragment,H),Ct(i.$$.fragment,H),Ct(o.$$.fragment,H),Ct(P.$$.fragment,H),Ct(y),x=!0)},o(H){Mt(t.$$.fragment,H),Mt(i.$$.fragment,H),Mt(o.$$.fragment,H),Mt(P.$$.fragment,H),Mt(y),x=!1},d(H){Zt(t,H),H&&ht(n),Zt(i,H),H&&ht(a),Zt(o,H),H&&ht(c),H&&ht(l);for(let K=0;K<g.length;K+=1)g[K].d();Zt(P),H&&ht(w),H&&ht(M),H&&ht(f),rt[b].d(H),H&&ht(m),I=!1,Rr(O)}}}function O9(e,t,r){let n,i,s,a,o,u;As(e,h1,m=>r(17,a=m)),As(e,Rs,m=>r(11,o=m)),As(e,N3,m=>r(12,u=m));let{application:c=""}=t,l="",h=!1;function d(){r(4,h=!h)}function p(){r(4,h=!1)}let g,v=!1,_,k="",P=[];function A(){try{g6(k),r(8,P=[]),Rs.set(!1)}catch(m){console.error(m),r(8,P=[m.message])}}function E(){K2(),Bu("Password cleared",V3.Info)}function z(m){v=m,r(5,v),r(1,g)}function w(m){h=m,r(4,h)}function M(m){k=m,r(7,k)}function f(m){o=m,Rs.set(o)}function b(){c=ch(this),r(0,c),r(2,s),r(17,a)}function y(){l=this.value,r(3,l)}return e.$$set=m=>{"application"in m&&r(0,c=m.application)},e.$$.update=()=>{if(e.$$.dirty&2&&r(9,i=()=>{g&&(E6(g.id),r(1,g=void 0),r(5,v=!1))}),e.$$.dirty&131072&&r(2,s=Object.keys(a)),e.$$.dirty&5){const m=s.find(x=>Ta(c)===Ta(x));m&&r(6,_=m)}},r(10,n=m=>{r(1,g=m),r(5,v=!0)}),[c,g,s,l,h,v,_,k,P,i,n,o,u,d,p,A,E,a,z,w,M,f,b,y]}class z9 extends Pe{constructor(t){super(),Ce(this,t,O9,N9,nr,{application:0})}}function F9(e){let t;return{c(){t=At("div"),this.h()},l(r){t=St(r,"DIV",{id:!0}),Et(t).forEach(ht),this.h()},h(){dt(t,"id",O3)},m(r,n){kt(r,t,n)},p:Me,i:Me,o:Me,d(r){r&&ht(t)}}}const O3="remote-storage-widget";let Wc;function K9(e,t,r){let{element:n=void 0}=t,{widget:i=void 0}=t;return W3(()=>{X3(()=>import("../chunks/widget-bc58238e.js").then(function(s){return s.w}),[]).then(({default:s})=>{var o;Wc&&((o=Wc.rsWidget)==null||o.remove());const a=new s(Vr);a.attach(O3),Wc=a,function u(){a.rsWidget?(r(1,i=a),r(0,n=a.rsWidget)):setTimeout(u,300)}()})}),e.$$set=s=>{"element"in s&&r(0,n=s.element),"widget"in s&&r(1,i=s.widget)},[n,i]}class L9 extends Pe{constructor(t){super(),Ce(this,t,K9,F9,nr,{element:0,widget:1})}}function j9(e){let t,r;return{c(){t=At("h3"),r=be("Please connect to a Storage Provider"),this.h()},l(n){t=St(n,"H3",{class:!0});var i=Et(t);r=ge(i,"Please connect to a Storage Provider"),i.forEach(ht),this.h()},h(){dt(t,"class","as-text-center as-py-8 as-text-lg")},m(n,i){kt(n,t,i),xt(t,r)},i:Me,o:Me,d(n){n&&ht(t)}}}function q9(e){let t,r,n;return r=new z9({}),{c(){t=At("div"),Yt(r.$$.fragment),this.h()},l(i){t=St(i,"DIV",{class:!0});var s=Et(t);Xt(r.$$.fragment,s),s.forEach(ht),this.h()},h(){dt(t,"class","as-container as-mx-auto as-p-4 as-mt-4 as-mb-8 as-bg-white")},m(i,s){kt(i,t,s),Jt(r,t,null),n=!0},i(i){n||(Ct(r.$$.fragment,i),n=!0)},o(i){Mt(r.$$.fragment,i),n=!1},d(i){i&&ht(t),Zt(r)}}}function $9(e){let t,r,n,i;const s=[q9,j9],a=[];function o(u,c){return u[0].storage==="connected"?0:1}return t=o(e),r=a[t]=s[t](e),{c(){r.c(),n=qe()},l(u){r.l(u),n=qe()},m(u,c){a[t].m(u,c),kt(u,n,c),i=!0},p(u,c){let l=t;t=o(u),t!==l&&(Cr(),Mt(a[l],1,1,()=>{a[l]=null}),Mr(),r=a[t],r||(r=a[t]=s[t](u),r.c()),Ct(r,1),r.m(n.parentNode,n))},i(u){i||(Ct(r),i=!0)},o(u){Mt(r),i=!1},d(u){a[t].d(u),u&&ht(n)}}}function H9(e){let t,r,n,i,s;return t=new Y3({props:{$$slots:{default:[$9]},$$scope:{ctx:e}}}),i=new L9({}),{c(){Yt(t.$$.fragment),r=Lt(),n=At("div"),Yt(i.$$.fragment),this.h()},l(a){Xt(t.$$.fragment,a),r=jt(a),n=St(a,"DIV",{class:!0});var o=Et(n);Xt(i.$$.fragment,o),o.forEach(ht),this.h()},h(){dt(n,"class","as-absolute as-left-0 as-bottom-0")},m(a,o){Jt(t,a,o),kt(a,r,o),kt(a,n,o),Jt(i,n,null),s=!0},p(a,[o]){const u={};o&3&&(u.$$scope={dirty:o,ctx:a}),t.$set(u)},i(a){s||(Ct(t.$$.fragment,a),Ct(i.$$.fragment,a),s=!0)},o(a){Mt(t.$$.fragment,a),Mt(i.$$.fragment,a),s=!1},d(a){Zt(t,a),a&&ht(r),a&&ht(n),Zt(i)}}}function W9(e,t,r){let n;return As(e,N3,i=>r(0,n=i)),[n]}class Z9 extends Pe{constructor(t){super(),Ce(this,t,W9,H9,Zn,{})}}export{Z9 as default};
